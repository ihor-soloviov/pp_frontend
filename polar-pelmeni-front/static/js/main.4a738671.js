/*! For license information please see main.4a738671.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=d(n,g);try{c(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===k||e.$$typeof===g)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),I=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var D,R=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case C:return"StrictMode";case T:return"Suspense";case L:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ce=null;function Se(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Ce?Ce.push(e):Ce=[e]:_e=e}function Ie(){if(_e){var e=_e,t=Ce;if(Ce=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ne(e,t){return e(t)}function Te(){}var Le=!1;function je(e,t,n){if(Le)return e(t,n);Le=!0;try{return Ne(e,t,n)}finally{Le=!1,(null!==_e||null!==Ce)&&(Te(),Ie())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Pe=!1}function Me(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var De=!1,Re=null,Fe=!1,Ve=null,Ue={onError:function(e){De=!0,Re=e}};function Be(e,t,n,r,i,a,o,s,u){De=!1,Re=null,Me.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ze=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ye=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,Ct,St,Et=!1,It=[],Nt=null,Tt=null,Lt=null,jt=new Map,At=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Rt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Et=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Lt&&Ft(Lt)&&(Lt=null),jt.forEach(Vt),At.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Bt(Nt,e),null!==Tt&&Bt(Tt,e),null!==Lt&&Bt(Lt,e),jt.forEach(t),At.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Rt(n),null===n.blockedOn&&Pt.shift()}var qt=k.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){if(Ht){var i=Zt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Dt(Nt,e,t,n,r,i),!0;case"dragenter":return Tt=Dt(Tt,e,t,n,r,i),!0;case"mouseover":return Lt=Dt(Lt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return jt.set(a,Dt(jt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,At.set(a,Dt(At.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Zt(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Zt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,$t=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=$t,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=R({},cn,{view:0,detail:0}),dn=an(fn),hn=R({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),vn=an(R({},hn,{dataTransfer:0})),mn=an(R({},fn,{relatedTarget:0})),gn=an(R({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=R({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),kn=an(R({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return Cn}var En=R({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(En),Nn=an(R({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(R({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Ln=an(R({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=R({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=an(jn),Pn=[9,13,27,32],On=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Dn=l&&"TextEvent"in window&&!Mn,Rn=l&&(!On||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Fr(e,0)}function Zn(e){if(K(ki(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(l){var $n;if(l){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}$n=Xn}else $n=!1;Yn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Zn(Kn)){var t=[];Wn(t,Kn,e,we(e)),je(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Kn)}function ar(e,t){if("click"===e)return Zn(t)}function or(e,t){if("input"===e||"change"===e)return Zn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Gr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Cr={};function Sr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return _r[e]=n[t];return e}l&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Ir=Sr("animationiteration"),Nr=Sr("animationstart"),Tr=Sr("transitionend"),Lr=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Lr.set(e,t),u(t,[e])}for(var Pr=0;Pr<jr.length;Pr++){var Or=jr[Pr];Ar(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Ar(Er,"onAnimationEnd"),Ar(Ir,"onAnimationIteration"),Ar(Nr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),De){if(!De)throw Error(a(198));var l=Re;De=!1,Re=null,Fe||(Fe=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Rr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Rr(i,s,c),a=u}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}je((function(){var r=a,i=we(n),o=[];e:{var s=Lr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Tn;break;case Er:case Ir:case Nr:u=gn;break;case Tr:u=Ln;break;case"scroll":u=dn;break;case"wheel":u=An;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Ae(p,d))&&l.push(Wr(p,v,h)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:ki(u),h=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=h,v=null,yi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(d=c,p=0,h=l=u;h;h=Kr(h))p++;for(h=0,v=d;v;v=Kr(v))h++;for(;0<p-h;)l=Kr(l),p--;for(;0<h-p;)d=Kr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Kr(l),d=Kr(d)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Jn;else if(Hn(s))if(Yn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?ki(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):($t="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(g=Gr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Xt=$t=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Ae(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ae(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Ae(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Zr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(Jr,"")}function $r(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],_i=-1;function Ci(e){return{current:e}}function Si(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ii={},Ni=Ci(Ii),Ti=Ci(!1),Li=Ii;function ji(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Si(Ti),Si(Ni)}function Oi(e,t,n){if(Ni.current!==Ii)throw Error(a(168));Ei(Ni,t),Ei(Ti,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return R({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Li=Ni.current,Ei(Ni,e),Ei(Ti,Ti.current),!0}function Ri(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Li),r.__reactInternalMemoizedMergedChildContext=e,Si(Ti),Si(Ni),Ei(Ni,e)):Si(Ti),Ei(Ti,n)}var Fi=null,Vi=!1,Ui=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Xe,zi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Hi=0,Wi=null,Gi=0,Ki=[],Qi=0,Zi=null,Ji=1,Yi="";function $i(e,t){qi[Hi++]=Gi,qi[Hi++]=Wi,Wi=e,Gi=t}function Xi(e,t,n){Ki[Qi++]=Ji,Ki[Qi++]=Yi,Ki[Qi++]=Zi,Zi=e;var r=Ji;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Ji=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&($i(e,1),Xi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Gi=qi[--Hi],qi[Hi]=null;for(;e===Zi;)Zi=Ki[--Qi],Ki[Qi]=null,Yi=Ki[--Qi],Ki[Qi]=null,Ji=Ki[--Qi],Ki[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zi?{id:Ji,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ci(null),ya=null,ba=null,ka=null;function wa(){ka=ba=ya=null}function xa(e){var t=ga.current;Si(ga),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){ya=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ea=null;function Ia(e){null===Ea?Ea=[e]:Ea.push(e)}function Na(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ta(e,r)}function Ta(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var La=!1;function ja(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ta(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ta(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ra(e,t,n,r){var i=e.updateQueue;La=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=R({},f,d);break e;case 2:La=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=h,u=f):l=l.next=h,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ru|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rc(t,e,r,n),Ma(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Ai(t)?Li:Ni.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?ji(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,ja(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Ai(t)?Li:Ni.current,i.context=ji(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Ra(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Za(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case A:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Dc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case A:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),ia&&$i(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&$i(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&$i(i,v),c}function m(i,s,u,c){var l=M(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),ia&&$i(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return ia&&$i(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&$i(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Dc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Mc(o.type,o.key,o.props,null,r.mode,u)).ref=Ga(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,u)).return=r,r=a}return s(r);case A:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(M(o))return m(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ja=Za(!0),Ya=Za(!1),$a={},Xa=Ci($a),eo=Ci($a),to=Ci($a);function no(e){if(e===$a)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Xa,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Xa),Ei(Xa,t)}function io(){Si(Xa),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Xa.current),n=ue(t,e.type);t!==n&&(Ei(eo,e),Ei(Xa,n))}function oo(e){eo.current===e&&(Si(Xa),Si(eo))}var so=Ci(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function So(){var e=0!==ko;return ko=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Io(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function No(e,t){return"function"===typeof t?t(e):t}function To(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,s=r):c=c.next=d,vo.lanes|=f,Ru|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ru|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Lo(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function jo(){}function Ao(e,t){var n=vo,r=Io(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Ho(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Vo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Lu)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Do(t)&&Ro(e)}function Mo(e,t,n){return n((function(){Do(t)&&Ro(e)}))}function Do(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ro(e){var t=Ta(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return Io().memoizedState}function Bo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ho(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Go(e,t){return zo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ko.bind(null,t,e),n)}function Zo(){}function Jo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Ru|=n,e.baseState=!0),t)}function Xo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return Io().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Na(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Na(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Fo,useDebugValue:Zo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Xo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Lu)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Lu.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:Jo,useContext:Sa,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Yo,useReducer:To,useRef:Uo,useState:function(){return To(No)},useDebugValue:Zo,useDeferredValue:function(e){return $o(Io(),mo.memoizedState,e)},useTransition:function(){return[To(No)[0],Io().memoizedState]},useMutableSource:jo,useSyncExternalStore:Ao,useId:es,unstable_isNewReconciler:!1},cs={readContext:Sa,useCallback:Jo,useContext:Sa,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Yo,useReducer:Lo,useRef:Uo,useState:function(){return Lo(No)},useDebugValue:Zo,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:$o(t,mo.memoizedState,e)},useTransition:function(){return[Lo(No)[0],Io().memoizedState]},useMutableSource:jo,useSyncExternalStore:Ao,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Gu=r),ds(0,t)},n}function vs(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Ja(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Ca(t,i),r=Co(e,t,n,r,a,i),n=So(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Is(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ou,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ou,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ou,Pu),Pu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ou,Pu),Pu|=r;return ws(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Ai(n)?Li:Ni.current;return a=ji(t,a),Ca(t,i),n=Co(e,t,n,r,a,i),r=So(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ns(e,t,n,r,i){if(Ai(n)){var a=!0;Di(t)}else a=!1;if(Ca(t,i),null===t.stateNode)Hs(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=ji(t,c=Ai(n)?Li:Ni.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ha(t,o,r,c),La=!1;var d=t.memoizedState;o.state=d,Ra(t,r,o,i),u=t.memoizedState,s!==r||d!==u||Ti.current||La?("function"===typeof l&&(Ua(t,n,l,r),u=t.memoizedState),(s=La||za(t,n,s,r,d,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Aa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=ji(t,u=Ai(n)?Li:Ni.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==u)&&Ha(t,o,r,u),La=!1,d=t.memoizedState,o.state=d,Ra(t,r,o,i);var p=t.memoizedState;s!==f||d!==p||Ti.current||La?("function"===typeof h&&(Ua(t,n,h,r),p=t.memoizedState),(c=La||za(t,n,c,r,d,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,a,i)}function Ts(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ri(t,n,!1),Ws(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Ri(t,n,!0),t.child}function Ls(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function js(e,t,n,r,i){return ha(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var As,Ps,Os,Ms,Ds={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Rc(u,i,0,null),e=Dc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ds,e):Vs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(o=Dc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ds,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Lu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ta(e,i),rc(r,e,i,-1))}return mc(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Qi++]=Ji,Ki[Qi++]=Yi,Ki[Qi++]=Zi,Ji=e.id,Yi=e.overflow,Zi=t),t=Vs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Oc(r,s):(s=Dc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Rs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vs(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Ja(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ru|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ai(t.type)&&Pi(),Ks(t),null;case 3:return r=t.stateNode,io(),Si(Ti),Si(Ni),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Ps(e,t),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Xa.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":J(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Vr("scroll",r)}switch(n){case"input":G(r),X(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[hi]=r,As(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":J(e,r),i=Z(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=R({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":G(e),X(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Xa.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ks(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Mu&&(Mu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),Ps(e,t),null===e&&zr(t.stateNode.containerInfo),Ks(t),null;case 10:return xa(t.type._context),Ks(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Gs(o,!1);else{if(0!==Mu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Gs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>qu&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Ye()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Zs(e,t){switch(ta(t),t.tag){case 1:return Ai(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ti),Si(Ni),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Xa.current);var a,o=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),o=[];break;case"select":i=R({},i,{value:void 0}),r=R({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Ys=!1,$s="function"===typeof WeakSet?WeakSet:Set,Xs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,du=!1;function hu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||eu(n,t);case 6:var r=fu,i=du;fu=null,hu(e,t,n),du=i,null!==(fu=r)&&(du?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(du?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=du,fu=n.stateNode.containerInfo,du=!0,hu(e,t,n),fu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Ys&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,hu(e,t,n),Ys=r):hu(e,t,n);break;default:hu(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,du=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,du=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Sc(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&Y(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,l)}switch(u){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Ye())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||f,mu(t,e),Ys=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xs=e,f=e.child;null!==f;){for(d=Xs=f;null!==Xs;){switch(p=(h=Xs).child,h.tag){case 0:case 11:case 14:case 15:ru(4,h,h.return);break;case 1:eu(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:eu(h,h.return);break;case 22:if(null!==h.memoizedState){xu(d);continue}}null!==p?(p.return=h,Xs=p):xu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Sc(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Xs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Js;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=Js;var c=Ys;if(Js=o,(Ys=u)&&!c)for(Xs=i;null!==Xs;)u=(o=Xs).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Xs=u):_u(i);for(;null!==a;)Xs=a,ku(a,t,n),a=a.sibling;Xs=i,Js=s,Ys=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xs=a):wu(e)}}function wu(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&au(t)}catch(h){Sc(t,t.return,h)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function xu(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function _u(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sc(t,i,u)}}var a=t.return;try{au(t)}catch(u){Sc(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Sc(t,o,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Cu,Su=Math.ceil,Eu=k.ReactCurrentDispatcher,Iu=k.ReactCurrentOwner,Nu=k.ReactCurrentBatchConfig,Tu=0,Lu=null,ju=null,Au=0,Pu=0,Ou=Ci(0),Mu=0,Du=null,Ru=0,Fu=0,Vu=0,Uu=null,Bu=null,zu=0,qu=1/0,Hu=null,Wu=!1,Gu=null,Ku=null,Qu=!1,Zu=null,Ju=0,Yu=0,$u=null,Xu=-1,ec=0;function tc(){return 0!==(6&Tu)?Ye():-1!==Xu?Xu:Xu=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Tu)&&0!==Au?Au&-Au:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Yu)throw Yu=0,$u=null,Error(a(185));gt(e,n,r),0!==(2&Tu)&&e===Lu||(e===Lu&&(0===(2&Tu)&&(Fu|=n),4===Mu&&uc(e,Au)),ic(e,r),1===n&&0===Tu&&0===(1&t.mode)&&(qu=Ye()+500,Vi&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=dt(e,e===Lu?Au:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),oi((function(){0===(6&Tu)&&zi()})),n=null;else{switch(kt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Lc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Xu=-1,ec=0,0!==(6&Tu))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=dt(e,e===Lu?Au:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Tu;Tu|=2;var o=vc();for(Lu===e&&Au===t||(Hu=null,qu=Ye()+500,hc(e,t));;)try{bc();break}catch(u){pc(e,u)}wa(),Eu.current=o,Tu=i,null!==ju?t=0:(Lu=null,Au=0,t=Mu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Du,hc(e,0),uc(e,r),ic(e,Ye()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Du,hc(e,0),uc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Bu,Hu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zu+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Bu,Hu),t);break}xc(e,Bu,Hu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Bu,Hu),r);break}xc(e,Bu,Hu);break;default:throw Error(a(329))}}}return ic(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bu,Bu=n,null!==t&&sc(t)),e}function sc(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function uc(e,t){for(t&=~Vu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Tu))throw Error(a(327));_c();var t=dt(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Du,hc(e,0),uc(e,t),ic(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bu,Hu),ic(e,Ye()),null}function lc(e,t){var n=Tu;Tu|=1;try{return e(t)}finally{0===(Tu=n)&&(qu=Ye()+500,Vi&&zi())}}function fc(e){null!==Zu&&0===Zu.tag&&0===(6&Tu)&&_c();var t=Tu;Tu|=1;var n=Nu.transition,r=bt;try{if(Nu.transition=null,bt=1,e)return e()}finally{bt=r,Nu.transition=n,0===(6&(Tu=t))&&zi()}}function dc(){Pu=Ou.current,Si(Ou)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==ju)for(n=ju.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Si(Ti),Si(Ni),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:xa(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Lu=e,ju=e=Oc(e.current,null),Au=Pu=t,Mu=0,Du=null,Vu=Fu=Ru=0,Bu=Uu=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pc(e,t){for(;;){var n=ju;try{if(wa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,bo=!1,ko=0,Iu.current=null,null===n||null===n.return){Mu=1,Du=t,ju=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Au,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Mu&&(Mu=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Da(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Da(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,ju===n&&null!==n&&(ju=n=n.return);continue}break}}function vc(){var e=Eu.current;return Eu.current=os,null===e?os:e}function mc(){0!==Mu&&3!==Mu&&2!==Mu||(Mu=4),null===Lu||0===(268435455&Ru)&&0===(268435455&Fu)||uc(Lu,Au)}function gc(e,t){var n=Tu;Tu|=2;var r=vc();for(Lu===e&&Au===t||(Hu=null,hc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(wa(),Tu=n,Eu.current=r,null!==ju)throw Error(a(261));return Lu=null,Au=0,Mu}function yc(){for(;null!==ju;)kc(ju)}function bc(){for(;null!==ju&&!Ze();)kc(ju)}function kc(e){var t=Cu(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?wc(e):ju=t,Iu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Pu)))return void(ju=n)}else{if(null!==(n=Zs(n,t)))return n.flags&=32767,void(ju=n);if(null===e)return Mu=6,void(ju=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ju=t);ju=t=e}while(null!==t);0===Mu&&(Mu=5)}function xc(e,t,n){var r=bt,i=Nu.transition;try{Nu.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Zu);if(0!==(6&Tu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Lu&&(ju=Lu=null,Au=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Lc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Nu.transition,Nu.transition=null;var s=bt;bt=1;var u=Tu;Tu|=4,Iu.current=null,function(e,t){if(ei=Ht,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==o||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(u=s),h===o&&++f===r&&(c=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,bu(n,e,i),Je(),Tu=u,bt=s,Nu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Zu=e,Ju=i),o=e.pendingLanes,0===o&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Gu,Gu=null,e;0!==(1&Ju)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===$u?Yu++:(Yu=0,$u=e):Yu=0,zi()}(e,t,n,r)}finally{Nu.transition=i,bt=r}return null}function _c(){if(null!==Zu){var e=kt(Ju),t=Nu.transition,n=bt;try{if(Nu.transition=null,bt=16>e?16:e,null===Zu)var r=!1;else{if(e=Zu,Zu=null,Ju=0,0!==(6&Tu))throw Error(a(331));var i=Tu;for(Tu|=4,Xs=e.current;null!==Xs;){var o=Xs,s=o.child;if(0!==(16&Xs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Xs=l;null!==Xs;){var f=Xs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var d=f.child;if(null!==d)d.return=f,Xs=d;else for(;null!==Xs;){var h=(f=Xs).sibling,p=f.return;if(ou(f),f===l){Xs=null;break}if(null!==h){h.return=p,Xs=h;break}Xs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Xs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(o=Xs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Xs=y;break e}Xs=o.return}}var b=e.current;for(Xs=b;null!==Xs;){var k=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Xs=k;else e:for(s=b;null!==Xs;){if(0!==(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){Sc(u,u.return,x)}if(u===s){Xs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Xs=w;break e}Xs=u.return}}if(Tu=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Nu.transition=t}}return!1}function Cc(e,t,n){e=Oa(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Oa(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Lu===e&&(Au&n)===n&&(4===Mu||3===Mu&&(130023424&Au)===Au&&500>Ye()-zu?hc(e,0):Vu|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Ta(e,t))&&(gt(e,t,n),ic(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Lc(e,t){return Ke(e,t)}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new jc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Dc(n.children,i,o,t);case C:s=8,i|=8;break;case S:return(e=Ac(12,n,t,2|i)).elementType=S,e.lanes=o,e;case T:return(e=Ac(13,n,t,i)).elementType=T,e.lanes=o,e;case L:return(e=Ac(19,n,t,i)).elementType=L,e.lanes=o,e;case P:return Rc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case I:s=9;break e;case N:s=11;break e;case j:s=14;break e;case A:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Dc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ja(a),e}function zc(e){if(!e)return Ii;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Bc(n,r,!0,e,0,a,0,s,u)).context=zc(null),n=e.current,(a=Pa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rc(e,i,o,a),Ma(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Cu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ls(t),ha();break;case 5:ao(t);break;case 1:Ai(t.type)&&Di(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ei(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Ws(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Xi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=ji(t,Ni.current);Ca(t,n),i=Co(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ja(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Ts(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===j)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ls(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Aa(e,t),Ra(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=js(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=js(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ti.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ca(t,n),r=r(i=Sa(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_s(e,t,r,i=ma(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Hs(e,t),t.tag=1,Ai(r)?(e=!0,Di(t)):e=!1,Ca(t,n),qa(t,r,i),Wa(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=Bc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Hc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(o)}Jc.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Jc.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Hc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Rt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Ye()),0===(6&Tu)&&(qu=Ye()+500,zi()))}break;case 13:fc((function(){var t=Ta(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Ta(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Ta(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},Ct=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=lc,Te=fc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ee,Ie,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},969:function(e,t,n){"use strict";var r,i=n(381),a=(r=i)&&r.__esModule?r:{default:r};var o={tags:function(e){var t=e.id,n=e.events,r=e.dataLayer,i=e.dataLayerName,o=e.preview,s="&gtm_auth="+e.auth,u="&gtm_preview="+o;return t||(0,a.default)("GTM Id is required"),{iframe:'\n      <iframe src="https://www.googletagmanager.com/ns.html?id='+t+s+u+'&gtm_cookies_win=x"\n        height="0" width="0" style="display:none;visibility:hidden" id="tag-manager"></iframe>',script:"\n      (function(w,d,s,l,i){w[l]=w[l]||[];\n        w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js', "+JSON.stringify(n).slice(1,-1)+"});\n        var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';\n        j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl+'"+s+u+"&gtm_cookies_win=x';\n        f.parentNode.insertBefore(j,f);\n      })(window,document,'script','"+i+"','"+t+"');",dataLayerVar:this.dataLayer(r,i)}},dataLayer:function(e,t){return"\n      window."+t+" = window."+t+" || [];\n      window."+t+".push("+JSON.stringify(e)+")"}};e.exports=o},419:function(e,t,n){"use strict";var r,i=n(969),a=(r=i)&&r.__esModule?r:{default:r};var o={dataScript:function(e){var t=document.createElement("script");return t.innerHTML=e,t},gtm:function(e){var t=a.default.tags(e);return{noScript:function(){var e=document.createElement("noscript");return e.innerHTML=t.iframe,e},script:function(){var e=document.createElement("script");return e.innerHTML=t.script,e},dataScript:this.dataScript(t.dataLayerVar)}},initialize:function(e){var t=e.gtmId,n=e.events,r=void 0===n?{}:n,i=e.dataLayer,a=e.dataLayerName,o=void 0===a?"dataLayer":a,s=e.auth,u=void 0===s?"":s,c=e.preview,l=void 0===c?"":c,f=this.gtm({id:t,events:r,dataLayer:i||void 0,dataLayerName:o,auth:u,preview:l});i&&document.head.appendChild(f.dataScript),document.head.insertBefore(f.script(),document.head.childNodes[0]),document.body.insertBefore(f.noScript(),document.body.childNodes[0])},dataLayer:function(e){var t=e.dataLayer,n=e.dataLayerName,r=void 0===n?"dataLayer":n;if(window[r])return window[r].push(t);var i=a.default.dataLayer(t,r),o=this.dataScript(i);document.head.insertBefore(o,document.head.childNodes[0])}};e.exports=o},264:function(e,t,n){"use strict";var r,i=n(419),a=(r=i)&&r.__esModule?r:{default:r};e.exports=a.default},381:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){console.warn("[react-gtm]",e)}},504:function(e,t,n){e.exports=n(269)},269:function(e,t,n){"use strict";var r,i=(r=n(791))&&"object"==typeof r&&"default"in r?r.default:r,a=n(164);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}}(e.prototype.constructor=e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}};function l(e,t,n){if("selectionStart"in e&&"selectionEnd"in e)e.selectionStart=t,e.selectionEnd=n;else{var r=e.createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n-t),r.select()}}var f={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};function d(e,t,n){var r="",i="",a=null,o=[];if(void 0===t&&(t="_"),null==n&&(n=f),!e||"string"!=typeof e)return{maskChar:t,formatChars:n,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var s=!1;return e.split("").forEach((function(e){s=!s&&"\\"===e||(s||!n[e]?(o.push(r.length),r.length===o.length-1&&(i+=e)):a=r.length+1,r+=e,!1)})),{maskChar:t,formatChars:n,prefix:i,mask:r,lastEditablePosition:a,permanents:o}}function h(e,t){return-1!==e.permanents.indexOf(t)}function p(e,t,n){var r=e.mask,i=e.formatChars;if(!n)return!1;if(h(e,t))return r[t]===n;var a=i[r[t]];return new RegExp(a).test(n)}function v(e,t){return t.split("").every((function(t,n){return h(e,n)||!p(e,n,t)}))}function m(e,t){var n=e.maskChar,r=e.prefix;if(!n){for(;t.length>r.length&&h(e,t.length-1);)t=t.slice(0,t.length-1);return t.length}for(var i=r.length,a=t.length;a>=r.length;a--){var o=t[a];if(!h(e,a)&&p(e,a,o)){i=a+1;break}}return i}function g(e,t){return m(e,t)===e.mask.length}function y(e,t){var n=e.maskChar,r=e.mask,i=e.prefix;if(!n){for((t=b(e,"",t,0)).length<i.length&&(t=i);t.length<r.length&&h(e,t.length);)t+=r[t.length];return t}if(t)return b(e,y(e,""),t,0);for(var a=0;a<r.length;a++)h(e,a)?t+=r[a]:t+=n;return t}function b(e,t,n,r){var i=e.mask,a=e.maskChar,o=e.prefix,s=n.split(""),u=g(e,t);return!a&&r>t.length&&(t+=i.slice(t.length,r)),s.every((function(n){for(;l=n,h(e,c=r)&&l!==i[c];){if(r>=t.length&&(t+=i[r]),s=n,a&&h(e,r)&&s===a)return!0;if(++r>=i.length)return!1}var s,c,l;return!p(e,r,n)&&n!==a||(r<t.length?t=a||u||r<o.length?t.slice(0,r)+n+t.slice(r+1):(t=t.slice(0,r)+n+t.slice(r),y(e,t)):a||(t+=n),++r<i.length)})),t}function k(e,t){for(var n=e.mask,r=t;r<n.length;++r)if(!h(e,r))return r;return null}function w(e){return e||0===e?e+"":""}function x(e,t,n,r,i){var a=e.mask,o=e.prefix,s=e.lastEditablePosition,u=t,c="",l=0,f=0,d=Math.min(i.start,n.start);return n.end>i.start?f=(l=function(e,t,n,r){var i=e.mask,a=e.maskChar,o=n.split(""),s=r;return o.every((function(t){for(;o=t,h(e,n=r)&&o!==i[n];)if(++r>=i.length)return!1;var n,o;return(p(e,r,t)||t===a)&&r++,r<i.length})),r-s}(e,0,c=u.slice(i.start,n.end),d))?i.length:0:u.length<r.length&&(f=r.length-u.length),u=r,f&&(1!==f||i.length||(d=i.start===n.start?k(e,n.start):function(e,t){for(var n=t;0<=n;--n)if(!h(e,n))return n;return null}(e,n.start)),u=function(e,t,n,r){var i=n+r,a=e.maskChar,o=e.mask,s=e.prefix,u=t.split("");if(a)return u.map((function(t,r){return r<n||i<=r?t:h(e,r)?o[r]:a})).join("");for(var c=i;c<u.length;c++)h(e,c)&&(u[c]="");return n=Math.max(s.length,n),u.splice(n,i-n),t=u.join(""),y(e,t)}(e,u,d,f)),u=b(e,u,c,d),(d+=l)>=a.length?d=a.length:d<o.length&&!l?d=o.length:d>=o.length&&d<s&&l&&(d=k(e,d)),c||(c=null),{value:u=y(e,u),enteredString:c,selection:{start:d,end:d}}}function _(e){return"function"==typeof e}function C(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function S(e){return(C()?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame:function(){return setTimeout(e,1e3/60)})(e)}function E(e){(C()||clearTimeout)(e)}var I=function(e){function t(t){var n=e.call(this,t)||this;n.focused=!1,n.mounted=!1,n.previousSelection=null,n.selectionDeferId=null,n.saveSelectionLoopDeferId=null,n.saveSelectionLoop=function(){n.previousSelection=n.getSelection(),n.saveSelectionLoopDeferId=S(n.saveSelectionLoop)},n.runSaveSelectionLoop=function(){null===n.saveSelectionLoopDeferId&&n.saveSelectionLoop()},n.stopSaveSelectionLoop=function(){null!==n.saveSelectionLoopDeferId&&(E(n.saveSelectionLoopDeferId),n.saveSelectionLoopDeferId=null,n.previousSelection=null)},n.getInputDOMNode=function(){if(!n.mounted)return null;var e=a.findDOMNode(u(u(n))),t="undefined"!=typeof window&&e instanceof window.Element;if(e&&!t)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},n.getInputValue=function(){var e=n.getInputDOMNode();return e?e.value:null},n.setInputValue=function(e){var t=n.getInputDOMNode();t&&(n.value=e,t.value=e)},n.setCursorToEnd=function(){var e=m(n.maskOptions,n.value),t=k(n.maskOptions,e);null!==t&&n.setCursorPosition(t)},n.setSelection=function(e,t,r){void 0===r&&(r={});var i=n.getInputDOMNode(),a=n.isFocused();i&&a&&(r.deferred||l(i,e,t),null!==n.selectionDeferId&&E(n.selectionDeferId),n.selectionDeferId=S((function(){n.selectionDeferId=null,l(i,e,t)})),n.previousSelection={start:e,end:t,length:Math.abs(t-e)})},n.getSelection=function(){return function(e){var t=0,n=0;if("selectionStart"in e&&"selectionEnd"in e)t=e.selectionStart,n=e.selectionEnd;else{var r=document.selection.createRange();r.parentElement()===e&&(t=-r.moveStart("character",-e.value.length),n=-r.moveEnd("character",-e.value.length))}return{start:t,end:n,length:n-t}}(n.getInputDOMNode())},n.getCursorPosition=function(){return n.getSelection().start},n.setCursorPosition=function(e){n.setSelection(e,e)},n.isFocused=function(){return n.focused},n.getBeforeMaskedValueChangeConfig=function(){var e=n.maskOptions,t=e.mask,r=e.maskChar,i=e.permanents,a=e.formatChars;return{mask:t,maskChar:r,permanents:i,alwaysShowMask:!!n.props.alwaysShowMask,formatChars:a}},n.isInputAutofilled=function(e,t,r,i){var a=n.getInputDOMNode();try{if(a.matches(":-webkit-autofill"))return!0}catch(c){}return!n.focused||i.end<r.length&&t.end===e.length},n.onChange=function(e){var t=u(u(n)).beforePasteState,r=u(u(n)).previousSelection,i=n.props.beforeMaskedValueChange,a=n.getInputValue(),o=n.value,s=n.getSelection();n.isInputAutofilled(a,s,o,r)&&(o=y(n.maskOptions,""),r={start:0,end:0,length:0}),t&&(r=t.selection,o=t.value,s={start:r.start+a.length,end:r.start+a.length,length:0},a=o.slice(0,r.start)+a+o.slice(r.end),n.beforePasteState=null);var c=x(n.maskOptions,a,s,o,r),l=c.enteredString,f=c.selection,d=c.value;if(_(i)){var h=i({value:d,selection:f},{value:o,selection:r},l,n.getBeforeMaskedValueChangeConfig());d=h.value,f=h.selection}n.setInputValue(d),_(n.props.onChange)&&n.props.onChange(e),n.isWindowsPhoneBrowser?n.setSelection(f.start,f.end,{deferred:!0}):n.setSelection(f.start,f.end)},n.onFocus=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions,i=r.mask,a=r.prefix;if(n.focused=!0,n.mounted=!0,i){if(n.value)m(n.maskOptions,n.value)<n.maskOptions.mask.length&&n.setCursorToEnd();else{var o=y(n.maskOptions,a),s=y(n.maskOptions,o),u=m(n.maskOptions,s),c=k(n.maskOptions,u),l={start:c,end:c};if(_(t)){var f=t({value:s,selection:l},{value:n.value,selection:null},null,n.getBeforeMaskedValueChangeConfig());s=f.value,l=f.selection}var d=s!==n.getInputValue();d&&n.setInputValue(s),d&&_(n.props.onChange)&&n.props.onChange(e),n.setSelection(l.start,l.end)}n.runSaveSelectionLoop()}_(n.props.onFocus)&&n.props.onFocus(e)},n.onBlur=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions.mask;if(n.stopSaveSelectionLoop(),n.focused=!1,r&&!n.props.alwaysShowMask&&v(n.maskOptions,n.value)){var i="";_(t)&&(i=t({value:i,selection:null},{value:n.value,selection:n.previousSelection},null,n.getBeforeMaskedValueChangeConfig()).value);var a=i!==n.getInputValue();a&&n.setInputValue(i),a&&_(n.props.onChange)&&n.props.onChange(e)}_(n.props.onBlur)&&n.props.onBlur(e)},n.onMouseDown=function(e){if(!n.focused&&document.addEventListener){n.mouseDownX=e.clientX,n.mouseDownY=e.clientY,n.mouseDownTime=(new Date).getTime();document.addEventListener("mouseup",(function e(t){if(document.removeEventListener("mouseup",e),n.focused){var r=Math.abs(t.clientX-n.mouseDownX),i=Math.abs(t.clientY-n.mouseDownY),a=Math.max(r,i),o=(new Date).getTime()-n.mouseDownTime;(a<=10&&o<=200||a<=5&&o<=300)&&n.setCursorToEnd()}}))}_(n.props.onMouseDown)&&n.props.onMouseDown(e)},n.onPaste=function(e){_(n.props.onPaste)&&n.props.onPaste(e),e.defaultPrevented||(n.beforePasteState={value:n.getInputValue(),selection:n.getSelection()},n.setInputValue(""))},n.handleRef=function(e){null==n.props.children&&_(n.props.inputRef)&&n.props.inputRef(e)};var r=t.mask,i=t.maskChar,o=t.formatChars,s=t.alwaysShowMask,c=t.beforeMaskedValueChange,f=t.defaultValue,h=t.value;n.maskOptions=d(r,i,o),null==f&&(f=""),null==h&&(h=f);var p=w(h);if(n.maskOptions.mask&&(s||p)&&(p=y(n.maskOptions,p),_(c))){var g=t.value;null==t.value&&(g=f),p=c({value:p,selection:null},{value:g=w(g),selection:null},null,n.getBeforeMaskedValueChangeConfig()).value}return n.value=p,n}s(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=function(){var e=new RegExp("windows","i"),t=new RegExp("phone","i"),n=navigator.userAgent;return e.test(n)&&t.test(n)}(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},n.componentDidUpdate=function(){var e=this.previousSelection,t=this.props,n=t.beforeMaskedValueChange,r=t.alwaysShowMask,i=t.mask,a=t.maskChar,o=t.formatChars,s=this.maskOptions,u=r||this.isFocused(),c=null!=this.props.value,l=c?w(this.props.value):this.value,f=e?e.start:null;if(this.maskOptions=d(i,a,o),this.maskOptions.mask){!s.mask&&this.isFocused()&&this.runSaveSelectionLoop();var h=this.maskOptions.mask&&this.maskOptions.mask!==s.mask;if(s.mask||c||(l=this.getInputValue()),(h||this.maskOptions.mask&&(l||u))&&(l=y(this.maskOptions,l)),h){var p=m(this.maskOptions,l);(null===f||p<f)&&(f=g(this.maskOptions,l)?p:k(this.maskOptions,p))}!this.maskOptions.mask||!v(this.maskOptions,l)||u||c&&this.props.value||(l="");var b={start:f,end:f};if(_(n)){var x=n({value:l,selection:b},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());l=x.value,b=x.selection}this.value=l;var C=this.getInputValue()!==this.value;C?(this.setInputValue(this.value),this.forceUpdate()):h&&this.forceUpdate();var S=!1;null!=b.start&&null!=b.end&&(S=!e||e.start!==b.start||e.end!==b.end),(S||C)&&this.setSelection(b.start,b.end)}else s.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},n.componentWillUnmount=function(){this.mounted=!1,null!==this.selectionDeferId&&E(this.selectionDeferId),this.stopSaveSelectionLoop()},n.render=function(){var e,t=this.props,n=(t.mask,t.alwaysShowMask,t.maskChar,t.formatChars,t.inputRef,t.beforeMaskedValueChange,t.children),r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(t,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(n){_(n)||c(!1);var a=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],s=o({},r);a.forEach((function(e){return delete s[e]})),e=n(s),a.filter((function(t){return null!=e.props[t]&&e.props[t]!==r[t]})).length&&c(!1)}else e=i.createElement("input",o({ref:this.handleRef},r));var u={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(r.disabled||r.readOnly||(u.onChange=this.onChange,u.onPaste=this.onPaste,u.onMouseDown=this.onMouseDown),null!=r.value&&(u.value=this.value)),e=i.cloneElement(e,u)},t}(i.Component);e.exports=I},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var k=b.prototype=new y;k.constructor=b,v(k,g.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+N(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),T(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+N(s=e[c],c);u+=T(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,i,l=a+N(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function L(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},P={transition:null},O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};t.Children={map:L,forEach:function(e,t,n){L(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(E),E=-1),p=!0;var a=h;try{for(k(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!T());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&i(c),k(n)}else i(c);d=r(c)}if(null!==d)var u=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),u=!1}return u}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,C=!1,S=null,E=-1,I=5,N=-1;function T(){return!(t.unstable_now()-N<I)}function L(){if(null!==S){var e=t.unstable_now();N=e;var n=!0;try{n=S(!0,e)}finally{n?_():(C=!1,S=null)}}else C=!1}if("function"===typeof b)_=function(){b(L)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,A=j.port2;j.port1.onmessage=L,_=function(){A.postMessage(null)}}else _=function(){g(L,0)};function P(e){S=e,C||(C=!0,_())}function O(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(E),E=-1):m=!0,O(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var h=o(e,f[0],f[1]);return u((function(){d.hasValue=!0,d.value=h}),[h]),l(h),h}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".c94e6dc2.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="polar-pelmeni-frontend:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkpolar_pelmeni_frontend=self.webpackChunkpolar_pelmeni_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Tu},SDK_VERSION:function(){return Rc},_DEFAULT_ENTRY_NAME:function(){return Cc},_addComponent:function(){return Nc},_addOrOverwriteComponent:function(){return Tc},_apps:function(){return Ec},_clearComponents:function(){return Pc},_components:function(){return Ic},_getProvider:function(){return jc},_registerComponent:function(){return Lc},_removeServiceInstance:function(){return Ac},deleteApp:function(){return Bc},getApp:function(){return Vc},getApps:function(){return Uc},initializeApp:function(){return Fc},onLog:function(){return Hc},registerVersion:function(){return qc},setLogLevel:function(){return Wc}});var t,r=n(791),i=n.t(r,2),a=n(250);function o(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||u(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){return function(e){if(Array.isArray(e))return s(e)}(e)||f(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){var t=w();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,n)}}function C(e,t,n){return C=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},C.apply(null,arguments)}function S(e){var t="function"===typeof Map?new Map:void 0;return S=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return C(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},S(e)}function E(e){return o(e)||f(e)||u(e)||c()}function I(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var T,L="popstate";function j(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function A(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function P(e,t){return{usr:e.state,key:e.key,idx:t}}function O(e,t,n,r){return void 0===n&&(n=null),N({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?D(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function M(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function D(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function R(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,f=t.Pop,d=null,h=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-h;h=e,d&&d({action:f,location:g.location,delta:n})}function m(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:M(e);return j(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,l.replaceState(N({},l.state,{idx:h}),""));var g={get action(){return f},get location(){return e(s,l)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(L,v),d=e,function(){s.removeEventListener(L,v),d=null}},createHref:function(e){return n(s,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=O(g.location,e,n);r&&r(i,e);var a=P(i,h=p()+1),o=g.createHref(i);try{l.pushState(a,"",o)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(o)}c&&d&&d({action:f,location:g.location,delta:1})},replace:function(e,n){f=t.Replace;var i=O(g.location,e,n);r&&r(i,e);var a=P(i,h=p()),o=g.createHref(i);l.replaceState(a,"",o),c&&d&&d({action:f,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(T||(T={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function F(e,t,n){void 0===n&&(n="/");var r=$(("string"===typeof t?D(t):t).pathname||"/",n);if(null==r)return null;var i=V(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Z(i[o],Y(r));return a}function V(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(j(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ne([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(j(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),V(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Q(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=I(U(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function U(e){var t=e.split("/");if(0===t.length)return[];var n=E(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=U(i.join("/")),u=[];return u.push.apply(u,d(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,d(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var B=/^:\w+$/,z=3,q=2,H=1,W=10,G=-2,K=function(e){return"*"===e};function Q(e,t){var n=e.split("/"),r=n.length;return n.some(K)&&(r+=G),t&&(r+=q),n.filter((function(e){return!K(e)})).reduce((function(e,t){return e+(B.test(t)?z:""===t?H:W)}),r)}function Z(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=J({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:ne([i,l.pathname]),pathnameBase:re(ne([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ne([i,l.pathnameBase]))}return a}function J(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);A("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return A(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function Y(e){try{return decodeURI(e)}catch(t){return A(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function $(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function X(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function te(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=D(e):(j(!(i=N({},e)).pathname||!i.pathname.includes("?"),X("?","pathname","search",i)),j(!i.pathname||!i.pathname.includes("#"),X("#","pathname","hash",i)),j(!i.search||!i.search.includes("#"),X("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?D(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ie(a),hash:ae(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),d=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!d||(l.pathname+="/"),l}var ne=function(e){return e.join("/").replace(/\/\/+/g,"/")},re=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},oe=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n)}(S(Error));function se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ue=["post","put","patch","delete"],ce=(new Set(ue),["get"].concat(ue));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var fe=r.createContext(null);var de=r.createContext(null);var he=r.createContext(null);var pe=r.createContext(null);var ve=r.createContext(null);var me=r.createContext({outlet:null,matches:[],isDataRoute:!1});var ge=r.createContext(null);function ye(){return null!=r.useContext(ve)}function be(){return ye()||j(!1),r.useContext(ve).location}function ke(e){r.useContext(pe).static||r.useLayoutEffect(e)}function we(){return r.useContext(me).isDataRoute?function(){var e=Ae(Ee.UseNavigateStable).router,t=Oe(Ie.UseNavigateStable),n=r.useRef(!1);ke((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,le({fromRouteId:t},i)))}),[e,t]);return i}():function(){ye()||j(!1);var e=r.useContext(fe),t=r.useContext(pe),n=t.basename,i=t.navigator,a=r.useContext(me).matches,o=be().pathname,s=JSON.stringify(ee(a).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);ke((function(){u.current=!0}));var c=r.useCallback((function(t,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof t){var a=te(t,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:ne([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}else i.go(t)}),[n,i,s,o,e]);return c}()}function xe(){var e=r.useContext(me).matches,t=e[e.length-1];return t?t.params:{}}function _e(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(me).matches,a=be().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return te(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Ce(e,n,i){ye()||j(!1);var a,o=r.useContext(pe).navigator,s=r.useContext(me).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,be());if(n){var d,h="string"===typeof n?D(n):n;"/"===l||(null==(d=h.pathname)?void 0:d.startsWith(l))||j(!1),a=h}else a=f;var p=a.pathname||"/",v=F(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=je(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ne([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ne([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,i);return n&&m?r.createElement(ve.Provider,{value:{location:le({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},m):m}function Se(){var e=function(){var e,t=r.useContext(ge),n=Pe(Ie.UseRouteError),i=Oe(Ie.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=se(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ee,Ie,Ne=r.createElement(Se,null),Te=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return g(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(me.Provider,{value:this.props.routeContext},r.createElement(ge.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Le(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(fe);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(me.Provider,{value:t},i)}function je(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,s=null==(i=n)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||j(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;n&&(c=i.route.errorElement||Ne);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=u?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Le,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(Te,{location:n.location,revalidation:n.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}function Ae(e){var t=r.useContext(fe);return t||j(!1),t}function Pe(e){var t=r.useContext(de);return t||j(!1),t}function Oe(e){var t=function(e){var t=r.useContext(me);return t||j(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||j(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Ee||(Ee={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Ie||(Ie={}));var Me;i.startTransition;function De(e){j(!1)}function Re(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,d=void 0!==f&&f;ye()&&j(!1);var h=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:h,navigator:l,static:d}}),[h,l,d]);"string"===typeof s&&(s=D(s));var v=s,m=v.pathname,g=void 0===m?"/":m,y=v.search,b=void 0===y?"":y,k=v.hash,w=void 0===k?"":k,x=v.state,_=void 0===x?null:x,C=v.key,S=void 0===C?"default":C,E=r.useMemo((function(){var e=$(g,h);return null==e?null:{location:{pathname:e,search:b,hash:w,state:_,key:S},navigationType:c}}),[h,g,b,w,_,S,c]);return null==E?null:r.createElement(pe.Provider,{value:p},r.createElement(ve.Provider,{children:o,value:E}))}function Fe(e){var t=e.children,n=e.location;return Ce(Ue(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Me||(Me={}));var Ve=new Promise((function(){}));r.Component;function Ue(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(d(t),[i]);if(e.type!==r.Fragment){e.type!==De&&j(!1),e.props.index&&e.props.children&&j(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ue(e.props.children,a)),n.push(o)}else n.push.apply(n,Ue(e.props.children,a))}})),n}var Be=n(248),ze=n(327),qe=n(164);var He=function(e){e()},We=function(){return He};function Ge(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ke=Symbol.for("react-redux-context"),Qe="undefined"!==typeof globalThis?globalThis:{};function Ze(){var e;if(!r.createContext)return{};var t=null!=(e=Qe[Ke])?e:Qe[Ke]=new Map,n=t.get(r.createContext);return n||(n=r.createContext(null),t.set(r.createContext,n)),n}var Je=Ze();function Ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je;return function(){return(0,r.useContext)(e)}}var $e=Ye(),Xe=function(){throw new Error("uSES not initialized!")},et=function(e,t){return e===t};function tt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=e===Je?$e:Ye(e);return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="function"===typeof n?{equalityFn:n}:n,a=i.equalityFn,o=void 0===a?et:a,s=i.stabilityCheck,u=void 0===s?void 0:s;i.noopCheck;var c=t(),l=c.store,f=c.subscription,d=c.getServerState,h=c.stabilityCheck,p=(c.noopCheck,(0,r.useRef)(!0),(0,r.useCallback)(Ge({},e.name,(function(t){return e(t)}))[e.name],[e,h,u])),v=Xe(f.addNestedSub,l.getState,d||l.getState,p,o);return(0,r.useDebugValue)(v),v}}var nt=tt();n(110),n(900);var rt={notify:function(){},get:function(){return[]}};function it(e,t){var n,r=rt;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=We(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=rt)},getListeners:function(){return r}};return o}var at=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?r.useLayoutEffect:r.useEffect;var ot=function(e){var t=e.store,n=e.context,i=e.children,a=e.serverState,o=e.stabilityCheck,s=void 0===o?"once":o,u=e.noopCheck,c=void 0===u?"once":u,l=r.useMemo((function(){var e=it(t);return{store:t,subscription:e,getServerState:a?function(){return a}:void 0,stabilityCheck:s,noopCheck:c}}),[t,a,s,c]),f=r.useMemo((function(){return t.getState()}),[t]);at((function(){var e=l.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),f!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,f]);var d=n||Je;return r.createElement(d.Provider,{value:l},i)};function st(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=e===Je?$e:Ye(e);return function(){return t().store}}var ut=st();function ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=e===Je?ut:st(e);return function(){return t().dispatch}}var lt,ft=ct();!function(e){Xe=e}(ze.useSyncExternalStoreWithSelector),function(e){e}(Be.useSyncExternalStore),lt=qe.unstable_batchedUpdates,He=lt;var dt=n(184),ht=function(e){var t=e.children;return(0,dt.jsx)("div",{className:"container",children:t})},pt=function(e){var t=e.children;return(0,dt.jsx)("div",{className:"grid_layout",children:t})},vt=n(694),mt=n.n(vt);function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gt.apply(this,arguments)}function yt(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var bt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var kt=i.startTransition;function wt(e){var t,n=e.basename,i=e.children,a=e.future,o=e.window,s=r.useRef();null==s.current&&(s.current=(void 0===(t={window:o,v5Compat:!0})&&(t={}),R((function(e,t){var n=e.location;return O("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:M(t)}),null,t)));var u=s.current,c=l(r.useState({action:u.action,location:u.location}),2),f=c[0],d=c[1],h=(a||{}).v7_startTransition,p=r.useCallback((function(e){h&&kt?kt((function(){return d(e)})):d(e)}),[d,h]);return r.useLayoutEffect((function(){return u.listen(p)}),[u,p]),r.createElement(Re,{basename:n,children:i,location:f.location,navigationType:f.action,navigator:u})}var xt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,_t=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ct=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,d=yt(e,bt),h=r.useContext(pe).basename,p=!1;if("string"===typeof l&&_t.test(l)&&(n=l,xt))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),g=$(m.pathname,h);m.origin===v.origin&&null!=g?l=g+m.search+m.hash:p=!0}catch(k){}var y=function(e,t){var n=(void 0===t?{}:t).relative;ye()||j(!1);var i=r.useContext(pe),a=i.basename,o=i.navigator,s=_e(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:ne([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),b=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,c=we(),l=be(),f=_e(e,{relative:u});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:M(l)===M(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return r.createElement("a",gt({},d,{href:n||y,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var St,Et;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(St||(St={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Et||(Et={}));var It=n.p+"static/media/arrow-left.5e864e3fbecea962ed39880526d5b9c8.svg",Nt=function(e){var t=e.children,n=e.index,r=e.pathlink,i=e.handleSidebar,a=["info","favourite","addresses","history","bonuses","signout"];return(0,dt.jsxs)("li",{className:"profile_sidebar--nav__item sidebar-mobile__item--mobile",children:[(0,dt.jsx)(Ct,{to:"/profile/".concat(a[n]),onClick:i,className:mt()("profile_sidebar--nav__link sidebar-mobile__link",{sign_out:"\u0412\u0438\u0445\u0456\u0434"===t},{active:r===a[n]}),children:t}),(0,dt.jsx)("img",{className:"sidebar-mobile__item--arrow",src:It,alt:"left"})]})},Tt=function(e){var t=e.pathlink;return(0,dt.jsxs)("aside",{className:"grid_layout--side profile_sidebar",children:[(0,dt.jsx)("h3",{className:"profile_sidebar--header",children:"\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0438\u0439 \u043a\u0430\u0431\u0456\u043d\u0435\u0442"}),(0,dt.jsx)("ul",{className:"profile_sidebar--nav",children:["\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f","\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0456 \u0431\u043b\u044e\u0434\u0430","\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0430\u0434\u0440\u0435\u0441\u0438","\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c","\u0411\u043e\u043d\u0443\u0441\u0438","\u0412\u0438\u0445\u0456\u0434"].map((function(e,n){return(0,dt.jsx)(Nt,{pathlink:t,index:n,children:e},n)}))})]})};function Lt(){Lt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new E(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f={};function d(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(I([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=d.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==p(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(e){if(e||""===e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}throw new TypeError(p(e)+" is not iterable")}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),u(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function jt(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function At(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){jt(a,r,i,o,s,"next",e)}function s(e){jt(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mt=n.p+"static/media/Vector.46709a669661462dfb9a0e45d6d89617.svg",Dt=function(e){var t=e.children,n=e.handleSidebar;return(0,dt.jsxs)("div",{className:"profile_link--mobile",children:[(0,dt.jsx)("h3",{className:"profile_sidebar--header profile_link--mobile--title",children:t}),(0,dt.jsx)(Ct,{to:"/profile/",className:"profile_link--mobile--button",onClick:n,children:(0,dt.jsx)("img",{src:Mt,alt:"cross"})})]})};function Rt(e,t){return function(){return e.apply(t,arguments)}}var Ft,Vt=Object.prototype.toString,Ut=Object.getPrototypeOf,Bt=(Ft=Object.create(null),function(e){var t=Vt.call(e);return Ft[t]||(Ft[t]=t.slice(8,-1).toLowerCase())}),zt=function(e){return e=e.toLowerCase(),function(t){return Bt(t)===e}},qt=function(e){return function(t){return typeof t===e}},Ht=Array.isArray,Wt=qt("undefined");var Gt=zt("ArrayBuffer");var Kt=qt("string"),Qt=qt("function"),Zt=qt("number"),Jt=function(e){return null!==e&&"object"===typeof e},Yt=function(e){if("object"!==Bt(e))return!1;var t=Ut(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$t=zt("Date"),Xt=zt("File"),en=zt("Blob"),tn=zt("FileList"),nn=zt("URLSearchParams");function rn(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ht(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,s=a?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;for(n=0;n<u;n++)o=s[n],t.call(null,e[o],o,e)}}function an(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var on="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,sn=function(e){return!Wt(e)&&e!==on};var un,cn=(un="undefined"!==typeof Uint8Array&&Ut(Uint8Array),function(e){return un&&e instanceof un}),ln=zt("HTMLFormElement"),fn=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),dn=zt("RegExp"),hn=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};rn(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},pn="abcdefghijklmnopqrstuvwxyz",vn="0123456789",mn={DIGIT:vn,ALPHA:pn,ALPHA_DIGIT:pn+pn.toUpperCase()+vn};var gn=zt("AsyncFunction"),yn={isArray:Ht,isArrayBuffer:Gt,isBuffer:function(e){return null!==e&&!Wt(e)&&null!==e.constructor&&!Wt(e.constructor)&&Qt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||Qt(e.append)&&("formdata"===(t=Bt(e))||"object"===t&&Qt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Gt(e.buffer)},isString:Kt,isNumber:Zt,isBoolean:function(e){return!0===e||!1===e},isObject:Jt,isPlainObject:Yt,isUndefined:Wt,isDate:$t,isFile:Xt,isBlob:en,isRegExp:dn,isFunction:Qt,isStream:function(e){return Jt(e)&&Qt(e.pipe)},isURLSearchParams:nn,isTypedArray:cn,isFileList:tn,forEach:rn,merge:function e(){for(var t=(sn(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&an(n,i)||i;Yt(n[a])&&Yt(r)?n[a]=e(n[a],r):Yt(r)?n[a]=e({},r):Ht(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&rn(arguments[i],r);return n},extend:function(e,t,n){return rn(t,(function(t,r){n&&Qt(t)?e[r]=Rt(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&Ut(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Bt,kindOfTest:zt,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(Ht(e))return e;var t=e.length;if(!Zt(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:ln,hasOwnProperty:fn,hasOwnProp:fn,reduceDescriptors:hn,freezeMethods:function(e){hn(e,(function(t,n){if(Qt(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];Qt(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return Ht(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:an,global:on,isContextDefined:sn,ALPHABET:mn,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mn.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Qt(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(Jt(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=Ht(n)?[]:{};return rn(n,(function(t,n){var a=e(t,r+1);!Wt(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:gn,isThenable:function(e){return e&&(Jt(e)||Qt(e))&&Qt(e.then)&&Qt(e.catch)}};function bn(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}yn.inherits(bn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:yn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var kn=bn.prototype,wn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){wn[e]={value:e}})),Object.defineProperties(bn,wn),Object.defineProperty(kn,"isAxiosError",{value:!0}),bn.from=function(e,t,n,r,i,a){var o=Object.create(kn);return yn.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),bn.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var xn=bn;function _n(e){return yn.isPlainObject(e)||yn.isArray(e)}function Cn(e){return yn.endsWith(e,"[]")?e.slice(0,-2):e}function Sn(e,t,n){return e?e.concat(t).map((function(e,t){return e=Cn(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var En=yn.toFlatObject(yn,{},null,(function(e){return/^is[A-Z]/.test(e)}));var In=function(e,t,n){if(!yn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=yn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!yn.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&yn.isSpecCompliantForm(t);if(!yn.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(yn.isDate(e))return e.toISOString();if(!s&&yn.isBlob(e))throw new xn("Blob is not supported. Use a Buffer instead.");return yn.isArrayBuffer(e)||yn.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var s=e;if(e&&!i&&"object"===typeof e)if(yn.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(yn.isArray(e)&&function(e){return yn.isArray(e)&&!e.some(_n)}(e)||(yn.isFileList(e)||yn.endsWith(n,"[]"))&&(s=yn.toArray(e)))return n=Cn(n),s.forEach((function(e,r){!yn.isUndefined(e)&&null!==e&&t.append(!0===o?Sn([n],r,a):null===o?n:n+"[]",u(e))})),!1;return!!_n(e)||(t.append(Sn(i,n,a),u(e)),!1)}var l=[],f=Object.assign(En,{defaultVisitor:c,convertValue:u,isVisitable:_n});if(!yn.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!yn.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),yn.forEach(n,(function(n,a){!0===(!(yn.isUndefined(n)||null===n)&&i.call(t,n,yn.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function Nn(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Tn(e,t){this._pairs=[],e&&In(e,this,t)}var Ln=Tn.prototype;Ln.append=function(e,t){this._pairs.push([e,t])},Ln.toString=function(e){var t=e?function(t){return e.call(this,t,Nn)}:Nn;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var jn=Tn;function An(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Pn(e,t,n){if(!t)return e;var r,i=n&&n.encode||An,a=n&&n.serialize;if(r=a?a(t,n):yn.isURLSearchParams(t)?t.toString():new jn(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var On=function(){function e(){h(this,e),this.handlers=[]}return g(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){yn.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),Mn=On,Dn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:jn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var Fn=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&yn.isArray(r)?r.length:a,s?(yn.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&yn.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&yn.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(yn.isFormData(e)&&yn.isFunction(e.entries)){var n={};return yn.forEachEntry(e,(function(e,r){t(function(e){return yn.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},Vn={"Content-Type":void 0};var Un={transitional:Dn,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=yn.isObject(e);if(a&&yn.isHTMLForm(e)&&(e=new FormData(e)),yn.isFormData(e))return i&&i?JSON.stringify(Fn(e)):e;if(yn.isArrayBuffer(e)||yn.isBuffer(e)||yn.isStream(e)||yn.isFile(e)||yn.isBlob(e))return e;if(yn.isArrayBufferView(e))return e.buffer;if(yn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return In(e,new Rn.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Rn.isNode&&yn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=yn.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return In(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(yn.isString(e))try{return(t||JSON.parse)(e),yn.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Un.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&yn.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw xn.from(a,xn.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rn.classes.FormData,Blob:Rn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};yn.forEach(["delete","get","head"],(function(e){Un.headers[e]={}})),yn.forEach(["post","put","patch"],(function(e){Un.headers[e]=yn.merge(Vn)}));var Bn=Un,zn=yn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qn=Symbol("internals");function Hn(e){return e&&String(e).trim().toLowerCase()}function Wn(e){return!1===e||null==e?e:yn.isArray(e)?e.map(Wn):String(e)}function Gn(e,t,n,r,i){return yn.isFunction(r)?r.call(this,t,n):(i&&(t=n),yn.isString(t)?yn.isString(r)?-1!==t.indexOf(r):yn.isRegExp(r)?r.test(t):void 0:void 0)}var Kn=function(e,t){function n(e){h(this,n),e&&this.set(e)}return g(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=Hn(t);if(!i)throw new Error("header name must be a non-empty string");var a=yn.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Wn(e))}var a=function(e,t){return yn.forEach(e,(function(e,n){return i(e,n,t)}))};return yn.isPlainObject(e)||e instanceof this.constructor?a(e,t):yn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&zn[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=Hn(e)){var n=yn.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(yn.isFunction(t))return t.call(this,r,n);if(yn.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=Hn(e)){var n=yn.findKey(this,e);return!(!n||void 0===this[n]||t&&!Gn(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=Hn(e)){var i=yn.findKey(n,e);!i||t&&!Gn(0,n[i],i,t)||(delete n[i],r=!0)}}return yn.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!Gn(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return yn.forEach(this,(function(r,i){var a=yn.findKey(n,i);if(a)return t[a]=Wn(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=Wn(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return yn.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&yn.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=l(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[qn]=this[qn]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=Hn(e);t[r]||(!function(e,t){var n=yn.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return yn.isArray(e)?e.forEach(r):r(e),this}}]),n}();Kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),yn.freezeMethods(Kn.prototype),yn.freezeMethods(Kn);var Qn=Kn;function Zn(e,t){var n=this||Bn,r=t||n,i=Qn.from(r.headers),a=r.data;return yn.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function Jn(e){return!(!e||!e.__CANCEL__)}function Yn(e,t,n){xn.call(this,null==e?"canceled":e,xn.ERR_CANCELED,t,n),this.name="CanceledError"}yn.inherits(Yn,xn,{__CANCEL__:!0});var $n=Yn;var Xn=Rn.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),yn.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),yn.isString(r)&&o.push("path="+r),yn.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function er(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var tr=Rn.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=yn.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var nr=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=i[o];n||(n=u),r[a]=s,i[a]=u;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var d=c&&u-c;return d?Math.round(1e3*f/d):void 0}}};function rr(e,t){var n=0,r=nr(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,u=r(s);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&a<=o?(o-a)/u:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var ir="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=Qn.from(e.headers).normalize(),o=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}yn.isFormData(i)&&(Rn.isStandardBrowserEnv||Rn.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=er(e.baseURL,e.url);function d(){if(u){var r=Qn.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new xn("Request failed with status code "+n.status,[xn.ERR_BAD_REQUEST,xn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}}if(u.open(e.method.toUpperCase(),Pn(f,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(d)},u.onabort=function(){u&&(n(new xn("Request aborted",xn.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new xn("Network Error",xn.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||Dn;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new xn(t,r.clarifyTimeoutError?xn.ETIMEDOUT:xn.ECONNABORTED,e,u)),u=null},Rn.isStandardBrowserEnv){var h=(e.withCredentials||tr(f))&&e.xsrfCookieName&&Xn.read(e.xsrfCookieName);h&&a.set(e.xsrfHeaderName,h)}void 0===i&&a.setContentType(null),"setRequestHeader"in u&&yn.forEach(a.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),yn.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",rr(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",rr(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){u&&(n(!t||t.type?new $n(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===Rn.protocols.indexOf(p)?n(new xn("Unsupported protocol "+p+":",xn.ERR_BAD_REQUEST,e)):u.send(i||null)}))},ar={http:null,xhr:ir};yn.forEach(ar,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var or=function(e){for(var t,n,r=(e=yn.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=yn.isString(t)?ar[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new xn("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(yn.hasOwnProp(ar,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!yn.isFunction(n))throw new TypeError("adapter is not a function");return n};function sr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $n(null,e)}function ur(e){return sr(e),e.headers=Qn.from(e.headers),e.data=Zn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),or(e.adapter||Bn.adapter)(e).then((function(t){return sr(e),t.data=Zn.call(e,e.transformResponse,t),t.headers=Qn.from(t.headers),t}),(function(t){return Jn(t)||(sr(e),t&&t.response&&(t.response.data=Zn.call(e,e.transformResponse,t.response),t.response.headers=Qn.from(t.response.headers))),Promise.reject(t)}))}var cr=function(e){return e instanceof Qn?e.toJSON():e};function lr(e,t){t=t||{};var n={};function r(e,t,n){return yn.isPlainObject(e)&&yn.isPlainObject(t)?yn.merge.call({caseless:n},e,t):yn.isPlainObject(t)?yn.merge({},t):yn.isArray(t)?t.slice():t}function i(e,t,n){return yn.isUndefined(t)?yn.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!yn.isUndefined(t))return r(void 0,t)}function o(e,t){return yn.isUndefined(t)?yn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return i(cr(e),cr(t),!0)}};return yn.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=u[r]||i,o=a(e[r],t[r],r);yn.isUndefined(o)&&a!==s||(n[r]=o)})),n}var fr="1.4.0",dr={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){dr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var hr={};dr.transitional=function(e,t,n){function r(e,t){return"[Axios v1.4.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new xn(r(i," has been removed"+(t?" in "+t:"")),xn.ERR_DEPRECATED);return t&&!hr[i]&&(hr[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var pr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new xn("options must be an object",xn.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new xn("option "+a+" must be "+u,xn.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new xn("Unknown option "+a,xn.ERR_BAD_OPTION)}},validators:dr},vr=pr.validators,mr=function(){function e(t){h(this,e),this.defaults=t,this.interceptors={request:new Mn,response:new Mn}}return g(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=lr(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&pr.assertOptions(i,{silentJSONParsing:vr.transitional(vr.boolean),forcedJSONParsing:vr.transitional(vr.boolean),clarifyTimeoutError:vr.transitional(vr.boolean)},!1),null!=a&&(yn.isFunction(a)?t.paramsSerializer={serialize:a}:pr.assertOptions(a,{encode:vr.function,serialize:vr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&yn.merge(o.common,o[t.method]))&&yn.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=Qn.concat(n,o);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,d=0;if(!u){var h=[ur.bind(this),void 0];for(h.unshift.apply(h,s),h.push.apply(h,l),f=h.length,c=Promise.resolve(t);d<f;)c=c.then(h[d++],h[d++]);return c}f=s.length;var p=t;for(d=0;d<f;){var v=s[d++],m=s[d++];try{p=v(p)}catch(g){m.call(this,g);break}}try{c=ur.call(this,p)}catch(g){return Promise.reject(g)}for(d=0,f=l.length;d<f;)c=c.then(l[d++],l[d++]);return c}},{key:"getUri",value:function(e){return Pn(er((e=lr(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();yn.forEach(["delete","get","head","options"],(function(e){mr.prototype[e]=function(t,n){return this.request(lr(n||{},{method:e,url:t,data:(n||{}).data}))}})),yn.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(lr(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}mr.prototype[e]=t(),mr.prototype[e+"Form"]=t(!0)}));var gr=mr,yr=function(){function e(t){if(h(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new $n(e,t,i),n(r.reason))}))}return g(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),br=yr;var kr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(kr).forEach((function(e){var t=l(e,2),n=t[0],r=t[1];kr[r]=n}));var wr=kr;var xr=function e(t){var n=new gr(t),r=Rt(gr.prototype.request,n);return yn.extend(r,gr.prototype,n,{allOwnKeys:!0}),yn.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(lr(t,n))},r}(Bn);xr.Axios=gr,xr.CanceledError=$n,xr.CancelToken=br,xr.isCancel=Jn,xr.VERSION=fr,xr.toFormData=In,xr.AxiosError=xn,xr.Cancel=xr.CanceledError,xr.all=function(e){return Promise.all(e)},xr.spread=function(e){return function(t){return e.apply(null,t)}},xr.isAxiosError=function(e){return yn.isObject(e)&&!0===e.isAxiosError},xr.mergeConfig=lr,xr.AxiosHeaders=Qn,xr.formToJSON=function(e){return Fn(yn.isHTMLForm(e)?new FormData(e):e)},xr.HttpStatusCode=wr,xr.default=xr;var _r=xr,Cr="https://polarpelmeni-api.work-set.eu",Sr=function(e){var t=e.handleSidebar,n=e.isSidebarClosed,i=l((0,r.useState)({name:"",email:"",birth_date:"",city:""}),2),a=i[0],o=i[1],s=nt((function(e){return e.user}));console.log(localStorage);var u=function(e){o(Ot(Ot({},a),{},Ge({},e.target.name,e.target.value)))},c=function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,_r.put("".concat(Cr,"/api/upload/"),a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();if(console.log(n),!n)return(0,dt.jsxs)("section",{className:"grid_layout--main profile_info",children:[(0,dt.jsxs)("div",{className:"profile_info--head",children:[(0,dt.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:"profile",className:"mobile-menu__avatar",width:70}),(0,dt.jsxs)("div",{className:"profile_info--head__contacts contacts",children:[(0,dt.jsxs)("div",{className:"contacts_name",children:[s.name," "]}),(0,dt.jsx)("div",{className:"contacts_phone",children:s.phone})]}),(0,dt.jsx)("div",{className:"profile_info--head__button button",children:(0,dt.jsx)("a",{href:"#",className:"button_link",children:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u043d\u043e\u043c\u0435\u0440"})}),(0,dt.jsx)("div",{className:"profile_info--head__button button",children:(0,dt.jsx)("a",{href:"#",className:"button_link",children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0444\u043e\u0442\u043e"})})]}),(0,dt.jsx)(Dt,{handleSidebar:t,children:"\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f"}),(0,dt.jsxs)("div",{className:"profile_info--head__mobile",children:[(0,dt.jsx)("img",{src:"https://via.placeholder.com/70x70",alt:"profile",className:"profile_info--head__photo"}),(0,dt.jsxs)("div",{className:"contacts",children:[(0,dt.jsx)("div",{className:"contacts_name",children:s.name}),(0,dt.jsxs)("div",{className:"contacts_phone",children:[s.phone," ",(0,dt.jsx)("a",{href:"#",className:"button_link",disabled:!0,children:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438"})]}),(0,dt.jsx)("div",{className:"",children:(0,dt.jsx)("a",{href:"#",className:"button_link",disabled:!0,children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0444\u043e\u0442\u043e"})})]})]}),(0,dt.jsx)("div",{className:"profile_info--bonuses__mobile"}),(0,dt.jsx)("div",{className:"profile_info--form",children:(0,dt.jsxs)("form",{onSubmit:c,children:[(0,dt.jsxs)("div",{className:"form",children:[(0,dt.jsxs)("div",{className:"form_item",children:[(0,dt.jsx)("p",{children:"\u0406\u043c'\u044f"}),(0,dt.jsx)("label",{className:"form_item--label",children:(0,dt.jsx)("input",{type:"text",placeholder:"\u0406\u043c'\u044f",name:"name",value:a.name,onChange:u})})]}),(0,dt.jsxs)("div",{className:"form_item",children:[(0,dt.jsx)("p",{children:"\u041f\u043e\u0448\u0442\u0430"}),(0,dt.jsx)("label",{className:"form_item--label",children:(0,dt.jsx)("input",{type:"text",placeholder:"xxx@gmail.com",name:"email",value:a.email,onChange:u})})]}),(0,dt.jsxs)("div",{className:"form_item",children:[(0,dt.jsx)("p",{children:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f"}),(0,dt.jsx)("label",{className:"form_item--label",children:(0,dt.jsx)("input",{type:"text",placeholder:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f",name:"birth_date",value:a.birth_date,onChange:u})})]}),(0,dt.jsxs)("div",{className:"form_item",children:[(0,dt.jsx)("p",{children:"\u041c\u0456\u0441\u0442\u043e"}),(0,dt.jsx)("label",{className:"form_item--label",children:(0,dt.jsxs)("select",{name:"city",value:a.city,onChange:u,children:[(0,dt.jsx)("option",{value:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e",disabled:!0,children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e"}),(0,dt.jsx)("option",{value:"\u041e\u0434\u0435\u0441\u0430",children:"\u041e\u0434\u0435\u0441\u0430"}),(0,dt.jsx)("option",{value:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434",children:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434"})]})})]})]}),(0,dt.jsx)("div",{className:"form-button",children:(0,dt.jsx)("button",{className:"btn-main ",type:"submit",style:{justifyContent:"center"},children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"})})]})})]})};function Er(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ir=["name"],Nr=["_f"],Tr=["_f"],Lr=function(e){return"checkbox"===e.type},jr=function(e){return e instanceof Date},Ar=function(e){return null==e},Pr=function(e){return"object"===typeof e},Or=function(e){return!Ar(e)&&!Array.isArray(e)&&Pr(e)&&!jr(e)},Mr=function(e){return Or(e)&&e.target?Lr(e.target)?e.target.checked:e.target.value:e},Dr=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},Rr=function(e){var t=e.constructor&&e.constructor.prototype;return Or(t)&&t.hasOwnProperty("isPrototypeOf")},Fr="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function Vr(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(Fr&&(e instanceof Blob||e instanceof FileList)||!n&&!Or(e))return e;if(t=n?[]:{},n||Rr(e))for(var r in e)e.hasOwnProperty(r)&&(t[r]=Vr(e[r]));else t=e}return t}var Ur=function(e){return Array.isArray(e)?e.filter(Boolean):[]},Br=function(e){return void 0===e},zr=function(e,t,n){if(!t||!Or(e))return n;var r=Ur(t.split(/[,[\].]+?/)).reduce((function(e,t){return Ar(e)?e:e[t]}),e);return Br(r)||r===e?Br(e[t])?n:e[t]:r},qr={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Hr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wr="max",Gr="min",Kr="maxLength",Qr="minLength",Zr="pattern",Jr="required",Yr="validate",$r=(r.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={defaultValues:t._defaultValues},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t._proxyFormState[i]!==Hr.all&&(t._proxyFormState[i]=!r||Hr.all),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),Xr=function(e){return Or(e)&&!Object.keys(e).length},ei=function(e,t,n,r){n(e);e.name;var i=Er(e,Ir);return Xr(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((function(e){return t[e]===(!r||Hr.all)}))},ti=function(e){return Array.isArray(e)?e:[e]};function ni(e){var t=r.useRef(e);t.current=e,r.useEffect((function(){var n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return function(){n&&n.unsubscribe()}}),[e.disabled])}var ri=function(e){return"string"===typeof e},ii=function(e,t,n,r,i){return ri(e)?(r&&t.watch.add(e),zr(n,e,i)):Array.isArray(e)?e.map((function(e){return r&&t.watch.add(e),zr(n,e)})):(r&&(t.watchAll=!0),n)};var ai=function(e){return/^\w*$/.test(e)},oi=function(e){return Ur(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function si(e,t,n){for(var r=-1,i=ai(t)?[t]:oi(t),a=i.length,o=a-1;++r<a;){var s=i[r],u=n;if(r!==o){var c=e[s];u=Or(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[s]=u,e=e[s]}return e}var ui=function(e,t,n,r,i){return t?Ot(Ot({},n[e]),{},{types:Ot(Ot({},n[e]&&n[e].types?n[e].types:{}),{},Ge({},r,i||!0))}):{}},ci=function e(t,n,r){var i,a=I(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,s=zr(t,o);if(s){var u=s._f,c=Er(s,Nr);if(u&&n(u.name)){if(u.ref.focus){u.ref.focus();break}if(u.refs&&u.refs[0].focus){u.refs[0].focus();break}}else Or(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}},li=function(e){return{isOnSubmit:!e||e===Hr.onSubmit,isOnBlur:e===Hr.onBlur,isOnChange:e===Hr.onChange,isOnAll:e===Hr.all,isOnTouch:e===Hr.onTouched}},fi=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||d(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},di=function(e,t,n){var r=Ur(zr(e,n));return si(r,"root",t[n]),si(e,n,r),e},hi=function(e){return"boolean"===typeof e},pi=function(e){return"file"===e.type},vi=function(e){return"function"===typeof e},mi=function(e){if(!Fr)return!1;var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},gi=function(e){return ri(e)},yi=function(e){return"radio"===e.type},bi=function(e){return e instanceof RegExp},ki={value:!1,isValid:!1},wi={value:!0,isValid:!0},xi=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Br(e[0].attributes.value)?Br(e[0].value)||""===e[0].value?wi:{value:e[0].value,isValid:!0}:wi:ki}return ki},_i={isValid:!1,value:null},Ci=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),_i):_i};function Si(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(gi(e)||Array.isArray(e)&&e.every(gi)||hi(e)&&!e)return{type:n,message:gi(e)?e:"",ref:t}}var Ei=function(e){return Or(e)&&!bi(e)?e:{value:e,message:""}},Ii=function(){var e=At(Lt().mark((function e(t,n,r,i,a){var o,s,u,c,l,f,d,h,p,v,m,g,y,b,k,w,x,_,C,S,E,I,N,T,L,j,A,P,O,M,D,R,F,V,U,B,z,q,H,W,G,K,Q,Z,J,Y,$,X;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,s=o.ref,u=o.refs,c=o.required,l=o.maxLength,f=o.minLength,d=o.min,h=o.max,p=o.pattern,v=o.validate,m=o.name,g=o.valueAsNumber,y=o.mount,b=o.disabled,k=zr(n,m),y&&!b){e.next=4;break}return e.abrupt("return",{});case 4:if(w=u?u[0]:s,x=function(e){i&&w.reportValidity&&(w.setCustomValidity(hi(e)?"":e||""),w.reportValidity())},_={},C=yi(s),S=Lr(s),E=C||S,I=(g||pi(s))&&Br(s.value)&&Br(k)||mi(s)&&""===s.value||""===k||Array.isArray(k)&&!k.length,N=ui.bind(null,m,r,_),T=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Kr,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qr,a=e?t:n;_[m]=Ot({type:e?r:i,message:a,ref:s},N(e?r:i,a))},!(a?!Array.isArray(k)||!k.length:c&&(!E&&(I||Ar(k))||hi(k)&&!k||S&&!xi(u).isValid||C&&!Ci(u).isValid))){e.next=20;break}if(L=gi(c)?{value:!!c,message:c}:Ei(c),j=L.value,A=L.message,!j){e.next=20;break}if(_[m]=Ot({type:Jr,message:A,ref:w},N(Jr,A)),r){e.next=20;break}return x(A),e.abrupt("return",_);case 20:if(I||Ar(d)&&Ar(h)){e.next=29;break}if(M=Ei(h),D=Ei(d),Ar(k)||isNaN(k)?(F=s.valueAsDate||new Date(k),V=function(e){return new Date((new Date).toDateString()+" "+e)},U="time"==s.type,B="week"==s.type,ri(M.value)&&k&&(P=U?V(k)>V(M.value):B?k>M.value:F>new Date(M.value)),ri(D.value)&&k&&(O=U?V(k)<V(D.value):B?k<D.value:F<new Date(D.value))):(R=s.valueAsNumber||(k?+k:k),Ar(M.value)||(P=R>M.value),Ar(D.value)||(O=R<D.value)),!P&&!O){e.next=29;break}if(T(!!P,M.message,D.message,Wr,Gr),r){e.next=29;break}return x(_[m].message),e.abrupt("return",_);case 29:if(!l&&!f||I||!(ri(k)||a&&Array.isArray(k))){e.next=39;break}if(z=Ei(l),q=Ei(f),H=!Ar(z.value)&&k.length>+z.value,W=!Ar(q.value)&&k.length<+q.value,!H&&!W){e.next=39;break}if(T(H,z.message,q.message),r){e.next=39;break}return x(_[m].message),e.abrupt("return",_);case 39:if(!p||I||!ri(k)){e.next=46;break}if(G=Ei(p),K=G.value,Q=G.message,!bi(K)||k.match(K)){e.next=46;break}if(_[m]=Ot({type:Zr,message:Q,ref:s},N(Zr,Q)),r){e.next=46;break}return x(Q),e.abrupt("return",_);case 46:if(!v){e.next=80;break}if(!vi(v)){e.next=59;break}return e.next=50,v(k,n);case 50:if(Z=e.sent,!(J=Si(Z,w))){e.next=57;break}if(_[m]=Ot(Ot({},J),N(Yr,J.message)),r){e.next=57;break}return x(J.message),e.abrupt("return",_);case 57:e.next=80;break;case 59:if(!Or(v)){e.next=80;break}Y={},e.t0=Lt().keys(v);case 62:if((e.t1=e.t0()).done){e.next=76;break}if($=e.t1.value,Xr(Y)||r){e.next=66;break}return e.abrupt("break",76);case 66:return e.t2=Si,e.next=69,v[$](k,n);case 69:e.t3=e.sent,e.t4=w,e.t5=$,(X=(0,e.t2)(e.t3,e.t4,e.t5))&&(Y=Ot(Ot({},X),N($,X.message)),x(X.message),r&&(_[m]=Y)),e.next=62;break;case 76:if(Xr(Y)){e.next=80;break}if(_[m]=Ot({ref:w},Y),r){e.next=80;break}return e.abrupt("return",_);case 80:return x(!0),e.abrupt("return",_);case 82:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();function Ni(e,t){var n=Array.isArray(t)?t:ai(t)?[t]:oi(t),r=1===n.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=Br(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(Or(r)&&Xr(r)||Array.isArray(r)&&function(e){for(var t in e)if(e.hasOwnProperty(t)&&!Br(e[t]))return!1;return!0}(r))&&Ni(e,n.slice(0,-1)),e}function Ti(){var e=[];return{get observers(){return e},next:function(t){var n,r=I(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.next&&i.next(t)}}catch(a){r.e(a)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var Li=function(e){return Ar(e)||!Pr(e)};function ji(e,t){if(Li(e)||Li(t))return e===t;if(jr(e)&&jr(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],s=e[o];if(!r.includes(o))return!1;if("ref"!==o){var u=t[o];if(jr(s)&&jr(u)||Or(s)&&Or(u)||Array.isArray(s)&&Array.isArray(u)?!ji(s,u):s!==u)return!1}}return!0}var Ai=function(e){return"select-multiple"===e.type},Pi=function(e){return yi(e)||Lr(e)},Oi=function(e){return mi(e)&&e.isConnected},Mi=function(e){for(var t in e)if(vi(e[t]))return!0;return!1};function Di(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(Or(e)||n)for(var r in e)Array.isArray(e[r])||Or(e[r])&&!Mi(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Di(e[r],t[r])):Ar(e[r])||(t[r]=!0);return t}function Ri(e,t,n){var r=Array.isArray(e);if(Or(e)||r)for(var i in e)Array.isArray(e[i])||Or(e[i])&&!Mi(e[i])?Br(t)||Li(n[i])?n[i]=Array.isArray(e[i])?Di(e[i],[]):Ot({},Di(e[i])):Ri(e[i],Ar(t)?{}:t[i],n[i]):n[i]=!ji(e[i],t[i]);return n}var Fi=function(e,t){return Ri(e,t,Di(t))},Vi=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return Br(e)?e:n?""===e?NaN:e?+e:e:r&&ri(e)?new Date(e):i?i(e):e};function Ui(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return pi(t)?t.files:yi(t)?Ci(e.refs).value:Ai(t)?d(t.selectedOptions).map((function(e){return e.value})):Lr(t)?xi(e.refs).value:Vi(Br(t.value)?e.ref.value:t.value,e)}var Bi=function(e,t,n,r){var i,a={},o=I(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=zr(t,s);u&&si(a,s,u._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:d(e),fields:a,shouldUseNativeValidation:r}},zi=function(e){return Br(e)?e:bi(e)?e.source:Or(e)?bi(e.value)?e.value.source:e.value:e},qi=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function Hi(e,t,n){var r=zr(e,n);if(r||ai(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=zr(t,a),s=zr(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:n}}var Wi=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},Gi=function(e,t){return!Ur(zr(e,t)).length&&Ni(e,t)},Ki={mode:Hr.onSubmit,reValidateMode:Hr.onChange,shouldFocusError:!0};function Qi(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=Ot(Ot({},Ki),t),i={submitCount:0,isDirty:!1,isLoading:vi(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},o=(Or(r.defaultValues)||Or(r.values))&&Vr(r.defaultValues||r.values)||{},s=r.shouldUnregister?{}:Vr(o),u={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l=0,f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Ti(),array:Ti(),state:Ti()},p=t.resetOptions&&t.resetOptions.keepDirtyValues,v=li(r.mode),m=li(r.reValidateMode),g=r.criteriaMode===Hr.all,y=function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.isValid&&!t){e.next=14;break}if(!r.resolver){e.next=9;break}return e.t1=Xr,e.next=5,_();case 5:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=12;break;case 9:return e.next=11,S(a,!0);case 11:e.t0=e.sent;case 12:(n=e.t0)!==i.isValid&&h.state.next({isValid:n});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){return f.isValidating&&h.state.next({isValidating:e})},k=function(e,t,n,r){var i=zr(a,e);if(i){var c=zr(s,e,Br(n)?zr(o,e):n);Br(c)||r&&r.defaultChecked||t?si(s,e,t?c:Ui(i._f)):T(e,c),u.mount&&y()}},w=function(e,t,n,r,a){var s=!1,u=!1,c={name:e};if(!n||r){f.isDirty&&(u=i.isDirty,i.isDirty=c.isDirty=E(),s=u!==c.isDirty);var l=ji(zr(o,e),t);u=zr(i.dirtyFields,e),l?Ni(i.dirtyFields,e):si(i.dirtyFields,e,!0),c.dirtyFields=i.dirtyFields,s=s||f.dirtyFields&&u!==!l}if(n){var d=zr(i.touchedFields,e);d||(si(i.touchedFields,e,n),c.touchedFields=i.touchedFields,s=s||f.touchedFields&&d!==n)}return s&&a&&h.state.next(c),s?c:{}},x=function(n,r,a,o){var s,u=zr(i.errors,n),c=f.isValid&&hi(r)&&i.isValid!==r;if(t.delayError&&a?(s=function(){return function(e,t){si(i.errors,e,t),h.state.next({errors:i.errors})}(n,a)},(e=function(e){clearTimeout(l),l=setTimeout(s,e)})(t.delayError)):(clearTimeout(l),e=null,a?si(i.errors,n,a):Ni(i.errors,n)),(a?!ji(u,a):u)||!Xr(o)||c){var d=Ot(Ot(Ot({},o),c&&hi(r)?{isValid:r}:{}),{},{errors:i.errors,name:n});i=Ot(Ot({},i),d),h.state.next(d)}b(!1)},_=function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.resolver(s,r.context,Bi(t||c.mount,a,r.criteriaMode,r.shouldUseNativeValidation)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=At(Lt().mark((function e(t){var n,r,a,o,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:if(n=e.sent,r=n.errors,t){a=I(t);try{for(a.s();!(o=a.n()).done;)s=o.value,(u=zr(r,s))?si(i.errors,s,u):Ni(i.errors,s)}catch(c){a.e(c)}finally{a.f()}}else i.errors=r;return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=At(Lt().mark((function e(t,n){var a,o,u,l,f,d,h,p=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=p.length>2&&void 0!==p[2]?p[2]:{valid:!0},e.t0=Lt().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(o=e.t1.value,!(u=t[o])){e.next=21;break}if(l=u._f,f=Er(u,Tr),!l){e.next=17;break}return d=c.array.has(l.name),e.next=11,Ii(u,s,g,r.shouldUseNativeValidation&&!n,d);case 11:if(!(h=e.sent)[l.name]){e.next=16;break}if(a.valid=!1,!n){e.next=16;break}return e.abrupt("break",23);case 16:!n&&(zr(h,l.name)?d?di(i.errors,h,l.name):si(i.errors,l.name,h[l.name]):Ni(i.errors,l.name));case 17:if(e.t2=f,!e.t2){e.next=21;break}return e.next=21,S(f,n,a);case 21:e.next=2;break;case 23:return e.abrupt("return",a.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(e,t){return e&&t&&si(s,e,t),!ji(O(),o)},N=function(e,t,n){return ii(e,c,Ot({},u.mount?s:Br(t)?o:ri(e)?Ge({},e,t):t),n,t)},T=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=zr(a,e),i=t;if(r){var o=r._f;o&&(!o.disabled&&si(s,e,Vi(t,o)),i=mi(o.ref)&&Ar(t)?"":t,Ai(o.ref)?d(o.ref.options).forEach((function(e){return e.selected=i.includes(e.value)})):o.refs?Lr(o.ref)?o.refs.length>1?o.refs.forEach((function(e){return(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((function(t){return t===e.value})):i===e.value)})):o.refs[0]&&(o.refs[0].checked=!!i):o.refs.forEach((function(e){return e.checked=e.value===i})):pi(o.ref)?o.ref.value="":(o.ref.value=i,o.ref.type||h.values.next({name:e,values:Ot({},s)})))}(n.shouldDirty||n.shouldTouch)&&w(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&P(e)},L=function e(t,n,r){for(var i in n){var o=n[i],s="".concat(t,".").concat(i),u=zr(a,s);!c.array.has(t)&&Li(o)&&(!u||u._f)||jr(o)?T(s,o,r):e(s,o,r)}},j=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=zr(a,e),d=c.array.has(e),p=Vr(t);si(s,e,p),d?(h.array.next({name:e,values:Ot({},s)}),(f.isDirty||f.dirtyFields)&&r.shouldDirty&&h.state.next({name:e,dirtyFields:Fi(o,s),isDirty:E(e,p)})):!l||l._f||Ar(p)?T(e,p,r):L(e,p,r),fi(e,c)&&h.state.next(Ot({},i)),h.values.next({name:e,values:Ot({},s)}),!u.mount&&n()},A=function(){var t=At(Lt().mark((function t(n){var o,u,l,d,p,k,C,E,I,N,T,L,j,A,O,M,D;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.target,u=o.name,l=!0,d=zr(a,u),p=function(){return o.type?Ui(d._f):Mr(n)},!d){t.next=47;break}if(E=p(),I=n.type===qr.BLUR||n.type===qr.FOCUS_OUT,N=!qi(d._f)&&!r.resolver&&!zr(i.errors,u)&&!d._f.deps||Wi(I,zr(i.touchedFields,u),i.isSubmitted,m,v),T=fi(u,c,I),si(s,u,E),I?(d._f.onBlur&&d._f.onBlur(n),e&&e(0)):d._f.onChange&&d._f.onChange(n),L=w(u,E,I,!1),j=!Xr(L)||T,!I&&h.values.next({name:u,type:n.type,values:Ot({},s)}),!N){t.next=18;break}return f.isValid&&y(),t.abrupt("return",j&&h.state.next(Ot({name:u},T?{}:L)));case 18:if(!I&&T&&h.state.next(Ot({},i)),b(!0),!r.resolver){t.next=32;break}return t.next=23,_([u]);case 23:A=t.sent,O=A.errors,M=Hi(i.errors,a,u),D=Hi(O,a,M.name||u),k=D.error,u=D.name,C=Xr(O),t.next=46;break;case 32:return t.next=34,Ii(d,s,g,r.shouldUseNativeValidation);case 34:if(t.t0=u,k=t.sent[t.t0],!(l=isNaN(E)||E===zr(s,u,E))){t.next=46;break}if(!k){t.next=42;break}C=!1,t.next=46;break;case 42:if(!f.isValid){t.next=46;break}return t.next=45,S(a,!0);case 45:C=t.sent;case 46:l&&(d._f.deps&&P(d._f.deps),x(u,C,k,L));case 47:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){var e=At(Lt().mark((function e(t){var n,o,s,u,l,d=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:{},u=ti(t),b(!0),!r.resolver){e.next=11;break}return e.next=6,C(Br(t)?t:u);case 6:l=e.sent,o=Xr(l),s=t?!u.some((function(e){return zr(l,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(u.map(function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zr(a,t),e.next=3,S(n&&n._f?Ge({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((s=e.sent.every(Boolean))||i.isValid)&&y(),e.next=21;break;case 18:return e.next=20,S(a);case 20:s=o=e.sent;case 21:return h.state.next(Ot(Ot(Ot({},!ri(t)||f.isValid&&o!==i.isValid?{}:{name:t}),r.resolver||!t?{isValid:o}:{}),{},{errors:i.errors,isValidating:!1})),n.shouldFocus&&!s&&ci(a,(function(e){return e&&zr(i.errors,e)}),t?u:c.mount),e.abrupt("return",s);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){var t=Ot(Ot({},o),u.mount?s:{});return Br(e)?t:ri(e)?zr(t,e):e.map((function(e){return zr(t,e)}))},M=function(e,t){return{invalid:!!zr((t||i).errors,e),isDirty:!!zr((t||i).dirtyFields,e),isTouched:!!zr((t||i).touchedFields,e),error:zr((t||i).errors,e)}},D=function(e,t,n){var r=(zr(a,e,{_f:{}})._f||{}).ref;si(i.errors,e,Ot(Ot({},t),{},{ref:r})),h.state.next({name:e,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&r&&r.focus&&r.focus()},R=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=I(e?ti(e):c.mount);try{for(u.s();!(t=u.n()).done;){var l=t.value;c.mount.delete(l),c.array.delete(l),n.keepValue||(Ni(a,l),Ni(s,l)),!n.keepError&&Ni(i.errors,l),!n.keepDirty&&Ni(i.dirtyFields,l),!n.keepTouched&&Ni(i.touchedFields,l),!r.shouldUnregister&&!n.keepDefaultValue&&Ni(o,l)}}catch(f){u.e(f)}finally{u.f()}h.values.next({values:Ot({},s)}),h.state.next(Ot(Ot({},i),n.keepDirty?{isDirty:E()}:{})),!n.keepIsValid&&y()},F=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=zr(a,t),l=hi(n.disabled);return si(a,t,Ot(Ot({},i||{}),{},{_f:Ot(Ot({},i&&i._f?i._f:{ref:{name:t}}),{},{name:t,mount:!0},n)})),c.mount.add(t),i?l&&si(s,t,n.disabled?void 0:zr(s,t,Ui(i._f))):k(t,!0,n.value),Ot(Ot(Ot({},l?{disabled:n.disabled}:{}),r.progressive?{required:!!n.required,min:zi(n.min),max:zi(n.max),minLength:zi(n.minLength),maxLength:zi(n.maxLength),pattern:zi(n.pattern)}:{}),{},{name:t,onChange:A,onBlur:A,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(s){if(s){e(t,n),i=zr(a,t);var l=Br(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,f=Pi(l),h=i._f.refs||[];if(f?h.find((function(e){return e===l})):l===i._f.ref)return;si(a,t,{_f:Ot(Ot({},i._f),f?{refs:[].concat(d(h.filter(Oi)),[l],d(Array.isArray(zr(o,t))?[{}]:[])),ref:{type:l.type,name:t}}:{ref:l})}),k(t,!1,void 0,l)}else(i=zr(a,t,{}))._f&&(i._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&(!Dr(c.array,t)||!u.action)&&c.unMount.add(t)}))})},V=function(){return r.shouldFocusError&&ci(a,(function(e){return e&&zr(i.errors,e)}),c.mount)},U=function(e,t){return function(){var n=At(Lt().mark((function n(o){var u,c,l,f;return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist()),u=Vr(s),h.state.next({isSubmitting:!0}),!r.resolver){n.next=13;break}return n.next=6,_();case 6:c=n.sent,l=c.errors,f=c.values,i.errors=l,u=f,n.next=15;break;case 13:return n.next=15,S(a);case 15:if(Ni(i.errors,"root"),!Xr(i.errors)){n.next=22;break}return h.state.next({errors:{}}),n.next=20,e(u,o);case 20:n.next=27;break;case 22:if(!t){n.next=25;break}return n.next=25,t(Ot({},i.errors),o);case 25:V(),setTimeout(V);case 27:h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xr(i.errors),submitCount:i.submitCount+1,errors:i.errors});case 28:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},B=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=e||o,d=Vr(l),v=e&&!Xr(e)?d:o;if(r.keepDefaultValues||(o=l),!r.keepValues){if(r.keepDirtyValues||p){var m,g=I(c.mount);try{for(g.s();!(m=g.n()).done;){var y=m.value;zr(i.dirtyFields,y)?si(v,y,zr(s,y)):j(y,zr(v,y))}}catch(S){g.e(S)}finally{g.f()}}else{if(Fr&&Br(e)){var b,k=I(c.mount);try{for(k.s();!(b=k.n()).done;){var w=b.value,x=zr(a,w);if(x&&x._f){var _=Array.isArray(x._f.refs)?x._f.refs[0]:x._f.ref;if(mi(_)){var C=_.closest("form");if(C){C.reset();break}}}}}catch(S){k.e(S)}finally{k.f()}}a={}}s=t.shouldUnregister?r.keepDefaultValues?Vr(o):{}:Vr(v),h.array.next({values:Ot({},v)}),h.values.next({values:Ot({},v)})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!u.mount&&n(),u.mount=!f.isValid||!!r.keepIsValid,u.watch=!!t.shouldUnregister,h.state.next({submitCount:r.keepSubmitCount?i.submitCount:0,isDirty:r.keepDirty?i.isDirty:!(!r.keepDefaultValues||ji(e,o)),isSubmitted:!!r.keepIsSubmitted&&i.isSubmitted,dirtyFields:r.keepDirtyValues?i.dirtyFields:r.keepDefaultValues&&e?Fi(o,e):{},touchedFields:r.keepTouched?i.touchedFields:{},errors:r.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},z=function(e,t){return B(vi(e)?e(s):e,t)};return{control:{register:F,unregister:R,getFieldState:M,handleSubmit:U,setError:D,_executeSchema:_,_getWatch:N,_getDirty:E,_updateValid:y,_removeUnmounted:function(){var e,t=I(c.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=zr(a,n);r&&(r._f.refs?r._f.refs.every((function(e){return!Oi(e)})):!Oi(r._f.ref))&&R(n)}}catch(i){t.e(i)}finally{t.f()}c.unMount=new Set},_updateFieldArray:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(r&&n){if(u.action=!0,l&&Array.isArray(zr(a,e))){var d=n(zr(a,e),r.argA,r.argB);c&&si(a,e,d)}if(l&&Array.isArray(zr(i.errors,e))){var p=n(zr(i.errors,e),r.argA,r.argB);c&&si(i.errors,e,p),Gi(i.errors,e)}if(f.touchedFields&&l&&Array.isArray(zr(i.touchedFields,e))){var v=n(zr(i.touchedFields,e),r.argA,r.argB);c&&si(i.touchedFields,e,v)}f.dirtyFields&&(i.dirtyFields=Fi(o,s)),h.state.next({name:e,isDirty:E(e,t),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else si(s,e,t)},_getFieldArray:function(e){return Ur(zr(u.mount?s:o,e,t.shouldUnregister?zr(o,e,[]):[]))},_reset:B,_resetDefaultValues:function(){return vi(r.defaultValues)&&r.defaultValues().then((function(e){z(e,r.resetOptions),h.state.next({isLoading:!1})}))},_updateFormState:function(e){i=Ot(Ot({},i),e)},_subjects:h,_proxyFormState:f,get _fields(){return a},get _formValues(){return s},get _state(){return u},set _state(e){u=e},get _defaultValues(){return o},get _names(){return c},set _names(e){c=e},get _formState(){return i},set _formState(e){i=e},get _options(){return r},set _options(e){r=Ot(Ot({},r),e)}},trigger:P,register:F,handleSubmit:U,watch:function(e,t){return vi(e)?h.values.subscribe({next:function(n){return e(N(void 0,t),n)}}):N(e,t,!0)},setValue:j,getValues:O,reset:z,resetField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};zr(a,e)&&(Br(t.defaultValue)?j(e,zr(o,e)):(j(e,t.defaultValue),si(o,e,t.defaultValue)),t.keepTouched||Ni(i.touchedFields,e),t.keepDirty||(Ni(i.dirtyFields,e),i.isDirty=t.defaultValue?E(e,zr(o,e)):E()),t.keepError||(Ni(i.errors,e),f.isValid&&y()),h.state.next(Ot({},i)))},clearErrors:function(e){e&&ti(e).forEach((function(e){return Ni(i.errors,e)})),h.state.next({errors:e?i.errors:{}})},unregister:R,setError:D,setFocus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=zr(a,e),r=n&&n._f;if(r){var i=r.refs?r.refs[0]:r.ref;i.focus&&(i.focus(),t.shouldSelect&&i.select())}},getFieldState:M}}var Zi=function(e){var t=e.children,n=e.closeModal,r=e.small;return(0,dt.jsx)("div",{className:"popup ".concat(r&&"popup-small"),children:(0,dt.jsxs)("div",{className:"popup__content ".concat(r&&"popup__content-small"),children:[(0,dt.jsx)("button",{className:"popup__close",onClick:n,children:(0,dt.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M6.0006 4.82166L10.1256 0.696655L11.3039 1.87499L7.17893 5.99999L11.3039 10.125L10.1256 11.3033L6.0006 7.17832L1.8756 11.3033L0.697266 10.125L4.82227 5.99999L0.697266 1.87499L1.8756 0.696655L6.0006 4.82166Z",fill:"#12130F"})})}),t]})})};var Ji=n.p+"static/media/hover.c0c6d8f5031719e9c62fd78c00ed8fd7.svg";var Yi=n.p+"static/media/selected.7efede4d2f4b8dc5371e558b9fdbe70d.svg";function $i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Xi(e){return!!e&&!!e[za]}function ea(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===qa}(e)||Array.isArray(e)||!!e[Ba]||!!(null===(t=e.constructor)||void 0===t?void 0:t[Ba])||sa(e)||ua(e))}function ta(e,t,n){void 0===n&&(n=!1),0===na(e)?(n?Object.keys:Ha)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function na(e){var t=e[za];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:sa(e)?2:ua(e)?3:0}function ra(e,t){return 2===na(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ia(e,t){return 2===na(e)?e.get(t):e[t]}function aa(e,t,n){var r=na(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function oa(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function sa(e){return Ra&&e instanceof Map}function ua(e){return Fa&&e instanceof Set}function ca(e){return e.o||e.t}function la(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Wa(e);delete t[za];for(var n=Ha(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function fa(e,t){return void 0===t&&(t=!1),ha(e)||Xi(e)||!ea(e)||(na(e)>1&&(e.set=e.add=e.clear=e.delete=da),Object.freeze(e),t&&ta(e,(function(e,t){return fa(t,!0)}),!0)),e}function da(){$i(2)}function ha(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function pa(e){var t=Ga[e];return t||$i(18,e),t}function va(e,t){Ga[e]||(Ga[e]=t)}function ma(){return Ma}function ga(e,t){t&&(pa("Patches"),e.u=[],e.s=[],e.v=t)}function ya(e){ba(e),e.p.forEach(wa),e.p=null}function ba(e){e===Ma&&(Ma=e.l)}function ka(e){return Ma={p:[],l:Ma,h:e,m:!0,_:0}}function wa(e){var t=e[za];0===t.i||1===t.i?t.j():t.g=!0}function xa(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||pa("ES5").S(t,e,r),r?(n[za].P&&(ya(t),$i(4)),ea(e)&&(e=_a(t,e),t.l||Sa(t,e)),t.u&&pa("Patches").M(n[za].t,e,t.u,t.s)):e=_a(t,n,[]),ya(t),t.u&&t.v(t.u,t.s),e!==Ua?e:void 0}function _a(e,t,n){if(ha(t))return t;var r=t[za];if(!r)return ta(t,(function(i,a){return Ca(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Sa(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=la(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),ta(a,(function(t,a){return Ca(e,r,i,t,a,n,o)})),Sa(e,i,!1),n&&e.u&&pa("Patches").N(r,n,e.u,e.s)}return r.o}function Ca(e,t,n,r,i,a,o){if(Xi(i)){var s=_a(e,i,a&&t&&3!==t.i&&!ra(t.R,r)?a.concat(r):void 0);if(aa(n,r,s),!Xi(s))return;e.m=!1}else o&&n.add(i);if(ea(i)&&!ha(i)){if(!e.h.D&&e._<1)return;_a(e,i),t&&t.A.l||Sa(e,i)}}function Sa(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&fa(t,n)}function Ea(e,t){var n=e[za];return(n?ca(n):e)[t]}function Ia(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Na(e){e.P||(e.P=!0,e.l&&Na(e.l))}function Ta(e){e.o||(e.o=la(e.t))}function La(e,t,n){var r=sa(t)?pa("MapSet").F(t,n):ua(t)?pa("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:ma(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=Ka;n&&(i=[r],a=Qa);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):pa("ES5").J(t,n);return(n?n.A:ma()).p.push(r),r}function ja(e){return Xi(e)||$i(22,e),function e(t){if(!ea(t))return t;var n,r=t[za],i=na(t);if(r){if(!r.P&&(r.i<4||!pa("ES5").K(r)))return r.t;r.I=!0,n=Aa(t,i),r.I=!1}else n=Aa(t,i);return ta(n,(function(t,i){r&&ia(r.t,t)===i||aa(n,t,e(i))})),3===i?new Set(n):n}(e)}function Aa(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return la(e)}function Pa(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[za];return Ka.get(t,e)},set:function(t){var n=this[za];Ka.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][za];if(!i.P)switch(i.i){case 5:r(i)&&Na(i);break;case 4:n(i)&&Na(i)}}}function n(e){for(var t=e.t,n=e.k,r=Ha(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==za){var o=t[a];if(void 0===o&&!ra(t,a))return!0;var s=n[a],u=s&&s[za];if(u?u.t!==o:!oa(s,o))return!0}}var c=!!t[za];return r.length!==Ha(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};va("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=Wa(n);delete a[za];for(var o=Ha(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:ma(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,za,{value:a,writable:!0}),i},S:function(e,n,i){i?Xi(n)&&n[za].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[za];if(n){var i=n.t,a=n.k,o=n.R,s=n.i;if(4===s)ta(a,(function(t){t!==za&&(void 0!==i[t]||ra(i,t)?o[t]||e(a[t]):(o[t]=!0,Na(n)))})),ta(i,(function(e){void 0!==a[e]||ra(a,e)||(o[e]=!1,Na(n))}));else if(5===s){if(r(n)&&(Na(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var Oa,Ma,Da="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Ra="undefined"!=typeof Map,Fa="undefined"!=typeof Set,Va="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Ua=Da?Symbol.for("immer-nothing"):((Oa={})["immer-nothing"]=!0,Oa),Ba=Da?Symbol.for("immer-draftable"):"__$immer_draftable",za=Da?Symbol.for("immer-state"):"__$immer_state",qa=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Ha="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Wa=Object.getOwnPropertyDescriptors||function(e){var t={};return Ha(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Ga={},Ka={get:function(e,t){if(t===za)return e;var n=ca(e);if(!ra(n,t))return function(e,t,n){var r,i=Ia(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!ea(r)?r:r===Ea(e.t,t)?(Ta(e),e.o[t]=La(e.A.h,r,e)):r},has:function(e,t){return t in ca(e)},ownKeys:function(e){return Reflect.ownKeys(ca(e))},set:function(e,t,n){var r=Ia(ca(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Ea(ca(e),t),a=null==i?void 0:i[za];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(oa(n,i)&&(void 0!==n||ra(e.t,t)))return!0;Ta(e),Na(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==Ea(e.t,t)||t in e.t?(e.R[t]=!1,Ta(e),Na(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=ca(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){$i(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){$i(12)}},Qa={};ta(Ka,(function(e,t){Qa[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Qa.deleteProperty=function(e,t){return Qa.set.call(this,e,t,void 0)},Qa.set=function(e,t,n){return Ka.set.call(this,e[0],t,n,e[0])};var Za=function(){function e(e){var t=this;this.O=Va,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&$i(6),void 0!==r&&"function"!=typeof r&&$i(7),ea(e)){var s=ka(t),u=La(t,e,void 0),c=!0;try{o=n(u),c=!1}finally{c?ya(s):ba(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return ga(s,r),xa(e,s)}),(function(e){throw ya(s),e})):(ga(s,r),xa(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===Ua&&(o=void 0),t.D&&fa(o,!0),r){var l=[],f=[];pa("Patches").M(e,o,l,f),r(l,f)}return o}$i(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){ea(e)||$i(8),Xi(e)&&(e=ja(e));var t=ka(this),n=La(this,e,void 0);return n[za].C=!0,ba(t),n},t.finishDraft=function(e,t){var n=(e&&e[za]).A;return ga(n,t),xa(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!Va&&$i(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=pa("Patches").$;return Xi(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Ja=new Za,Ya=Ja.produce,$a=(Ja.produceWithPatches.bind(Ja),Ja.setAutoFreeze.bind(Ja),Ja.setUseProxies.bind(Ja),Ja.applyPatches.bind(Ja),Ja.createDraft.bind(Ja),Ja.finishDraft.bind(Ja),Ya);function Xa(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var eo="function"===typeof Symbol&&Symbol.observable||"@@observable",to=function(){return Math.random().toString(36).substring(7).split("").join(".")},no={INIT:"@@redux/INIT"+to(),REPLACE:"@@redux/REPLACE"+to(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+to()}};function ro(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function io(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Xa(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Xa(1));return n(io)(e,t)}if("function"!==typeof e)throw new Error(Xa(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(Xa(3));return a}function f(e){if("function"!==typeof e)throw new Error(Xa(4));if(u)throw new Error(Xa(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(Xa(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function d(e){if(!ro(e))throw new Error(Xa(7));if("undefined"===typeof e.type)throw new Error(Xa(8));if(u)throw new Error(Xa(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return d({type:no.INIT}),(r={dispatch:d,subscribe:f,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Xa(10));i=e,d({type:no.REPLACE})}})[eo]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Xa(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[eo]=function(){return this},e},r}function ao(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:no.INIT}))throw new Error(Xa(12));if("undefined"===typeof n(void 0,{type:no.PROBE_UNKNOWN_ACTION()}))throw new Error(Xa(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(Xa(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function oo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function so(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Xa(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=oo.apply(void 0,a)(n.dispatch),Ot(Ot({},n),{},{dispatch:r})}}}function uo(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var co=uo();co.withExtraArgument=uo;var lo=co,fo=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ho=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},po=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},vo=Object.defineProperty,mo=Object.defineProperties,go=Object.getOwnPropertyDescriptors,yo=Object.getOwnPropertySymbols,bo=Object.prototype.hasOwnProperty,ko=Object.prototype.propertyIsEnumerable,wo=function(e,t,n){return t in e?vo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},xo=function(e,t){for(var n in t||(t={}))bo.call(t,n)&&wo(e,n,t[n]);if(yo)for(var r=0,i=yo(t);r<i.length;r++){n=i[r];ko.call(t,n)&&wo(e,n,t[n])}return e},_o=function(e,t){return mo(e,go(t))},Co=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},So="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?oo:oo.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Eo(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Io=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return fo(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,po([void 0],e[0].concat(this)))):new(t.bind.apply(t,po([void 0],e.concat(this))))},t}(Array),No=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return fo(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,po([void 0],e[0].concat(this)))):new(t.bind.apply(t,po([void 0],e.concat(this))))},t}(Array);function To(e){return ea(e)?$a(e,(function(){})):e}function Lo(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Io);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(lo.withExtraArgument(n.extraArgument)):r.push(lo));0;return r}(e)}}function jo(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return xo(xo({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Ao(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Po(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:To(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function c(){var t="function"===typeof e.extraReducers?Ao(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,u=t[2],c=void 0===u?void 0:u,l=xo(xo({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?Ao(t):[t,n,r],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return To(e())};else{var c=To(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=po([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(Xi(e))return void 0===(r=n(e,t))?e:r;if(ea(e))return $a(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[c]=n,u[e]=r?jo(c,r):jo(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var Oo=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Mo=["name","message","stack","code"],Do=function(e,t){this.payload=e,this.meta=t},Ro=function(e,t){this.payload=e,this.meta=t},Fo=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=Mo;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=jo(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:_o(xo({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=jo(e+"/pending",(function(e,t,n){return{payload:void 0,meta:_o(xo({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=jo(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||Fo)(e||"Rejected"),meta:_o(xo({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):Oo(),d=new o;function h(e){l=e,d.abort()}var p=function(){return Co(this,null,(function(){var o,p,v,m,g,y;return ho(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:u,extra:c}),null===(k=m)||"object"!==typeof k||"function"!==typeof k.then?[3,2]:[4,m];case 1:m=b.sent(),b.label=2;case 2:if(!1===m||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,g=new Promise((function(e,t){return d.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),s(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:u,extra:c}))),[4,Promise.race([g,Promise.resolve(t(e,{dispatch:s,getState:u,extra:c,requestId:f,signal:d.signal,abort:h,rejectWithValue:function(e,t){return new Do(e,t)},fulfillWithValue:function(e,t){return new Ro(e,t)}})).then((function(t){if(t instanceof Do)throw t;return t instanceof Ro?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=b.sent(),[3,5];case 4:return y=b.sent(),v=y instanceof Do?a(null,f,e,y.payload,y.meta):a(y,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||s(v),[2,v]}var k}))}))}();return Object.assign(p,{abort:h,requestId:f,arg:e,unwrap:function(){return p.then(Vo)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function Vo(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var Uo="listenerMiddleware";jo(Uo+"/add"),jo(Uo+"/removeAll"),jo(Uo+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var Bo,zo=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:zo(10);Pa();var qo=Po({name:"user",initialState:{isAuthenticated:!1,city:null,name:null,phone:null,email:null,token:null,promocode40:!0,favoritProducts:[],adresses:[]},reducers:{userLogin:function(e,t){e.isAuthenticated=!0,e.name=t.payload.name,e.phone=t.payload.phone,e.email=t.payload.email,e.token=t.payload.token,e.promocode40=t.payload.promocode40,localStorage.setItem("userData",JSON.stringify(e))},userLogout:function(e){e.isAuthenticated=!1,e.name=null,e.phone=null,e.email=null,e.token=null,e.promocode40=!1,localStorage.removeItem("userData")},updateCity:function(e,t){e.city=t.payload.city,localStorage.setItem("userData",JSON.stringify(e))},addToFavorit:function(e,t){var n={preview:t.payload.preview,name:t.payload.name,price:t.payload.price,count:1,weight:t.payload.weight,id:t.payload.id,ingredients:t.payload.ingredients};e.favoritProducts.push(n),e.isAuthenticated&&localStorage.setItem("favoritProducts",JSON.stringify(e.favoritProducts))},addToAdresses:function(e,t){var n=t.payload.adress;e.adresses.push(n),e.isAuthenticated&&localStorage.setItem("user_adresses",JSON.stringify(e.adresses))},removeAdresses:function(e,t){var n=t.payload.addressName;e.adresses=e.adresses.filter((function(e){return e.addressName!==n})),e.isAuthenticated&&localStorage.setItem("user_adresses",JSON.stringify(e.adresses))},removeFromFavorit:function(e,t){var n=t.payload.id;e.favoritProducts=e.favoritProducts.filter((function(e){return e.id!==n})),e.isAuthenticated&&localStorage.setItem("favoritProducts",JSON.stringify(e.favoritProducts))},userPromocode:function(e){e.promocode40=!1,localStorage.setItem("userData",JSON.stringify(e))},userPromocodeNotUse:function(e){e.promocode40=!0,localStorage.setItem("userData",JSON.stringify(e))},loadFromLocalStorage:function(e){var t=localStorage.getItem("favoritProducts"),n=JSON.parse(t);null!==n&&(e.favoritProducts=n)},loadFromLocalStorageAdress:function(e){var t=localStorage.getItem("user_adresses"),n=JSON.parse(t);null!==n&&(e.adresses=n)}}}),Ho=qo.actions,Wo=Ho.userLogin,Go=Ho.userLogout,Ko=Ho.updateCity,Qo=Ho.addToFavorit,Zo=Ho.removeFromFavorit,Jo=Ho.loadFromLocalStorage,Yo=Ho.loadFromLocalStorageAdress,$o=Ho.userPromocode,Xo=Ho.userPromocodeNotUse,es=Ho.addToAdresses,ts=Ho.removeAdresses,ns=qo.reducer,rs=function(e){var t=e.closeModal,n=e.isModalOpen,i=e.setIsAddressesUpdating,a=ft(),o=nt((function(e){return e.user})),s=l((0,r.useState)(""),2),u=s[0],c=s[1],f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.useRef(),n=r.useRef(),i=l(r.useState({isDirty:!1,isValidating:!1,isLoading:vi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:vi(e.defaultValues)?void 0:e.defaultValues}),2),a=i[0],o=i[1];t.current||(t.current=Ot(Ot({},Qi(e,(function(){return o((function(e){return Ot({},e)}))}))),{},{formState:a}));var s=t.current.control;return s._options=e,ni({subject:s._subjects.state,next:function(e){ei(e,s._proxyFormState,s._updateFormState,!0)&&o(Ot({},s._formState))}}),r.useEffect((function(){e.values&&!ji(e.values,n.current)?(s._reset(e.values,s._options.resetOptions),n.current=e.values):s._resetDefaultValues()}),[e.values,s]),r.useEffect((function(){s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next(Ot({},s._formState))),s._removeUnmounted()})),t.current.formState=$r(a,s),t.current}({mode:"onBlur"}),d=f.register,h=f.formState,p=h.errors,v=h.isValid,m=f.handleSubmit,g=f.reset,y=function(e){c(e.target.value)},b=function(){var e=At(Lt().mark((function e(n,r){var a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,a=JSON.stringify({token:o.token,data:n}),e.next=5,_r.post("".concat(Cr,"/api/addresses"),a,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 5:i(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:return e.prev=11,g(),c(""),t(),e.finish(11);case 16:case"end":return e.stop()}}),e,null,[[1,8,11,16]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,dt.jsx)(dt.Fragment,{children:n&&(0,dt.jsx)(Zi,{closeModal:t,children:(0,dt.jsxs)("div",{className:"modal-content",children:[(0,dt.jsx)("h2",{className:"modal-content--title",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0430\u0434\u0440\u0435\u0441\u0443"}),(0,dt.jsxs)("form",{onSubmit:m((function(e,t){a(es({adress:e})),b(e,t)})),children:[(0,dt.jsxs)("div",{className:"modal-grid",children:[(0,dt.jsxs)("div",{className:"modal-grid--item-0 grid-item",children:[(0,dt.jsx)("p",{className:"grid-item__text",children:"\u041d\u0430\u0437\u0432\u0430 \u0430\u0434\u0440\u0435\u0441\u0438"}),(0,dt.jsx)("label",{className:"form_item--label",children:(0,dt.jsx)("input",Ot({type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430 \u0430\u0434\u0440\u0435\u0441\u0438"},d("addressName",{required:!0})))}),(null===p||void 0===p?void 0:p.address)&&(0,dt.jsx)("p",{children:"Error!"})]}),(0,dt.jsxs)("div",{className:"modal-grid--item-1 grid-item",children:[(0,dt.jsx)("p",{className:"grid-item__text",children:"\u0412\u0443\u043b\u0438\u0446\u044f"}),(0,dt.jsx)("label",{className:"form_item--label",children:(0,dt.jsx)("input",Ot({type:"text",placeholder:"\u0412\u0443\u043b\u0438\u0446\u044f"},d("streetName",{required:!0,pattern:/^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0457\u0407\u0456\u0406\u0454\u0404\u0451\u0401\u0491\u0490\s]*$/})))}),(0,dt.jsx)("div",{height:40,children:(null===p||void 0===p?void 0:p.street)&&(0,dt.jsx)("p",{children:"Error!"})})]}),(0,dt.jsxs)("div",{className:"modal-grid--item-2 grid-item",children:[(0,dt.jsx)("p",{className:"grid-item__text",children:"\u2116 \u0411\u0443\u0434\u0438\u043d\u043a\u0443"}),(0,dt.jsx)("label",{className:"form_item--label",children:(0,dt.jsx)("input",Ot({type:"text",placeholder:"\u2116 \u0411\u0443\u0434\u0438\u043d\u043a\u0443"},d("homeNumber",{required:!0})))})]}),(0,dt.jsx)("div",{className:"modal-grid--item-3 grid-item grid-radio",children:(0,dt.jsxs)("label",{className:"radio",children:[(0,dt.jsx)("div",{className:"radio-button",onClick:function(){return y({target:{value:"flat"}})},children:"flat"===u?(0,dt.jsx)("img",{src:Yi,alt:"flat"}):(0,dt.jsx)("img",{src:Ji,alt:"house"})}),(0,dt.jsx)("p",{children:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430"})]})}),(0,dt.jsx)("div",{className:"modal-grid--item-4 grid-item grid-radio",children:(0,dt.jsxs)("label",{className:"radio",children:[(0,dt.jsx)("div",{className:"radio-button",onClick:function(){return y({target:{value:"house"}})},children:"house"===u?(0,dt.jsx)("img",{src:Yi,alt:"flat"}):(0,dt.jsx)("img",{src:Ji,alt:"house"})}),(0,dt.jsx)("p",{children:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a"})]})}),"flat"===u&&(0,dt.jsxs)("div",{className:"modal-grid--item-5 flat-grid",children:[(0,dt.jsxs)("div",{className:"flat-grid--item-0 grid-item",children:[(0,dt.jsx)("p",{className:"grid-item__text",children:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430"}),(0,dt.jsx)("label",{className:"form_item--label",children:(0,dt.jsx)("input",Ot({type:"text",placeholder:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430"},d("flatNumber",{required:!0})))})]}),(0,dt.jsxs)("div",{className:"flat-grid--item-1 grid-item",children:[(0,dt.jsx)("p",{className:"grid-item__text",children:"\u041f\u0430\u0440\u0430\u0434\u043d\u0430"}),(0,dt.jsx)("label",{className:"form_item--label",children:(0,dt.jsx)("input",Ot({type:"text",placeholder:"\u041f\u0430\u0440\u0430\u0434\u043d\u0430"},d("entranceNumber",{required:!0})))})]}),(0,dt.jsxs)("div",{className:"flat-grid--item-2 grid-item",children:[(0,dt.jsx)("p",{className:"grid-item__text",children:"\u041a\u043e\u0434"}),(0,dt.jsx)("label",{className:"form_item--label",children:(0,dt.jsx)("input",Ot({type:"text",placeholder:"\u041a\u043e\u0434"},d("entranceCode",{required:!0})))})]}),(0,dt.jsxs)("div",{className:"flat-grid--item-3 grid-item",children:[(0,dt.jsx)("p",{className:"grid-item__text",children:"\u041f\u043e\u0432\u0435\u0440\u0445"}),(0,dt.jsx)("label",{className:"form_item--label",children:(0,dt.jsx)("input",Ot({type:"text",placeholder:"\u041f\u043e\u0432\u0435\u0440\u0445"},d("floar",{required:!0})))})]})]}),(0,dt.jsxs)("div",{className:"modal-grid--item-9 grid-item",children:[(0,dt.jsx)("p",{className:"grid-item__text",children:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"}),(0,dt.jsx)("label",{className:"form_item--label",children:(0,dt.jsx)("textarea",Ot({placeholder:"\u041c\u043e\u0436\u0435\u0442\u0435 \u0442\u0443\u0442 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u0431\u0443\u0434\u044c-\u0449\u043e:)",rows:1},d("comment")))})]})]}),(0,dt.jsx)("div",{className:"form-button",children:(0,dt.jsx)("button",{className:"btn-main ",type:"submit",disabled:!v,children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"})})]})]})})})};var is=n.p+"static/media/add.0c1cda4e87d840898097b0e76907bfc8.svg",as=function(e){var t=e.openModal;return(0,dt.jsx)("div",{className:"addresses_new",children:(0,dt.jsxs)("div",{className:"addresses_new__inner",children:[(0,dt.jsx)("button",{onClick:t,children:(0,dt.jsx)("img",{className:"addresses_new__inner--icon",src:is,alt:"add"})}),(0,dt.jsx)("p",{className:"addresses_new__inner--text",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0430\u0434\u0440\u0435\u0441\u0443"})]})})},os=function(e){var t=e.address,n=e.openModal,r=e.setIsAddressesUpdating,i=nt((function(e){return e.user})),a=ft(),o=function(){var e=At(Lt().mark((function e(){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=JSON.stringify({token:i.token,data:t}),e.next=4,_r.post("".concat(Cr,"/api/deleteAddress"),n,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:r(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),s=null!==t&&void 0!==t&&t.flatNumber?" , \u043a\u0432. ".concat(null===t||void 0===t?void 0:t.flatNumber):"",u="".concat(t.streetName,", ").concat(t.homeNumber+s);return(0,dt.jsx)("div",{className:"addresses_created",children:(0,dt.jsxs)("div",{className:"addresses_created__container",children:[(0,dt.jsxs)("div",{className:"addresses_created__container--top",children:[(0,dt.jsxs)("div",{className:"top-name",children:[(0,dt.jsx)("h4",{children:t.addressName}),(0,dt.jsx)("button",{onClick:function(){a(ts({addressName:t.addressName})),o()},children:(0,dt.jsx)("img",{src:Mt,alt:"cross"})})]}),(0,dt.jsx)("div",{className:"top-street",children:(0,dt.jsxs)("p",{children:[(0,dt.jsx)("span",{children:"\u0412\u0443\u043b\u0438\u0446\u044f"})," ",u]})})]}),(0,dt.jsxs)("div",{className:"addresses_created__container--bot",children:[(0,dt.jsx)("span",{children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440:"}),(0,dt.jsx)("p",{children:t.comment}),(0,dt.jsx)("button",{onClick:n,children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"})]})]})})},ss=function(e){var t=e.handleSidebar,n=nt((function(e){return e.user})),i=l((0,r.useState)(!1),2),a=i[0],o=i[1],s=l((0,r.useState)([]),2),u=s[0],c=s[1],f=l((0,r.useState)(!1),2),d=f[0],h=f[1];(0,r.useEffect)((function(){var e=function(){var e=At(Lt().mark((function e(){var t,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=JSON.stringify({token:n.token}),e.next=4,_r.post("".concat(Cr,"/api/auth"),t,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:r=e.sent,c(r.data.addresses),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,h(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[n.token,d,u]);var p=function(){o((function(e){return!e}))};return(0,dt.jsxs)("section",{className:"grid_layout--main addresses",children:[(0,dt.jsx)(Dt,{handleSidebar:t,children:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0430\u0434\u0440\u0435\u0441\u0438"}),(0,dt.jsxs)("div",{className:"addresses_inner",children:[(0,dt.jsx)(as,{openModal:p}),(0,dt.jsx)(rs,{closeModal:p,isModalOpen:a,setIsAddressesUpdating:h}),null!==n.adresses&&n.adresses.map((function(e){return(0,dt.jsx)(os,{address:e,openModal:p,setIsAddressesUpdating:h},e.addressName)}))]})]})},us=function(e){var t=e.closeConfirmModal;return(0,dt.jsx)(Zi,{closeModal:t,children:(0,dt.jsxs)("div",{className:"modal-content",children:[(0,dt.jsx)("h2",{className:"modal-content--title",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f?"}),(0,dt.jsx)("p",{className:"confirm-text",children:"\u041c\u0438 \u043e\u0447\u0438\u0441\u0442\u0438\u043c\u043e \u043a\u043e\u0448\u0438\u043a \u0456 \u0437\u0430\u043c\u0456\u043d\u0438\u043c\u043e \u043f\u043e\u0442\u043e\u0447\u043d\u0456 \u043f\u043e\u0437\u0438\u0446\u0456\u0457 \u043d\u0430 \u043f\u043e\u0437\u0438\u0446\u0456\u0457 \u0437 \u0446\u044c\u043e\u0433\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,dt.jsx)("button",{className:"modal-button confirm",type:"submit",children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"})]})})},cs=function(e){var t=e.isMainModalOpen,n=e.closeMainModal,r=e.closeConfirmModal,i=e.isConfirmModalOpen,a=e.openConfirmModal;return(0,dt.jsxs)(dt.Fragment,{children:[t&&(0,dt.jsx)(Zi,{closeModal:n,children:(0,dt.jsxs)("div",{className:"modal-content",children:[(0,dt.jsx)("h2",{className:"modal-content--title",children:"\u0414\u0435\u0442\u0430\u043b\u0456 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,dt.jsxs)("div",{className:"modal-content__info",children:[(0,dt.jsxs)("div",{className:"title-line",children:[(0,dt.jsx)("h4",{children:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u21166648"}),(0,dt.jsx)("p",{className:"status",children:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u0435"})]}),(0,dt.jsxs)("div",{className:"content-lines",children:[(0,dt.jsxs)("div",{className:"content-line",children:[(0,dt.jsx)("h5",{children:"\u0414\u0430\u0442\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,dt.jsx)("p",{className:"info",children:"18.03.2023, 18:39"})]}),(0,dt.jsxs)("div",{className:"content-line",children:[(0,dt.jsx)("h5",{children:"\u0410\u0434\u0440\u0435\u0441\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),(0,dt.jsx)("p",{className:"info",children:"\u0432\u0443\u043b. \u041c\u0430\u0447\u0442\u043e\u0432\u0430, 10"})]}),(0,dt.jsxs)("div",{className:"content-line",children:[(0,dt.jsx)("h5",{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d"}),(0,dt.jsx)("p",{className:"info",children:"2"})]}),(0,dt.jsxs)("div",{className:"content-line",children:[(0,dt.jsx)("h5",{children:"\u0421\u043f\u043e\u0441\u0456\u0431 \u043e\u043f\u043b\u0430\u0442\u0438"}),(0,dt.jsx)("p",{className:"info",children:"\u041e\u043d\u043b\u0430\u0439\u043d"})]}),(0,dt.jsxs)("div",{className:"content-line__comment",children:[(0,dt.jsx)("h5",{children:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440 \u0434\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f:"}),(0,dt.jsx)("div",{className:"comment",children:(0,dt.jsx)("p",{children:"\u041d\u0430\u0442\u0438\u0441\u043d\u0443\u0442\u0438 \u043d\u0430 \u0434\u043e\u043c\u043e\u0444\u043e\u043d\u0456 75\u0415"})})]})]})]}),(0,dt.jsx)("div",{className:"modal-content__price",children:(0,dt.jsxs)("div",{className:"content-lines",children:[(0,dt.jsxs)("div",{className:"content-line",children:[(0,dt.jsx)("h5",{children:"\u0421\u0443\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f:"}),(0,dt.jsx)("h5",{className:"info",children:"870 \u20b4"})]}),(0,dt.jsxs)("div",{className:"content-line",children:[(0,dt.jsx)("h5",{children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:"}),(0,dt.jsx)("h5",{className:"info",children:"70 \u20b4"})]}),(0,dt.jsxs)("div",{className:"title-line bottom",children:[(0,dt.jsx)("h4",{children:"\u0412\u0441\u044c\u043e\u0433\u043e \u0434\u043e \u0441\u043f\u043b\u0430\u0442\u0438:"}),(0,dt.jsx)("h4",{children:"917 \u20b4"})]})]})}),(0,dt.jsx)("button",{className:"modal-button",type:"submit",onClick:a,children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"})]})}),i&&(0,dt.jsx)(us,{closeConfirmModal:r})]})},ls=function(e){var t=e.handleSidebar,n=l((0,r.useState)(!1),2),i=n[0],a=n[1],o=l((0,r.useState)(!1),2),s=o[0],u=o[1];return(0,dt.jsx)(dt.Fragment,{children:(0,dt.jsxs)("section",{className:"grid_layout--main orders",children:[(0,dt.jsx)(Dt,{handleSidebar:t,children:"\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c"}),(0,dt.jsx)("div",{className:"order",children:(0,dt.jsxs)("div",{className:"order-container",children:[(0,dt.jsxs)("div",{className:"order-info",children:[(0,dt.jsxs)("div",{className:"order-info__number",children:[(0,dt.jsx)("h4",{children:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u21162323"}),(0,dt.jsx)("p",{className:"status",children:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u0435"})]}),(0,dt.jsx)("div",{className:"order-info__datetime",children:"05.01.2023, 12:30"})]}),(0,dt.jsxs)("div",{className:"order-details",children:[(0,dt.jsx)("h4",{children:"496 \u20b4"}),(0,dt.jsx)("button",{onClick:function(){a(!0)},className:"order-details__modal-link",children:"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0456\u0448\u0435"})]})]})}),(0,dt.jsx)(cs,{isConfirmModalOpen:s,openConfirmModal:function(){u(!0)},closeConfirmModal:function(){u(!1)},closeMainModal:function(){a(!1)},isMainModalOpen:i})]})})},fs=function(e){var t=e.handleSidebar,n=nt((function(e){return e.user}));return(0,dt.jsx)(dt.Fragment,{children:(0,dt.jsxs)("section",{className:"sidebar-mobile animate",children:[(0,dt.jsxs)("div",{className:"profile_info--head__mobile sidebar-mobile__header",children:[(0,dt.jsxs)("div",{className:"mobile-inner",children:[(0,dt.jsx)("img",{src:"https://via.placeholder.com/70x70",alt:"profile",className:"profile_info--head__photo"}),(0,dt.jsxs)("div",{className:"contacts",children:[(0,dt.jsx)("div",{className:"contacts_name",children:n.name}),(0,dt.jsx)("div",{className:"contacts_phone mobile",children:n.phone}),(0,dt.jsx)("div",{className:"contacts_bonuses",children:(0,dt.jsx)("p",{children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e 23 \u0431\u043e\u043d\u0443\u0441\u0438"})})]})]}),(0,dt.jsx)("div",{className:"mobile-inner",children:(0,dt.jsx)(Ct,{to:"/",className:"profile_link--mobile--button mobile-inner__cross",onClick:t,children:(0,dt.jsx)("img",{src:Mt,alt:"cross"})})})]}),(0,dt.jsx)("ul",{className:"sidebar-mobile__list",children:["\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f","\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0456 \u0431\u043b\u044e\u0434\u0430","\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0430\u0434\u0440\u0435\u0441\u0438","\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c","\u0411\u043e\u043d\u0443\u0441\u0438","\u0412\u0438\u0445\u0456\u0434"].map((function(e,n){return(0,dt.jsx)(Nt,{index:n,handleSidebar:t,children:e},n)}))}),(0,dt.jsx)("div",{className:"sidebar-mobile__footer",children:(0,dt.jsxs)("ul",{className:"sidebar-mobile__footer--list",children:[(0,dt.jsx)(Ct,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),(0,dt.jsx)(Ct,{to:"/",children:"\u041c\u0435\u043d\u044e"}),(0,dt.jsx)(Ct,{to:"/about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"}),(0,dt.jsx)(Ct,{to:"/contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})]})})]})})},ds=function(e){var t=e.handleSidebar;return(0,dt.jsx)("div",{children:(0,dt.jsx)(Dt,{handleSidebar:t,children:"Coming soon"})})},hs=function(e,t,n,r,i){window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"add_to_cart",ecommerce:{items:[{item_name:e,item_id:t,price:n,item_brand:"Polar Pelmeni",item_category:r,quantity:i}]}})},ps=Po({name:"shoppingCart",initialState:{products:[],promocode:!1},reducers:{addProduct:function(e,t){var n=e.products.find((function(e){return e.id===t.payload.id}));if(n)n.count+=t.payload.count,n.totalPrice=n.price*n.count;else{var r={preview:t.payload.preview,name:t.payload.name,price:t.payload.price,count:t.payload.count,weight:t.payload.weight,cart_index:e.products.length,id:t.payload.id,ingredients:e.products.ingredients,category:t.payload.category};r.totalPrice=r.price*r.count,e.products.push(r)}localStorage.setItem("shoppingCart",JSON.stringify(e.products))},removeProduct:function(e,t){e.products=e.products.filter((function(e){return e.id!==t.payload.id})),localStorage.setItem("shoppingCart",JSON.stringify(e.products))},updateCount:function(e,t){var n,r,i,a,o,s=e.products.find((function(e){return e.cart_index===t.payload.cart_index})),u=e.products[t.payload.cart_index].count;e.products[t.payload.cart_index].count=t.payload.count,e.products[t.payload.cart_index].totalPrice=e.products[t.payload.cart_index].price*t.payload.count,localStorage.setItem("shoppingCart",JSON.stringify(e.products)),t.payload.count>u?hs(s.name,s.id,s.price,s.category,s.count):t.payload.count<u&&(n=s.name,r=s.id,i=s.price,a=s.category,o=s.count,window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"remove_from_cart",ecommerce:{items:[{item_name:n,item_id:r,price:i/o,item_brand:"Polar Pelmeni",item_category:a,quantity:o}]}}))},getFromLocalStorage:function(e){var t=localStorage.getItem("shoppingCart");null!==JSON.parse(t)&&(e.products=JSON.parse(t))},cartPromocode:function(e){e.promocode=!0},clearCart:function(e){e.products=[],localStorage.removeItem("shoppingCart")}}}),vs=ps.actions,ms=vs.addProduct,gs=vs.removeProduct,ys=vs.updateCount,bs=vs.getFromLocalStorage,ks=(vs.cartPromocode,vs.clearCart),ws=ps.reducer,xs=Po({name:"popupActions",initialState:{currentAction:""},reducers:{setActions:function(e,t){e.currentAction=t.payload.action}}}),_s=xs.actions.setActions,Cs=xs.reducer,Ss=function(e){var t=we(),n=ft(),i=l((0,r.useState)(1),2),a=i[0],o=i[1],s=l((0,r.useState)(!1),2),u=s[0],c=s[1],f=l((0,r.useState)(!1),2),d=f[0],h=f[1],p=nt((function(e){return e.user.favoritProducts}));nt((function(e){return e.shoppingCart.products}));return(0,r.useEffect)((function(){p&&(p.some((function(t){return t.id===e.id}))?c(!0):c(!1))}),[p,e.id]),(0,dt.jsxs)("div",{className:"product",children:[(0,dt.jsx)("div",{className:"product__cta",children:(0,dt.jsx)("div",{className:"product__like ".concat(!0===u&&"product__like-active"),onClick:function(){p.some((function(t){return t.id===e.id}))?n(Zo({id:e.id})):(n(_s({action:"addToFavorit"})),setTimeout((function(){n(_s({action:""}))}),2e3),n(Qo({name:e.name,price:e.price,count:a,preview:e.preview,weight:e.weight,id:e.id,ingredients:e.ingredients})))},children:(0,dt.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"transparent",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M8.5097 3.13486L7.99967 3.68282L7.48964 3.13486C6.08123 1.62171 3.79773 1.62171 2.38932 3.13486C0.980904 4.648 0.980904 7.10129 2.38932 8.61444L6.97961 13.5461C7.54297 14.1513 8.45637 14.1513 9.01974 13.5461L13.61 8.61444C15.0184 7.10129 15.0184 4.648 13.61 3.13486C12.2016 1.62171 9.91812 1.62171 8.5097 3.13486Z",stroke:"white",strokeWidth:"1.5",strokeLinejoin:"round"})})})}),(0,dt.jsxs)("div",{className:"product__preview",children:[(0,dt.jsx)("img",{src:e.preview,alt:e.name,onClick:function(){return t("/product/".concat(e.id))}}),!0===d?(0,dt.jsxs)("button",{className:"product__inCart",children:[(0,dt.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M6.66715 10.1138L12.7954 3.9856L13.7382 4.9284L6.66715 11.9994L2.4245 7.75685L3.36731 6.81405L6.66715 10.1138Z",fill:"#92939A"})}),(0,dt.jsx)("p",{children:" \u0414\u043e\u0434\u0430\u043d\u043e \u0434\u043e \u043a\u043e\u0448\u0438\u043a\u0443"})]}):(0,dt.jsx)("button",{className:"product__addToCard",onClick:function(){n(ms({name:e.name,price:e.price,count:a,preview:e.preview,weight:e.weight,id:e.id,ingredients:e.ingredients,category:e.category})),n(_s({action:"addToCard"})),h(!0),hs(e.name,e.id,e.price,e.category,a),setTimeout((function(){h(!1),n(_s({action:""}))}),2e3)},children:"\u0412 \u043a\u043e\u0448\u0438\u043a"})]}),(0,dt.jsxs)("div",{className:"product__info",children:[(0,dt.jsxs)("p",{className:"product__weight",children:[e.weight," \u0433"]}),(0,dt.jsx)("h4",{className:"product__name",children:e.name}),(0,dt.jsx)("p",{className:"product__composition",children:e.ingredients})]}),(0,dt.jsxs)("div",{className:"product__order",children:[(0,dt.jsx)("div",{className:"product__price",children:(0,dt.jsxs)("div",{className:"product__total-price",children:[e.price*a," \u20b4"]})}),(0,dt.jsxs)("div",{className:"counter",children:[(0,dt.jsx)("div",{className:"counter__btn",onClick:function(){a>1&&o(a-1)},children:"-"}),(0,dt.jsx)("div",{className:"counter__value",children:a}),(0,dt.jsx)("div",{className:"counter__btn",onClick:function(){return o(a+1)},children:"+"})]})]})]})},Es=function(e){var t=e.handleSidebar,n=l((0,r.useState)([]),2),i=n[0],a=n[1],o=localStorage.getItem("favoritProducts");return(0,r.useEffect)((function(){a(JSON.parse(o))}),[o]),(0,dt.jsxs)("section",{className:"grid_layout--main favorites",children:[(0,dt.jsx)(Dt,{handleSidebar:t,children:"\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0456 \u0431\u043b\u044e\u0434\u0430"}),i&&i.map((function(e){return(0,dt.jsx)(Ss,{preview:e.preview,name:e.name,price:e.price,weight:e.weight,id:e.id,ingredients:e.ingredients},e.id)}))]})},Is=function(e){var t=e.handleSidebar;return(0,dt.jsx)(dt.Fragment,{children:(0,dt.jsxs)("section",{className:"grid_layout--main orders",children:[(0,dt.jsx)(Dt,{handleSidebar:t,children:"\u0411\u043e\u043d\u0443\u0441\u0438"}),(0,dt.jsx)("div",{className:"order",children:(0,dt.jsx)("div",{className:"order-container",children:(0,dt.jsx)("div",{className:"order-info",children:(0,dt.jsxs)("div",{className:"order-info__number",children:[(0,dt.jsx)("h4",{children:"\u041f\u0435\u0440\u0448\u0435 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f - 40% \u0437\u043d\u0438\u0436\u043a\u0430"}),(0,dt.jsx)("p",{className:"status",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u0430"})]})})})})]})})},Ns=function(e){var t=e.pathlink,n=e.handleSidebar,r=e.isSidebarClosed;return(0,dt.jsx)(dt.Fragment,{children:function(){switch(t){case"info":return(0,dt.jsx)(Sr,{handleSidebar:n,isSidebarClosed:r});case"addresses":return(0,dt.jsx)(ss,{handleSidebar:n});case"history":return(0,dt.jsx)(ls,{handleSidebar:n});case"":return(0,dt.jsx)(fs,{handleSidebar:n});case"favourite":return(0,dt.jsx)(Es,{handleSidebar:n});case"bonuses":return(0,dt.jsx)(Is,{handleSidebar:n});default:return(0,dt.jsx)(ds,{handleSidebar:n})}}()})},Ts=function(){var e=l((0,r.useState)(!1),2),t=e[0],n=e[1],i=be().pathname.replace("/profile/","");return console.log(t),(0,dt.jsx)(dt.Fragment,{children:(0,dt.jsx)(ht,{children:(0,dt.jsxs)(pt,{children:[(0,dt.jsx)(Tt,{pathlink:i}),(0,dt.jsx)(Ns,{pathlink:i,handleSidebar:function(){n((function(e){return!e}))},isSidebarClosed:t})]})})})},Ls=["as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"],js=Object.defineProperty,As=function(e,t,n){return function(e,t,n){t in e?js(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},Ps=new Map,Os=new WeakMap,Ms=0,Ds=void 0;function Rs(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return"".concat(t,"_").concat("root"===t?function(e){return e?(Os.has(e)||(Ms+=1,Os.set(e,Ms.toString())),Os.get(e)):"0"}(e.root):e[t])})).toString()}function Fs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ds;if("undefined"===typeof window.IntersectionObserver&&void 0!==r){var i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var a=function(e){var t=Rs(e),n=Ps.get(t);if(!n){var r,i=new Map,a=new IntersectionObserver((function(t){t.forEach((function(t){var n,a=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=a),null==(n=i.get(t.target))||n.forEach((function(e){e(a,t)}))}))}),e);r=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:a,elements:i},Ps.set(t,n)}return n}(n),o=a.id,s=a.observer,u=a.elements,c=u.get(e)||[];return u.has(e)||u.set(e,c),c.push(t),s.observe(e),function(){c.splice(c.indexOf(t),1),0===c.length&&(u.delete(e),s.unobserve(e)),0===u.size&&(s.disconnect(),Ps.delete(o))}}var Vs=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),r=t.call(this,e),As(x(r),"node",null),As(x(r),"_unobserveCb",null),As(x(r),"handleNode",(function(e){r.node&&(r.unobserve(),e||r.props.triggerOnce||r.props.skip||r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=e||null,r.observeNode()})),As(x(r),"handleChange",(function(e,t){e&&r.props.triggerOnce&&r.unobserve(),function(e){return"function"!==typeof e.children}(r.props)||r.setState({inView:e,entry:t}),r.props.onChange&&r.props.onChange(e,t)})),r.state={inView:!!e.initialInView,entry:void 0},r}return g(n,[{key:"componentDidUpdate",value:function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())}},{key:"componentWillUnmount",value:function(){this.unobserve(),this.node=null}},{key:"observeNode",value:function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin,i=e.trackVisibility,a=e.delay,o=e.fallbackInView;this._unobserveCb=Fs(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r,trackVisibility:i,delay:a},o)}}},{key:"unobserve",value:function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}},{key:"render",value:function(){var e=this.props.children;if("function"===typeof e){var t=this.state;return e({inView:t.inView,entry:t.entry,ref:this.handleNode})}var n=this.props,i=n.as,a=(n.triggerOnce,n.threshold,n.root,n.rootMargin,n.onChange,n.skip,n.trackVisibility,n.delay,n.initialInView,n.fallbackInView,Er(n,Ls));return r.createElement(i||"div",Ot({ref:this.handleNode},a),e)}}]),n}(r.Component);var Us=function(e){return(0,dt.jsxs)("button",{className:"btn btn-main ".concat(!0===e.fullWide&&"btn-main-fw"," "),onClick:e.onClick,disabled:e.disabled,children:[e.name,e.arrow&&(0,dt.jsx)("svg",{width:"17",height:"20",viewBox:"0 0 17 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M9.16645 11.7814L12.7425 8.20535L13.6851 9.14802L8.49979 14.3334L3.31445 9.14802L4.25712 8.20535L7.83312 11.7814V3.66669H9.16645V11.7814Z",fill:"#12130F"})})]})},Bs=function(e){var t=e.title,n=e.desc,r=e.image_mob,i=e.image_desktop,a=e.index;return(0,dt.jsx)("div",{className:"banner","data-index":a,children:(0,dt.jsxs)("div",{className:"banner__content",children:[(0,dt.jsxs)("div",{className:"banner__info",children:[(0,dt.jsx)("div",{className:"banner__logo",children:(0,dt.jsxs)("svg",{width:"47",height:"47",viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dt.jsx)("path",{d:"M45.5628 5.14991C45.025 3.9572 44.0271 2.99915 42.7844 2.48232C42.1377 2.21378 41.426 2.06299 40.6777 2.06299C39.9294 2.06299 39.2173 2.21378 38.571 2.48232C37.395 2.97105 36.4428 3.85846 35.8881 4.96359C34.5981 4.02661 33.1898 3.23298 31.6867 2.60832C29.2083 1.57756 26.4815 1 23.614 1C20.7461 1 18.0189 1.57756 15.5417 2.60667C13.9738 3.25859 12.5103 4.09725 11.1751 5.08794C10.6308 3.92415 9.64888 2.98964 8.42857 2.48232C7.78227 2.21378 7.07014 2.06299 6.32186 2.06299C5.57358 2.06299 4.86188 2.21378 4.21515 2.48232C2.97246 2.99915 1.97461 3.9572 1.43675 5.14991C1.15706 5.77085 1 6.45417 1 7.17302C1 7.89146 1.15663 8.57478 1.43675 9.19571C1.97461 10.3888 2.97246 11.3469 4.21515 11.8633C4.5327 11.9955 4.86704 12.098 5.21299 12.1694C5.10456 12.3872 4.99699 12.6053 4.89673 12.8271C3.82315 15.2072 3.2216 17.8256 3.2216 20.5792V46C3.77281 45.6546 4.32702 45.3138 4.89673 44.9957C10.4075 41.9273 16.7991 40.1604 23.6153 40.1604C26.4815 40.1604 29.2096 39.5824 31.6867 38.5529C36.4479 36.574 40.2715 32.9029 42.3326 28.3316C43.4066 25.9519 44.0069 23.3339 44.0069 20.5808C44.0069 17.8273 43.4049 15.2089 42.3326 12.8288C42.2246 12.5888 42.1084 12.3529 41.9905 12.1178C42.2633 12.0505 42.5301 11.9691 42.7844 11.8633C44.0271 11.3469 45.025 10.3888 45.5628 9.19571C45.8429 8.57478 46 7.89146 46 7.17302C46 6.45417 45.8425 5.77085 45.5628 5.14991Z",fill:"white"}),(0,dt.jsx)("path",{d:"M45.5628 5.14991C45.025 3.9572 44.0271 2.99915 42.7844 2.48232C42.1377 2.21378 41.426 2.06299 40.6777 2.06299C39.9294 2.06299 39.2173 2.21378 38.571 2.48232C37.395 2.97105 36.4428 3.85846 35.8881 4.96359C34.5981 4.02661 33.1898 3.23298 31.6867 2.60832C29.2083 1.57756 26.4815 1 23.614 1C20.7461 1 18.0189 1.57756 15.5417 2.60667C13.9738 3.25859 12.5103 4.09725 11.1751 5.08794C10.6308 3.92415 9.64888 2.98964 8.42857 2.48232C7.78227 2.21378 7.07014 2.06299 6.32186 2.06299C5.57358 2.06299 4.86188 2.21378 4.21515 2.48232C2.97246 2.99915 1.97461 3.9572 1.43675 5.14991C1.15706 5.77085 1 6.45417 1 7.17302C1 7.89146 1.15663 8.57478 1.43675 9.19571C1.97461 10.3888 2.97246 11.3469 4.21515 11.8633C4.5327 11.9955 4.86704 12.098 5.21299 12.1694C5.10456 12.3872 4.99699 12.6053 4.89673 12.8271C3.82315 15.2072 3.2216 17.8256 3.2216 20.5792V46C3.77281 45.6546 4.32702 45.3138 4.89673 44.9957C10.4075 41.9273 16.7991 40.1604 23.6153 40.1604C26.4815 40.1604 29.2096 39.5824 31.6867 38.5529C36.4479 36.574 40.2715 32.9029 42.3326 28.3316C43.4066 25.9519 44.0069 23.3339 44.0069 20.5808C44.0069 17.8273 43.4049 15.2089 42.3326 12.8288C42.2246 12.5888 42.1084 12.3529 41.9905 12.1178C42.2633 12.0505 42.5301 11.9691 42.7844 11.8633C44.0271 11.3469 45.025 10.3888 45.5628 9.19571C45.8429 8.57478 46 7.89146 46 7.17302C46 6.45417 45.8425 5.77085 45.5628 5.14991Z",stroke:"#12130F",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,dt.jsx)("path",{d:"M13.1195 16.6365C13.1195 15.6334 12.2727 14.8204 11.2279 14.8204C10.1828 14.8204 9.33594 15.6334 9.33594 16.6365C9.33594 17.6396 10.1828 18.4526 11.2279 18.4526C12.2727 18.4526 13.1195 17.6396 13.1195 16.6365Z",fill:"#12130F"}),(0,dt.jsx)("path",{d:"M38.0687 16.6365C38.0687 15.6334 37.2219 14.8204 36.1772 14.8204C35.132 14.8204 34.2852 15.6334 34.2852 16.6365C34.2852 17.6396 35.132 18.4526 36.1772 18.4526C37.2219 18.4526 38.0687 17.6396 38.0687 16.6365Z",fill:"#12130F"}),(0,dt.jsx)("path",{d:"M22.6825 28.3741C23.2298 29.0285 24.2672 29.0285 24.8146 28.3741L26.5693 26.2754L27.6059 25.0351C28.3236 24.1762 27.6868 22.9013 26.5396 22.9013H23.7487H20.9574C19.8103 22.9013 19.1734 24.1762 19.8912 25.0351L20.9277 26.2754L22.6825 28.3741Z",fill:"#12130F"}),(0,dt.jsx)("path",{d:"M23.3232 31.7015H24.0702V27.1769H23.3232V31.7015Z",fill:"#12130F"}),(0,dt.jsx)("path",{d:"M21.5324 30.7709C21.9554 31.0547 22.3241 31.2109 22.6701 31.2997C23.0152 31.3873 23.3392 31.4121 23.6968 31.4158C24.0543 31.4104 24.3779 31.3857 24.7226 31.2985C25.0677 31.2097 25.4369 31.0539 25.8611 30.7709C25.9283 31.2762 25.6645 31.788 25.2407 32.1363C24.8134 32.4883 24.232 32.6569 23.6968 32.6548C23.1615 32.6552 22.581 32.4867 22.1537 32.1351C21.7303 31.7864 21.467 31.2753 21.5324 30.7709Z",fill:"#12130F"})]})}),(0,dt.jsx)("h3",{className:"title__h1 text__color--secondary",children:t}),(0,dt.jsx)("p",{className:"text",children:n}),(0,dt.jsx)(Us,{name:"\u0414\u0438\u0432\u0438\u0442\u0438\u0441\u044c \u043c\u0435\u043d\u044e",arrow:!0,onClick:function(){document.querySelector("#menu").scrollIntoView({behavior:"smooth"})}})]}),(0,dt.jsxs)("picture",{className:"banner__preview",children:[(0,dt.jsx)("source",{media:"(max-width: 786px)",srcSet:r}),(0,dt.jsx)("source",{media:"(min-width: 787px)",srcSet:i}),(0,dt.jsx)("img",{src:r,alt:""})]})]})})},zs=n.p+"static/media/banner1.064356126c1cf74c9bdc.png",qs=n.p+"static/media/banner2.a9ab2dc965221294a1c7.png",Hs=n.p+"static/media/banner3.a47a41a33ceb6c6cc6b7.png",Ws=n.p+"static/media/banner1_mob.2149d7a6dd26c621b389.png",Gs=n.p+"static/media/banner2_mob.e8e3a6d22f1998b2ef13.png",Ks=n.p+"static/media/banner3_mob.fe14d85da03d6c38dea5.png",Qs=function(){var e=l((0,r.useState)(0),2),t=e[0],n=e[1],i=l((0,r.useState)("right"),2),a=i[0],o=i[1],s=(0,r.useRef)(null);return(0,r.useEffect)((function(){if(s.current){if("right"===a){var e=setInterval((function(){s.current.scrollBy({left:100,behavior:"smooth"})}),7e3);return function(){clearInterval(e)}}if("left"===a){var t=setInterval((function(){s.current.scrollBy({left:-100,behavior:"smooth"})}),7e3);return function(){clearInterval(t)}}}}),[a]),(0,dt.jsx)("div",{className:"slider",children:(0,dt.jsxs)("div",{className:"slider__wrapper",children:[(0,dt.jsxs)("div",{className:"slider__track",ref:s,children:[(0,dt.jsx)(Vs,{threshold:.2,as:"div",onChange:function(e,t){e&&(n(t.target.firstChild.dataset.index),o("right"))},style:{flexShrink:0},children:(0,dt.jsx)(Bs,{title:"Polar \u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430",desc:"\u041d\u0435\u043e\u0431\u043e\u0432\u2019\u044f\u0437\u043a\u043e\u0432\u043e \u043f\u043e\u043a\u0438\u0434\u0430\u0442\u0438 \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0435 \u043b\u0456\u0436\u043a\u043e \u0430\u0431\u043e \u0436 \u0432\u0437\u0430\u0433\u0430\u043b\u0456 \u0432\u0438\u0445\u043e\u0434\u0438\u0442\u0438 \u0437 \u0434\u043e\u043c\u0443, \u0430\u0431\u0438 \u043f\u043e\u043b\u0430\u0441\u0443\u0432\u0430\u0442\u0438 \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u043c\u0438 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u044f\u043c\u0438!",image_mob:Ws,image_desktop:zs,index:0})}),(0,dt.jsx)(Vs,{threshold:.2,style:{flexShrink:0},as:"div",onChange:function(e,t){e&&n(t.target.firstChild.dataset.index)},children:(0,dt.jsx)(Bs,{title:"\u041b\u044e\u0431\u043e\u0432 \u0437 \u043f\u0435\u0440\u0448\u043e\u0433\u043e \u043f\u043e\u0433\u043b\u044f\u0434\u0443 \u0456\u0441\u043d\u0443\u0454... ",desc:"\u041d\u0430\u0441\u043e\u043b\u043e\u0434\u0436\u0443\u0439\u0442\u0435\u0441\u044c \u0441\u043c\u0430\u0447\u043d\u043e\u044e \u0457\u0436\u0435\u044e \u0442\u0430 \u0431\u0443\u0434\u044c\u0442\u0435 \u043a\u043e\u0445\u0430\u043d\u0438\u043c\u0438 \u0432 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",image_mob:Gs,image_desktop:qs,index:1})}),(0,dt.jsx)(Vs,{threshold:.2,style:{flexShrink:0},as:"div",onChange:function(e,t){e&&(n(t.target.firstChild.dataset.index),o("left"))},children:(0,dt.jsx)(Bs,{title:"\u0417\u0430\u043c\u043e\u0432\u043b\u044f\u0439 \u0441\u043c\u0430\u043a\u043e\u043b\u0438\u043a\u0438 \u0432\u0456\u0434 \u041f\u043e\u043b\u0430\u0440 \u0434\u043e\u0434\u043e\u043c\u0443",desc:"\u0428\u0432\u0438\u0434\u043a\u043e, \u044f\u043a\u0441\u0456\u043d\u043e \u0456 \u0441\u043c\u0430\u0447\u043d\u043e",image_mob:Ks,image_desktop:Hs,index:2})})]}),(0,dt.jsxs)("div",{className:"slider__dots",children:[(0,dt.jsx)("div",{className:"slider__dot ".concat(0==t&&"slider__dot-active")}),(0,dt.jsx)("div",{className:"slider__dot ".concat(1==t&&"slider__dot-active")}),(0,dt.jsx)("div",{className:"slider__dot ".concat(2==t&&"slider__dot-active")})]})]})})},Zs=function(){return(0,dt.jsx)("section",{className:"anim-inner",children:(0,dt.jsx)("div",{className:"anim"})})},Js=function(){var e=xe().id,t=(nt((function(e){return e.user})).token,l((0,r.useState)(null),2)),n=t[0],i=t[1],a=l((0,r.useState)([]),2),o=a[0],s=a[1],u=l((0,r.useState)(null),2),c=u[0],f=u[1],d=l((0,r.useState)([]),2),h=(d[0],d[1]),p=localStorage.getItem("favoritProducts");return(0,r.useEffect)((function(){_r.get("".concat(Cr,"/api/menu"),{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){var t=e.data.response.filter((function(e){return e.category_name.startsWith("onlineOrder:")})).map((function(e,t){return{category_name:e.category_name.replace(/onlineOrder: /,""),category_id:e.category_id,category_position_index:t}}));t[13].category_position_index=0,t[12].category_position_index=1,t[11].category_position_index=2,t[8].category_position_index=3,t[10].category_position_index=4,t[9].category_position_index=5,t[2].category_position_index=6,t[3].category_position_index=7,t[0].category_position_index=8,t[6].category_position_index=9,t[4].category_position_index=10,t[7].category_position_index=11,t[1].category_position_index=12,t[5].category_position_index=13,t.sort((function(e,t){return e.category_position_index-t.category_position_index})),i(t[0].category_id),s(t)})).catch((function(e){return console.error(e)}))}),[]),(0,r.useEffect)((function(){!function(e){var t=JSON.stringify({categoryId:e});_r.post("".concat(Cr,"/api/products"),t,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){var t=e.data.response.map((function(e){return{photo:e.photo_origin,product_name:e.product_name,price:e.price,out:e.out,product_id:e.product_id,ingredients:e.product_production_description.split(".")[0].split(", ").join(", "),category:e.category_name}}));f(t)})).catch((function(e){return console.error(e)}))}(n)}),[n]),(0,r.useEffect)((function(){h(JSON.parse(p))}),[p]),(0,r.useEffect)((function(){e&&i(e)}),[e]),(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsxs)("div",{className:"categories",id:"menu",children:[(0,dt.jsx)("h1",{className:"title__h1",children:"\u041a\u0443\u0448\u0442\u0443\u0439 \u0442\u0456\u043b\u044c\u043a\u0438 \u043d\u0430\u0439\u0441\u043c\u0430\u0447\u043d\u0456\u0448\u0435"}),c&&(0,dt.jsx)("div",{className:"categories__list",children:o.map((function(e){return(0,dt.jsx)("button",{className:"categories__btn ".concat(n===e.category_id?"categories__btn-active":""),onClick:function(){return i(e.category_id)},children:e.category_name},e.category_id)}))})]}),c&&(0,dt.jsx)("div",{className:"menu__products",children:c.map((function(e){return(0,dt.jsx)(Ss,{preview:"https://polar-pelmeni-odessa.joinposter.com"+e.photo,name:e.product_name,price:parseInt(e.price[1].slice(0,-2)),ingredients:e.ingredients,weight:e.out,id:e.product_id,category:e.category},e.product_id)}))})]})},Ys=function(e){var t=e.direction;return(0,dt.jsx)("div",{className:"button-arrow button-arrow-".concat(t),children:(0,dt.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M10.4763 7.83307L6.00634 12.3031L7.18467 13.4814L13.6663 6.99973L7.18467 0.518066L6.00634 1.6964L10.4763 6.1664L0.333008 6.1664L0.333008 7.83307L10.4763 7.83307Z",fill:"#12130F"})})})},$s=function(){var e=xe().id,t=ft(),n=l((0,r.useState)(1),2),i=n[0],a=n[1],o=l((0,r.useState)(!1),2),s=o[0],u=o[1],c=l((0,r.useState)(null),2),f=c[0],d=c[1],h=l((0,r.useState)(null),2),p=h[0],v=h[1],m=l((0,r.useState)(null),2),g=m[0],y=m[1];(0,r.useEffect)((function(){if(f){var e=f.product_production_description.split(".")[0].split(", ");v(e)}}),[f]),(0,r.useEffect)((function(){var t={productId:e},n=JSON.stringify(t);_r.post("".concat(Cr,"/api/product"),n,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){d(e.data);var t=JSON.stringify({categoryId:e.data.menu_category_id});_r.post("".concat(Cr,"/api/products"),t,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){var t=e.data.response.map((function(e){return{photo:e.photo_origin,product_name:e.product_name,price:e.price,out:e.out,product_id:e.product_id,ingredients:e.product_production_description.split(".")[0].split(", ").join(", "),category_name:e.category_name}}));y(t)}))})).catch((function(e){return console.error(e)}))}),[e]);var b,k,w,x,_=nt((function(e){return e.shoppingCart.products}));return(0,r.useEffect)((function(){_&&(_.some((function(t){return t.id===e}))?u(!0):u(!1))}),[_,e]),null!==f&&!1!==f?(b=f.product_name,k=f.product_id,w=parseInt(f.price[1].slice(0,-2)),x=f.category_name.replace(/onlineOrder: /,""),window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"view_item",ecommerce:{items:[{item_name:b,item_id:k,price:w,item_brand:"Polar Pelmeni",item_category:x}]}}),(0,dt.jsx)("div",{children:(0,dt.jsx)("div",{className:"product-page",children:(0,dt.jsxs)(ht,{children:[(0,dt.jsxs)("div",{className:"product-page__content",children:[(0,dt.jsx)("div",{className:"product-page__preview",children:(0,dt.jsx)("img",{src:"https://polarpelmeni-api.work-set.eu/api/sendImage/".concat(e),alt:f.product_name})}),(0,dt.jsxs)("div",{className:"product-page__info",children:[(0,dt.jsxs)("p",{className:"product-page__weight text text__color--secondary",children:[f.out," \u0433"]}),(0,dt.jsx)("h1",{className:"product-page__title text__color--secondary",children:f.product_name}),f.group_modifications&&(0,dt.jsx)("p",{className:"product-page__desc text__color--secondary",children:f.group_modifications.map((function(e,t){return f.group_modifications.length===t+1?"".concat(e.name):"".concat(e.name,", ")}))}),(0,dt.jsxs)("p",{className:"product-page__price text-price text__color--secondary",children:[parseInt(f.price[1].slice(0,-2))," \u20b4"]}),(0,dt.jsxs)("div",{className:"product-page__order",children:[!0===s?(0,dt.jsxs)("button",{className:"btn btn-main",onClick:function(){},disabled:!0,children:[(0,dt.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:6},children:(0,dt.jsx)("path",{d:"M6.66715 10.1138L12.7954 3.9856L13.7382 4.9284L6.66715 11.9994L2.4245 7.75685L3.36731 6.81405L6.66715 10.1138Z",fill:"#92939A"})}),"\u0414\u043e\u0434\u0430\u043d\u043e \u0434\u043e \u043a\u043e\u0448\u0438\u043a\u0443"]}):(0,dt.jsxs)("button",{className:"btn btn-main",onClick:function(){t(ms({name:f.product_name,price:parseInt(f.price[1].slice(0,-2)),count:i,preview:"https://polar-pelmeni-odessa.joinposter.com"+f.photo_origin,weight:f.cost,category:f.category_name,id:e})),hs(f.product_name,f.product_id,parseInt(f.price[1].slice(0,-2))*i,f.category_name,i),t(_s({action:"addToCard"})),setTimeout((function(){t(_s({action:""}))}),2e3)},children:["\u0414\u043e\u0434\u0430\u0442\u0438 \u0432 \u043a\u043e\u0448\u0438\u043a (",parseInt(f.price[1].slice(0,-2))*i," \u20b4)"]}),(0,dt.jsxs)("div",{className:"counter",children:[(0,dt.jsx)("div",{className:"counter__btn counter__btn--transperent",onClick:function(){i>1&&a(i-1)},children:"-"}),(0,dt.jsx)("div",{className:"counter__value text__color--secondary",children:i}),(0,dt.jsx)("div",{className:"counter__btn counter__btn--transperent",onClick:function(){return a(i+1)},children:"+"})]})]}),f.product_production_description&&(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsx)("h6",{className:"product-page__compile-title title__h6 text__color--secondary",children:"\u0421\u043a\u043b\u0430\u0434"}),(0,dt.jsx)("ul",{className:"product-page__compile",children:p&&p.map((function(e){return(0,dt.jsx)("li",{className:"product-page__compile-item",children:e})}))})]})]})]}),(0,dt.jsxs)("div",{className:"product-page__recommendations",children:[(0,dt.jsxs)("div",{className:"product-page__recommendations-head",children:[(0,dt.jsx)("h3",{className:"title__h3",children:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0454\u043c\u043e \u0441\u043f\u0440\u043e\u0431\u0443\u0432\u0430\u0442\u0438"}),(0,dt.jsxs)("div",{className:"product-page__recommendations-arrows",children:[(0,dt.jsx)(Ys,{direction:"left"}),(0,dt.jsx)(Ys,{direction:"right"})]})]}),null!==g&&(0,dt.jsx)("div",{className:"product-page__recommendations-track",children:(0,dt.jsx)("div",{className:"product-page__recommendations-list",children:g.map((function(e){return(0,dt.jsx)(Ss,{preview:"https://polar-pelmeni-odessa.joinposter.com"+e.photo,name:e.product_name,price:parseInt(e.price[1].slice(0,-2)),ingredients:e.ingredients,weight:e.out,id:e.product_id,category:e.category_name},e.product_id)}))})})]})]})})})):(0,dt.jsx)("div",{className:"loader__wrapper",children:(0,dt.jsx)(Zs,{})})},Xs=Po({name:"modals",initialState:{authModal:!1,cityModal:!0,thanksModal:!1},reducers:{authModalUpdateState:function(e,t){e.authModal=t.payload.isOpen},cityModalUpdateState:function(e,t){e.cityModal=t.payload.isOpen},thanksModalUpdateState:function(e,t){e.thanksModal=t.payload.isOpen}}}),eu=Xs.actions,tu=eu.authModalUpdateState,nu=eu.cityModalUpdateState,ru=eu.thanksModalUpdateState,iu=Xs.reducer;var au=n.p+"static/media/logo.4c66c0436de3e3728ef3931cb8bd0914.svg",ou=function(e){var t=e.preview,n=e.name,i=e.weight,a=e.price,o=e.count,s=e.id,u=e.cart_index,c=(e.category,l((0,r.useState)(o),2)),f=c[0],d=c[1],h=ft();return(0,r.useEffect)((function(){h(ys({cart_index:u,count:f}))}),[f]),(0,dt.jsxs)("li",{className:"shopping-cart__item",children:[(0,dt.jsx)("div",{className:"shopping-cart__preview",children:(0,dt.jsx)("img",{src:t,alt:""})}),(0,dt.jsxs)("div",{className:"shopping-cart__info",children:[(0,dt.jsxs)("div",{className:"shopping-cart__row",children:[(0,dt.jsx)("h6",{className:"title__h8",children:n}),(0,dt.jsx)("div",{className:"shopping-cart__remove",onClick:function(){return h(gs({id:s}))},children:(0,dt.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M6.0006 4.82144L10.1256 0.696442L11.3039 1.87478L7.17893 5.99977L11.3039 10.1248L10.1256 11.3031L6.0006 7.17811L1.8756 11.3031L0.697266 10.1248L4.82227 5.99977L0.697266 1.87478L1.8756 0.696442L6.0006 4.82144Z",fill:"#49484D"})})})]}),(0,dt.jsxs)("p",{className:"shopping-cart__weight",children:[i," \u0433"]}),(0,dt.jsxs)("div",{className:"shopping-cart__row",children:[(0,dt.jsxs)("p",{className:"shopping-cart__price",children:[a," \u20b4"]}),(0,dt.jsxs)("div",{className:"counter",children:[(0,dt.jsx)("div",{className:"counter__btn counter__btn--light",onClick:function(){o>1&&d(o-1)},children:"-"}),(0,dt.jsx)("div",{className:"counter__value",children:o}),(0,dt.jsx)("div",{className:"counter__btn counter__btn--light",onClick:function(){d(o+1)},children:"+"})]})]})]})]})},su=function(e){var t=e.action,n=e.error,r=e.onClick,i=ft();return(0,dt.jsx)(Ct,{to:"\u0411\u043b\u044e\u0434\u043e \u0434\u043e\u0434\u0430\u043d\u043e \u0443 \u043a\u043e\u0448\u0438\u043a"===t?"/order":"",className:"popup-actions",children:(0,dt.jsxs)("div",{className:"popup-actions__content",onClick:r,children:[(0,dt.jsx)("div",{className:"popup-actions__ico",children:n?(0,dt.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dt.jsx)("circle",{cx:"12",cy:"12",r:"12",fill:"#F55D66"}),(0,dt.jsx)("path",{d:"M12.0007 18.6666C8.31875 18.6666 5.33398 15.6818 5.33398 11.9999C5.33398 8.31802 8.31875 5.33325 12.0007 5.33325C15.6825 5.33325 18.6673 8.31802 18.6673 11.9999C18.6673 15.6818 15.6825 18.6666 12.0007 18.6666ZM12.0007 17.3333C14.9462 17.3333 17.334 14.9455 17.334 11.9999C17.334 9.0544 14.9462 6.66659 12.0007 6.66659C9.05513 6.66659 6.66732 9.0544 6.66732 11.9999C6.66732 14.9455 9.05513 17.3333 12.0007 17.3333ZM11.334 13.9999H12.6673V15.3333H11.334V13.9999ZM11.334 8.66659H12.6673V12.6666H11.334V8.66659Z",fill:"black"})]}):(0,dt.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dt.jsx)("circle",{cx:"12",cy:"12",r:"12",fill:"#55CB99"}),(0,dt.jsx)("g",{"clip-path":"url(#clip0_390_8333)",children:(0,dt.jsx)("path",{d:"M10.6665 14.1148L16.7945 7.98608L17.7378 8.92875L10.6665 16.0001L6.42383 11.7574L7.36649 10.8148L10.6665 14.1148Z",fill:"#12130F"})}),(0,dt.jsx)("defs",{children:(0,dt.jsx)("clipPath",{id:"clip0_390_8333",children:(0,dt.jsx)("rect",{width:"16",height:"16",fill:"white",transform:"translate(4 4)"})})})]})}),(0,dt.jsx)("p",{children:t}),(0,dt.jsx)("div",{className:"popup-actions__close",onClick:function(){return i(_s({action:""}))},children:(0,dt.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M5.00048 4.05732L8.30048 0.757324L9.24315 1.69999L5.94315 4.99999L9.24315 8.29999L8.30048 9.24266L5.00048 5.94266L1.70048 9.24266L0.757812 8.29999L4.05781 4.99999L0.757812 1.69999L1.70048 0.757324L5.00048 4.05732Z",fill:"white"})})})]})})},uu=function(){var e=nt((function(e){return e.shoppingCart.products})),t=we(),n=l((0,r.useState)(!1),2),i=n[0],a=n[1],o=l((0,r.useState)(0),2),s=o[0],u=o[1],c=l((0,r.useState)(!1),2),f=c[0],d=c[1];(0,r.useEffect)((function(){u(e.reduce((function(e,t){return e+t.totalPrice}),0))}),[e]),(0,r.useEffect)((function(){return document.body.style.overflow=i?"hidden":"auto",function(){document.body.style.overflow="auto"}}),[i]);var h;return(0,dt.jsxs)(dt.Fragment,{children:[(h=f,h?(0,dt.jsx)(su,{action:"\u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u0441\u0443\u043c\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f 200 \u20b4",error:!0}):null),(0,dt.jsxs)("button",{className:"card",onClick:function(){return a(!0)},children:[(0,dt.jsxs)("div",{className:"card__ico",children:[(0,dt.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dt.jsx)("g",{clipPath:"url(#clip0_353_13525)",children:(0,dt.jsx)("path",{d:"M2.66707 10.6667V2.66669H1.33374V1.33336H3.33374C3.51055 1.33336 3.68012 1.4036 3.80514 1.52862C3.93017 1.65365 4.00041 1.82321 4.00041 2.00003V10H12.2924L13.6257 4.66669H5.33374V3.33336H14.4804C14.5817 3.33336 14.6817 3.35647 14.7728 3.40092C14.8639 3.44537 14.9436 3.50999 15.006 3.58988C15.0683 3.66977 15.1116 3.76283 15.1326 3.86197C15.1536 3.96111 15.1517 4.06373 15.1271 4.16203L13.4604 10.8287C13.4243 10.9729 13.341 11.1008 13.2239 11.1923C13.1067 11.2837 12.9624 11.3334 12.8137 11.3334H3.33374C3.15693 11.3334 2.98736 11.2631 2.86234 11.1381C2.73731 11.0131 2.66707 10.8435 2.66707 10.6667ZM4.00041 15.3334C3.64679 15.3334 3.30765 15.1929 3.0576 14.9428C2.80755 14.6928 2.66707 14.3536 2.66707 14C2.66707 13.6464 2.80755 13.3073 3.0576 13.0572C3.30765 12.8072 3.64679 12.6667 4.00041 12.6667C4.35403 12.6667 4.69317 12.8072 4.94322 13.0572C5.19326 13.3073 5.33374 13.6464 5.33374 14C5.33374 14.3536 5.19326 14.6928 4.94322 14.9428C4.69317 15.1929 4.35403 15.3334 4.00041 15.3334ZM12.0004 15.3334C11.6468 15.3334 11.3076 15.1929 11.0576 14.9428C10.8075 14.6928 10.6671 14.3536 10.6671 14C10.6671 13.6464 10.8075 13.3073 11.0576 13.0572C11.3076 12.8072 11.6468 12.6667 12.0004 12.6667C12.354 12.6667 12.6932 12.8072 12.9432 13.0572C13.1933 13.3073 13.3337 13.6464 13.3337 14C13.3337 14.3536 13.1933 14.6928 12.9432 14.9428C12.6932 15.1929 12.354 15.3334 12.0004 15.3334Z",fill:"black"})}),(0,dt.jsx)("defs",{children:(0,dt.jsx)("clipPath",{id:"clip0_353_13525",children:(0,dt.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]}),0!==e.length&&(0,dt.jsx)("div",{className:"card__length",children:(0,dt.jsx)("span",{children:e.length})})]}),(0,dt.jsx)("span",{className:"card__text",children:"\u041a\u043e\u0448\u0438\u043a"})]}),i&&(0,dt.jsxs)("div",{className:"shopping-cart",children:[(0,dt.jsx)("div",{className:"shopping-cart__close",onClick:function(){return a(!1)},children:(0,dt.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M7.00072 5.58599L11.9507 0.635986L13.3647 2.04999L8.41472 6.99999L13.3647 11.95L11.9507 13.364L7.00072 8.41399L2.05072 13.364L0.636719 11.95L5.58672 6.99999L0.636719 2.04999L2.05072 0.635986L7.00072 5.58599Z",fill:"#12130F"})})}),0===e.length?(0,dt.jsxs)("div",{className:"shopping-cart__content shopping-cart__content--empty",children:[(0,dt.jsx)("div",{className:"shopping-cart__logo",children:(0,dt.jsxs)("svg",{width:"150",height:"150",viewBox:"0 0 150 150",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dt.jsx)("circle",{cx:"75",cy:"75",r:"75",fill:"#DF643A"}),(0,dt.jsx)("path",{d:"M104.417 49.7177C103.7 48.0744 102.369 46.7544 100.713 46.0423C99.8503 45.6723 98.9013 45.4646 97.9036 45.4646C96.9059 45.4646 95.9564 45.6723 95.0947 46.0423C93.5267 46.7157 92.257 47.9383 91.5175 49.4609C89.7975 48.17 87.9197 47.0765 85.9157 46.2159C82.611 44.7957 78.9753 44 75.152 44C71.3282 44 67.6919 44.7957 64.389 46.2136C62.2983 47.1118 60.3471 48.2673 58.5668 49.6323C57.8411 48.0288 56.5318 46.7413 54.9048 46.0423C54.043 45.6723 53.0935 45.4646 52.0958 45.4646C51.0981 45.4646 50.1492 45.6723 49.2869 46.0423C47.6299 46.7544 46.2995 48.0744 45.5823 49.7177C45.2094 50.5732 45 51.5146 45 52.5051C45 53.4949 45.2088 54.4364 45.5823 55.2919C46.2995 56.9357 47.6299 58.2557 49.2869 58.9672C49.7103 59.1494 50.1561 59.2905 50.6173 59.389C50.4727 59.689 50.3293 59.9895 50.1956 60.2952C48.7642 63.5744 47.9621 67.182 47.9621 70.9757V106C48.6971 105.524 49.436 105.055 50.1956 104.616C57.5433 100.389 66.0654 97.9543 75.1538 97.9543C78.9753 97.9543 82.6127 97.158 85.9157 95.7395C92.2639 93.013 97.362 87.9551 100.11 81.6568C101.542 78.3782 102.343 74.7712 102.343 70.978C102.343 67.1843 101.54 63.5766 100.11 60.2975C99.9662 59.9667 99.8112 59.6417 99.654 59.3179C100.018 59.2251 100.373 59.1129 100.713 58.9672C102.369 58.2557 103.7 56.9357 104.417 55.2919C104.791 54.4364 105 53.4949 105 52.5051C105 51.5146 104.79 50.5732 104.417 49.7177Z",fill:"white"}),(0,dt.jsx)("path",{d:"M104.417 49.7177C103.7 48.0744 102.369 46.7544 100.713 46.0423C99.8503 45.6723 98.9013 45.4646 97.9036 45.4646C96.9059 45.4646 95.9564 45.6723 95.0947 46.0423C93.5267 46.7157 92.257 47.9383 91.5175 49.4609C89.7975 48.17 87.9197 47.0766 85.9157 46.2159C82.611 44.7957 78.9753 44 75.152 44C71.3282 44 67.6919 44.7958 64.389 46.2136C62.2983 47.1118 60.3471 48.2673 58.5668 49.6323C57.8411 48.0288 56.5318 46.7413 54.9048 46.0423C54.043 45.6723 53.0935 45.4646 52.0958 45.4646C51.0981 45.4646 50.1492 45.6723 49.2869 46.0423C47.6299 46.7544 46.2995 48.0744 45.5823 49.7177C45.2094 50.5732 45 51.5146 45 52.5051C45 53.4949 45.2088 54.4364 45.5823 55.2919C46.2995 56.9357 47.6299 58.2557 49.2869 58.9672C49.7103 59.1494 50.1561 59.2905 50.6173 59.389C50.4727 59.689 50.3293 59.9895 50.1956 60.2952C48.7642 63.5744 47.9621 67.182 47.9621 70.9757V106C48.6971 105.524 49.436 105.055 50.1956 104.616C57.5433 100.389 66.0654 97.9543 75.1538 97.9543C78.9753 97.9543 82.6127 97.158 85.9157 95.7395C92.2639 93.013 97.362 87.9551 100.11 81.6568C101.542 78.3782 102.343 74.7712 102.343 70.978C102.343 67.1843 101.54 63.5766 100.11 60.2975C99.9662 59.9667 99.8112 59.6417 99.654 59.3179C100.018 59.2251 100.373 59.1129 100.713 58.9672C102.369 58.2557 103.7 56.9357 104.417 55.2919C104.791 54.4364 105 53.4949 105 52.5051C105 51.5146 104.79 50.5732 104.417 49.7177Z",stroke:"#12130F","stroke-width":"3","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),(0,dt.jsx)("path",{d:"M61.158 65.5436C61.158 64.1616 60.0289 63.0414 58.6359 63.0414C57.2424 63.0414 56.1133 64.1616 56.1133 65.5436C56.1133 66.9257 57.2424 68.0459 58.6359 68.0459C60.0289 68.0459 61.158 66.9257 61.158 65.5436Z",fill:"#12130F"}),(0,dt.jsx)("path",{d:"M94.4237 65.5436C94.4237 64.1616 93.2946 63.0414 91.9016 63.0414C90.508 63.0414 89.3789 64.1616 89.3789 65.5436C89.3789 66.9257 90.508 68.0459 91.9016 68.0459C93.2946 68.0459 94.4237 66.9257 94.4237 65.5436Z",fill:"#12130F"}),(0,dt.jsx)("path",{d:"M73.9113 81.7154C74.641 82.617 76.0243 82.617 76.7541 81.7154L79.0937 78.8239L80.4758 77.1151C81.4328 75.9317 80.5837 74.1752 79.0541 74.1752H75.3329H71.6112C70.0816 74.1752 69.2325 75.9317 70.1895 77.1151L71.5716 78.8239L73.9113 81.7154Z",fill:"#12130F"}),(0,dt.jsx)("path",{d:"M74.7617 86.2998H75.7577V80.0659H74.7617V86.2998Z",fill:"#12130F"}),(0,dt.jsx)("path",{d:"M72.3765 85.0177C72.9405 85.4088 73.4322 85.6239 73.8934 85.7463C74.3536 85.867 74.7856 85.9012 75.2624 85.9063C75.7391 85.8989 76.1706 85.8647 76.6301 85.7446C77.0902 85.6222 77.5825 85.4077 78.1482 85.0177C78.2377 85.7139 77.886 86.4191 77.3209 86.899C76.7512 87.3839 75.9761 87.6162 75.2624 87.6133C74.5486 87.6139 73.7747 87.3817 73.205 86.8973C72.6404 86.4168 72.2893 85.7127 72.3765 85.0177Z",fill:"#12130F"})]})}),(0,dt.jsx)("h5",{className:"title__h5",children:"\u041d\u0430\u0436\u0430\u043b\u044c, \u043a\u043e\u0448\u0438\u043a \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439"}),(0,dt.jsx)("p",{className:"text",children:"\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0449\u043e\u0441\u044c \u0441\u043c\u0430\u0447\u043d\u0435\u043d\u044c\u043a\u0435"})]}):(0,dt.jsxs)("div",{className:"shopping-cart__content",children:[(0,dt.jsxs)("div",{className:"shopping-cart__row",children:[(0,dt.jsx)("h5",{className:"title__h5",children:"\u041a\u043e\u0448\u0438\u043a"}),(0,dt.jsxs)("p",{className:"shopping-cart__products-count",children:[e.length," \u0442\u043e\u0432\u0430\u0440\u0456\u0432"]})]}),(0,dt.jsx)("div",{className:"shopping-cart__list-wrapper",children:(0,dt.jsx)("ul",{className:"shopping-cart__list",children:e.map((function(e){return(0,dt.jsx)(ou,{preview:e.preview,name:e.name,price:e.totalPrice,weight:e.weight,count:e.count,id:e.id,cart_index:e.cart_index,category:e.category})}))})}),(0,dt.jsxs)("div",{className:"shopping-cart__total",children:[(0,dt.jsxs)("div",{className:"shopping-cart__total-row",children:[(0,dt.jsx)("p",{className:"shopping-cart__text",children:"\u0421\u0443\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f:"}),(0,dt.jsxs)("p",{className:"shopping-cart__text",children:[s," \u20b4"]})]}),(0,dt.jsxs)("div",{className:"shopping-cart__total-row",children:[(0,dt.jsx)("p",{className:"shopping-cart__text",children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:"}),(0,dt.jsx)("p",{className:"shopping-cart__text",children:s<500?"\u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0442\u0430\u043a\u0441\u0456 (\u043e\u043f\u043b\u0430\u0447\u0443\u0454\u0442\u044c\u0441\u044f \u043e\u043a\u0440\u0435\u043c\u043e)":"\u0411\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0430"})]}),(0,dt.jsxs)("div",{className:"shopping-cart__total-row",children:[(0,dt.jsx)("p",{className:"shopping-cart__text-final",children:"\u0412\u0441\u044c\u043e\u0433\u043e \u0434\u043e \u0441\u043f\u043b\u0430\u0442\u0438:"}),(0,dt.jsxs)("p",{className:"shopping-cart__text-final",children:[s," \u20b4"]})]})]}),(0,dt.jsx)(Us,{name:"\u0417\u0430\u043c\u043e\u0432\u0438\u0442\u0438",onClick:function(){var n;s<200?(d(!0),setTimeout((function(){return d(!1)}),3e3)):(n=e,window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"begin_checkout",ecommerce:{items:n.map((function(e){return{item_name:e.name,item_id:e.id,price:e.price,item_brand:"Polar Pelmeni",item_category:e.category,quantity:e.count}}))}}),a(!i),t("/order"))},fullWide:!0})]})]})]})},cu=n(504),lu=n.n(cu),fu=function(e){return(0,dt.jsxs)("label",{className:"inputNumber",htmlFor:"inputNumber",children:[(0,dt.jsx)("span",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,dt.jsx)(lu(),{value:e.inputValue&&e.inputValue,mask:"+380 (99) 999 99 99",id:"inputNumber",placeholder:"+380 (__) ___ __ __",onChange:function(t){return e.onChange(t.target.value)}})]})},du=function(e){var t=e.onData,n=l((0,r.useState)(""),2),i=n[0],a=n[1],o=(0,r.useRef)([]);(0,r.useEffect)((function(){t(i)}),[i]);return(0,dt.jsx)("div",{className:"inputCode",children:Array.from({length:6}).map((function(e,t){return(0,dt.jsx)("input",{autocomplete:"one-time-code",ref:function(e){return o.current[t]=e},type:"text",value:i[t]||"",maxLength:1,className:"inputCode__item",onChange:function(e){return function(e,t){var n=e.target.value,r=t+1;a((function(e){var i=e.split("");return i[t]=n,n&&o.current[r]&&o.current[r].focus(),i.join("")}))}(e,t)},onKeyDown:function(e){return function(e,t){var n=t-1,r=t+1;"Backspace"===e.key&&n>=0?o.current[n].focus():"Delete"===e.key&&r<o.current.length&&o.current[r].focus()}(e,t)}},t)}))})},hu=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},pu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,d=(15&s)<<2|c>>6,h=63&c;u||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(hu(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new vu;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},vu=function(e){b(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return g(n)}(S(Error)),mu=function(e){return function(e){var t=hu(e);return pu.encodeByteArray(t,!0)}(e).replace(/\./g,"")},gu=function(e){try{return pu.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function yu(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=yu(e[n],t[n]));return e}var bu=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ku=function(){try{return bu()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&gu(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},wu=function(){var e;return null===(e=ku())||void 0===e?void 0:e.config},xu=function(){function e(){var t=this;h(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return g(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function _u(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Cu(){var e,t=null===(e=ku())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Su(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Eu(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Iu(){var e=_u();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Nu(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Tu=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),Lu.prototype.create),a}return g(n)}(S(Error)),Lu=function(){function e(t,n,r){h(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ju,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Tu(n,a,t)}}]),e}();var ju=/\{\$([^}]+)}/g;function Au(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Pu(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ou(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Mu(s)&&Mu(u)){if(!Ou(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Mu(e){return null!==e&&"object"===typeof e}function Du(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ru(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Fu(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Vu(e,t){var n=new Uu(e,t);return n.subscribe.bind(n)}var Uu=function(){function e(t,n){var r=this;h(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return g(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=I(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Bu),void 0===r.error&&(r.error=Bu),void 0===r.complete&&(r.complete=Bu);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Bu(){}function zu(e){return e&&e._delegate?e._delegate:e}var qu=function(){function e(t,n,r){h(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return g(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Hu="[DEFAULT]",Wu=function(){function e(t,n){h(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return g(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new xu;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Hu})}catch(u){}var t,n=I(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hu;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=At(Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(d(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),d(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hu;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hu;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=I(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(yA){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Hu?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(yA){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hu;return this.component?this.component.multipleInstances?e:Hu:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Gu,Ku,Qu=function(){function e(t){h(this,e),this.name=t,this.providers=new Map}return g(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Wu(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Zu=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ku||(Ku={}));var Ju={debug:Ku.DEBUG,verbose:Ku.VERBOSE,info:Ku.INFO,warn:Ku.WARN,error:Ku.ERROR,silent:Ku.SILENT},Yu=Ku.INFO,$u=(Ge(Gu={},Ku.DEBUG,"log"),Ge(Gu,Ku.VERBOSE,"log"),Ge(Gu,Ku.INFO,"info"),Ge(Gu,Ku.WARN,"warn"),Ge(Gu,Ku.ERROR,"error"),Gu),Xu=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=$u[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ec=function(){function e(t){h(this,e),this.name=t,this._logLevel=Yu,this._logHandler=Xu,this._userLogHandler=null,Zu.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ku))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ju[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ku.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ku.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ku.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ku.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ku.INFO].concat(t)),this._logHandler.apply(this,[this,Ku.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ku.WARN].concat(t)),this._logHandler.apply(this,[this,Ku.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ku.ERROR].concat(t)),this._logHandler.apply(this,[this,Ku.ERROR].concat(t))}}]),e}();var tc,nc,rc=function(e,t){return t.some((function(t){return e instanceof t}))};var ic=new WeakMap,ac=new WeakMap,oc=new WeakMap,sc=new WeakMap,uc=new WeakMap;var cc={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ac.get(e);if("objectStoreNames"===t)return e.objectStoreNames||oc.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dc(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function lc(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(nc||(nc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(hc(this),n),dc(ic.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dc(e.apply(hc(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[hc(this),t].concat(r));return oc.set(a,t.sort?t.sort():[t]),dc(a)}}function fc(e){return"function"===typeof e?lc(e):(e instanceof IDBTransaction&&function(e){if(!ac.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ac.set(e,t)}}(e),rc(e,tc||(tc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,cc):e)}function dc(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(dc(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ic.set(t,e)})).catch((function(){})),uc.set(t,e),t}(e);if(sc.has(e))return sc.get(e);var t=fc(e);return t!==e&&(sc.set(e,t),uc.set(t,e)),t}var hc=function(e){return uc.get(e)};var pc,vc,mc=["get","getKey","getAll","getAllKeys","count"],gc=["put","add","delete","clear"],yc=new Map;function bc(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(yc.get(t))return yc.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=gc.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||mc.includes(n))){var a=function(){var e=At(Lt().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return yc.set(t,a),a}}}cc=function(e){return Ot(Ot({},e),{},{get:function(t,n,r){return bc(t,n)||e.get(t,n,r)},has:function(t,n){return!!bc(t,n)||e.has(t,n)}})}(cc);var kc=function(){function e(t){h(this,e),this.container=t}return g(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var wc="@firebase/app",xc="0.9.13",_c=new ec("@firebase/app"),Cc="[DEFAULT]",Sc=(Ge(pc={},wc,"fire-core"),Ge(pc,"@firebase/app-compat","fire-core-compat"),Ge(pc,"@firebase/analytics","fire-analytics"),Ge(pc,"@firebase/analytics-compat","fire-analytics-compat"),Ge(pc,"@firebase/app-check","fire-app-check"),Ge(pc,"@firebase/app-check-compat","fire-app-check-compat"),Ge(pc,"@firebase/auth","fire-auth"),Ge(pc,"@firebase/auth-compat","fire-auth-compat"),Ge(pc,"@firebase/database","fire-rtdb"),Ge(pc,"@firebase/database-compat","fire-rtdb-compat"),Ge(pc,"@firebase/functions","fire-fn"),Ge(pc,"@firebase/functions-compat","fire-fn-compat"),Ge(pc,"@firebase/installations","fire-iid"),Ge(pc,"@firebase/installations-compat","fire-iid-compat"),Ge(pc,"@firebase/messaging","fire-fcm"),Ge(pc,"@firebase/messaging-compat","fire-fcm-compat"),Ge(pc,"@firebase/performance","fire-perf"),Ge(pc,"@firebase/performance-compat","fire-perf-compat"),Ge(pc,"@firebase/remote-config","fire-rc"),Ge(pc,"@firebase/remote-config-compat","fire-rc-compat"),Ge(pc,"@firebase/storage","fire-gcs"),Ge(pc,"@firebase/storage-compat","fire-gcs-compat"),Ge(pc,"@firebase/firestore","fire-fst"),Ge(pc,"@firebase/firestore-compat","fire-fst-compat"),Ge(pc,"fire-js","fire-js"),Ge(pc,"firebase","fire-js-all"),pc),Ec=new Map,Ic=new Map;function Nc(e,t){try{e.container.addComponent(t)}catch(n){_c.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Tc(e,t){e.container.addOrOverwriteComponent(t)}function Lc(e){var t=e.name;if(Ic.has(t))return _c.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ic.set(t,e);var n,r=I(Ec.values());try{for(r.s();!(n=r.n()).done;){Nc(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function jc(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ac(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cc;jc(e,t).clearInstance(n)}function Pc(){Ic.clear()}var Oc=(Ge(vc={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),Ge(vc,"bad-app-name","Illegal App name: '{$appName}"),Ge(vc,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ge(vc,"app-deleted","Firebase App named '{$appName}' already deleted"),Ge(vc,"no-options","Need to provide options, when not being deployed to hosting via source."),Ge(vc,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ge(vc,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ge(vc,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ge(vc,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ge(vc,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ge(vc,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),vc),Mc=new Lu("app","Firebase",Oc),Dc=function(){function e(t,n,r){var i=this;h(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qu("app",(function(){return i}),"PUBLIC"))}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Mc.create("app-deleted",{appName:this._name})}}]),e}(),Rc="9.23.0";function Fc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Cc,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Mc.create("bad-app-name",{appName:String(i)});if(n||(n=wu()),!n)throw Mc.create("no-options");var a=Ec.get(i);if(a){if(Ou(n,a.options)&&Ou(r,a.config))return a;throw Mc.create("duplicate-app",{appName:i})}var o,s=new Qu(i),u=I(Ic.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Dc(n,r,s);return Ec.set(i,l),l}function Vc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cc,t=Ec.get(e);if(!t&&e===Cc&&wu())return Fc();if(!t)throw Mc.create("no-app",{appName:e});return t}function Uc(){return Array.from(Ec.values())}function Bc(e){return zc.apply(this,arguments)}function zc(){return zc=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ec.has(n)){e.next=6;break}return Ec.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),zc.apply(this,arguments)}function qc(e,t,n){var r,i=null!==(r=Sc[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void _c.warn(s.join(" "))}Lc(new qu("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Hc(e,t){if(null!==e&&"function"!==typeof e)throw Mc.create("invalid-log-argument");!function(e,t){var n,r=I(Zu);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ju[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ku[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Wc(e){var t;t=e,Zu.forEach((function(e){e.setLogLevel(t)}))}var Gc="firebase-heartbeat-database",Kc=1,Qc="firebase-heartbeat-store",Zc=null;function Jc(){return Zc||(Zc=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=dc(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(dc(s.result),e.oldVersion,e.newVersion,dc(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Gc,Kc,{upgrade:function(e,t){if(0===t)e.createObjectStore(Qc)}}).catch((function(e){throw Mc.create("idb-open",{originalErrorMessage:e.message})}))),Zc}function Yc(e){return $c.apply(this,arguments)}function $c(){return $c=At(Lt().mark((function e(t){var n,r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Jc();case 3:return n=e.sent,e.next=6,n.transaction(Qc).objectStore(Qc).get(tl(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Tu?_c.warn(e.t0.message):(i=Mc.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),_c.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),$c.apply(this,arguments)}function Xc(e,t){return el.apply(this,arguments)}function el(){return el=At(Lt().mark((function e(t,n){var r,i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Jc();case 3:return r=e.sent,i=r.transaction(Qc,"readwrite"),a=i.objectStore(Qc),e.next=8,a.put(n,tl(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Tu?_c.warn(e.t0.message):(o=Mc.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),_c.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),el.apply(this,arguments)}function tl(e){return"".concat(e.name,"!").concat(e.options.appId)}var nl=function(){function e(t){var n=this;h(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new sl(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return g(e,[{key:"triggerHeartbeat",value:function(){var e=At(Lt().mark((function e(){var t,n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=rl(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=At(Lt().mark((function e(){var t,n,r,i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=rl(),n=il(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=mu(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function rl(){return(new Date).toISOString().substring(0,10)}function il(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=I(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ul(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),ul(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var al,ol,sl=function(){function e(t){h(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return g(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nu()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=At(Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Yc(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=At(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Xc(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=At(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Xc(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(d(r.heartbeats),d(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ul(e){return mu(JSON.stringify({version:2,heartbeats:e})).length}al="",Lc(new qu("platform-logger",(function(e){return new kc(e)}),"PRIVATE")),Lc(new qu("heartbeat",(function(e){return new nl(e)}),"PRIVATE")),qc(wc,xc,al),qc(wc,xc,"esm2017"),qc("fire-js","");var cl=function(){function e(t,n){var r=this;h(this,e),this._delegate=t,this.firebase=n,Nc(t,new qu("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Bc(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cc;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cc;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Nc(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Tc(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ll=(Ge(ol={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ge(ol,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ol),fl=new Lu("app-compat","Firebase",ll);var dl=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Fc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Au(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:qc,setLogLevel:Wc,onLog:Hc,apps:null,SDK_VERSION:Rc,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Lc(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw fl.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&yu(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Au(n,e=e||Cc))throw fl.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(cl);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){yu(n,e)},createSubscribe:Vu,ErrorFactory:Lu,deepExtend:yu}),n}(),hl=new ec("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){hl.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var pl=self.firebase.SDK_VERSION;pl&&pl.indexOf("LITE")>=0&&hl.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var vl=dl;!function(e){qc("@firebase/app-compat","0.2.13",e)}();function ml(){return ml="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ml.apply(this,arguments)}vl.registerVersion("firebase","9.23.0","app-compat");function gl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var yl,bl={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},kl="EMAIL_SIGNIN",wl="PASSWORD_RESET",xl="RECOVER_EMAIL",_l="REVERT_SECOND_FACTOR_ADDITION",Cl="VERIFY_AND_CHANGE_EMAIL",Sl="VERIFY_EMAIL";function El(){return Ge({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Il=function(){var e;return Ge(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Ge(e,"argument-error",""),Ge(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Ge(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Ge(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Ge(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Ge(e,"cordova-not-ready","Cordova framework is not ready."),Ge(e,"cors-unsupported","This browser is not supported."),Ge(e,"credential-already-in-use","This credential is already associated with a different user account."),Ge(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Ge(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Ge(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Ge(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Ge(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Ge(e,"email-already-in-use","The email address is already in use by another account."),Ge(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Ge(e,"expired-action-code","The action code has expired."),Ge(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Ge(e,"internal-error","An internal AuthError has occurred."),Ge(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Ge(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Ge(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Ge(e,"invalid-auth-event","An internal AuthError has occurred."),Ge(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Ge(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Ge(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Ge(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Ge(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Ge(e,"invalid-email","The email address is badly formatted."),Ge(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Ge(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Ge(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Ge(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Ge(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Ge(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Ge(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Ge(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Ge(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Ge(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Ge(e,"wrong-password","The password is invalid or the user does not have a password."),Ge(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Ge(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Ge(e,"invalid-provider-id","The specified provider ID is invalid."),Ge(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Ge(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Ge(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Ge(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Ge(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Ge(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Ge(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Ge(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Ge(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Ge(e,"missing-continue-uri","A continue URL must be provided in the request."),Ge(e,"missing-iframe-start","An internal AuthError has occurred."),Ge(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Ge(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Ge(e,"missing-password","A non-empty password must be provided"),Ge(e,"missing-multi-factor-info","No second factor identifier is provided."),Ge(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Ge(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Ge(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Ge(e,"app-deleted","This instance of FirebaseApp has been deleted."),Ge(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Ge(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Ge(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Ge(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Ge(e,"no-auth-event","An internal AuthError has occurred."),Ge(e,"no-such-provider","User was not linked to an account with the given provider."),Ge(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Ge(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Ge(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Ge(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Ge(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Ge(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Ge(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Ge(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Ge(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Ge(e,"rejected-credential","The request contains malformed or mismatching credentials."),Ge(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Ge(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Ge(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Ge(e,"timeout","The operation has timed out."),Ge(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Ge(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Ge(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Ge(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Ge(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Ge(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Ge(e,"unverified-email","The operation requires a verified email."),Ge(e,"user-cancelled","The user did not grant your application the permissions it requested."),Ge(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Ge(e,"user-disabled","The user account has been disabled by an administrator."),Ge(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Ge(e,"user-signed-out",""),Ge(e,"weak-password","The password must be 6 characters long or more."),Ge(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Ge(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Ge(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Ge(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Ge(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Ge(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Ge(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Ge(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Ge(e,"invalid-req-type","Invalid request parameters."),Ge(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},Nl=El,Tl=new Lu("auth","Firebase",El()),Ll=new ec("@firebase/auth");function jl(e){if(Ll.logLevel<=Ku.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ll.warn.apply(Ll,["Auth (".concat(Rc,"): ").concat(e)].concat(n))}}function Al(e){if(Ll.logLevel<=Ku.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ll.error.apply(Ll,["Auth (".concat(Rc,"): ").concat(e)].concat(n))}}function Pl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Rl.apply(void 0,[e].concat(n))}function Ol(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Rl.apply(void 0,[e].concat(n))}function Ml(e,t,n){var r=Object.assign(Object.assign({},Nl()),Ge({},t,n));return new Lu("auth","Firebase",r).create(t,{appName:e.name})}function Dl(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Pl(e,"argument-error"),Ml(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Rl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=d(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(d(o)))}return Tl.create.apply(Tl,[e].concat(n))}function Fl(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Rl.apply(void 0,[t].concat(r))}}function Vl(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Al(t),new Error(t)}function Ul(e,t){e||Vl(t)}function Bl(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function zl(){return"http:"===ql()||"https:"===ql()}function ql(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Hl=function(){function e(t,n){h(this,e),this.shortDelay=t,this.longDelay=n,Ul(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_u())||Eu()}return g(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(zl()||Su()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Wl(e,t){Ul(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Gl=function(){function e(){h(this,e)}return g(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Vl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Vl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Vl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Kl=(Ge(yl={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ge(yl,"MISSING_CUSTOM_TOKEN","internal-error"),Ge(yl,"INVALID_IDENTIFIER","invalid-email"),Ge(yl,"MISSING_CONTINUE_URI","internal-error"),Ge(yl,"INVALID_PASSWORD","wrong-password"),Ge(yl,"MISSING_PASSWORD","missing-password"),Ge(yl,"EMAIL_EXISTS","email-already-in-use"),Ge(yl,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ge(yl,"INVALID_IDP_RESPONSE","invalid-credential"),Ge(yl,"INVALID_PENDING_TOKEN","invalid-credential"),Ge(yl,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ge(yl,"MISSING_REQ_TYPE","internal-error"),Ge(yl,"EMAIL_NOT_FOUND","user-not-found"),Ge(yl,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ge(yl,"EXPIRED_OOB_CODE","expired-action-code"),Ge(yl,"INVALID_OOB_CODE","invalid-action-code"),Ge(yl,"MISSING_OOB_CODE","internal-error"),Ge(yl,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ge(yl,"INVALID_ID_TOKEN","invalid-user-token"),Ge(yl,"TOKEN_EXPIRED","user-token-expired"),Ge(yl,"USER_NOT_FOUND","user-token-expired"),Ge(yl,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ge(yl,"INVALID_CODE","invalid-verification-code"),Ge(yl,"INVALID_SESSION_INFO","invalid-verification-id"),Ge(yl,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ge(yl,"MISSING_SESSION_INFO","missing-verification-id"),Ge(yl,"SESSION_EXPIRED","code-expired"),Ge(yl,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ge(yl,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ge(yl,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ge(yl,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ge(yl,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ge(yl,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ge(yl,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ge(yl,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ge(yl,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ge(yl,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ge(yl,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ge(yl,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Ge(yl,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Ge(yl,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Ge(yl,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Ge(yl,"MISSING_CLIENT_TYPE","missing-client-type"),Ge(yl,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Ge(yl,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Ge(yl,"INVALID_REQ_TYPE","invalid-req-type"),yl),Ql=new Hl(3e4,6e4);function Zl(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Jl(e,t,n,r){return Yl.apply(this,arguments)}function Yl(){return Yl=At(Lt().mark((function e(t,n,r,i){var a,o=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",$l(t,a,At(Lt().mark((function e(){var a,o,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Du(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Gl.fetch()(nf(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Yl.apply(this,arguments)}function $l(e,t,n){return Xl.apply(this,arguments)}function Xl(){return Xl=At(Lt().mark((function e(t,n,r){var i,a,o,s,u,c,f,d,h,p;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Kl),n),e.prev=2,a=new rf(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw af(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),f=l(c,2),d=f[0],h=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw af(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw af(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw af(t,"user-disabled",s);case 29:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Ml(t,p,h);case 34:Pl(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Tu)){e.next=41;break}throw e.t0;case 41:Pl(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Xl.apply(this,arguments)}function ef(e,t,n,r){return tf.apply(this,arguments)}function tf(){return tf=At(Lt().mark((function e(t,n,r,i){var a,o,s=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Jl(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Pl(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}function nf(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Wl(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var rf=function(){function e(t){var n=this;h(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ol(n.auth,"network-request-failed"))}),Ql.get())}))}return g(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function af(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ol(e,t,r);return i.customData._tokenResponse=n,i}function of(e,t){return sf.apply(this,arguments)}function sf(){return(sf=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jl(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uf(e,t){return cf.apply(this,arguments)}function cf(){return(cf=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jl(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lf(e,t){return ff.apply(this,arguments)}function ff(){return(ff=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jl(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function df(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function hf(){return hf=At(Lt().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=zu(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Fl((a=vf(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:df(pf(a.auth_time)),issuedAtTime:df(pf(a.iat)),expirationTime:df(pf(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),hf.apply(this,arguments)}function pf(e){return 1e3*Number(e)}function vf(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Al("JWT malformed, contained fewer than 3 sections"),null;try{var a=gu(r);return a?JSON.parse(a):(Al("Failed to decode base64 JWT payload"),null)}catch(o){return Al("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function mf(e,t){return gf.apply(this,arguments)}function gf(){return gf=At(Lt().mark((function e(t,n){var r=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Tu&&yf(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),gf.apply(this,arguments)}function yf(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var bf=function(){function e(t){h(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return g(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(At(Lt().mark((function t(){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),kf=function(){function e(t,n){h(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return g(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=df(this.lastLoginAt),this.creationTime=df(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function wf(e){return xf.apply(this,arguments)}function xf(){return xf=At(Lt().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,d;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,mf(t,lf(r,{idToken:i}));case 6:Fl(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=gl(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=Cf(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new kf(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),xf.apply(this,arguments)}function _f(){return _f=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zu(t),e.next=3,wf(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)}))),_f.apply(this,arguments)}function Cf(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(d(n),d(t))}function Sf(e,t){return Ef.apply(this,arguments)}function Ef(){return Ef=At(Lt().mark((function e(t,n){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$l(t,{},At(Lt().mark((function e(){var r,i,a,o,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Du({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=nf(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Gl.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ef.apply(this,arguments)}var If=function(){function e(){h(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return g(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Fl(e.idToken,"internal-error"),Fl("undefined"!==typeof e.idToken,"internal-error"),Fl("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=vf(e);return Fl(t,"internal-error"),Fl("undefined"!==typeof t.exp,"internal-error"),Fl("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=At(Lt().mark((function e(t){var n,r=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Fl(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=At(Lt().mark((function e(t,n){var r,i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sf(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Vl("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Fl("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Fl("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Fl("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Nf(e,t){Fl("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Tf=function(){function e(t){h(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=gl(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?d(a.providerData):[],this.metadata=new kf(a.createdAt||void 0,a.lastLoginAt||void 0)}return g(e,[{key:"getIdToken",value:function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mf(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Fl(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return hf.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return _f.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Fl(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Fl(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=At(Lt().mark((function e(t){var n,r,i=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,wf(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=At(Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,mf(this,of(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Fl(b&&_,t,"internal-error");var C=If.fromJSON(this.name,_);Fl("string"===typeof b,t,"internal-error"),Nf(f,t.name),Nf(d,t.name),Fl("boolean"===typeof k,t,"internal-error"),Fl("boolean"===typeof w,t,"internal-error"),Nf(h,t.name),Nf(p,t.name),Nf(v,t.name),Nf(m,t.name),Nf(g,t.name),Nf(y,t.name);var S=new e({uid:b,auth:t,email:d,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:C,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=At(Lt().mark((function t(n,r){var i,a,o,s=arguments;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new If).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,wf(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Lf=new Map;function jf(e){Ul(e instanceof Function,"Expected a class definition");var t=Lf.get(e);return t?(Ul(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Lf.set(e,t),t)}var Af=function(){function e(){h(this,e),this.type="NONE",this.storage={}}return g(e,[{key:"_isAvailable",value:function(){var e=At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Af.type="NONE";var Pf=Af;function Of(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Mf=function(){function e(t,n,r){h(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Of(this.userKey,a.apiKey,o),this.fullPersistenceKey=Of("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return g(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=At(Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Tf._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=At(Lt().mark((function t(n,r){var i,a,o,s,u,c,l,f,d,h,p,v=arguments;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(jf(Pf),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||jf(Pf),s=Of(i,n.config.apiKey,n.name),u=null,c=I(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(d=t.sent)){t.next=23;break}return h=Tf._fromJSON(n,d),f!==o&&(u=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Df(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Uf(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Rf(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zf(t))return"Blackberry";if(qf(t))return"Webos";if(Ff(t))return"Safari";if((t.includes("chrome/")||Vf(t))&&!t.includes("edge/"))return"Chrome";if(Bf(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Rf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_u();return/firefox\//i.test(e)}function Ff(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_u()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_u();return/crios\//i.test(e)}function Uf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_u();return/iemobile/i.test(e)}function Bf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_u();return/android/i.test(e)}function zf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_u();return/blackberry/i.test(e)}function qf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_u();return/webos/i.test(e)}function Hf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_u();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Wf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_u();return Hf(e)||Bf(e)||qf(e)||zf(e)||/windows phone/i.test(e)||Uf(e)}function Gf(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Df(_u());break;case"Worker":t="".concat(Df(_u()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Rc,"/").concat(r)}function Kf(e){return Qf.apply(this,arguments)}function Qf(){return(Qf=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jl(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zf(e,t){return Jf.apply(this,arguments)}function Jf(){return(Jf=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jl(t,"GET","/v2/recaptchaConfig",Zl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yf(e){return void 0!==e&&void 0!==e.getResponse}function $f(e){return void 0!==e&&void 0!==e.enterprise}var Xf=g((function e(t){if(h(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function ed(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ol("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function td(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var nd=function(){function e(t){h(this,e),this.type="recaptcha-enterprise",this.auth=sd(t)}return g(e,[{key:"verify",value:function(){var e=At(Lt().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;$f(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=At(Lt().mark((function e(n,r){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Zf(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Xf(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&$f(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));ed("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function rd(e,t,n){return id.apply(this,arguments)}function id(){return id=At(Lt().mark((function e(t,n,r){var i,a,o,s,u=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new nd(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),id.apply(this,arguments)}var ad=function(){function e(t){h(this,e),this.auth=t,this.queue=[]}return g(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=At(Lt().mark((function e(t){var n,r,i,a,o,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=I(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=I(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(ma){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),od=function(){function e(t,n,r,i){h(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ud(this),this.idTokenSubscription=new ud(this),this.beforeStateQueue=new ad(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return g(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=jf(t)),this._initializationPromise=this.queue(At(Lt().mark((function r(){var i,a;return Lt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Mf.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=At(Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=At(Lt().mark((function e(t){var n,r,i,a,o,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Fl(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wf(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?zu(t):null)&&Fl(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=At(Lt().mark((function e(t){var n,r=this,i=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Fl(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(At(Lt().mark((function n(){return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(jf(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=At(Lt().mark((function e(){var t,n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zf(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Xf(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new nd(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Lu("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=At(Lt().mark((function e(t,n){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Fl(n=t&&jf(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Mf.create(this,[jf(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=At(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=At(Lt().mark((function e(t){var n=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Fl(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Fl(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gf(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=At(Lt().mark((function e(){var t,n,r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ge({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=At(Lt().mark((function e(){var t,n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&jl("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function sd(e){return zu(e)}var ud=function(){function e(t){var n=this;h(this,e),this.auth=t,this.observer=null,this.addObserver=Vu((function(e){return n.observer=e}))}return g(e,[{key:"next",get:function(){return Fl(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function cd(e,t,n){var r=sd(e);Fl(r._canInitEmulator,r,"emulator-config-failed"),Fl(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=ld(t),o=function(e){var t=ld(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:fd(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:fd(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ld(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function fd(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var dd=function(){function e(t,n){h(this,e),this.providerId=t,this.signInMethod=n}return g(e,[{key:"toJSON",value:function(){return Vl("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Vl("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Vl("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Vl("not implemented")}}]),e}();function hd(e,t){return pd.apply(this,arguments)}function pd(){return(pd=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jl(t,"POST","/v1/accounts:resetPassword",Zl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vd(e,t){return md.apply(this,arguments)}function md(){return(md=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jl(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gd(e,t){return yd.apply(this,arguments)}function yd(){return(yd=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jl(t,"POST","/v1/accounts:update",Zl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bd(e,t){return kd.apply(this,arguments)}function kd(){return(kd=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ef(t,"POST","/v1/accounts:signInWithPassword",Zl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wd(e,t){return xd.apply(this,arguments)}function xd(){return(xd=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jl(t,"POST","/v1/accounts:sendOobCode",Zl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _d(e,t){return Cd.apply(this,arguments)}function Cd(){return(Cd=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wd(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sd(e,t){return Ed.apply(this,arguments)}function Ed(){return(Ed=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wd(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Id(e,t){return Nd.apply(this,arguments)}function Nd(){return(Nd=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wd(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Td(e,t){return Ld.apply(this,arguments)}function Ld(){return(Ld=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wd(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jd(e,t){return Ad.apply(this,arguments)}function Ad(){return(Ad=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ef(t,"POST","/v1/accounts:signInWithEmailLink",Zl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pd(e,t){return Od.apply(this,arguments)}function Od(){return(Od=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ef(t,"POST","/v1/accounts:signInWithEmailLink",Zl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Md=function(e){b(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return g(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=At(Lt().mark((function e(t){var n,r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,rd(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",bd(t,i));case 11:return e.abrupt("return",bd(t,r).catch(function(){var e=At(Lt().mark((function e(n){var i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,rd(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",bd(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",jd(t,{email:this._email,oobCode:this._password}));case 13:Pl(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",vd(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Pd(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Pl(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(dd);function Dd(e,t){return Rd.apply(this,arguments)}function Rd(){return(Rd=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ef(t,"POST","/v1/accounts:signInWithIdp",Zl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fd=function(e){b(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return g(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Dd(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Dd(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Dd(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Du(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Pl("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=gl(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(dd);function Vd(e,t){return Ud.apply(this,arguments)}function Ud(){return(Ud=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jl(t,"POST","/v1/accounts:sendVerificationCode",Zl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bd(){return(Bd=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ef(t,"POST","/v1/accounts:signInWithPhoneNumber",Zl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zd(){return(zd=At(Lt().mark((function e(t,n){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ef(t,"POST","/v1/accounts:signInWithPhoneNumber",Zl(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw af(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qd=Ge({},"USER_NOT_FOUND","user-not-found");function Hd(){return(Hd=At(Lt().mark((function e(t,n){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ef(t,"POST","/v1/accounts:signInWithPhoneNumber",Zl(t,r),qd));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wd=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone","phone")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Bd.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return zd.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Hd.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(dd);var Gd=function(){function e(t){var n,r,i,a,o,s;h(this,e);var u=Ru(Fu(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Fl(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return g(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ru(Fu(e)).link,n=t?Ru(Fu(t)).deep_link_id:null,r=Ru(Fu(e)).deep_link_id;return(r?Ru(Fu(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(yA){return null}}}]),e}();var Kd=function(){function e(){h(this,e),this.providerId=e.PROVIDER_ID}return g(e,null,[{key:"credential",value:function(e,t){return Md._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Gd.parseLink(t);return Fl(n,"argument-error"),Md._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Kd.PROVIDER_ID="password",Kd.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Kd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Qd=function(){function e(t){h(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return g(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Zd=function(e){b(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).scopes=[],e}return g(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return d(this.scopes)}}]),n}(Qd),Jd=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Fl(e.idToken||e.accessToken,"argument-error"),Fd._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Fl("providerId"in t&&"signInMethod"in t,"argument-error"),Fd._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Zd),Yd=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.call(this,"facebook.com")}return g(n,null,[{key:"credential",value:function(e){return Fd._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(yA){return null}}}]),n}(Zd);Yd.FACEBOOK_SIGN_IN_METHOD="facebook.com",Yd.PROVIDER_ID="facebook.com";var $d=function(e){b(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return g(n,null,[{key:"credential",value:function(e,t){return Fd._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(yA){return null}}}]),n}(Zd);$d.GOOGLE_SIGN_IN_METHOD="google.com",$d.PROVIDER_ID="google.com";var Xd=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.call(this,"github.com")}return g(n,null,[{key:"credential",value:function(e){return Fd._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(yA){return null}}}]),n}(Zd);Xd.GITHUB_SIGN_IN_METHOD="github.com",Xd.PROVIDER_ID="github.com";var eh=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Dd(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Dd(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Dd(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(dd),th=function(e){b(n,e);var t=_(n);function n(e){return h(this,n),Fl(e.startsWith("saml."),"argument-error"),t.call(this,e)}return g(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=eh.fromJSON(e);return Fl(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return eh._create(r,n)}catch(i){return null}}}]),n}(Qd),nh=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.call(this,"twitter.com")}return g(n,null,[{key:"credential",value:function(e,t){return Fd._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(yA){return null}}}]),n}(Zd);function rh(e,t){return ih.apply(this,arguments)}function ih(){return(ih=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ef(t,"POST","/v1/accounts:signUp",Zl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}nh.TWITTER_SIGN_IN_METHOD="twitter.com",nh.PROVIDER_ID="twitter.com";var ah=function(){function e(t){h(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return g(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=At(Lt().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Tf._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=oh(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=At(Lt().mark((function t(n,r,i){var a;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=oh(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function oh(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function sh(){return sh=At(Lt().mark((function e(t){var n,r,i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sd(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ah({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,rh(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ah._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),sh.apply(this,arguments)}var uh=function(e){b(n,e);var t=_(n);function n(e,r,i,a){var o,s;return h(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(x(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return g(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Tu);function ch(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw uh._fromErrorAndOperation(e,n,t,r);throw n}))}function lh(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function fh(e,t){return dh.apply(this,arguments)}function dh(){return dh=At(Lt().mark((function e(t,n){var r,i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zu(t),e.next=3,vh(!0,r,n);case 3:return e.t0=uf,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=lh(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),dh.apply(this,arguments)}function hh(e,t){return ph.apply(this,arguments)}function ph(){return ph=At(Lt().mark((function e(t,n){var r,i,a=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=mf,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ah._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ph.apply(this,arguments)}function vh(e,t,n){return mh.apply(this,arguments)}function mh(){return mh=At(Lt().mark((function e(t,n,r){var i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wf(n);case 2:i=lh(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Fl(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),mh.apply(this,arguments)}function gh(e,t){return yh.apply(this,arguments)}function yh(){return yh=At(Lt().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,mf(t,ch(i,a,n,t),r);case 6:return Fl((o=e.sent).idToken,i,"internal-error"),Fl(s=vf(o.idToken),i,"internal-error"),u=s.sub,Fl(t.uid===u,i,"user-mismatch"),e.abrupt("return",ah._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Pl(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),yh.apply(this,arguments)}function bh(e,t){return kh.apply(this,arguments)}function kh(){return kh=At(Lt().mark((function e(t,n){var r,i,a,o,s=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,ch(t,i,n);case 4:return a=e.sent,e.next=7,ah._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),kh.apply(this,arguments)}function wh(e,t){return xh.apply(this,arguments)}function xh(){return(xh=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bh(sd(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _h(e,t){return Ch.apply(this,arguments)}function Ch(){return Ch=At(Lt().mark((function e(t,n){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zu(t),e.next=3,vh(!1,r,n.providerId);case 3:return e.abrupt("return",hh(r,n));case 4:case"end":return e.stop()}}),e)}))),Ch.apply(this,arguments)}function Sh(e,t){return Eh.apply(this,arguments)}function Eh(){return Eh=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gh(zu(t),n));case 1:case"end":return e.stop()}}),e)}))),Eh.apply(this,arguments)}function Ih(e,t){return Nh.apply(this,arguments)}function Nh(){return(Nh=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ef(t,"POST","/v1/accounts:signInWithCustomToken",Zl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Th(){return(Th=At(Lt().mark((function e(t,n){var r,i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sd(t),e.next=3,Ih(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ah._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lh=function(){function e(t,n){h(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return g(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?jh._fromServerResponse(e,t):"totpInfo"in t?Ah._fromServerResponse(e,t):Pl(e,"internal-error")}}]),e}(),jh=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Lh),Ah=function(e){b(n,e);var t=_(n);function n(e){return h(this,n),t.call(this,"totp",e)}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Lh);function Ph(e,t,n){var r;Fl((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Fl("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Fl(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Fl(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Oh(){return Oh=At(Lt().mark((function e(t,n,r){var i,a,o,s;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=sd(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,rd(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&Ph(a,s,r),e.next=9,Sd(a,s);case 9:e.next=14;break;case 11:return r&&Ph(a,o,r),e.next=14,Sd(a,o).catch(function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,rd(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&Ph(a,n,r),e.next=8,Sd(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),Oh.apply(this,arguments)}function Mh(){return(Mh=At(Lt().mark((function e(t,n,r){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hd(zu(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dh(){return(Dh=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gd(zu(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rh(e,t){return Fh.apply(this,arguments)}function Fh(){return(Fh=At(Lt().mark((function e(t,n){var r,i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zu(t),e.next=3,hd(r,{oobCode:n});case 3:i=e.sent,Fl(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Fl(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Fl(i.mfaInfo,r,"internal-error");case 13:Fl(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Lh._fromServerResponse(sd(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vh(){return(Vh=At(Lt().mark((function e(t,n){var r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rh(zu(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uh(e,t,n){return Bh.apply(this,arguments)}function Bh(){return Bh=At(Lt().mark((function e(t,n,r){var i,a,o,s,u,c,l;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=sd(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,rd(a,o,"signUpPassword");case 5:u=e.sent,s=rh(a,u),e.next=10;break;case 9:s=rh(a,o).catch(function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,rd(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",rh(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,ah._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Bh.apply(this,arguments)}function zh(){return zh=At(Lt().mark((function e(t,n,r){var i,a,o,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){Fl(t.handleCodeInApp,a,"argument-error"),t&&Ph(a,e,t)},a=sd(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,rd(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,Id(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,Id(a,o).catch(function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,rd(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,Id(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),zh.apply(this,arguments)}function qh(){return(qh=At(Lt().mark((function e(t,n,r){var i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zu(t),Fl((a=Kd.credentialWithLink(n,r||Bl()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",wh(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hh(e,t){return Wh.apply(this,arguments)}function Wh(){return(Wh=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jl(t,"POST","/v1/accounts:createAuthUri",Zl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gh(){return(Gh=At(Lt().mark((function e(t,n){var r,i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zl()?Bl():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Hh(zu(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kh(){return Kh=At(Lt().mark((function e(t,n){var r,i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zu(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Ph(r.auth,a,n),e.next=8,_d(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)}))),Kh.apply(this,arguments)}function Qh(){return Qh=At(Lt().mark((function e(t,n,r){var i,a,o,s;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zu(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Ph(i.auth,o,r),e.next=8,Td(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)}))),Qh.apply(this,arguments)}function Zh(e,t){return Jh.apply(this,arguments)}function Jh(){return(Jh=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jl(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yh(){return Yh=At(Lt().mark((function e(t,n){var r,i,a,o,s,u,c;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=zu(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,mf(a,Zh(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)}))),Yh.apply(this,arguments)}function $h(e,t,n){return Xh.apply(this,arguments)}function Xh(){return Xh=At(Lt().mark((function e(t,n,r){var i,a,o,s;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,mf(t,vd(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),Xh.apply(this,arguments)}var ep=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),tp=function(e){b(n,e);var t=_(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i)).username=a,o}return g(n)}(ep),np=function(e){b(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"facebook.com",r)}return g(n)}(ep),rp=function(e){b(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return g(n)}(tp),ip=function(e){b(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"google.com",r)}return g(n)}(ep),ap=function(e){b(n,e);var t=_(n);function n(e,r,i){return h(this,n),t.call(this,e,"twitter.com",r,i)}return g(n)}(tp);function op(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=vf(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ep(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new np(a,i);case"github.com":return new rp(a,i);case"google.com":return new ip(a,i);case"twitter.com":return new ap(a,i,e.screenName||null);case"custom":case"anonymous":return new ep(a,null);default:return new ep(a,r,i)}}(n)}var sp=function(){function e(t,n,r){h(this,e),this.type=t,this.credential=n,this.auth=r}return g(e,[{key:"toJSON",value:function(){return{multiFactorSession:Ge({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),up=function(){function e(t,n,r){h(this,e),this.session=t,this.hints=n,this.signInResolver=r}return g(e,[{key:"resolveSignIn",value:function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=sd(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Lh._fromServerResponse(r,e)}));Fl(i.mfaPendingCredential,r,"internal-error");var o=sp._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=At(Lt().mark((function e(t){var a,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ah._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Fl(n.user,r,"internal-error"),e.abrupt("return",ah._forOperation(n.user,n.operationType,s));case 17:Pl(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function cp(e,t){return Jl(e,"POST","/v2/accounts/mfaEnrollment:start",Zl(e,t))}function lp(e,t){return Jl(e,"POST","/v2/accounts/mfaEnrollment:finalize",Zl(e,t))}var fp=function(){function e(t){var n=this;h(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Lh._fromServerResponse(t.auth,e)})))}))}return g(e,[{key:"getSession",value:function(){var e=At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=sp,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=At(Lt().mark((function e(t,n){var r,i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,mf(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=At(Lt().mark((function e(t){var n,r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,mf(this.user,Jl(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Zl(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),dp=new WeakMap;var hp="__sak",pp=function(){function e(t,n){h(this,e),this.storageRetriever=t,this.type=n}return g(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(hp,"1"),this.storage.removeItem(hp),Promise.resolve(!0)):Promise.resolve(!1)}catch(yA){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var vp=function(e){b(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=_u();return Ff(e)||Hf(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Wf(),e._shouldAllowMigration=!0,e}return g(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Iu()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=At(Lt().mark((function e(t,r){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ml(k(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=At(Lt().mark((function e(t){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ml(k(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ml(k(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(pp);vp.type="LOCAL";var mp=vp,gp=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return g(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(pp);gp.type="SESSION";var yp=gp;function bp(e){return Promise.all(e.map(function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var kp=function(){function e(t){h(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return g(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=At(Lt().mark((function e(t){var n,r,i,a,o,s,u,c;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,bp(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function wp(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}kp.receivers=[];var xp=function(){function e(t){h(this,e),this.target=t,this.handlers=new Set}return g(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=At(Lt().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=wp("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function _p(){return window}function Cp(e){_p().location.href=e}function Sp(){return"undefined"!==typeof _p().WorkerGlobalScope&&"function"===typeof _p().importScripts}function Ep(){return Ip.apply(this,arguments)}function Ip(){return(Ip=At(Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Np(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Tp="firebaseLocalStorageDb",Lp="firebaseLocalStorage",jp="fbase_key",Ap=function(){function e(t){h(this,e),this.request=t}return g(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Pp(e,t){return e.transaction([Lp],t?"readwrite":"readonly").objectStore(Lp)}function Op(){var e=indexedDB.deleteDatabase(Tp);return new Ap(e).toPromise()}function Mp(){var e=indexedDB.open(Tp,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Lp,{keyPath:jp})}catch(r){n(r)}})),e.addEventListener("success",At(Lt().mark((function n(){var r;return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Lp)){n.next=12;break}return r.close(),n.next=5,Op();case 5:return n.t0=t,n.next=8,Mp();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Dp(e,t,n){return Rp.apply(this,arguments)}function Rp(){return Rp=At(Lt().mark((function e(t,n,r){var i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Pp(t,!0).put((Ge(i={},jp,n),Ge(i,"value",r),i)),e.abrupt("return",new Ap(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Rp.apply(this,arguments)}function Fp(e,t){return Vp.apply(this,arguments)}function Vp(){return Vp=At(Lt().mark((function e(t,n){var r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pp(t,!1).get(n),e.next=3,new Ap(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Vp.apply(this,arguments)}function Up(e,t){var n=Pp(e,!0).delete(t);return new Ap(n).toPromise()}var Bp=function(){function e(){h(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return g(e,[{key:"_openDb",value:function(){var e=At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Mp();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=At(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sp()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=At(Lt().mark((function e(){var t=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=kp._getInstance(Sp()?self:null),this.receiver._subscribe("keyChanged",function(){var e=At(Lt().mark((function e(n,r){var i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=At(Lt().mark((function e(){var t,n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ep();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new xp(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Np()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=At(Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Mp();case 5:return t=e.sent,e.next=8,Dp(t,hp,"1");case 8:return e.next=10,Up(t,hp);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=At(Lt().mark((function e(t,n){var r=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Dp(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Fp(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=At(Lt().mark((function e(t){var n=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Up(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=At(Lt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Pp(e,!1).getAll();return new Ap(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=I(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(At(Lt().mark((function t(){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Bp.type="LOCAL";var zp=Bp;function qp(e,t){return Jl(e,"POST","/v2/accounts/mfaSignIn:start",Zl(e,t))}function Hp(e,t){return Jl(e,"POST","/v2/accounts/mfaSignIn:finalize",Zl(e,t))}var Wp=1e12,Gp=function(){function e(t){h(this,e),this.auth=t,this.counter=Wp,this._widgets=new Map}return g(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Kp(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Wp;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Wp;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=At(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Wp,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Kp=function(){function e(t,n,r){var i=this;h(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Fl(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return g(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Qp=td("rcb"),Zp=new Hl(3e4,6e4),Jp=function(){function e(){var t;h(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=_p().grecaptcha)||void 0===t?void 0:t.render)}return g(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Fl(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Yf(_p().grecaptcha)?Promise.resolve(_p().grecaptcha):new Promise((function(r,i){var a=_p().setTimeout((function(){i(Ol(e,"network-request-failed"))}),Zp.get());_p()[Qp]=function(){_p().clearTimeout(a),delete _p()[Qp];var o=_p().grecaptcha;if(o&&Yf(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ol(e,"internal-error"))},ed("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Du({onload:Qp,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ol(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=_p().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Yp=function(){function e(){h(this,e)}return g(e,[{key:"load",value:function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Gp(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),$p="recaptcha",Xp={theme:"light",type:"image"},ev=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Xp),r=arguments.length>2?arguments[2]:void 0;h(this,e),this.parameters=n,this.type=$p,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=sd(r),this.isInvisible="invisible"===this.parameters.size,Fl("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Fl(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Yp:new Jp,this.validateStartingState()}return g(e,[{key:"verify",value:function(){var e=At(Lt().mark((function e(){var t,n,r,i=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Fl(!this.parameters.sitekey,this.auth,"argument-error"),Fl(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Fl("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=_p()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Fl(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=At(Lt().mark((function e(){var t,n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=At(Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fl(zl()&&!Sp(),this.auth,"internal-error"),e.next=3,tv();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Kf(this.auth);case 8:Fl(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Fl(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function tv(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var nv=function(){function e(t,n){h(this,e),this.verificationId=t,this.onConfirmation=n}return g(e,[{key:"confirm",value:function(e){var t=Wd._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function rv(){return(rv=At(Lt().mark((function e(t,n,r){var i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sd(t),e.next=3,sv(i,n,zu(r));case 3:return a=e.sent,e.abrupt("return",new nv(a,(function(e){return wh(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iv(e,t,n){return av.apply(this,arguments)}function av(){return av=At(Lt().mark((function e(t,n,r){var i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zu(t),e.next=3,vh(!1,i,"phone");case 3:return e.next=5,sv(i.auth,n,zu(r));case 5:return a=e.sent,e.abrupt("return",new nv(a,(function(e){return _h(i,e)})));case 7:case"end":return e.stop()}}),e)}))),av.apply(this,arguments)}function ov(){return ov=At(Lt().mark((function e(t,n,r){var i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zu(t),e.next=3,sv(i.auth,n,zu(r));case 3:return a=e.sent,e.abrupt("return",new nv(a,(function(e){return Sh(i,e)})));case 5:case"end":return e.stop()}}),e)}))),ov.apply(this,arguments)}function sv(e,t,n){return uv.apply(this,arguments)}function uv(){return uv=At(Lt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Fl("string"===typeof a,t,"argument-error"),Fl(r.type===$p,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Fl("enroll"===s.type,t,"internal-error"),e.next=13,cp(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Fl("signin"===s.type,t,"internal-error"),Fl(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,qp(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Vd(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),uv.apply(this,arguments)}function cv(){return cv=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hh(zu(t),n);case 2:case"end":return e.stop()}}),e)}))),cv.apply(this,arguments)}var lv=function(){function e(t){h(this,e),this.providerId=e.PROVIDER_ID,this.auth=sd(t)}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return sv(this.auth,e,zu(t))}}],[{key:"credential",value:function(e,t){return Wd._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Wd._fromTokenResponse(n,r):null}}]),e}();function fv(e,t){return t?jf(t):(Fl(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}lv.PROVIDER_ID="phone",lv.PHONE_SIGN_IN_METHOD="phone";var dv=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,"custom","custom")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Dd(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Dd(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Dd(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(dd);function hv(e){return bh(e.auth,new dv(e),e.bypassAuthState)}function pv(e){var t=e.auth,n=e.user;return Fl(n,t,"internal-error"),gh(n,new dv(e),e.bypassAuthState)}function vv(e){return mv.apply(this,arguments)}function mv(){return mv=At(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Fl(r=t.user,n,"internal-error"),e.abrupt("return",hh(r,new dv(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),mv.apply(this,arguments)}var gv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];h(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return g(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=At(Lt().mark((function t(n,r){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=At(Lt().mark((function e(t){var n,r,i,a,o,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hv;case"linkViaPopup":case"linkViaRedirect":return vv;case"reauthViaPopup":case"reauthViaRedirect":return pv;default:Pl(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ul(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ul(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),yv=new Hl(2e3,1e4);function bv(e,t,n){return kv.apply(this,arguments)}function kv(){return(kv=At(Lt().mark((function e(t,n,r){var i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sd(t),Dl(t,n,Qd),a=fv(i,r),o=new Cv(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wv(){return wv=At(Lt().mark((function e(t,n,r){var i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dl((i=zu(t)).auth,n,Qd),a=fv(i.auth,r),o=new Cv(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),wv.apply(this,arguments)}function xv(e,t,n){return _v.apply(this,arguments)}function _v(){return _v=At(Lt().mark((function e(t,n,r){var i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dl((i=zu(t)).auth,n,Qd),a=fv(i.auth,r),o=new Cv(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),_v.apply(this,arguments)}var Cv=function(e){b(n,e);var t=_(n);function n(e,r,i,a,o){var s;return h(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=x(s),s}return g(n,[{key:"executeNotNull",value:function(){var e=At(Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Fl(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=At(Lt().mark((function e(){var t,n=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ul(1===this.filter.length,"Popup operations only handle one event"),t=wp(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ol(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ol(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ol(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,yv.get())}()}}]),n}(gv);Cv.currentPopupAction=null;var Sv="pendingRedirect",Ev=new Map,Iv=function(e){b(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return g(n,[{key:"execute",value:function(){var e=At(Lt().mark((function e(){var t,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ev.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Nv(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ml(k(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ev.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ev.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=At(Lt().mark((function e(t){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ml(k(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ml(k(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(gv);function Nv(e,t){return Tv.apply(this,arguments)}function Tv(){return(Tv=At(Lt().mark((function e(t,n){var r,i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ov(n),i=Pv(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lv(e,t){return jv.apply(this,arguments)}function jv(){return(jv=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pv(t)._set(Ov(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Av(e,t){Ev.set(e._key(),t)}function Pv(e){return jf(e._redirectPersistence)}function Ov(e){return Of(Sv,e.config.apiKey,e.name)}function Mv(e,t,n){return function(e,t,n){return Dv.apply(this,arguments)}(e,t,n)}function Dv(){return(Dv=At(Lt().mark((function e(t,n,r){var i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sd(t),Dl(t,n,Qd),e.next=4,i._initializationPromise;case 4:return a=fv(i,r),e.next=7,Lv(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rv(e,t,n){return function(e,t,n){return Fv.apply(this,arguments)}(e,t,n)}function Fv(){return Fv=At(Lt().mark((function e(t,n,r){var i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dl((i=zu(t)).auth,n,Qd),e.next=4,i.auth._initializationPromise;case 4:return a=fv(i.auth,r),e.next=7,Lv(a,i.auth);case 7:return e.next=9,Wv(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),Fv.apply(this,arguments)}function Vv(e,t,n){return function(e,t,n){return Uv.apply(this,arguments)}(e,t,n)}function Uv(){return Uv=At(Lt().mark((function e(t,n,r){var i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dl((i=zu(t)).auth,n,Qd),e.next=4,i.auth._initializationPromise;case 4:return a=fv(i.auth,r),e.next=7,vh(!1,i,n.providerId);case 7:return e.next=9,Lv(a,i.auth);case 9:return e.next=11,Wv(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)}))),Uv.apply(this,arguments)}function Bv(e,t){return zv.apply(this,arguments)}function zv(){return(zv=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sd(t)._initializationPromise;case 2:return e.abrupt("return",qv(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qv(e,t){return Hv.apply(this,arguments)}function Hv(){return Hv=At(Lt().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=sd(t),a=fv(i,n),o=new Iv(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Hv.apply(this,arguments)}function Wv(e){return Gv.apply(this,arguments)}function Gv(){return Gv=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wp("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Gv.apply(this,arguments)}var Kv=function(){function e(t){h(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return g(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zv(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Zv(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ol(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qv(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Qv(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Qv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Zv(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Jv(e){return Yv.apply(this,arguments)}function Yv(){return Yv=At(Lt().mark((function e(t){var n,r=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Jl(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Yv.apply(this,arguments)}var $v=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xv=/^https?/;function em(){return(em=At(Lt().mark((function e(t){var n,r,i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Jv(t);case 4:n=e.sent,r=n.authorizedDomains,i=I(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!tm(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Pl(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function tm(e){var t=Bl(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Xv.test(r))return!1;if($v.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var nm=new Hl(3e4,6e4);function rm(){var e=_p().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=d(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var im=null;function am(e){return im=im||function(e){return new Promise((function(t,n){var r,i,a;function o(){rm(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){rm(),n(Ol(e,"network-request-failed"))},timeout:nm.get()})}if(null===(i=null===(r=_p().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=_p().gapi)||void 0===a?void 0:a.load)){var s=td("iframefcb");return _p()[s]=function(){gapi.load?o():n(Ol(e,"network-request-failed"))},ed("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw im=null,e}))}(e),im}var om=new Hl(5e3,15e3),sm="__/auth/iframe",um="emulator/auth/iframe",cm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fm(e){var t=e.config;Fl(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Wl(t,um):"https://".concat(e.config.authDomain,"/").concat(sm),r={apiKey:t.apiKey,appName:e.name,v:Rc},i=lm.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Du(r).slice(1))}function dm(e){return hm.apply(this,arguments)}function hm(){return hm=At(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,am(t);case 2:return n=e.sent,Fl(r=_p().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:fm(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cm,dontclear:!0},(function(e){return new Promise(function(){var n=At(Lt().mark((function n(r,i){var a,o,s;return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){_p().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ol(t,"network-request-failed"),o=_p().setTimeout((function(){i(a)}),om.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),hm.apply(this,arguments)}var pm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vm=function(){function e(t){h(this,e),this.window=t,this.associatedEvent=null}return g(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function mm(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},pm),{width:r.toString(),height:i.toString(),top:a,left:o}),c=_u().toLowerCase();n&&(s=Vf(c)?"_blank":n),Rf(c)&&(t=t||"http://localhost",u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Hf(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_u())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new vm(null);var d=window.open(t||"",s,f);Fl(d,e,"popup-blocked");try{d.focus()}catch(h){}return new vm(d)}var gm="__/auth/handler",ym="emulator/auth/handler",bm=encodeURIComponent("fac");function km(e,t,n,r,i,a){return wm.apply(this,arguments)}function wm(){return(wm=At(Lt().mark((function e(t,n,r,i,a,o){var s,u,c,f,d,h,p,v,m,g,y,b,k;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fl(t.config.authDomain,t,"auth-domain-config-required"),Fl(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Rc,eventId:a},n instanceof Qd)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",Pu(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(o||{});u<c.length;u++)f=l(c[u],2),d=f[0],h=f[1],s[d]=h;for(n instanceof Zd&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,g=Object.keys(v);m<g.length;m++)y=g[m],void 0===v[y]&&delete v[y];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,k=b?"#".concat(bm,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat(xm(t),"?").concat(Du(v).slice(1)).concat(k));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xm(e){var t=e.config;return t.emulator?Wl(t,ym):"https://".concat(t.authDomain,"/").concat(gm)}var _m="webStorageSupport",Cm=function(){function e(){h(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yp,this._completeRedirectFn=qv,this._overrideRedirectResult=Av}return g(e,[{key:"_openPopup",value:function(){var e=At(Lt().mark((function e(t,n,r,i){var a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ul(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,km(t,n,r,Bl(),i);case 3:return o=e.sent,e.abrupt("return",mm(t,o,wp()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=At(Lt().mark((function e(t,n,r,i){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,km(t,n,r,Bl(),i);case 4:return Cp(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ul(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=At(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dm(t);case 2:return n=e.sent,r=new Kv(t),n.register("authEvent",(function(e){return Fl(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(_m,{type:_m},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[_m];void 0!==i&&t(!!i),Pl(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return em.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Wf()||Ff()||Hf()}}]),e}(),Sm=Cm,Em=function(){function e(t){h(this,e),this.factorId=t}return g(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Vl("unexpected MultiFactorSessionType")}}}]),e}(),Im=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone")).credential=e,r}return g(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Jl(e,"POST","/v2/accounts/mfaEnrollment:finalize",Zl(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Jl(e,"POST","/v2/accounts/mfaSignIn:finalize",Zl(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Em),Nm=function(){function e(){h(this,e)}return g(e,null,[{key:"assertion",value:function(e){return Im._fromCredential(e)}}]),e}();Nm.FACTOR_ID="phone";var Tm=function(){function e(){h(this,e)}return g(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Lm._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Lm._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=At(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fl("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,i=n.auth,a={idToken:n.credential,totpEnrollmentInfo:{}},Jl(i,"POST","/v2/accounts/mfaEnrollment:start",Zl(i,a));case 4:return r=e.sent,e.abrupt("return",jm._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var i,a}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Tm.FACTOR_ID="totp";var Lm=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return g(n,[{key:"_finalizeEnroll",value:function(){var e=At(Lt().mark((function e(t,n,r){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fl("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",lp(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=At(Lt().mark((function e(t,n){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fl(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Hp(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Em),jm=function(){function e(t,n,r,i,a,o,s){h(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return g(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Am(e)||Am(t))&&(r=!0),r&&(Am(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Am(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Am(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Pm="@firebase/auth",Om="0.23.2",Mm=function(){function e(t){h(this,e),this.auth=t,this.internalListeners=new Map}return g(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Fl(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Dm;!function(e){var t;null===(t=ku())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Rm(){return window}Dm="Browser",Lc(new qu("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;Fl(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:Dm,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gf(Dm)},l=new od(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jf);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Lc(new qu("auth-internal",(function(e){return function(e){return new Mm(e)}(sd(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),qc(Pm,Om,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Dm)),qc(Pm,Om,"esm2017");var Fm=2e3;function Vm(e,t,n){return Um.apply(this,arguments)}function Um(){return Um=At(Lt().mark((function e(t,n,r){var i,a,o,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Rm(),o=a.BuildInfo,Ul(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Gm(n.sessionId);case 4:return s=e.sent,u={},Hf()?u.ibi=o.packageName:Bf()?u.apn=o.packageName:Pl(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",km(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Um.apply(this,arguments)}function Bm(){return(Bm=At(Lt().mark((function e(t){var n,r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rm(),r=n.BuildInfo,i={},Hf()?i.iosBundleId=r.packageName:Bf()?i.androidPackageName=r.packageName:Pl(t,"operation-not-supported-in-this-environment"),e.next=5,Jv(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zm(e){var t=Rm().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_u();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function qm(e,t,n){return Hm.apply(this,arguments)}function Hm(){return Hm=At(Lt().mark((function e(t,n,r){var i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rm(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Ol(t,"redirect-cancelled-by-user"))}),Fm))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Bf()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Hm.apply(this,arguments)}function Wm(e){var t,n,r,i,a,o,s,u,c,l,f=Rm();Fl("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Fl("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Fl("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Fl("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Fl("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Gm(e){return Km.apply(this,arguments)}function Km(){return(Km=At(Lt().mark((function e(t){var n,r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qm(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qm(e){if(Ul(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Zm=20,Jm=function(e){b(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return g(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ml(k(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Kv);function Ym(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:ng(),postBody:null,tenantId:e.tenantId,error:Ol(e,"no-auth-event")}}function $m(e,t){return rg()._set(ig(e),t)}function Xm(e){return eg.apply(this,arguments)}function eg(){return(eg=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rg()._get(ig(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,rg()._remove(ig(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tg(e,t){var n,r,i=function(e){var t=ag(e),n=t.link?decodeURIComponent(t.link):void 0,r=ag(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ag(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=ag(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Ol(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function ng(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Zm;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function rg(){return jf(mp)}function ig(e){return Of("authEvent",e.config.apiKey,e.name)}function ag(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=E(e.split("?"));t[0];return Ru(t.slice(1).join("?"))}var og=function(){function e(){h(this,e),this._redirectPersistence=yp,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qv,this._overrideRedirectResult=Av}return g(e,[{key:"_initialize",value:function(){var e=At(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Jm(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Pl(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=At(Lt().mark((function e(t,n,r,i){var a,o,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wm(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Ev.clear(),e.next=10,this._originValidation(t);case 10:return o=Ym(t,r,i),e.next=13,$m(t,o);case 13:return e.next=15,Vm(t,o,n);case 15:return s=e.sent,e.next=18,zm(s);case 18:return u=e.sent,e.abrupt("return",qm(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Bm.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Rm(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(At(Lt().mark((function n(){return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Xm(e);case 2:t.onEvent(ug());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=At(Lt().mark((function n(r){var i,a;return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Xm(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=tg(i,r.url)),t.onEvent(a||ug());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Rm().handleOpenURL=function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),sg=og;function ug(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ol("no-auth-event")}}var cg=1e3;function lg(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function fg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_u();return!("file:"!==lg()&&"ionic:"!==lg()&&"capacitor:"!==lg()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function dg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_u();return Iu()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_u();return/Edge\/\d+/.test(e)}(e)}function hg(){try{var e=self.localStorage,t=wp();if(e)return e.setItem(t,"1"),e.removeItem(t),!dg()||Nu()}catch(n){return pg()&&Nu()}return!1}function pg(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function vg(){return("http:"===lg()||"https:"===lg()||Su()||fg())&&!(Eu()||Cu())&&hg()&&!pg()}function mg(){return fg()&&"undefined"!==typeof document}function gg(){return yg.apply(this,arguments)}function yg(){return(yg=At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mg()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),cg);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bg={LOCAL:"local",NONE:"none",SESSION:"session"},kg=Fl,wg="persistence";function xg(e,t){kg(Object.values(bg).includes(t),e,"invalid-persistence-type"),Eu()?kg(t!==bg.SESSION,e,"unsupported-persistence-type"):Cu()?kg(t===bg.NONE,e,"unsupported-persistence-type"):pg()?kg(t===bg.NONE||t===bg.LOCAL&&Nu(),e,"unsupported-persistence-type"):kg(t===bg.NONE||hg(),e,"unsupported-persistence-type")}function _g(e){return Cg.apply(this,arguments)}function Cg(){return(Cg=At(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Sg(),r=Of(wg,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sg(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Eg=Fl,Ig=function(){function e(){h(this,e),this.browserResolver=jf(Sm),this.cordovaResolver=jf(sg),this.underlyingResolver=null,this._redirectPersistence=yp,this._completeRedirectFn=qv,this._overrideRedirectResult=Av}return g(e,[{key:"_initialize",value:function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=At(Lt().mark((function e(t,n,r,i){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=At(Lt().mark((function e(t,n,r,i){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return mg()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Eg(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=At(Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,gg();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ng(e){return e.unwrap()}function Tg(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Og(e,function(e,t){var n,r=zu(e),i=t;return Fl(t.customData.operationType,r,"argument-error"),Fl(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),up._fromError(r,i)}(e,t));else if(r){var i=Lg(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Lg(e){var t=(e instanceof Tu?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Tu)&&"temporaryProof"in t&&"phoneNumber"in t)return lv.credentialFromResult(e);var n,r=t.providerId;if(!r||r===bl.PASSWORD)return null;switch(r){case bl.GOOGLE:n=$d;break;case bl.FACEBOOK:n=Yd;break;case bl.GITHUB:n=Xd;break;case bl.TWITTER:n=nh;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?eh._create(r,s):Fd._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Jd(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Tu?n.credentialFromError(e):n.credentialFromResult(e)}function jg(e,t){return t.catch((function(t){throw t instanceof Tu&&Tg(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Lg(t)),additionalUserInfo:op(e),user:Mg.getOrCreate(r)}}))}function Ag(e,t){return Pg.apply(this,arguments)}function Pg(){return(Pg=At(Lt().mark((function e(t,n){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return jg(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Og=function(){function e(t,n){h(this,e),this.resolver=n,this.auth=t.wrapped()}return g(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return jg(Ng(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Mg=function(){function e(t){h(this,e),this._delegate=t,this.multiFactor=function(e){var t=zu(e);return dp.has(t)||dp.set(t,fp._fromUser(t)),dp.get(t)}(t)}return g(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jg(this.auth,_h(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ag(this.auth,iv(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jg(this.auth,xv(this._delegate,t,Ig)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_g(sd(this.auth));case 2:return e.abrupt("return",Vv(this._delegate,t,Ig));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jg(this.auth,Sh(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Ag(this.auth,function(e,t,n){return ov.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return jg(this.auth,function(e,t,n){return wv.apply(this,arguments)}(this._delegate,e,Ig))}},{key:"reauthenticateWithRedirect",value:function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_g(sd(this.auth));case 2:return e.abrupt("return",Rv(this._delegate,t,Ig));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Kh.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fh(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return $h(zu(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return $h(zu(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return cv.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Yh.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Qh.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Mg.USER_MAP=new WeakMap;var Dg=Fl,Rg=function(){function e(t,n){if(h(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Dg(r,"invalid-api-key",{appName:t.name}),Dg(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Ig:void 0;this._delegate=n.initialize({options:{persistence:Vg(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Il),this.linkUnderlyingAuth()}return g(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Mg.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){cd(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Dh.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Rh(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Mh.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jg(this._delegate,Uh(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Gh.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Gd.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=At(Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dg(vg(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Bv(this._delegate,Ig);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",jg(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){sd(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Fg(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Fg(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return zh.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Oh.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=At(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xg(this._delegate,t),e.t0=t,e.next=e.t0===bg.SESSION?4:e.t0===bg.LOCAL?6:e.t0===bg.NONE?11:13;break;case 4:return n=yp,e.abrupt("break",14);case 6:return e.next=8,jf(zp)._isAvailable();case 8:return r=e.sent,n=r?zp:mp,e.abrupt("break",14);case 11:return n=Pf,e.abrupt("break",14);case 13:return e.abrupt("return",Pl("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return jg(this._delegate,function(e){return sh.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return jg(this._delegate,wh(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return jg(this._delegate,function(e,t){return Th.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return jg(this._delegate,function(e,t,n){return wh(zu(e),Kd.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return jg(this._delegate,function(e,t,n){return qh.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Ag(this._delegate,function(e,t,n){return rv.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dg(vg(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",jg(this._delegate,bv(this._delegate,t,Ig)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dg(vg(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,_g(this._delegate);case 3:return e.abrupt("return",Mv(this._delegate,t,Ig));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Vh.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Fg(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Mg.getOrCreate(e))},error:t,complete:n}}function Vg(e,t){var n=function(e,t){var n=Sg();if(!n)return[];var r=Of(wg,e,t);switch(n.getItem(r)){case bg.NONE:return[Pf];case bg.LOCAL:return[zp,yp];case bg.SESSION:return[yp];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(zp)||n.push(zp),"undefined"!==typeof window)for(var r=0,i=[mp,yp];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Pf)||n.push(Pf),n}Rg.Persistence=bg;var Ug=function(){function e(){h(this,e),this.providerId="phone",this._delegate=new lv(Ng(vl.auth()))}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return lv.credential(e,t)}}]),e}();Ug.PHONE_SIGN_IN_METHOD=lv.PHONE_SIGN_IN_METHOD,Ug.PROVIDER_ID=lv.PROVIDER_ID;var Bg,zg=Fl,qg=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vl.app();h(this,e),zg(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new ev(t,n,i.auth()),this.type=this._delegate.type}return g(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Bg=vl).INTERNAL.registerComponent(new qu("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Rg(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:kl,PASSWORD_RESET:wl,RECOVER_EMAIL:xl,REVERT_SECOND_FACTOR_ADDITION:_l,VERIFY_AND_CHANGE_EMAIL:Cl,VERIFY_EMAIL:Sl}},EmailAuthProvider:Kd,FacebookAuthProvider:Yd,GithubAuthProvider:Xd,GoogleAuthProvider:$d,OAuthProvider:Jd,SAMLAuthProvider:th,PhoneAuthProvider:Ug,PhoneMultiFactorGenerator:Nm,RecaptchaVerifier:qg,TwitterAuthProvider:nh,Auth:Rg,AuthCredential:dd,Error:Tu}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Bg.registerVersion("@firebase/auth-compat","0.4.2");var Hg,Wg="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Gg={},Kg=Kg||{},Qg=Wg||self;function Zg(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Jg(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Yg="closure_uid_"+(1e9*Math.random()>>>0),$g=0;function Xg(e,t,n){return e.call.apply(e.bind,arguments)}function ey(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ty(e,t,n){return(ty=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xg:ey).apply(null,arguments)}function ny(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ry(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function iy(){this.s=this.s,this.o=this.o}iy.prototype.s=!1,iy.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Yg)&&e[Yg]||(e[Yg]=++$g)}(this)},iy.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ay=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function oy(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function sy(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Zg(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function uy(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}uy.prototype.h=function(){this.defaultPrevented=!0};var cy=function(){if(!Qg.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Qg.addEventListener("test",(function(){}),t),Qg.removeEventListener("test",(function(){}),t)}catch(oa){}return e}();function ly(e){return/^[\s\xa0]*$/.test(e)}function fy(){var e=Qg.navigator;return e&&(e=e.userAgent)?e:""}function dy(e){return-1!=fy().indexOf(e)}function hy(e){return hy[" "](e),e}hy[" "]=function(){};var py,vy,my=dy("Opera"),gy=dy("Trident")||dy("MSIE"),yy=dy("Edge"),by=yy||gy,ky=dy("Gecko")&&!(-1!=fy().toLowerCase().indexOf("webkit")&&!dy("Edge"))&&!(dy("Trident")||dy("MSIE"))&&!dy("Edge"),wy=-1!=fy().toLowerCase().indexOf("webkit")&&!dy("Edge");function xy(){var e=Qg.document;return e?e.documentMode:void 0}e:{var _y="",Cy=function(){var e=fy();return ky?/rv:([^\);]+)(\)|;)/.exec(e):yy?/Edge\/([\d\.]+)/.exec(e):gy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):wy?/WebKit\/(\S+)/.exec(e):my?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Cy&&(_y=Cy?Cy[1]:""),gy){var Sy=xy();if(null!=Sy&&Sy>parseFloat(_y)){py=String(Sy);break e}}py=_y}if(Qg.document&&gy){var Ey=xy();vy=Ey||(parseInt(py,10)||void 0)}else vy=void 0;var Iy=vy;function Ny(e,t){if(uy.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ky){e:{try{hy(t.nodeName);var i=!0;break e}catch(aa){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ty[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ny.$.h.call(this)}}ry(Ny,uy);var Ty={2:"touch",3:"pen",4:"mouse"};Ny.prototype.h=function(){Ny.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ly="closure_listenable_"+(1e6*Math.random()|0),jy=0;function Ay(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++jy,this.fa=this.ia=!1}function Py(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Oy(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function My(e){var t={};for(var n in e)t[n]=e[n];return t}var Dy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ry(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Dy.length;a++)n=Dy[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Fy(e){this.src=e,this.g={},this.h=0}function Vy(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ay(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Py(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Uy(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Fy.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Uy(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Ay(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var By="closure_lm_"+(1e6*Math.random()|0),zy={};function qy(e,t,n,r,i){if(r&&r.once)return Wy(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)qy(e,t[a],n,r,i);return null}return n=$y(n),e&&e[Ly]?e.O(t,n,Jg(r)?!!r.capture:!!r,i):Hy(e,t,n,!1,r,i)}function Hy(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Jg(i)?!!i.capture:!!i,s=Jy(e);if(s||(e[By]=s=new Fy(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Zy;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)cy||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Qy(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Wy(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Wy(e,t[a],n,r,i);return null}return n=$y(n),e&&e[Ly]?e.P(t,n,Jg(r)?!!r.capture:!!r,i):Hy(e,t,n,!0,r,i)}function Gy(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Gy(e,t[a],n,r,i);else r=Jg(r)?!!r.capture:!!r,n=$y(n),e&&e[Ly]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Uy(a=e.g[t],n,r,i))&&(Py(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Jy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Uy(t,n,r,i)),(n=-1<e?t[e]:null)&&Ky(n))}function Ky(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ly])Vy(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Qy(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Jy(t))?(Vy(n,e),0==n.h&&(n.src=null,t[By]=null)):Py(e)}}}function Qy(e){return e in zy?zy[e]:zy[e]="on"+e}function Zy(e,t){if(e.fa)e=!0;else{t=new Ny(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ky(e),e=n.call(r,t)}return e}function Jy(e){return(e=e[By])instanceof Fy?e:null}var Yy="__closure_events_fn_"+(1e9*Math.random()>>>0);function $y(e){return"function"===typeof e?e:(e[Yy]||(e[Yy]=function(t){return e.handleEvent(t)}),e[Yy])}function Xy(){iy.call(this),this.i=new Fy(this),this.S=this,this.J=null}function eb(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new uy(t,e);else if(t instanceof uy)t.target=t.target||e;else{var i=t;Ry(t=new uy(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=tb(o,r,!0,t)&&i}if(i=tb(o=t.g=e,r,!0,t)&&i,i=tb(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=tb(o=t.g=n[a],r,!1,t)&&i}function tb(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Vy(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ry(Xy,iy),Xy.prototype[Ly]=!0,Xy.prototype.removeEventListener=function(e,t,n,r){Gy(this,e,t,n,r)},Xy.prototype.N=function(){if(Xy.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Py(n[r]);delete t.g[e],t.h--}}this.J=null},Xy.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Xy.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var nb=Qg.JSON.stringify,rb=function(){function e(t,n){h(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return g(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function ib(){var e=db,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ab=function(){function e(){h(this,e),this.h=this.g=null}return g(e,[{key:"add",value:function(e,t){var n=ob.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ob=new rb((function(){return new sb}),(function(e){return e.reset()})),sb=function(){function e(){h(this,e),this.next=this.g=this.h=null}return g(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ub(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function cb(e){Qg.setTimeout((function(){throw e}),0)}var lb,fb=!1,db=new ab,hb=function(){var e=Qg.Promise.resolve(void 0);lb=function(){e.then(pb)}},pb=function(){for(var e;e=ib();){try{e.h.call(e.g)}catch(oa){cb(oa)}var t=ob;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}fb=!1};function vb(e,t){Xy.call(this),this.h=e||1,this.g=t||Qg,this.j=ty(this.qb,this),this.l=Date.now()}function mb(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function gb(e,t,n){if("function"===typeof e)n&&(e=ty(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ty(e.handleEvent,e)}return 2147483647<Number(t)?-1:Qg.setTimeout(e,t||0)}function yb(e){e.g=gb((function(){e.g=null,e.i&&(e.i=!1,yb(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ry(vb,Xy),(Hg=vb.prototype).ga=!1,Hg.T=null,Hg.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),eb(this,"tick"),this.ga&&(mb(this),this.start()))}},Hg.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Hg.N=function(){vb.$.N.call(this),mb(this),delete this.g};var bb=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return g(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:yb(this)}},{key:"N",value:function(){ml(k(n.prototype),"N",this).call(this),this.g&&(Qg.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(iy);function kb(e){iy.call(this),this.h=e,this.g={}}ry(kb,iy);var wb=[];function xb(e,t,n,r){Array.isArray(n)||(n&&(wb[0]=n.toString()),n=wb);for(var i=0;i<n.length;i++){var a=qy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function _b(e){Oy(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ky(e)}),e),e.g={}}function Cb(){this.g=!0}function Sb(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return nb(n)}catch($i){return t}}(e,n)+(r?" "+r:"")}))}kb.prototype.N=function(){kb.$.N.call(this),_b(this)},kb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cb.prototype.Ea=function(){this.g=!1},Cb.prototype.info=function(){};var Eb={},Ib=null;function Nb(){return Ib=Ib||new Xy}function Tb(e){uy.call(this,Eb.Ta,e)}function Lb(e){var t=Nb();eb(t,new Tb(t))}function jb(e,t){uy.call(this,Eb.STAT_EVENT,e),this.stat=t}function Ab(e){var t=Nb();eb(t,new jb(t,e))}function Pb(e,t){uy.call(this,Eb.Ua,e),this.size=t}function Ob(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Qg.setTimeout((function(){e()}),t)}Eb.Ta="serverreachability",ry(Tb,uy),Eb.STAT_EVENT="statevent",ry(jb,uy),Eb.Ua="timingevent",ry(Pb,uy);var Mb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Db={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Rb(){}function Fb(e){return e.h||(e.h=e.i())}function Vb(){}Rb.prototype.h=null;var Ub,Bb={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zb(){uy.call(this,"d")}function qb(){uy.call(this,"c")}function Hb(){}function Wb(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new kb(this),this.P=Kb,e=by?125:void 0,this.V=new vb(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Gb}function Gb(){this.i=null,this.g="",this.h=!1}ry(zb,uy),ry(qb,uy),ry(Hb,Rb),Hb.prototype.g=function(){return new XMLHttpRequest},Hb.prototype.i=function(){return{}},Ub=new Hb;var Kb=45e3,Qb={},Zb={};function Jb(e,t,n){e.L=1,e.v=vk(lk(t)),e.s=n,e.S=!0,Yb(e,null)}function Yb(e,t){e.G=Date.now(),tk(e),e.A=lk(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Nk(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Gb,e.g=Nw(e.l,n?t:null,!e.s),0<e.O&&(e.M=new bb(ty(e.Pa,e,e.g),e.O)),xb(e.U,e.g,"readystatechange",e.nb),t=e.I?My(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Lb(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function $b(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Xb(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=ek(e,n))==Zb){4==t&&(e.o=4,Ab(14),i=!1),Sb(e.j,e.m,null,"[Incomplete Response]");break}if(r==Qb){e.o=4,Ab(15),Sb(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Sb(e.j,e.m,r,null),ok(e,r)}$b(e)&&r!=Zb&&r!=Qb&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ab(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),kw(t),t.M=!0,Ab(11))):(Sb(e.j,e.m,n,"[Invalid Chunked Response]"),ak(e),ik(e))}function ek(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Zb:(n=Number(t.substring(n,r)),isNaN(n)?Qb:(r+=1)+n>t.length?Zb:(t=t.slice(r,r+n),e.C=r+n,t))}function tk(e){e.Y=Date.now()+e.P,nk(e,e.P)}function nk(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ob(ty(e.lb,e),t)}function rk(e){e.B&&(Qg.clearTimeout(e.B),e.B=null)}function ik(e){0==e.l.H||e.J||_w(e.l,e)}function ak(e){rk(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,mb(e.V),_b(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ok(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Mk(n.i,e)))if(!e.K&&Mk(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;xw(n),dw(n)}bw(n),Ab(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ob(ty(n.ib,n),6e3));if(1>=Ok(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Sw(n,11)}else if((e.K||n.g==e)&&xw(n),!ly(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Dk(f,f.h),f.h=null))}if(r.F){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.Da=d,pk(r.I,r.F,d))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var h=e;if((r=n).wa=Iw(r,r.J?r.pa:null,r.Y),h.K){Rk(r.i,h);var p=h,v=r.L;v&&p.setTimeout(v),p.B&&(rk(p),tk(p)),r.g=h}else yw(r);0<n.j.length&&pw(n)}else"stop"!=a[0]&&"close"!=a[0]||Sw(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Sw(n,7):fw(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Lb()}catch(a){}}function sk(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Zg(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Zg(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Zg(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Hg=Wb.prototype).setTimeout=function(e){this.P=e},Hg.nb=function(e){e=e.target;var t=this.M;t&&3==aw(e)?t.l():this.Pa(e)},Hg.Pa=function(e){try{if(e==this.g)e:{var t=aw(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||by||this.g&&(this.h.h||this.g.ja()||ow(this.g)))){this.J||4!=t||7==n||Lb(),rk(this);var r=this.g.da();this.ca=r;t:if($b(this)){var i=ow(this.g);e="";var a=i.length,o=4==aw(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ak(this),ik(this);var s="";break t}this.h.i=new Qg.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ly(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Ab(12),ak(this),ik(this);break e}Sb(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ok(this,r)}this.S?(Xb(this,t,s),by&&this.i&&3==t&&(xb(this.U,this.V,"tick",this.mb),this.V.start())):(Sb(this.j,this.m,s,null),ok(this,s)),4==t&&ak(this),this.i&&!this.J&&(4==t?_w(this.l,this):(this.i=!1,tk(this)))}else(function(e){var t={};e=(e.g&&2<=aw(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!ly(e[n])){var r=ub(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Ab(12)):(this.o=0,Ab(13)),ak(this),ik(this)}}}catch(t){}},Hg.mb=function(){if(this.g){var e=aw(this.g),t=this.g.ja();this.C<t.length&&(rk(this),Xb(this,e,t),this.i&&4!=e&&tk(this))}},Hg.cancel=function(){this.J=!0,ak(this)},Hg.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Lb(),Ab(17)),ak(this),this.o=2,ik(this)):nk(this,this.Y-e)};var uk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ck(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ck){this.h=e.h,fk(this,e.j),this.s=e.s,this.g=e.g,dk(this,e.m),this.l=e.l;var t=e.i,n=new Ck;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),hk(this,n),this.o=e.o}else e&&(t=String(e).match(uk))?(this.h=!1,fk(this,t[1]||"",!0),this.s=mk(t[2]||""),this.g=mk(t[3]||"",!0),dk(this,t[4]),this.l=mk(t[5]||"",!0),hk(this,t[6]||"",!0),this.o=mk(t[7]||"")):(this.h=!1,this.i=new Ck(null,this.h))}function lk(e){return new ck(e)}function fk(e,t,n){e.j=n?mk(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function dk(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function hk(e,t,n){t instanceof Ck?(e.i=t,function(e,t){t&&!e.j&&(Sk(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ek(this,t),Nk(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=gk(t,xk)),e.i=new Ck(t,e.h))}function pk(e,t,n){e.i.set(t,n)}function vk(e){return pk(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function mk(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function gk(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,yk),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function yk(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ck.prototype.toString=function(){var e=[],t=this.j;t&&e.push(gk(t,bk,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(gk(t,bk,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(gk(n,"/"==n.charAt(0)?wk:kk,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",gk(n,_k)),e.join("")};var bk=/[#\/\?@]/g,kk=/[#\?:]/g,wk=/[#\?]/g,xk=/[#\?@]/g,_k=/#/g;function Ck(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Sk(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ek(e,t){Sk(e),t=Tk(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ik(e,t){return Sk(e),t=Tk(e,t),e.g.has(t)}function Nk(e,t,n){Ek(e,t),0<n.length&&(e.i=null,e.g.set(Tk(e,t),oy(n)),e.h+=n.length)}function Tk(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Hg=Ck.prototype).add=function(e,t){Sk(this),this.i=null,e=Tk(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Hg.forEach=function(e,t){Sk(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Hg.ta=function(){Sk(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Hg.Z=function(e){Sk(this);var t=[];if("string"===typeof e)Ik(this,e)&&(t=t.concat(this.g.get(Tk(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Hg.set=function(e,t){return Sk(this),this.i=null,Ik(this,e=Tk(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Hg.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Hg.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Lk=g((function e(t,n){h(this,e),this.g=t,this.map=n}));function jk(e){this.l=e||Ak,Qg.PerformanceNavigationTiming?e=0<(e=Qg.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Qg.g&&Qg.g.Ka&&Qg.g.Ka()&&Qg.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ak=10;function Pk(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ok(e){return e.h?1:e.g?e.g.size:0}function Mk(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Dk(e,t){e.g?e.g.add(t):e.h=t}function Rk(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Fk(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=I(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return oy(e.i)}jk.prototype.cancel=function(){if(this.i=Fk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=I(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Vk=function(){function e(){h(this,e)}return g(e,[{key:"stringify",value:function(e){return Qg.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Qg.JSON.parse(e,void 0)}}]),e}();function Uk(){this.g=new Vk}function Bk(e,t,n){var r=n||"";try{sk(e,(function(e,n){var i=e;Jg(e)&&(i=nb(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function zk(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(aa){}}function qk(e){this.l=e.fc||null,this.j=e.ob||!1}function Hk(e,t){Xy.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Wk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ry(qk,Rb),qk.prototype.g=function(){return new Hk(this.l,this.j)},qk.prototype.i=function(e){return function(){return e}}({}),ry(Hk,Xy);var Wk=0;function Gk(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Kk(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Qk(e)}function Qk(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Hg=Hk.prototype).open=function(e,t){if(this.readyState!=Wk)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Qk(this)},Hg.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Qg).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Hg.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kk(this)),this.readyState=Wk},Hg.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Qk(this)),this.g&&(this.readyState=3,Qk(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Qg.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gk(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Hg.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Kk(this):Qk(this),3==this.readyState&&Gk(this)}},Hg.Za=function(e){this.g&&(this.response=this.responseText=e,Kk(this))},Hg.Ya=function(e){this.g&&(this.response=e,Kk(this))},Hg.ka=function(){this.g&&Kk(this)},Hg.setRequestHeader=function(e,t){this.v.append(e,t)},Hg.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Hg.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Hk.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Zk=Qg.JSON.parse;function Jk(e){Xy.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Yk,this.L=this.M=!1}ry(Jk,Xy);var Yk="",$k=/^https?$/i,Xk=["POST","PUT"];function ew(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,tw(e),rw(e)}function tw(e){e.F||(e.F=!0,eb(e,"complete"),eb(e,"error"))}function nw(e){if(e.h&&"undefined"!=typeof Kg&&(!e.C[1]||4!=aw(e)||2!=e.da()))if(e.v&&4==aw(e))gb(e.La,0,e);else if(eb(e,"readystatechange"),4==aw(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(uk)[1]||null;!a&&Qg.self&&Qg.self.location&&(a=Qg.self.location.protocol.slice(0,-1)),i=!$k.test(a?a.toLowerCase():"")}t=i}if(t)eb(e,"complete"),eb(e,"success");else{e.m=6;try{var o=2<aw(e)?e.g.statusText:""}catch($i){o=""}e.j=o+" ["+e.da()+"]",tw(e)}}finally{rw(e)}}}function rw(e,t){if(e.g){iw(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||eb(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function iw(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Qg.clearTimeout(e.A),e.A=null)}function aw(e){return e.g?e.g.readyState:0}function ow(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Yk:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(pa){return null}}function sw(e){var t="";return Oy(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function uw(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=sw(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):pk(e,t,n))}function cw(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function lw(e){this.Ga=0,this.j=[],this.l=new Cb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=cw("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=cw("baseRetryDelayMs",5e3,e),this.hb=cw("retryDelaySeedMs",1e4,e),this.eb=cw("forwardChannelMaxRetries",2,e),this.xa=cw("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new jk(e&&e.concurrentRequestLimit),this.Ja=new Uk,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function fw(e){if(hw(e),3==e.H){var t=e.W++,n=lk(e.I);if(pk(n,"SID",e.K),pk(n,"RID",t),pk(n,"TYPE","terminate"),mw(e,n),(t=new Wb(e,e.l,t)).L=2,t.v=vk(lk(n)),n=!1,Qg.navigator&&Qg.navigator.sendBeacon)try{n=Qg.navigator.sendBeacon(t.v.toString(),"")}catch(fa){}!n&&Qg.Image&&((new Image).src=t.v,n=!0),n||(t.g=Nw(t.l,null),t.g.ha(t.v)),t.G=Date.now(),tk(t)}Ew(e)}function dw(e){e.g&&(kw(e),e.g.cancel(),e.g=null)}function hw(e){dw(e),e.u&&(Qg.clearTimeout(e.u),e.u=null),xw(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Qg.clearTimeout(e.m),e.m=null)}function pw(e){if(!Pk(e.i)&&!e.m){e.m=!0;var t=e.Na;lb||hb(),fb||(lb(),fb=!0),db.add(t,e),e.C=0}}function vw(e,t){var n;n=t?t.m:e.W++;var r=lk(e.I);pk(r,"SID",e.K),pk(r,"RID",n),pk(r,"AID",e.V),mw(e,r),e.o&&e.s&&uw(r,e.o,e.s),n=new Wb(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=gw(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Dk(e.i,n),Jb(n,r,t)}function mw(e,t){e.na&&Oy(e.na,(function(e,n){pk(t,n,e)})),e.h&&sk({},(function(e,n){pk(t,n,e)}))}function gw(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ty(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{Bk(l,o,"req"+c+"_")}catch(Ba){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function yw(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;lb||hb(),fb||(lb(),fb=!0),db.add(t,e),e.A=0}}function bw(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Ob(ty(e.Ma,e),Cw(e,e.A)),e.A++,!0)}function kw(e){null!=e.B&&(Qg.clearTimeout(e.B),e.B=null)}function ww(e){e.g=new Wb(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=lk(e.wa);pk(t,"RID","rpc"),pk(t,"SID",e.K),pk(t,"AID",e.V),pk(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&pk(t,"TO",e.qa),pk(t,"TYPE","xmlhttp"),mw(e,t),e.o&&e.s&&uw(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=vk(lk(t)),n.s=null,n.S=!0,Yb(n,e)}function xw(e){null!=e.v&&(Qg.clearTimeout(e.v),e.v=null)}function _w(e,t){var n=null;if(e.g==t){xw(e),kw(e),e.g=null;var r=2}else{if(!Mk(e.i,t))return;n=t.F,Rk(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;eb(r=Nb(),new Pb(r,n)),pw(e)}else yw(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Ok(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Ob(ty(e.Na,e,t),Cw(e,e.C)),e.C++,!0))}(e,t)||2==r&&bw(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Sw(e,5);break;case 4:Sw(e,10);break;case 3:Sw(e,6);break;default:Sw(e,2)}}function Cw(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Sw(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=ty(e.pb,e);n||(n=new ck("//www.google.com/images/cleardot.gif"),Qg.location&&"http"==Qg.location.protocol||fk(n,"https"),vk(n)),function(e,t){var n=new Cb;if(Qg.Image){var r=new Image;r.onload=ny(zk,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ny(zk,n,r,"TestLoadImage: error",!1,t),r.onabort=ny(zk,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ny(zk,n,r,"TestLoadImage: timeout",!1,t),Qg.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ab(2);e.H=0,e.h&&e.h.za(t),Ew(e),hw(e)}function Ew(e){if(e.H=0,e.ma=[],e.h){var t=Fk(e.i);0==t.length&&0==e.j.length||(sy(e.ma,t),sy(e.ma,e.j),e.i.i.length=0,oy(e.j),e.j.length=0),e.h.ya()}}function Iw(e,t,n){var r=n instanceof ck?lk(n):new ck(n);if(""!=r.g)t&&(r.g=t+"."+r.g),dk(r,r.m);else{var i=Qg.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new ck(null);r&&fk(a,r),t&&(a.g=t),i&&dk(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&pk(r,n,t),pk(r,"VER",e.ra),mw(e,r),r}function Nw(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Jk(new qk({ob:!0})):new Jk(e.va)).Oa(e.J),t}function Tw(){}function Lw(){if(gy&&!(10<=Number(Iy)))throw Error("Environmental error: no available transport.")}function jw(e,t){Xy.call(this),this.g=new lw(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ly(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ly(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ow(this)}function Aw(e){zb.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Pw(){qb.call(this),this.status=1}function Ow(e){this.g=e}function Mw(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Dw(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Rw(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Hg=Jk.prototype).Oa=function(e){this.M=e},Hg.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ub.g(),this.C=this.u?Fb(this.u):Fb(Ub),this.g.onreadystatechange=ty(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void ew(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=I(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Qg.FormData&&e instanceof Qg.FormData,!(0<=ay(Xk,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=I(n);try{for(c.s();!(u=c.n()).done;){var f=l(u.value,2),d=f[0],h=f[1];this.g.setRequestHeader(d,h)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{iw(this),0<this.B&&((this.L=function(e){return gy&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ty(this.ua,this)):this.A=gb(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){ew(this,s)}},Hg.ua=function(){"undefined"!=typeof Kg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,eb(this,"timeout"),this.abort(8))},Hg.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,eb(this,"complete"),eb(this,"abort"),rw(this))},Hg.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rw(this,!0)),Jk.$.N.call(this)},Hg.La=function(){this.s||(this.G||this.v||this.l?nw(this):this.kb())},Hg.kb=function(){nw(this)},Hg.isActive=function(){return!!this.g},Hg.da=function(){try{return 2<aw(this)?this.g.status:-1}catch(ia){return-1}},Hg.ja=function(){try{return this.g?this.g.responseText:""}catch(ia){return""}},Hg.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Zk(t)}},Hg.Ia=function(){return this.m},Hg.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Hg=lw.prototype).ra=8,Hg.H=1,Hg.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Wb(this,this.l,e),n=this.s;if(this.U&&(n?Ry(n=My(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=gw(this,t,r),pk(i=lk(this.I),"RID",e),pk(i,"CVER",22),this.F&&pk(i,"X-HTTP-Session-Id",this.F),mw(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(sw(n)))+"&"+r:this.o&&uw(i,this.o,n)),Dk(this.i,t),this.bb&&pk(i,"TYPE","init"),this.P?(pk(i,"$req",r),pk(i,"SID","null"),t.aa=!0,Jb(t,i,null)):Jb(t,i,r),this.H=2}}else 3==this.H&&(e?vw(this,e):0==this.j.length||Pk(this.i)||vw(this))},Hg.Ma=function(){if(this.u=null,ww(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ob(ty(this.jb,this),e)}},Hg.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ab(10),dw(this),ww(this))},Hg.ib=function(){null!=this.v&&(this.v=null,dw(this),bw(this),Ab(19))},Hg.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ab(2)):(this.l.info("Failed to ping google.com"),Ab(1))},Hg.isActive=function(){return!!this.h&&this.h.isActive(this)},(Hg=Tw.prototype).Ba=function(){},Hg.Aa=function(){},Hg.za=function(){},Hg.ya=function(){},Hg.isActive=function(){return!0},Hg.Va=function(){},Lw.prototype.g=function(e,t){return new jw(e,t)},ry(jw,Xy),jw.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ab(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Iw(e,null,e.Y),pw(e)},jw.prototype.close=function(){fw(this.g)},jw.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=nb(e),e=n);t.j.push(new Lk(t.fb++,e)),3==t.H&&pw(t)},jw.prototype.N=function(){this.g.h=null,delete this.j,fw(this.g),delete this.g,jw.$.N.call(this)},ry(Aw,zb),ry(Pw,qb),ry(Ow,Tw),Ow.prototype.Ba=function(){eb(this.g,"a")},Ow.prototype.Aa=function(e){eb(this.g,new Aw(e))},Ow.prototype.za=function(e){eb(this.g,new Pw)},Ow.prototype.ya=function(){eb(this.g,"b")},ry(Mw,(function(){this.blockSize=-1})),Mw.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Mw.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Dw(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Dw(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Dw(this,r),i=0;break}}this.h=i,this.i+=t},Mw.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Fw={};function Vw(e){return-128<=e&&128>e?function(e,t){var n=Fw;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Rw([0|e],0>e?-1:0)})):new Rw([0|e],0>e?-1:0)}function Uw(e){if(isNaN(e)||!isFinite(e))return zw;if(0>e)return Kw(Uw(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Bw;return new Rw(t,0)}var Bw=4294967296,zw=Vw(0),qw=Vw(1),Hw=Vw(16777216);function Ww(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Gw(e){return-1==e.h}function Kw(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Rw(n,~e.h).add(qw)}function Qw(e,t){return e.add(Kw(t))}function Zw(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Jw(e,t){this.g=e,this.h=t}function Yw(e,t){if(Ww(t))throw Error("division by zero");if(Ww(e))return new Jw(zw,zw);if(Gw(e))return t=Yw(Kw(e),t),new Jw(Kw(t.g),Kw(t.h));if(Gw(t))return t=Yw(e,Kw(t)),new Jw(Kw(t.g),t.h);if(30<e.g.length){if(Gw(e)||Gw(t))throw Error("slowDivide_ only works with positive integers.");for(var n=qw,r=t;0>=r.X(e);)n=$w(n),r=$w(r);var i=Xw(n,1),a=Xw(r,1);for(r=Xw(r,2),n=Xw(n,2);!Ww(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Xw(r,1),n=Xw(n,1)}return t=Qw(e,i.R(t)),new Jw(i,t)}for(i=zw;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Uw(n)).R(t);Gw(o)||0<o.X(e);)o=(a=Uw(n-=r)).R(t);Ww(a)&&(a=qw),i=i.add(a),e=Qw(e,o)}return new Jw(i,e)}function $w(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Rw(n,e.h)}function Xw(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Rw(i,e.h)}(Hg=Rw.prototype).ea=function(){if(Gw(this))return-Kw(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Bw+r)*t,t*=Bw}return e},Hg.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Ww(this))return"0";if(Gw(this))return"-"+Kw(this).toString(e);for(var t=Uw(Math.pow(e,6)),n=this,r="";;){var i=Yw(n,t).g,a=((0<(n=Qw(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Ww(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Hg.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Hg.X=function(e){return Gw(e=Qw(this,e))?-1:Ww(e)?0:1},Hg.abs=function(){return Gw(this)?Kw(this):this},Hg.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Rw(n,-2147483648&n[n.length-1]?-1:0)},Hg.R=function(e){if(Ww(this)||Ww(e))return zw;if(Gw(this))return Gw(e)?Kw(this).R(Kw(e)):Kw(Kw(this).R(e));if(Gw(e))return Kw(this.R(Kw(e)));if(0>this.X(Hw)&&0>e.X(Hw))return Uw(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,Zw(n,2*r+2*i),n[2*r+2*i+1]+=a*u,Zw(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Zw(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Zw(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Rw(n,0)},Hg.gb=function(e){return Yw(this,e).h},Hg.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Rw(n,this.h&e.h)},Hg.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Rw(n,this.h|e.h)},Hg.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Rw(n,this.h^e.h)},Lw.prototype.createWebChannel=Lw.prototype.g,jw.prototype.send=jw.prototype.u,jw.prototype.open=jw.prototype.m,jw.prototype.close=jw.prototype.close,Mb.NO_ERROR=0,Mb.TIMEOUT=8,Mb.HTTP_ERROR=6,Db.COMPLETE="complete",Vb.EventType=Bb,Bb.OPEN="a",Bb.CLOSE="b",Bb.ERROR="c",Bb.MESSAGE="d",Xy.prototype.listen=Xy.prototype.O,Jk.prototype.listenOnce=Jk.prototype.P,Jk.prototype.getLastError=Jk.prototype.Sa,Jk.prototype.getLastErrorCode=Jk.prototype.Ia,Jk.prototype.getStatus=Jk.prototype.da,Jk.prototype.getResponseJson=Jk.prototype.Wa,Jk.prototype.getResponseText=Jk.prototype.ja,Jk.prototype.send=Jk.prototype.ha,Jk.prototype.setWithCredentials=Jk.prototype.Oa,Mw.prototype.digest=Mw.prototype.l,Mw.prototype.reset=Mw.prototype.reset,Mw.prototype.update=Mw.prototype.j,Rw.prototype.add=Rw.prototype.add,Rw.prototype.multiply=Rw.prototype.R,Rw.prototype.modulo=Rw.prototype.gb,Rw.prototype.compare=Rw.prototype.X,Rw.prototype.toNumber=Rw.prototype.ea,Rw.prototype.toString=Rw.prototype.toString,Rw.prototype.getBits=Rw.prototype.D,Rw.fromNumber=Uw,Rw.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Kw(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Uw(Math.pow(n,8)),i=zw,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Uw(Math.pow(n,o)),i=i.R(o).add(Uw(s))):i=(i=i.R(r)).add(Uw(s))}return i};var ex=Gg.createWebChannelTransport=function(){return new Lw},tx=Gg.getStatEventTarget=function(){return Nb()},nx=Gg.ErrorCode=Mb,rx=Gg.EventType=Db,ix=Gg.Event=Eb,ax=Gg.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ox=Gg.FetchXmlHttpFactory=qk,sx=Gg.WebChannel=Vb,ux=Gg.XhrIo=Jk,cx=Gg.Md5=Mw,lx=Gg.Integer=Rw,fx="@firebase/firestore",dx=function(){function e(t){h(this,e),this.uid=t}return g(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();dx.UNAUTHENTICATED=new dx(null),dx.GOOGLE_CREDENTIALS=new dx("google-credentials-uid"),dx.FIRST_PARTY=new dx("first-party-uid"),dx.MOCK_USER=new dx("mock-user");var hx="9.23.0",px=new ec("@firebase/firestore");function vx(){return px.logLevel}function mx(e){if(px.logLevel<=Ku.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bx);px.debug.apply(px,["Firestore (".concat(hx,"): ").concat(e)].concat(d(i)))}}function gx(e){if(px.logLevel<=Ku.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bx);px.error.apply(px,["Firestore (".concat(hx,"): ").concat(e)].concat(d(i)))}}function yx(e){if(px.logLevel<=Ku.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bx);px.warn.apply(px,["Firestore (".concat(hx,"): ").concat(e)].concat(d(i)))}}function bx(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function kx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(hx,") INTERNAL ASSERTION FAILED: ")+e;throw gx(t),new Error(t)}function wx(e,t){e||kx()}function xx(e,t){return e}var _x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Cx=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return g(n)}(Tu),Sx=g((function e(){var t=this;h(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ex=g((function e(t,n){h(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ix=function(){function e(){h(this,e)}return g(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(dx.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Nx=function(){function e(t){h(this,e),this.token=t,this.changeListener=null}return g(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Tx=function(){function e(t){h(this,e),this.t=t,this.currentUser=dx.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Sx;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Sx,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){mx("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(mx("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Sx)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(mx("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(wx("string"==typeof n.accessToken),new Ex(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return wx(null===e||"string"==typeof e),new dx(e)}}]),e}(),Lx=function(){function e(t,n,r){h(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=dx.FIRST_PARTY,this.g=new Map}return g(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),jx=function(){function e(t,n,r){h(this,e),this.h=t,this.l=n,this.m=r}return g(e,[{key:"getToken",value:function(){return Promise.resolve(new Lx(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(dx.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ax=g((function e(t){h(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Px=function(){function e(t){h(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&mx("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,mx("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){mx("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):mx("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(wx("string"==typeof t.token),e.T=t.token,new Ax(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Ox(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Mx=function(){function e(){h(this,e)}return g(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Ox(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Dx(e,t){return e<t?-1:e>t?1:0}function Rx(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Fx(e){return e+"\0"}var Vx=function(){function e(t,n){if(h(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Cx(_x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Cx(_x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Cx(_x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Cx(_x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return g(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Dx(this.nanoseconds,e.nanoseconds):Dx(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Ux=function(){function e(t){h(this,e),this.timestamp=t}return g(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Vx(0,0))}},{key:"max",value:function(){return new e(new Vx(253402300799,999999999))}}]),e}(),Bx=function(){function e(t,n,r){h(this,e),void 0===n?n=0:n>t.length&&kx(),void 0===r?r=t.length-n:r>t.length-n&&kx(),this.segments=t,this.offset=n,this.len=r}return g(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),zx=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Cx(_x.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,d(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Bx),qx=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hx=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return qx.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Cx(_x.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Cx(_x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Cx(_x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Cx(_x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Bx),Wx=function(){function e(t){h(this,e),this.path=t}return g(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===zx.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(zx.fromString(t))}},{key:"fromName",value:function(t){return new e(zx.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(zx.emptyPath())}},{key:"comparator",value:function(e,t){return zx.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new zx(t.slice()))}}]),e}(),Gx=g((function e(t,n,r,i){h(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Kx(e){return e.fields.find((function(e){return 2===e.kind}))}function Qx(e){return e.fields.filter((function(e){return 2!==e.kind}))}Gx.UNKNOWN_ID=-1;var Zx=g((function e(t,n){h(this,e),this.fieldPath=t,this.kind=n}));var Jx=function(){function e(t,n){h(this,e),this.sequenceNumber=t,this.offset=n}return g(e,null,[{key:"empty",value:function(){return new e(0,Xx.min())}}]),e}();function Yx(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ux.fromTimestamp(1e9===r?new Vx(n+1,0):new Vx(n,r));return new Xx(i,Wx.empty(),t)}function $x(e){return new Xx(e.readTime,e.key,-1)}var Xx=function(){function e(t,n,r){h(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return g(e,null,[{key:"min",value:function(){return new e(Ux.min(),Wx.empty(),-1)}},{key:"max",value:function(){return new e(Ux.max(),Wx.empty(),-1)}}]),e}();function e_(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Wx.comparator(e.documentKey,t.documentKey))?n:Dx(e.largestBatchId,t.largestBatchId)}var t_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",n_=function(){function e(){h(this,e),this.onCommittedListeners=[]}return g(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function r_(e){return i_.apply(this,arguments)}function i_(){return i_=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===_x.FAILED_PRECONDITION&&t.message===t_){e.next=2;break}throw t;case 2:mx("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}var a_=function(){function e(t){var n=this;h(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return g(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&kx(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=I(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),o_=function(){function e(t,n){var r=this;h(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new Sx,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new c_(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=p_(e.target.error);r.v.reject(new c_(t,n))}}return g(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(mx("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new f_(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new c_(n,t)}}}]),e}(),s_=function(){function e(t,n,r){h(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(_u())&&gx("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return g(e,[{key:"$",value:function(){var e=At(Lt().mark((function e(t){var n=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return mx("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new c_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Cx(_x.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Cx(_x.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new c_(t,n))},i.onupgradeneeded=function(e){mx("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){mx("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=At(Lt().mark((function e(t,n,r,i){var a,o,s,u,c=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=Lt().mark((function e(){var n,s,u,l;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=o_.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),a_.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.R;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,mx("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if(!(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return mx("SimpleDb","Removing database:",e),d_(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!Nu())return!1;if(e.C())return!0;var t=_u(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),u_=function(){function e(t){h(this,e),this.L=t,this.q=!1,this.U=null}return g(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return d_(this.L.delete())}}]),e}(),c_=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,_x.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return g(n)}(Cx);function l_(e){return"IndexedDbTransactionError"===e.name}var f_=function(){function e(t){h(this,e),this.store=t}return g(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(mx("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(mx("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),d_(n)}},{key:"add",value:function(e){return mx("SimpleDb","ADD",this.store.name,e,e),d_(this.store.add(e))}},{key:"get",value:function(e){var t=this;return d_(this.store.get(e)).next((function(n){return void 0===n&&(n=null),mx("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return mx("SimpleDb","DELETE",this.store.name,e),d_(this.store.delete(e))}},{key:"count",value:function(){return mx("SimpleDb","COUNT",this.store.name),d_(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new a_((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new a_((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){mx("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new a_((function(n,r){t.onerror=function(e){var t=p_(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new a_((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new u_(i),o=t(i.primaryKey,i.value,a);if(o instanceof a_){var s=o.catch((function(e){return a.done(),a_.reject(e)}));n.push(s)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return a_.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function d_(e){return new a_((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=p_(e.target.error);n(t)}}))}var h_=!1;function p_(e){var t=s_.S(_u());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Cx("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return h_||(h_=!0,setTimeout((function(){throw r}),0)),r}}return e}var v_=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return g(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;mx("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=mx,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!l_(e.t4)){e.next=17;break}mx("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,r_(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),m_=function(){function e(t,n){h(this,e),this.localStore=t,this.persistence=n}return g(e,[{key:"nt",value:function(){var e=At(Lt().mark((function e(){var t,n=this,r=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return a_.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return mx("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return mx("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=$x(t);e_(r,n)>0&&(n=r)})),new Xx(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),g_=function(){function e(t,n){var r=this;h(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return g(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function y_(e){return null==e}function b_(e){return 0===e&&1/e==-1/0}function k_(e){return"number"==typeof e&&Number.isInteger(e)&&!b_(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function w_(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=__(t)),t=x_(e.get(n),t);return __(t)}function x_(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function __(e){return e+"\x01\x01"}function C_(e){var t=e.length;if(wx(t>=2),2===t)return wx("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),zx.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&kx(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:kx()}a=o+2}return new zx(r)}g_.ct=-1;var S_=["userId","batchId"];function E_(e,t){return[e,w_(t)]}function I_(e,t,n){return[e,w_(t),n]}var N_={},T_=["prefixPath","collectionGroup","readTime","documentId"],L_=["prefixPath","collectionGroup","documentId"],j_=["collectionGroup","readTime","prefixPath","documentId"],A_=["canonicalId","targetId"],P_=["targetId","path"],O_=["path","targetId"],M_=["collectionId","parent"],D_=["indexId","uid"],R_=["uid","sequenceNumber"],F_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],V_=["indexId","uid","orderedDocumentKey"],U_=["userId","collectionPath","documentId"],B_=["userId","collectionPath","largestBatchId"],z_=["userId","collectionGroup","largestBatchId"],q_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),H_=[].concat(d(q_),["documentOverlays"]),W_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],G_=W_,K_=[].concat(G_,["indexConfiguration","indexState","indexEntries"]),Q_=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return g(n)}(n_);function Z_(e,t){var n=xx(e);return s_.M(n.ht,t)}function J_(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Y_(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $_(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var X_=function(){function e(t,n){h(this,e),this.comparator=t,this.root=n||tC.EMPTY}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,tC.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tC.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new eC(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new eC(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new eC(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new eC(this.root,e,this.comparator,!0)}}]),e}(),eC=function(){function e(t,n,r,i){h(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return g(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),tC=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw kx();if(this.right.isRed())throw kx();var e=this.left.check();if(e!==this.right.check())throw kx();return e+(this.isRed()?0:1)}}]),e}();tC.EMPTY=null,tC.RED=!0,tC.BLACK=!1,tC.EMPTY=new(function(){function e(){h(this,e),this.size=0}return g(e,[{key:"key",get:function(){throw kx()}},{key:"value",get:function(){throw kx()}},{key:"color",get:function(){throw kx()}},{key:"left",get:function(){throw kx()}},{key:"right",get:function(){throw kx()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new tC(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var nC=function(){function e(t){h(this,e),this.comparator=t,this.data=new X_(this.comparator)}return g(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new rC(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new rC(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),rC=function(){function e(t){h(this,e),this.iter=t}return g(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function iC(e){return e.hasNext()?e.getNext():void 0}var aC=function(){function e(t){h(this,e),this.fields=t,t.sort(Hx.comparator)}return g(e,[{key:"unionWith",value:function(t){var n,r=new nC(Hx.comparator),i=I(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=I(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=I(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Rx(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),oC=function(e){b(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return g(n)}(S(Error));var sC=function(e){function t(e){h(this,t),this.binaryString=e}return g(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Dx(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new oC("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();sC.EMPTY_BYTE_STRING=new sC("");var uC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cC(e){if(wx(!!e),"string"==typeof e){var t=0,n=uC.exec(e);if(wx(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:lC(e.seconds),nanos:lC(e.nanos)}}function lC(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function fC(e){return"string"==typeof e?sC.fromBase64String(e):sC.fromUint8Array(e)}function dC(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hC(e){var t=e.mapValue.fields.__previous_value__;return dC(t)?hC(t):t}function pC(e){var t=cC(e.mapValue.fields.__local_write_time__.timestampValue);return new Vx(t.seconds,t.nanos)}var vC=g((function e(t,n,r,i,a,o,s,u,c){h(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),mC=function(){function e(t,n){h(this,e),this.projectId=t,this.database=n||"(default)"}return g(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),gC={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},yC={nullValue:"NULL_VALUE"};function bC(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dC(e)?4:PC(e)?9007199254740991:10:kx()}function kC(e,t){if(e===t)return!0;var n=bC(e);if(n!==bC(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return pC(e).isEqual(pC(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=cC(e.timestampValue),r=cC(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return fC(e.bytesValue).isEqual(fC(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return lC(e.geoPointValue.latitude)===lC(t.geoPointValue.latitude)&&lC(e.geoPointValue.longitude)===lC(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return lC(e.integerValue)===lC(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=lC(e.doubleValue),r=lC(t.doubleValue);return n===r?b_(n)===b_(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Rx(e.arrayValue.values||[],t.arrayValue.values||[],kC);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(J_(n)!==J_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!kC(n[i],r[i])))return!1;return!0}(e,t);default:return kx()}}function wC(e,t){return void 0!==(e.values||[]).find((function(e){return kC(e,t)}))}function xC(e,t){if(e===t)return 0;var n=bC(e),r=bC(t);if(n!==r)return Dx(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dx(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=lC(e.integerValue||e.doubleValue),r=lC(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return _C(e.timestampValue,t.timestampValue);case 4:return _C(pC(e),pC(t));case 5:return Dx(e.stringValue,t.stringValue);case 6:return function(e,t){var n=fC(e),r=fC(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Dx(n[i],r[i]);if(0!==a)return a}return Dx(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Dx(lC(e.latitude),lC(t.latitude));return 0!==n?n:Dx(lC(e.longitude),lC(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=xC(n[i],r[i]);if(a)return a}return Dx(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===gC.mapValue&&t===gC.mapValue)return 0;if(e===gC.mapValue)return 1;if(t===gC.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Dx(r[o],a[o]);if(0!==s)return s;var u=xC(n[r[o]],i[a[o]]);if(0!==u)return u}return Dx(r.length,a.length)}(e.mapValue,t.mapValue);default:throw kx()}}function _C(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Dx(e,t);var n=cC(e),r=cC(t),i=Dx(n.seconds,r.seconds);return 0!==i?i:Dx(n.nanos,r.nanos)}function CC(e){return SC(e)}function SC(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=cC(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?fC(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Wx.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=I(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=SC(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=I(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(SC(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):kx();var t,n}function EC(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function IC(e){return!!e&&"integerValue"in e}function NC(e){return!!e&&"arrayValue"in e}function TC(e){return!!e&&"nullValue"in e}function LC(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function jC(e){return!!e&&"mapValue"in e}function AC(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Y_(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=AC(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=AC(e.arrayValue.values[r]);return n}return Object.assign({},e)}function PC(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function OC(e){return"nullValue"in e?yC:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?EC(mC.empty(),Wx.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:kx()}function MC(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?EC(mC.empty(),Wx.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?gC:kx()}function DC(e,t){var n=xC(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function RC(e,t){var n=xC(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var FC=function(){function e(t){h(this,e),this.value=t}return g(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!jC(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=AC(t)}},{key:"setAll",value:function(e){var t=this,n=Hx.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=AC(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());jC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return kC(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];jC(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Y_(t,(function(t,n){return e[t]=n}));var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(AC(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function VC(e){var t=[];return Y_(e.fields,(function(e,n){var r=new Hx([e]);if(jC(n)){var i=VC(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=I(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new aC(t)}var UC=function(){function e(t,n,r,i,a,o,s){h(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return g(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Ux.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=FC.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=FC.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Ux.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Ux.min(),Ux.min(),Ux.min(),FC.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Ux.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Ux.min(),Ux.min(),FC.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Ux.min(),Ux.min(),FC.empty(),2)}}]),e}(),BC=g((function e(t,n){h(this,e),this.position=t,this.inclusive=n}));function zC(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Wx.comparator(Wx.fromName(o.referenceValue),n.key):xC(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function qC(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!kC(e.position[n],t.position[n]))return!1;return!0}var HC=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";h(this,e),this.field=t,this.dir=n}));function WC(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var GC=g((function e(){h(this,e)})),KC=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(xC(t,this.value)):null!==t&&bC(this.value)===bC(t)&&this.matchesComparison(xC(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return kx()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new rS(e,t,r):"array-contains"===t?new sS(e,r):"in"===t?new uS(e,r):"not-in"===t?new cS(e,r):"array-contains-any"===t?new lS(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new iS(e,n):new aS(e,n)}}]),n}(GC),QC=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return g(n,[{key:"matches",value:function(e){return ZC(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=I(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(GC);function ZC(e){return"and"===e.op}function JC(e){return"or"===e.op}function YC(e){return $C(e)&&ZC(e)}function $C(e){var t,n=I(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof QC)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function XC(e){if(e instanceof KC)return e.field.canonicalString()+e.op.toString()+CC(e.value);if(YC(e))return e.filters.map((function(e){return XC(e)})).join(",");var t=e.filters.map((function(e){return XC(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function eS(e,t){return e instanceof KC?function(e,t){return t instanceof KC&&e.op===t.op&&e.field.isEqual(t.field)&&kC(e.value,t.value)}(e,t):e instanceof QC?function(e,t){return t instanceof QC&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&eS(n,t.filters[r])}),!0)}(e,t):void kx()}function tS(e,t){var n=e.filters.concat(t);return QC.create(n,e.op)}function nS(e){return e instanceof KC?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(CC(e.value))}(e):e instanceof QC?function(e){return e.op.toString()+" {"+e.getFilters().map(nS).join(" ,")+"}"}(e):"Filter"}var rS=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,i)).key=Wx.fromName(i.referenceValue),a}return g(n,[{key:"matches",value:function(e){var t=Wx.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(KC),iS=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"in",r)).keys=oS("in",r),i}return g(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(KC),aS=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"not-in",r)).keys=oS("not-in",r),i}return g(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(KC);function oS(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Wx.fromName(e.referenceValue)}))}var sS=function(e){b(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return NC(t)&&wC(t.arrayValue,this.value)}}]),n}(KC),uS=function(e){b(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"in",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&wC(this.value.arrayValue,t)}}]),n}(KC),cS=function(e){b(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"not-in",r)}return g(n,[{key:"matches",value:function(e){if(wC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!wC(this.value.arrayValue,t)}}]),n}(KC),lS=function(e){b(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains-any",r)}return g(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!NC(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return wC(t.value.arrayValue,e)}))}}]),n}(KC),fS=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;h(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.dt=null}));function dS(e){return new fS(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function hS(e){var t=xx(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return XC(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),y_(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return CC(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return CC(e)})).join(",")),t.dt=n}return t.dt}function pS(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!WC(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!eS(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qC(e.startAt,t.startAt)&&qC(e.endAt,t.endAt)}function vS(e){return Wx.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function mS(e,t){return e.filters.filter((function(e){return e instanceof KC&&e.field.isEqual(t)}))}function gS(e,t,n){var r,i=yC,a=!0,o=I(mS(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=yC,c=!0;switch(s.op){case"<":case"<=":u=OC(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=yC}DC({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];DC({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function yS(e,t,n){var r,i=gC,a=!0,o=I(mS(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=gC,c=!0;switch(s.op){case">=":case">":u=MC(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=gC}RC({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];RC({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var bS=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}));function kS(e,t,n,r,i,a,o,s){return new bS(e,t,n,r,i,a,o,s)}function wS(e){return new bS(e)}function xS(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function _S(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function CS(e){var t,n=I(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function SS(e){return null!==e.collectionGroup}function ES(e){var t=xx(e);if(null===t.wt){t.wt=[];var n=CS(t),r=_S(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new HC(n)),t.wt.push(new HC(Hx.keyField(),"asc"));else{var i,a=!1,o=I(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new HC(Hx.keyField(),u))}}}return t.wt}function IS(e){var t=xx(e);if(!t._t)if("F"===t.limitType)t._t=dS(t.path,t.collectionGroup,ES(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=I(ES(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new HC(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new BC(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new BC(t.startAt.position,t.startAt.inclusive):null;t._t=dS(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function NS(e,t){t.getFirstInequalityField(),CS(e);var n=e.filters.concat([t]);return new bS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function TS(e,t,n){return new bS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function LS(e,t){return pS(IS(e),IS(t))&&e.limitType===t.limitType}function jS(e){return"".concat(hS(IS(e)),"|lt:").concat(e.limitType)}function AS(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return nS(e)})).join(", "),"]")),y_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return CC(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return CC(e)})).join(",")),"Target(".concat(t,")")}(IS(e)),"; limitType=").concat(e.limitType,")")}function PS(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wx.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=I(ES(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=I(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=zC(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ES(e),t))&&!(e.endAt&&!function(e,t,n){var r=zC(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ES(e),t))}(e,t)}function OS(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function MS(e){return function(t,n){var r,i=!1,a=I(ES(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=DS(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function DS(e,t,n){var r=e.field.isKeyField()?Wx.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?xC(r,i):kx()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return kx()}}var RS=function(){function e(t,n){h(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return g(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Y_(this.inner,(function(t,n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return $_(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),FS=new X_(Wx.comparator);function VS(){return FS}var US=new X_(Wx.comparator);function BS(){for(var e=US,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function zS(e){var t=US;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function qS(){return WS()}function HS(){return WS()}function WS(){return new RS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var GS=new X_(Wx.comparator),KS=new nC(Wx.comparator);function QS(){for(var e=KS,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ZS=new nC(Dx);function JS(){return ZS}function YS(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:b_(t)?"-0":t}}function $S(e){return{integerValue:""+e}}function XS(e,t){return k_(t)?$S(t):YS(e,t)}var eE=g((function e(){h(this,e),this._=void 0}));function tE(e,t,n){return e instanceof iE?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&dC(t)&&(t=hC(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof aE?oE(e,t):e instanceof sE?uE(e,t):function(e,t){var n=rE(e,t),r=lE(n)+lE(e.gt);return IC(n)&&IC(e.gt)?$S(r):YS(e.serializer,r)}(e,t)}function nE(e,t,n){return e instanceof aE?oE(e,t):e instanceof sE?uE(e,t):n}function rE(e,t){return e instanceof cE?IC(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var iE=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n)}(eE),aE=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return g(n)}(eE);function oE(e,t){var n,r=fE(t),i=I(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return kC(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var sE=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return g(n)}(eE);function uE(e,t){var n,r=fE(t),i=I(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!kC(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var cE=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return g(n)}(eE);function lE(e){return lC(e.integerValue||e.doubleValue)}function fE(e){return NC(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var dE=g((function e(t,n){h(this,e),this.field=t,this.transform=n}));var hE=g((function e(t,n){h(this,e),this.version=t,this.transformResults=n})),pE=function(){function e(t,n){h(this,e),this.updateTime=t,this.exists=n}return g(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function vE(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var mE=g((function e(){h(this,e)}));function gE(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new TE(e.key,pE.none()):new xE(e.key,e.data,pE.none());var n,r=e.data,i=FC.empty(),a=new nC(Hx.comparator),o=I(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new _E(e.key,i,new aC(a.toArray()),pE.none())}function yE(e,t,n){e instanceof xE?function(e,t,n){var r=e.value.clone(),i=SE(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof _E?function(e,t,n){if(vE(e.precondition,t)){var r=SE(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(CE(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function bE(e,t,n,r){return e instanceof xE?function(e,t,n,r){if(!vE(e.precondition,t))return n;var i=e.value.clone(),a=EE(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof _E?function(e,t,n,r){if(!vE(e.precondition,t))return n;var i=EE(e.fieldTransforms,r,t),a=t.data;return a.setAll(CE(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return vE(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function kE(e,t){var n,r=null,i=I(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=rE(a.transform,o||null);null!=s&&(null===r&&(r=FC.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function wE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Rx(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof aE&&t instanceof aE||e instanceof sE&&t instanceof sE?Rx(e.elements,t.elements,kC):e instanceof cE&&t instanceof cE?kC(e.gt,t.gt):e instanceof iE&&t instanceof iE}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var xE=function(e){b(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return h(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(mE),_E=function(e){b(n,e);var t=_(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return h(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return g(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(mE);function CE(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function SE(e,t,n){var r=new Map;wx(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,nE(o,s,n[i]))}return r}function EE(e,t,n){var r,i=new Map,a=I(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,tE(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var IE,NE,TE=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(mE),LE=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(mE),jE=function(){function e(t,n,r,i){h(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return g(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&yE(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=I(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=bE(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=I(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=bE(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=HS();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=gE(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ux.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),QS())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Rx(this.mutations,e.mutations,(function(e,t){return wE(e,t)}))&&Rx(this.baseMutations,e.baseMutations,(function(e,t){return wE(e,t)}))}}]),e}(),AE=function(){function e(t,n,r,i){h(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return g(e,null,[{key:"from",value:function(t,n,r){wx(t.mutations.length===r.length);for(var i=GS,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),PE=function(){function e(t,n){h(this,e),this.largestBatchId=t,this.mutation=n}return g(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),OE=g((function e(t,n){h(this,e),this.count=t,this.unchangedNames=n}));function ME(e){switch(e){default:return kx();case _x.CANCELLED:case _x.UNKNOWN:case _x.DEADLINE_EXCEEDED:case _x.RESOURCE_EXHAUSTED:case _x.INTERNAL:case _x.UNAVAILABLE:case _x.UNAUTHENTICATED:return!1;case _x.INVALID_ARGUMENT:case _x.NOT_FOUND:case _x.ALREADY_EXISTS:case _x.PERMISSION_DENIED:case _x.FAILED_PRECONDITION:case _x.ABORTED:case _x.OUT_OF_RANGE:case _x.UNIMPLEMENTED:case _x.DATA_LOSS:return!0}}function DE(e){if(void 0===e)return gx("GRPC error has no .code"),_x.UNKNOWN;switch(e){case IE.OK:return _x.OK;case IE.CANCELLED:return _x.CANCELLED;case IE.UNKNOWN:return _x.UNKNOWN;case IE.DEADLINE_EXCEEDED:return _x.DEADLINE_EXCEEDED;case IE.RESOURCE_EXHAUSTED:return _x.RESOURCE_EXHAUSTED;case IE.INTERNAL:return _x.INTERNAL;case IE.UNAVAILABLE:return _x.UNAVAILABLE;case IE.UNAUTHENTICATED:return _x.UNAUTHENTICATED;case IE.INVALID_ARGUMENT:return _x.INVALID_ARGUMENT;case IE.NOT_FOUND:return _x.NOT_FOUND;case IE.ALREADY_EXISTS:return _x.ALREADY_EXISTS;case IE.PERMISSION_DENIED:return _x.PERMISSION_DENIED;case IE.FAILED_PRECONDITION:return _x.FAILED_PRECONDITION;case IE.ABORTED:return _x.ABORTED;case IE.OUT_OF_RANGE:return _x.OUT_OF_RANGE;case IE.UNIMPLEMENTED:return _x.UNIMPLEMENTED;case IE.DATA_LOSS:return _x.DATA_LOSS;default:return kx()}}(NE=IE||(IE={}))[NE.OK=0]="OK",NE[NE.CANCELLED=1]="CANCELLED",NE[NE.UNKNOWN=2]="UNKNOWN",NE[NE.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",NE[NE.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",NE[NE.NOT_FOUND=5]="NOT_FOUND",NE[NE.ALREADY_EXISTS=6]="ALREADY_EXISTS",NE[NE.PERMISSION_DENIED=7]="PERMISSION_DENIED",NE[NE.UNAUTHENTICATED=16]="UNAUTHENTICATED",NE[NE.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",NE[NE.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",NE[NE.ABORTED=10]="ABORTED",NE[NE.OUT_OF_RANGE=11]="OUT_OF_RANGE",NE[NE.UNIMPLEMENTED=12]="UNIMPLEMENTED",NE[NE.INTERNAL=13]="INTERNAL",NE[NE.UNAVAILABLE=14]="UNAVAILABLE",NE[NE.DATA_LOSS=15]="DATA_LOSS";var RE=function(){function e(){h(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return g(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return FE}},{key:"getOrCreateInstance",value:function(){return null===FE&&(FE=new e),FE}}]),e}(),FE=null;function VE(){return new TextEncoder}var UE=new lx([4294967295,4294967295],0);function BE(e){var t=VE().encode(e),n=new cx;return n.update(t),new Uint8Array(n.digest())}function zE(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new lx([n,r],0),new lx([i,a],0)]}var qE=function(){function e(t,n,r){if(h(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new HE("Invalid padding: ".concat(n));if(r<0)throw new HE("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new HE("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new HE("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=lx.fromNumber(this.It)}return g(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(lx.fromNumber(n)));return 1===r.compare(UE)&&(r=new lx([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=l(zE(BE(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=l(zE(BE(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),HE=function(e){b(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return g(n)}(S(Error)),WE=function(){function e(t,n,r,i,a){h(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return g(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,GE.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Ux.min(),i,new X_(Dx),VS(),QS())}}]),e}(),GE=function(){function e(t,n,r,i,a){h(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return g(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,QS(),QS(),QS())}}]),e}(),KE=g((function e(t,n,r,i){h(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),QE=g((function e(t,n){h(this,e),this.targetId=t,this.Vt=n})),ZE=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sC.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),JE=function(){function e(){h(this,e),this.St=0,this.Dt=XE(),this.Ct=sC.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return g(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=QS(),t=QS(),n=QS();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:kx()}})),new GE(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=XE()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),YE=function(){function e(t){h(this,e),this.Gt=t,this.Qt=new Map,this.jt=VS(),this.zt=$E(),this.Wt=new X_(Dx)}return g(e,[{key:"Ht",value:function(e){var t,n=I(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(s){n.e(s)}finally{n.f()}var i,a=I(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:kx()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(vS(a))if(0===r){var o=new Wx(a.path);this.Yt(n,o,UC.newNoDocument(o,Ux.min()))}else wx(1===r);else{var s=this.ie(n);if(s!==r){var u=this.re(e,s);if(0!==u){this.ee(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=RE.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,f=void 0===l?0:l,d=r.hashCount,h=void 0===d?0:d;try{a=fC(c).toUint8Array()}catch(e){if(e instanceof oC)return yx("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new qE(a,f,h)}catch(e){return yx(e instanceof HE?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&vS(a.target)){var o=new Wx(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,UC.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=QS();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new WE(e,n,this.Wt,this.jt,r);return this.jt=VS(),this.zt=$E(),this.Wt=new X_(Dx),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new JE,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new nC(Dx),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||mx("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new JE),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function $E(){return new X_(Wx.comparator)}function XE(){return new X_(Wx.comparator)}var eI={asc:"ASCENDING",desc:"DESCENDING"},tI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nI={and:"AND",or:"OR"},rI=g((function e(t,n){h(this,e),this.databaseId=t,this.useProto3Json=n}));function iI(e,t){return e.useProto3Json||y_(t)?t:{value:t}}function aI(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function oI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function sI(e,t){return aI(e,t.toTimestamp())}function uI(e){return wx(!!e),Ux.fromTimestamp(function(e){var t=cC(e);return new Vx(t.seconds,t.nanos)}(e))}function cI(e,t){return function(e){return new zx(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function lI(e){var t=zx.fromString(e);return wx(PI(t)),t}function fI(e,t){return cI(e.databaseId,t.path)}function dI(e,t){var n=lI(t);if(n.get(1)!==e.databaseId.projectId)throw new Cx(_x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Cx(_x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wx(mI(n))}function hI(e,t){return cI(e.databaseId,t)}function pI(e){var t=lI(e);return 4===t.length?zx.emptyPath():mI(t)}function vI(e){return new zx(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mI(e){return wx(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gI(e,t,n){return{name:fI(e,t),fields:n.value.mapValue.fields}}function yI(e,t,n){var r=dI(e,t.name),i=uI(t.updateTime),a=t.createTime?uI(t.createTime):Ux.min(),o=new FC({mapValue:{fields:t.fields}}),s=UC.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function bI(e,t){return"found"in t?function(e,t){wx(!!t.found),t.found.name,t.found.updateTime;var n=dI(e,t.found.name),r=uI(t.found.updateTime),i=t.found.createTime?uI(t.found.createTime):Ux.min(),a=new FC({mapValue:{fields:t.found.fields}});return UC.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){wx(!!t.missing),wx(!!t.readTime);var n=dI(e,t.missing),r=uI(t.readTime);return UC.newNoDocument(n,r)}(e,t):kx()}function kI(e,t){var n;if(t instanceof xE)n={update:gI(e,t.key,t.value)};else if(t instanceof TE)n={delete:fI(e,t.key)};else if(t instanceof _E)n={update:gI(e,t.key,t.data),updateMask:AI(t.fieldMask)};else{if(!(t instanceof LE))return kx();n={verify:fI(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof iE)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof aE)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof sE)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof cE)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw kx()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:sI(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:kx()}(e,t.precondition)),n}function wI(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?pE.updateTime(uI(e.updateTime)):void 0!==e.exists?pE.exists(e.exists):pE.none()}(t.currentDocument):pE.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)wx("REQUEST_TIME"===t.setToServerValue),n=new iE;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new aE(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new sE(i)}else"increment"in t?n=new cE(e,t.increment):kx();var a=Hx.fromServerFormat(t.fieldPath);return new dE(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=dI(e,t.update.name),a=new FC({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new aC(t.map((function(e){return Hx.fromServerFormat(e)})))}(t.updateMask);return new _E(i,a,o,n,r)}return new xE(i,a,n,r)}if(t.delete){var s=dI(e,t.delete);return new TE(s,n)}if(t.verify){var u=dI(e,t.verify);return new LE(u,n)}return kx()}function xI(e,t){return{documents:[hI(e,t.path)]}}function _I(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=hI(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=hI(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return jI(QC.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:TI(e.field),direction:EI(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=iI(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function CI(e){var t=pI(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){wx(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=SI(e);return t instanceof QC&&YC(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new HC(LI(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return y_(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new BC(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new BC(n,t)}(n.endAt)),kS(t,i,s,o,u,"F",c,l)}function SI(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=LI(e.unaryFilter.field);return KC.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=LI(e.unaryFilter.field);return KC.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=LI(e.unaryFilter.field);return KC.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=LI(e.unaryFilter.field);return KC.create(i,"!=",{nullValue:"NULL_VALUE"});default:return kx()}}(e):void 0!==e.fieldFilter?function(e){return KC.create(LI(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return kx()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return QC.create(e.compositeFilter.filters.map((function(e){return SI(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return kx()}}(e.compositeFilter.op))}(e):kx()}function EI(e){return eI[e]}function II(e){return tI[e]}function NI(e){return nI[e]}function TI(e){return{fieldPath:e.canonicalString()}}function LI(e){return Hx.fromServerFormat(e.fieldPath)}function jI(e){return e instanceof KC?function(e){if("=="===e.op){if(LC(e.value))return{unaryFilter:{field:TI(e.field),op:"IS_NAN"}};if(TC(e.value))return{unaryFilter:{field:TI(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(LC(e.value))return{unaryFilter:{field:TI(e.field),op:"IS_NOT_NAN"}};if(TC(e.value))return{unaryFilter:{field:TI(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:TI(e.field),op:II(e.op),value:e.value}}}(e):e instanceof QC?function(e){var t=e.getFilters().map((function(e){return jI(e)}));return 1===t.length?t[0]:{compositeFilter:{op:NI(e.op),filters:t}}}(e):kx()}function AI(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function PI(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var OI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ux.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ux.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:sC.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return g(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),MI=g((function e(t){h(this,e),this.fe=t}));function DI(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:RI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:fI(e,t.key),fields:t.data.value.mapValue.fields,updateTime:aI(e,t.version.toTimestamp()),createTime:aI(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:FI(t.version)};else{if(!t.isUnknownDocument())return kx();r.unknownDocument={path:n.path.toArray(),version:FI(t.version)}}return r}function RI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function FI(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function VI(e){var t=new Vx(e.seconds,e.nanoseconds);return Ux.fromTimestamp(t)}function UI(e,t){for(var n=(t.baseMutations||[]).map((function(t){return wI(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return wI(e.fe,t)})),s=Vx.fromMillis(t.localWriteTimeMs);return new jE(t.batchId,s,n,o)}function BI(e){var t,n,r=VI(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?VI(e.lastLimboFreeSnapshotVersion):Ux.min();return void 0!==e.query.documents?(wx(1===(n=e.query).documents.length),t=IS(wS(pI(n.documents[0])))):t=function(e){return IS(CI(e))}(e.query),new OI(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,sC.fromBase64String(e.resumeToken))}function zI(e,t){var n,r=FI(t.snapshotVersion),i=FI(t.lastLimboFreeSnapshotVersion);n=vS(t.target)?xI(e.fe,t.target):_I(e.fe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:hS(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function qI(e){var t=CI({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?TS(t,t.limit,"L"):t}function HI(e,t){return new PE(t.largestBatchId,wI(e.fe,t.overlayMutation))}function WI(e,t){var n=t.path.lastSegment();return[e,w_(t.path.popLast()),n]}function GI(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:FI(r.readTime),documentKey:w_(r.documentKey.path),largestBatchId:r.largestBatchId}}var KI=function(){function e(){h(this,e)}return g(e,[{key:"getBundleMetadata",value:function(e,t){return QI(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:VI(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return QI(e).put({bundleId:(n=t).id,createTime:FI(uI(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return ZI(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:qI(t.bundledQuery),readTime:VI(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return ZI(e).put(function(e){return{name:e.name,readTime:FI(uI(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function QI(e){return Z_(e,"bundles")}function ZI(e){return Z_(e,"namedQueries")}var JI=function(){function e(t,n){h(this,e),this.serializer=t,this.userId=n}return g(e,[{key:"getOverlay",value:function(e,t){var n=this;return YI(e).get(WI(this.userId,t)).next((function(e){return e?HI(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=qS();return a_.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new PE(t,a);i.push(r.we(e,o))})),a_.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(w_(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(YI(e).J("collectionPathOverlayIndex",i))})),a_.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=qS(),a=w_(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return YI(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=HI(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=qS(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return YI(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=HI(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"we",value:function(e,t){return YI(e).put(function(e,t,n){var r=l(WI(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:kI(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function YI(e){return Z_(e,"documentOverlays")}var $I=function(){function e(){h(this,e)}return g(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(lC(e.integerValue));else if("doubleValue"in e){var n=lC(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),b_(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(fC(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?PC(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):kx()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),Wx.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function XI(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function eN(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=XI(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}$I.Ve=new $I;var tN=function(){function e(){h(this,e),this.buffer=new Uint8Array(1024),this.position=0}return g(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var a=r.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var a=r.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=eN(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=eN(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),nN=function(){function e(t){h(this,e),this.je=t}return g(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),rN=function(){function e(t){h(this,e),this.je=t}return g(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),iN=function(){function e(){h(this,e),this.je=new tN,this.ze=new nN(this.je),this.We=new rN(this.je)}return g(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),aN=function(){function e(t,n,r,i){h(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return g(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function oN(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=sN(e.arrayValue,t.arrayValue))?n:0!==(n=sN(e.directionalValue,t.directionalValue))?n:Wx.comparator(e.documentKey,t.documentKey)}function sN(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var uN=function(){function e(t){h(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=I(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return g(e,[{key:"tn",value:function(e){wx(e.collectionGroup===this.collectionId);var t=Kx(e);if(void 0!==t&&!this.en(t))return!1;for(var n=Qx(e),r=new Set,i=0,a=0;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){var o=n[i];if(!this.nn(this.Ze,o)||!this.sn(this.Ye[a++],o))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Ye.length||!this.sn(this.Ye[a++],s))return!1}return!0}},{key:"en",value:function(e){var t,n=I(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function cN(e){var t,n;if(wx(e instanceof KC||e instanceof QC),e instanceof KC){if(e instanceof uS){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return KC.create(e.field,"==",t)})))||[];return QC.create(r,"or")}return e}var i=e.filters.map((function(e){return cN(e)}));return QC.create(i,e.op)}function lN(e){if(0===e.getFilters().length)return[];var t=pN(cN(e));return wx(hN(t)),fN(t)||dN(t)?[t]:t.getFilters()}function fN(e){return e instanceof KC}function dN(e){return e instanceof QC&&YC(e)}function hN(e){return fN(e)||dN(e)||function(e){if(e instanceof QC&&JC(e)){var t,n=I(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!fN(r)&&!dN(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function pN(e){if(wx(e instanceof KC||e instanceof QC),e instanceof KC)return e;if(1===e.filters.length)return pN(e.filters[0]);var t=e.filters.map((function(e){return pN(e)})),n=QC.create(t,e.op);return hN(n=gN(n))?n:(wx(n instanceof QC),wx(ZC(n)),wx(n.filters.length>1),n.filters.reduce((function(e,t){return vN(e,t)})))}function vN(e,t){var n;return wx(e instanceof KC||e instanceof QC),wx(t instanceof KC||t instanceof QC),n=e instanceof KC?t instanceof KC?function(e,t){return QC.create([e,t],"and")}(e,t):mN(e,t):t instanceof KC?mN(t,e):function(e,t){if(wx(e.filters.length>0&&t.filters.length>0),ZC(e)&&ZC(t))return tS(e,t.getFilters());var n=JC(e)?e:t,r=JC(e)?t:e,i=n.filters.map((function(e){return vN(e,r)}));return QC.create(i,"or")}(e,t),gN(n)}function mN(e,t){if(ZC(t))return tS(t,e.getFilters());var n=t.filters.map((function(t){return vN(e,t)}));return QC.create(n,"or")}function gN(e){if(wx(e instanceof KC||e instanceof QC),e instanceof KC)return e;var t=e.getFilters();if(1===t.length)return gN(t[0]);if($C(e))return e;var n=t.map((function(e){return gN(e)})),r=[];return n.forEach((function(t){t instanceof KC?r.push(t):t instanceof QC&&(t.op===e.op?r.push.apply(r,d(t.filters)):r.push(t))})),1===r.length?r[0]:QC.create(r,e.op)}var yN=function(){function e(){h(this,e),this.rn=new bN}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),a_.resolve()}},{key:"getCollectionParents",value:function(e,t){return a_.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return a_.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return a_.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return a_.resolve(null)}},{key:"getIndexType",value:function(e,t){return a_.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return a_.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return a_.resolve(null)}},{key:"getMinOffset",value:function(e,t){return a_.resolve(Xx.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return a_.resolve(Xx.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return a_.resolve()}},{key:"updateIndexEntries",value:function(e,t){return a_.resolve()}}]),e}(),bN=function(){function e(){h(this,e),this.index={}}return g(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new nC(zx.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new nC(zx.comparator)).toArray()}}]),e}(),kN=new Uint8Array(0),wN=function(){function e(t,n){h(this,e),this.user=t,this.databaseId=n,this.on=new bN,this.un=new RS((function(e){return hS(e)}),(function(e,t){return pS(e,t)})),this.uid=t.uid||""}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:w_(i)};return xN(e).put(a)}return a_.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Fx(t),""],!1,!0);return xN(e).j(r).next((function(e){var r,i=I(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(C_(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=CN(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=SN(e);return a.next((function(e){o.put(GI(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=CN(e),r=SN(e),i=_N(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=_N(e),i=!0,a=new Map;return a_.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=QS(),o=[];return a_.forEach(a,(function(i,a){var s;mx("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(hS(t)));var u=function(e,t){var n=Kx(t);if(void 0===n)return null;var r,i=I(mS(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=I(Qx(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=I(mS(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=I(Qx(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?gS(e,o.fieldPath,e.startAt):yS(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new BC(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=I(Qx(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?yS(e,o.fieldPath,e.endAt):gS(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new BC(r,i)}(a,i),d=n.hn(i,a,l),h=n.hn(i,a,f),p=n.ln(i,a,c),v=n.fn(i.indexId,u,d,l.inclusive,h,f.inclusive,p);return a_.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Wx.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return a_.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:lN(QC.create(e.filters,"and")).map((function(t){return dS(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.dn(t[h/c]):kN,f=s.wn(e,u,n[h%c],r),p=s._n(e,u,i[h%c],a),v=o.map((function(t){return s.wn(e,u,t,!0)}));l.push.apply(l,d(s.createRange(f,p,v)))},h=0;h<u;++h)f();return l}},{key:"wn",value:function(e,t,n,r){var i=new aN(e,Wx.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new aN(e,Wx.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new uN(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=I(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return a_.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new nC(Hx.comparator),r=!1,i=I(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=I(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=I(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new iN,i=I(Qx(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.He(a.kind);$I.Ve._e(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new iN;return $I.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new iN;return $I.Ve._e(EC(this.databaseId,t),n.He(function(e){var t=Qx(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new iN);var i,a=0,o=I(Qx(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=I(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.yn(t,u.fieldPath)&&NC(c))r=this.pn(r,u,c);else{var d=f.He(u.kind);$I.Ve._e(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=d(e),a=[],o=I(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=I(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new iN;f.seed(l.Qe()),$I.Ve._e(u,f.He(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof KC&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=CN(e),i=SN(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return a_.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Jx(t.sequenceNumber,new Xx(VI(t.readTime),new Wx(C_(t.documentKey)),t.largestBatchId)):Jx.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new Zx(Hx.fromServerFormat(n),r)}));return new Gx(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Dx(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=CN(e),a=SN(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return a_.forEach(t,(function(t){return a.put(GI(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return a_.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?a_.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),a_.forEach(a,(function(r){return n.En(e,t,r).next((function(t){var a=n.An(i,r);return t.isEqual(a)?a_.resolve():n.vn(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return _N(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return _N(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=_N(e),i=new nC(oN);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new aN(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new nC(oN),r=this.mn(t,e);if(null==r)return n;var i=Kx(t);if(null!=i){var a=e.data.field(i.fieldPath);if(NC(a)){var o,s=I(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new aN(t.indexId,e.key,this.dn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new aN(t.indexId,e.key,kN,r));return n}},{key:"vn",value:function(e,t,n,r,i){var a=this;mx("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=iC(a),u=iC(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=iC(o)):l?(i(s),s=iC(a)):(s=iC(a),u=iC(o))}}(r,i,oN,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.Pn(e,t,n,r))})),a_.waitFor(o)}},{key:"Tn",value:function(e){var t=1;return SN(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return oN(e,t)})).filter((function(e,t,n){return!t||0!==oN(e,n[t-1])}));var r=[];r.push(e);var i,a=I(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=oN(o,e),u=oN(o,t);if(0===s)r[0]=e.Je();else if(s>0&&u<0)r.push(o),r.push(o.Je());else if(u>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,kN,[]],d=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,kN,[]];c.push(IDBKeyRange.bound(f,d))}return c}},{key:"bn",value:function(e,t){return oN(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(EN)}},{key:"getMinOffset",value:function(e,t){var n=this;return a_.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||kx()}))})).next(EN)}}]),e}();function xN(e){return Z_(e,"collectionParents")}function _N(e){return Z_(e,"indexEntries")}function CN(e){return Z_(e,"indexConfiguration")}function SN(e){return Z_(e,"indexState")}function EN(e){wx(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;e_(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Xx(t.readTime,t.documentKey,n)}var IN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NN=function(){function e(t,n,r){h(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return g(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function TN(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.X({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){wx(1===s)})));var c,l=[],f=I(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=I_(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return a_.waitFor(a).next((function(){return l}))}function LN(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw kx();t=e.noDocument}return JSON.stringify(t).length}NN.DEFAULT_COLLECTION_PERCENTILE=10,NN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,NN.DEFAULT=new NN(41943040,NN.DEFAULT_COLLECTION_PERCENTILE,NN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),NN.DISABLED=new NN(-1,0,0);var jN=function(){function e(t,n,r,i){h(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return g(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return PN(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=ON(e),o=PN(e);return o.add({}).next((function(s){wx("number"==typeof s);var u,c=new jE(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return kI(e.fe,t)})),i=n.mutations.map((function(t){return kI(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],d=new nC((function(e,t){return Dx(e.canonicalString(),t.canonicalString())})),h=I(r);try{for(h.s();!(u=h.n()).done;){var p=u.value,v=I_(i.userId,p.key.path,s);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,N_))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[s]=c.keys()})),a_.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return PN(e).get(t).next((function(e){return e?(wx(e.userId===n.userId),UI(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?a_.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return PN(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(wx(t.batchId>=r),a=UI(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return PN(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return PN(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return UI(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=E_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return ON(e).X({range:i},(function(r,i,o){var s=l(r,3),u=s[0],c=s[1],f=s[2],d=C_(c);if(u===n.userId&&t.path.isEqual(d))return PN(e).get(f).next((function(e){if(!e)throw kx();wx(e.userId===n.userId),a.push(UI(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new nC(Dx),i=[];return t.forEach((function(t){var a=E_(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=ON(e).X({range:o},(function(e,i,a){var o=l(e,3),s=o[0],u=o[1],c=o[2],f=C_(u);s===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(s)})),a_.waitFor(i).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=E_(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new nC(Dx);return ON(e).X({range:o},(function(e,t,a){var o=l(e,3),u=o[0],c=o[1],f=o[2],d=C_(c);u===n.userId&&r.isPrefixOf(d)?d.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.Dn(e,s)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(PN(e).get(t).next((function(e){if(null===e)throw kx();wx(e.userId===n.userId),r.push(UI(n.serializer,e))})))})),a_.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return TN(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),a_.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return a_.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return ON(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=C_(e[1]);i.push(a)}else r.done()})).next((function(){wx(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return AN(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return MN(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return wx(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function AN(e,t,n){var r=E_(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return ON(e).X({range:a,Y:!0},(function(e,n,r){var a=l(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function PN(e){return Z_(e,"mutations")}function ON(e){return Z_(e,"documentMutations")}function MN(e){return Z_(e,"mutationQueues")}var DN=function(){function e(t){h(this,e),this.Nn=t}return g(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),RN=function(){function e(t,n){h(this,e),this.referenceDelegate=t,this.serializer=n}return g(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new DN(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return Ux.fromTimestamp(new Vx(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return FN(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return wx(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return FN(e).X((function(o,s){var u=BI(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return a_.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return FN(e).X((function(e,n){var r=BI(n);t(r)}))}},{key:"$n",value:function(e){return VN(e).get("targetGlobalKey").next((function(e){return wx(null!==e),e}))}},{key:"On",value:function(e,t){return VN(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return FN(e).put(zI(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=hS(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return FN(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=BI(n);pS(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=UN(e);return t.forEach((function(t){var o=w_(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),a_.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=UN(e);return a_.forEach(t,(function(t){var a=w_(t.path);return a_.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=UN(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=UN(e),i=QS();return r.X({range:n,Y:!0},(function(e,t,n){var r=C_(e[1]),a=new Wx(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=w_(t.path),r=IDBKeyRange.bound([n],[Fx(n)],!1,!0),i=0;return UN(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"le",value:function(e,t){return FN(e).get(t).next((function(e){return e?BI(e):null}))}}]),e}();function FN(e){return Z_(e,"targets")}function VN(e){return Z_(e,"targetGlobal")}function UN(e){return Z_(e,"targetDocuments")}function BN(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],s=a[1],u=Dx(r,o);return 0===u?Dx(i,s):u}var zN=function(){function e(t){h(this,e),this.Ln=t,this.buffer=new nC(BN),this.qn=0}return g(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();BN(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),qN=function(){function e(t,n,r){h(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return g(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;mx("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!l_(e.t0)){e.next=12;break}mx("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,r_(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),HN=function(){function e(t,n){h(this,e),this.jn=t,this.params=n}return g(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return a_.resolve(g_.ct);var r=new zN(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(mx("LruGarbageCollector","Garbage collection skipped; disabled"),a_.resolve(IN)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(mx("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),IN):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(mx("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),vx()<=Ku.DEBUG&&mx("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),a_.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function WN(e,t){return new HN(e,t)}var GN=function(){function e(t,n){h(this,e),this.db=t,this.garbageCollector=WN(this,n)}return g(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return KN(e,n)}},{key:"removeReference",value:function(e,t,n){return KN(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return KN(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return MN(e).Z((function(r){return AN(e,r,t).next((function(e){return e&&(n=!0),a_.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,s){if(s<=t){var u=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Ux.min()),UN(e).delete([0,w_(o.path)])}))}));i.push(u)}})).next((function(){return a_.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return KN(e,t)}},{key:"Yn",value:function(e,t){var n,r=UN(e),i=g_.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==g_.ct&&t(new Wx(C_(n)),i),i=u,n=s):i=g_.ct})).next((function(){i!==g_.ct&&t(new Wx(C_(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function KN(e,t){return UN(e).put(function(e,t){return{targetId:0,path:w_(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var QN=function(){function e(){h(this,e),this.changes=new RS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return g(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,UC.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?a_.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),ZN=function(){function e(t){h(this,e),this.serializer=t}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return XN(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return XN(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],RI(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=UC.newInvalidDocument(t);return XN(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(eT(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:UC.newInvalidDocument(t)};return XN(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(eT(t))},(function(e,i){r={document:n.ts(t,i),size:LN(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=VS();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=VS(),i=new X_(Wx.comparator);return this.ns(e,t,(function(e,t){var a=n.ts(e,t);r=r.insert(e,a),i=i.insert(e,LN(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return a_.resolve();var r=new nC(nT);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(eT(r.first()),eT(r.last())),a=r.getIterator(),o=a.getNext();return XN(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Wx.fromSegments([].concat(d(t.prefixPath),[t.collectionGroup,t.documentId]));o&&nT(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(eT(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),RI(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return XN(e).j(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=VS(),o=I(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.ts(Wx.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(PS(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=VS(),o=tT(t,n),s=tT(t,Xx.max());return XN(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.ts(Wx.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new YN(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return $N(e).get("remoteDocumentGlobalKey").next((function(e){return wx(!!e),e}))}},{key:"Zn",value:function(e,t){return $N(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=yI(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Wx.fromSegments(t.noDocument.path),i=VI(t.noDocument.readTime);n=UC.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return kx();var a=Wx.fromSegments(t.unknownDocument.path),o=VI(t.unknownDocument.version);n=UC.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Vx(e[0],e[1]);return Ux.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Ux.min()))return n}return UC.newInvalidDocument(e)}}]),e}();function JN(e){return new ZN(e)}var YN=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new RS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new nC((function(e,t){return Dx(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.us.get(a);if(n.push(t.os.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=DI(t.os.serializer,o);i=i.add(a.path.popLast());var c=LN(u);r+=c-s.size,n.push(t.os.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=DI(t.os.serializer,o.convertToNoDocument(Ux.min()));n.push(t.os.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),a_.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(QN);function $N(e){return Z_(e,"remoteDocumentGlobal")}function XN(e){return Z_(e,"remoteDocumentsV14")}function eT(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function tT(e,t){var n=t.documentKey.path.toArray();return[e,RI(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function nT(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Dx(n[a],r[a]))return i;return(i=Dx(n.length,r.length))||((i=Dx(n[n.length-2],r[r.length-2]))||Dx(n[n.length-1],r[r.length-1]))}var rT=g((function e(t,n){h(this,e),this.overlayedDocument=t,this.mutatedFields=n})),iT=function(){function e(t,n,r,i){h(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return g(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&bE(r.mutation,e,aC.empty(),Vx.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,QS()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:QS(),i=qS();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=BS();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=qS();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,QS())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=VS(),a=WS(),o=WS();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof _E)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),bE(o.mutation,t,o.mutation.getFieldMask(),Vx.now())):a.set(t.key,aC.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new rT(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=WS(),i=new X_((function(e,t){return e-t})),a=QS();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=I(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||aC.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||QS()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=HS();c.forEach((function(e){if(!a.has(e)){var n=gE(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return a_.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Wx.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):SS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):a_.resolve(qS()),s=-1,u=a;return o.next((function(t){return a_.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?a_.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,QS())})).next((function(e){return{batchId:s,changes:zS(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Wx(t)).next((function(e){var t=BS();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=BS();return this.indexManager.getCollectionParents(e,i).next((function(o){return a_.forEach(o,(function(o){var s=function(e,t){return new bS(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,UC.newInvalidDocument(r)))}));var n=BS();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&bE(a.mutation,i,aC.empty(),Vx.now()),PS(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),aT=function(){function e(t){h(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return g(e,[{key:"getBundleMetadata",value:function(e,t){return a_.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:uI(n.createTime)}),a_.resolve()}},{key:"getNamedQuery",value:function(e,t){return a_.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:qI(e.bundledQuery),readTime:uI(e.readTime)}}(t)),a_.resolve()}}]),e}(),oT=function(){function e(){h(this,e),this.overlays=new X_(Wx.comparator),this.ls=new Map}return g(e,[{key:"getOverlay",value:function(e,t){return a_.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=qS();return a_.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),a_.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),a_.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=qS(),i=t.length+1,a=new Wx(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return a_.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new X_((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=qS(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=qS(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return a_.resolve(u)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new PE(t,n));var a=this.ls.get(t);void 0===a&&(a=QS(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),sT=function(){function e(){h(this,e),this.fs=new nC(uT.ds),this.ws=new nC(uT._s)}return g(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new uT(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new uT(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new Wx(new zx([])),r=new uT(n,e),i=new uT(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new Wx(new zx([])),n=new uT(t,e),r=new uT(t,e+1),i=QS();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new uT(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),uT=function(){function e(t,n){h(this,e),this.key=t,this.As=n}return g(e,null,[{key:"ds",value:function(e,t){return Wx.comparator(e.key,t.key)||Dx(e.As,t.As)}},{key:"_s",value:function(e,t){return Dx(e.As,t.As)||Wx.comparator(e.key,t.key)}}]),e}(),cT=function(){function e(t,n){h(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new nC(uT.ds)}return g(e,[{key:"checkEmpty",value:function(e){return a_.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new jE(i,t,n,r);this.mutationQueue.push(a);var o,s=I(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new uT(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return a_.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return a_.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return a_.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return a_.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return a_.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new uT(t,0),i=new uT(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),a_.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new nC(Dx);return t.forEach((function(e){var t=new uT(e,0),i=new uT(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),a_.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Wx.isDocumentKey(i)||(i=i.child(""));var a=new uT(new Wx(i),0),o=new nC(Dx);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),a_.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;wx(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return a_.forEach(t.mutations,(function(i){var a=new uT(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new uT(t,0),r=this.Rs.firstAfterOrEqual(n);return a_.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,a_.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),lT=function(){function e(t){h(this,e),this.Ds=t,this.docs=new X_(Wx.comparator),this.size=0}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return a_.resolve(n?n.document.mutableCopy():UC.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=VS();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():UC.newInvalidDocument(e))})),a_.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=VS(),a=t.path,o=new Wx(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||e_($x(l),n)<=0||(r.has(l.key)||PS(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return a_.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){kx()}},{key:"Cs",value:function(e,t){return a_.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new fT(this)}},{key:"getSize",value:function(e){return a_.resolve(this.size)}}]),e}(),fT=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).os=e,r}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),a_.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(QN),dT=function(){function e(t){h(this,e),this.persistence=t,this.xs=new RS((function(e){return hS(e)}),pS),this.lastRemoteSnapshotVersion=Ux.min(),this.highestTargetId=0,this.Ns=0,this.ks=new sT,this.targetCount=0,this.Ms=DN.kn()}return g(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),a_.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return a_.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return a_.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),a_.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),a_.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new DN(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,a_.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),a_.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,a_.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),a_.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return a_.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return a_.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),a_.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),a_.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),a_.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return a_.resolve(n)}},{key:"containsKey",value:function(e,t){return a_.resolve(this.ks.containsKey(t))}}]),e}(),hT=function(){function e(t,n){var r=this;h(this,e),this.$s={},this.overlays={},this.Os=new g_(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new dT(this),this.indexManager=new yN,this.remoteDocumentCache=new lT((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new MI(n),this.qs=new aT(this.serializer)}return g(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new oT,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new cT(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;mx("MemoryPersistence","Starting transaction:",e);var i=new pT(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return a_.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),pT=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return g(n)}(n_),vT=function(){function e(t){h(this,e),this.persistence=t,this.Qs=new sT,this.js=null}return g(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw kx()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),a_.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),a_.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),a_.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return a_.forEach(this.Ws,(function(r){var i=Wx.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,Ux.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return a_.or([function(){return a_.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),mT=function(){function e(t){h(this,e),this.serializer=t}return g(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new o_("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",S_,{unique:!0}),e.createObjectStore("documentMutations")}(e),gT(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=a_.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),gT(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ux.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",S_,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return a_.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ys(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Zs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ei(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:U_});t.createIndex("collectionPathOverlayIndex",B_,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",z_,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:T_});t.createIndex("documentKeyIndex",L_),t.createIndex("collectionGroupIndex",j_)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:D_}).createIndex("sequenceNumberIndex",R_,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:F_}).createIndex("documentKeyIndex",V_,{unique:!1})}(e)}))),o}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=LN(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return a_.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return a_.forEach(r,(function(r){wx(r.userId===n.userId);var i=UI(t.serializer,r);return TN(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new zx(n),o=function(e){return[0,w_(e)]}(a);r.push(t.get(o).next((function(n){return n?a_.resolve():function(n){return t.put({targetId:0,path:w_(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return a_.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:M_});var n=t.store("collectionParents"),r=new bN,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:w_(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new zx(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],C_(r));return i(a.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=BI(r),a=zI(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Wx(zx.fromString(i.document.name).popFirst(5)):i.noDocument?Wx.fromSegments(i.noDocument.path):i.unknownDocument?Wx.fromSegments(i.unknownDocument.path):kx()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return a_.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=JN(this.serializer),a=new hT(vT.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:QS();UI(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),a_.forEach(r,(function(e,r){var o=new dx(r),s=JI.de(n.serializer,o),u=a.getIndexManager(o),c=jN.de(o,n.serializer,u,a.referenceDelegate);return new iT(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new Q_(t,g_.ct),e).next()}))}))}}]),e}();function gT(e){e.createObjectStore("targetDocuments",{keyPath:P_}).createIndex("documentTargetsIndex",O_,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",A_,{unique:!0}),e.createObjectStore("targetGlobal")}var yT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",bT=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(h(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=s,this.ri=c,this.oi=l,this.ui=f,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new Cx(_x.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new GN(this,i),this.di=n+"main",this.serializer=new MI(u),this.wi=new s_(this.di,this.ui,new mT(this.serializer)),this.Bs=new RN(this.referenceDelegate,this.serializer),this.remoteDocumentCache=JN(this.serializer),this.qs=new KI,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&gx("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return g(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Cx(_x.FAILED_PRECONDITION,yT);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new g_(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=At(Lt().mark((function n(r){return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=At(Lt().mark((function t(n){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return wT(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if(l_(t))return mx("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return mx("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return kT(e).get("owner").next((function(e){return a_.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return wT(e).delete(this.clientId)}},{key:"bi",value:function(){var e=At(Lt().mark((function e(){var t,n,r,i,a=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Z_(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return a_.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=I(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?a_.resolve(!0):kT(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new Cx(_x.FAILED_PRECONDITION,yT);return!1}}return!(!t.networkEnabled||!t.inForeground)||wT(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&mx("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=At(Lt().mark((function e(){var t=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Q_(e,g_.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return wT(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return jN.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new wN(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return JI.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;mx("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.ui)?K_:14===i?G_:13===i?W_:12===i?H_:11===i?q_:void kx();return this.wi.runTransaction(e,o,s,(function(i){return a=new Q_(i,r.Os?r.Os.next():g_.ct),"readwrite-primary"===t?r.Ti(a).next((function(e){return!!e||r.Ei(a)})).next((function(t){if(!t)throw gx("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new Cx(_x.FAILED_PRECONDITION,t_);return n(a)})).next((function(e){return r.vi(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return kT(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Cx(_x.FAILED_PRECONDITION,yT)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kT(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=kT(e);return n.get("owner").next((function(e){return t.Ri(e)?(mx("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):a_.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(gx("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!Cu()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return mx("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return gx("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(ea){gx("Failed to set zombie client id.",ea)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(ea){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return s_.D()}}]),e}();function kT(e){return Z_(e,"owner")}function wT(e){return Z_(e,"clientMetadata")}function xT(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var _T=function(){function e(t,n,r,i){h(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return g(e,null,[{key:"Li",value:function(t,n){var r,i=QS(),a=QS(),o=I(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),CT=function(){function e(){h(this,e),this.qi=!1}return g(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(xS(t))return a_.resolve(null);var r=IS(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=TS(t,null,"F"),r=IS(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=QS.apply(void 0,d(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,TS(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return xS(t)||r.isEqual(Ux.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(vx()<=Ku.DEBUG&&mx("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),AS(t)),i.Wi(e,o,t,Yx(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new nC(MS(e));return t.forEach((function(t,r){PS(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return vx()<=Ku.DEBUG&&mx("QueryEngine","Using full collection scan to execute query:",AS(t)),this.Ui.getDocumentsMatchingQuery(e,t,Xx.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),ST=function(){function e(t,n,r,i){h(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new X_(Dx),this.Yi=new RS((function(e){return hS(e)}),pS),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return g(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iT(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function ET(e,t,n,r){return new ST(e,t,n,r)}function IT(e,t){return NT.apply(this,arguments)}function NT(){return NT=At(Lt().mark((function e(t,n){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xx(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=QS(),u=I(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=I(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;s=s.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var h,p=I(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,g=I(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),NT.apply(this,arguments)}function TT(e,t){var n=xx(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=a_.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);wx(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=QS(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function LT(e){var t=xx(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function jT(e,t){var n=xx(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(sC.EMPTY_BYTE_STRING,Ux.min()).withLastLimboFreeSnapshotVersion(Ux.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var s=VS(),u=QS();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(AT(e,a,t.documentUpdates).next((function(e){s=e.nr,u=e.sr}))),!r.isEqual(Ux.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return a_.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function AT(e,t,n){var r=QS(),i=QS();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=VS();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Ux.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):mx("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function PT(e,t){var n=xx(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function OT(e,t){var n=xx(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,a_.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new OI(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function MT(e,t,n){return DT.apply(this,arguments)}function DT(){return DT=At(Lt().mark((function e(t,n,r){var i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=xx(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),l_(e.t1)){e.next=12;break}throw e.t1;case 12:mx("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),DT.apply(this,arguments)}function RT(e,t,n){var r=xx(e),i=Ux.min(),a=QS();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=xx(e),i=r.Yi.get(n);return void 0!==i?a_.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,IS(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:Ux.min(),n?a:QS())})).next((function(e){return UT(r,OS(t),e),{documents:e,ir:a}}))}))}function FT(e,t){var n=xx(e),r=xx(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function VT(e,t){var n=xx(e),r=n.Xi.get(t)||Ux.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,Yx(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return UT(n,t,e),e}))}function UT(e,t,n){var r=e.Xi.get(t)||Ux.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function BT(e,t,n,r){return zT.apply(this,arguments)}function zT(){return zT=At(Lt().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,d,h,p;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=xx(t),o=QS(),s=VS(),u=I(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.rr(l.metadata.name),l.document&&(o=o.add(f)),(d=n.ur(l)).setReadTime(n.cr(l.metadata.readTime)),s=s.insert(f,d)}catch(v){u.e(v)}finally{u.f()}return h=a.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,OT(a,function(e){return IS(wS(zx.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return AT(e,h,s).next((function(t){return h.apply(e),t})).next((function(t){return a.Bs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Bs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)}))),zT.apply(this,arguments)}function qT(e,t){return HT.apply(this,arguments)}function HT(){return HT=At(Lt().mark((function e(t,n){var r,i,a,o=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:QS(),e.next=3,OT(t,IS(qI(n.bundledQuery)));case 3:return i=e.sent,a=xx(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=uI(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.qs.saveNamedQuery(e,n);var o=i.withResumeToken(sC.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.Bs.updateTargetData(e,o).next((function(){return a.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),HT.apply(this,arguments)}function WT(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function GT(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function KT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var QT=function(){function e(t,n,r,i){h(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return g(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Cx(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(gx("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),ZT=function(){function e(t,n,r){h(this,e),this.targetId=t,this.state=n,this.error=r}return g(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Cx(i.error.code,i.error.message))),a?new e(t,i.state,r):(gx("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),JT=function(){function e(t,n){h(this,e),this.clientId=t,this.activeTargetIds=n}return g(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=JS(),o=0;i&&o<r.activeTargetIds.length;++o)i=k_(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(gx("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),YT=function(){function e(t,n){h(this,e),this.clientId=t,this.onlineState=n}return g(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(gx("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),$T=function(){function e(){h(this,e),this.activeTargetIds=JS()}return g(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),XT=function(){function e(t,n,r,i,a){h(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new X_(Dx),this.started=!1,this.yr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=WT(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new $T),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return g(e,[{key:"start",value:function(){var e=At(Lt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,d=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=I(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(WT(this.persistenceKey,i)))&&(o=JT.ar(i,a))&&(this.gr=this.gr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(s=this.storage.getItem(this.vr))&&(u=this.br(s))&&this.Vr(u),c=I(this.yr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.mr(f)}catch(h){c.e(h)}finally{c.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(KT(this.persistenceKey,e));if(n){var r=ZT.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(KT(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return mx("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){mx("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){mx("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(mx("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void gx("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(At(Lt().mark((function e(){var r,i,a,o,s,u,c;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(a));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(s));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}u=function(e){var t=g_.ct;if(null!=e)try{var n=JSON.parse(e);wx("number"==typeof n),t=n}catch(e){gx("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==g_.ct&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Gr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new QT(this.currentUser,e,t,n),i=GT(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=GT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=KT(this.persistenceKey,e),i=new ZT(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return JT.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return QT.ar(new dx(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return ZT.ar(r,t)}},{key:"br",value:function(e){return YT.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:mx("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Wr(o,s).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=JS();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),eL=function(){function e(){h(this,e),this.Hr=new $T,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return g(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new $T,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),tL=function(){function e(){h(this,e)}return g(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),nL=function(){function e(){var t=this;h(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return g(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){mx("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=I(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){mx("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=I(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),rL=null;function iL(){return null===rL?rL=268435456+Math.round(2147483648*Math.random()):rL++,"0x"+rL.toString(16)}var aL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},oL=function(){function e(t){h(this,e),this.ro=t.ro,this.oo=t.oo}return g(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),sL="WebChannelConnection",uL=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return g(n,[{key:"Ao",value:function(e,t,n,r){var i=iL();return new Promise((function(a,o){var s=new ux;s.setWithCredentials(!0),s.listenOnce(rx.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case nx.NO_ERROR:var t=s.getResponseJson();mx(sL,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case nx.TIMEOUT:mx(sL,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Cx(_x.DEADLINE_EXCEEDED,"Request time out"));break;case nx.HTTP_ERROR:var n=s.getStatus();if(mx(sL,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(_x).indexOf(t)>=0?t:_x.UNKNOWN}(u.status);o(new Cx(c,u.message))}else o(new Cx(_x.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Cx(_x.UNAVAILABLE,"Connection failed."));break;default:kx()}}finally{mx(sL,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);mx(sL,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=iL(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ex(),o=tx(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new ox({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");mx(sL,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,d=!1,h=new oL({ro:function(t){d?mx(sL,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(mx(sL,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),mx(sL,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,sx.EventType.OPEN,(function(){d||mx(sL,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,sx.EventType.CLOSE,(function(){d||(d=!0,mx(sL,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.wo())})),p(l,sx.EventType.ERROR,(function(t){d||(d=!0,yx(sL,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.wo(new Cx(_x.UNAVAILABLE,"The operation could not be completed")))})),p(l,sx.EventType.MESSAGE,(function(t){var n;if(!d){var i=t.data[0];wx(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){mx(sL,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=IE[e];if(void 0!==t)return DE(t)}(s),c=o.message;void 0===u&&(u=_x.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),d=!0,h.wo(new Cx(u,c)),l.close()}else mx(sL,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h._o(i)}})),p(o,ix.STAT_EVENT,(function(t){t.stat===ax.PROXY?mx(sL,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ax.NOPROXY&&mx(sL,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.fo()}),0),h}}]),n}(function(){function e(t){h(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return g(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=iL(),o=this.To(e,t);mx("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.Eo(s,r,i),this.Ao(e,o,s,n).then((function(t){return mx("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw yx("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+hx,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=aL[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function cL(){return"undefined"!=typeof window?window:null}function lL(){return"undefined"!=typeof document?document:null}function fL(e){return new rI(e,!0)}var dL=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;h(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return g(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&mx("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),hL=function(){function e(t,n,r,i,a,o,s,u){h(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new dL(t,n)}return g(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===_x.RESOURCE_EXHAUSTED?(gx(n.toString()),gx("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===_x.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new Cx(_x.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(At(Lt().mark((function t(){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return mx("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(mx("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),pL=function(e){b(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return g(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:kx()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(wx(void 0===t||"string"==typeof t),sC.fromBase64String(t||"")):(wx(void 0===t||t instanceof Uint8Array),sC.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?_x.UNKNOWN:DE(e.code);return new Cx(t,e.message||"")}(o);n=new ZE(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=dI(e,u.document.name),l=uI(u.document.updateTime),f=u.document.createTime?uI(u.document.createTime):Ux.min(),d=new FC({mapValue:{fields:u.document.fields}}),h=UC.newFoundDocument(c,l,f,d),p=u.targetIds||[],v=u.removedTargetIds||[];n=new KE(p,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=dI(e,m.document),y=m.readTime?uI(m.readTime):Ux.min(),b=UC.newNoDocument(g,y),k=m.removedTargetIds||[];n=new KE([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=dI(e,w.document),_=w.removedTargetIds||[];n=new KE([],_,x,null)}else{if(!("filter"in t))return kx();t.filter;var C=t.filter;C.targetId;var S=C.count,E=void 0===S?0:S,I=C.unchangedNames,N=new OE(E,I),T=C.targetId;n=new QE(T,N)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ux.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ux.min():t.readTime?uI(t.readTime):Ux.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=vI(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=vS(r)?{documents:xI(e,r)}:{query:_I(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=oI(e,t.resumeToken);var i=iI(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Ux.min())>0){n.readTime=aI(e,t.snapshotVersion.toTimestamp());var a=iI(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return kx()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=vI(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(hL),vL=function(e){b(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.ru=!1,u}return g(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,ml(k(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(wx(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(wx(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?uI(e.updateTime):uI(t);return n.isEqual(Ux.min())&&(n=uI(t)),new hE(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=uI(e.commitTime);return this.listener.cu(n,t)}return wx(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=vI(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return kI(t.serializer,e)}))};this.Wo(n)}}]),n}(hL),mL=function(e){b(n,e);var t=_(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return g(n,[{key:"fu",value:function(){if(this.lu)throw new Cx(_x.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.connection.Io(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_x.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Cx(_x.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),s=o[0],u=o[1];return i.connection.vo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_x.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Cx(_x.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return g((function e(){h(this,e)}))}());var gL=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return g(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(gx(t),this.mu=!1):mx("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),yL=g((function e(t,n,r,i,a){var o=this;h(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=TL(o),!e.t0){e.next=5;break}return mx("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=xx(t)).vu.add(4),e.next=4,wL(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,bL(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new gL(r,i)}));function bL(e){return kL.apply(this,arguments)}function kL(){return kL=At(Lt().mark((function e(t){var n,r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!TL(t)){e.next=18;break}n=I(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),kL.apply(this,arguments)}function wL(e){return xL.apply(this,arguments)}function xL(){return xL=At(Lt().mark((function e(t){var n,r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=I(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),xL.apply(this,arguments)}function _L(e,t){var n=xx(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),NL(n)?IL(n):ij(n).Ko()&&SL(n,t))}function CL(e,t){var n=xx(e),r=ij(n);n.Au.delete(t),r.Ko()&&EL(n,t),0===n.Au.size&&(r.Ko()?r.jo():TL(n)&&n.bu.set("Unknown"))}function SL(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ux.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ij(e).su(t)}function EL(e,t){e.Vu.qt(t),ij(e).iu(t)}function IL(e){e.Vu=new YE({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),ij(e).start(),e.bu.gu()}function NL(e){return TL(e)&&!ij(e).Uo()&&e.Au.size>0}function TL(e){return 0===xx(e).vu.size}function LL(e){e.Vu=void 0}function jL(e){return AL.apply(this,arguments)}function AL(){return AL=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){SL(t,e)}));case 1:case"end":return e.stop()}}),e)}))),AL.apply(this,arguments)}function PL(e,t){return OL.apply(this,arguments)}function OL(){return OL=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:LL(t),NL(t)?(t.bu.Iu(n),IL(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),OL.apply(this,arguments)}function ML(e,t,n){return DL.apply(this,arguments)}function DL(){return DL=At(Lt().mark((function e(t,n,r){var i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof ZE&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=At(Lt().mark((function e(t,n){var r,i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=I(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),mx("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,RL(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof KE?t.Vu.Ht(n):n instanceof QE?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(Ux.min())){e.next=29;break}return e.prev=14,e.next=17,LT(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(sC.EMPTY_BYTE_STRING,r.snapshotVersion)),EL(e,t);var i=new OI(r.target,t,n,r.sequenceNumber);SL(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),mx("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,RL(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),DL.apply(this,arguments)}function RL(e,t,n){return FL.apply(this,arguments)}function FL(){return FL=At(Lt().mark((function e(t,n,r){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l_(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,wL(t);case 5:t.bu.set("Offline"),r||(r=function(){return LT(t.localStore)}),t.asyncQueue.enqueueRetryable(At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mx("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,bL(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),FL.apply(this,arguments)}function VL(e,t){return t().catch((function(n){return RL(e,n,t)}))}function UL(e){return BL.apply(this,arguments)}function BL(){return BL=At(Lt().mark((function e(t){var n,r,i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xx(t),r=aj(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!zL(n)){e.next=19;break}return e.prev=3,e.next=6,PT(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,qL(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,RL(n,e.t0);case 17:e.next=2;break;case 19:HL(n)&&WL(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),BL.apply(this,arguments)}function zL(e){return TL(e)&&e.Eu.length<10}function qL(e,t){e.Eu.push(t);var n=aj(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function HL(e){return TL(e)&&!aj(e).Uo()&&e.Eu.length>0}function WL(e){aj(e).start()}function GL(e){return KL.apply(this,arguments)}function KL(){return KL=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:aj(t).hu();case 1:case"end":return e.stop()}}),e)}))),KL.apply(this,arguments)}function QL(e){return ZL.apply(this,arguments)}function ZL(){return ZL=At(Lt().mark((function e(t){var n,r,i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=aj(t),r=I(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),ZL.apply(this,arguments)}function JL(e,t,n){return YL.apply(this,arguments)}function YL(){return YL=At(Lt().mark((function e(t,n,r){var i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=AE.from(i,n,r),e.next=3,VL(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,UL(t);case 5:case"end":return e.stop()}}),e)}))),YL.apply(this,arguments)}function $L(e,t){return XL.apply(this,arguments)}function XL(){return XL=At(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&aj(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=At(Lt().mark((function e(t,n){var r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ME(i=n.code)||i===_x.ABORTED){e.next=7;break}return r=t.Eu.shift(),aj(t).Qo(),e.next=5,VL(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,UL(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:HL(t)&&WL(t);case 5:case"end":return e.stop()}}),e)}))),XL.apply(this,arguments)}function ej(e,t){return tj.apply(this,arguments)}function tj(){return tj=At(Lt().mark((function e(t,n){var r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=xx(t)).asyncQueue.verifyOperationInProgress(),mx("RemoteStore","RemoteStore received new credentials"),i=TL(r),r.vu.add(3),e.next=6,wL(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,bL(r);case 12:case"end":return e.stop()}}),e)}))),tj.apply(this,arguments)}function nj(e,t){return rj.apply(this,arguments)}function rj(){return rj=At(Lt().mark((function e(t,n){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xx(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,bL(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,wL(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),rj.apply(this,arguments)}function ij(e){return e.Su||(e.Su=function(e,t,n){var r=xx(e);return r.fu(),new pL(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:jL.bind(null,e),ao:PL.bind(null,e),nu:ML.bind(null,e)}),e.Ru.push(function(){var t=At(Lt().mark((function t(n){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),NL(e)?IL(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:LL(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function aj(e){return e.Du||(e.Du=function(e,t,n){var r=xx(e);return r.fu(),new vL(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:GL.bind(null,e),ao:$L.bind(null,e),au:QL.bind(null,e),cu:JL.bind(null,e)}),e.Ru.push(function(){var t=At(Lt().mark((function t(n){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,UL(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(mx("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var oj=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Sx,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return g(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Cx(_x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function sj(e,t){if(gx("AsyncQueue","".concat(t,": ").concat(e)),l_(e))return new Cx(_x.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var uj=function(){function e(t){h(this,e),this.comparator=t?function(e,n){return t(e,n)||Wx.comparator(e.key,n.key)}:function(e,t){return Wx.comparator(e.key,t.key)},this.keyedMap=BS(),this.sortedSet=new X_(this.comparator)}return g(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),cj=function(){function e(){h(this,e),this.Cu=new X_(Wx.comparator)}return g(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):kx():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),lj=function(){function e(t,n,r,i,a,o,s,u,c){h(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return g(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&LS(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,uj.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),fj=g((function e(){h(this,e),this.Nu=void 0,this.listeners=[]})),dj=g((function e(){h(this,e),this.queries=new RS((function(e){return jS(e)}),LS),this.onlineState="Unknown",this.ku=new Set}));function hj(e,t){return pj.apply(this,arguments)}function pj(){return pj=At(Lt().mark((function e(t,n){var r,i,a,o,s;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xx(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new fj),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=sj(e.t0,"Initialization of query '".concat(AS(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&bj(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),pj.apply(this,arguments)}function vj(e,t){return mj.apply(this,arguments)}function mj(){return mj=At(Lt().mark((function e(t,n){var r,i,a,o,s;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xx(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),mj.apply(this,arguments)}function gj(e,t){var n,r=xx(e),i=!1,a=I(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=I(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Nu=o}}}catch(f){a.e(f)}finally{a.f()}i&&bj(r)}function yj(e,t,n){var r=xx(e),i=r.queries.get(t);if(i){var a,o=I(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function bj(e){e.ku.forEach((function(e){e.next()}))}var kj=function(){function e(t,n,r){h(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return g(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=I(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new lj(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=lj.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),wj=function(){function e(t,n){h(this,e),this.Gu=t,this.byteLength=n}return g(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),xj=function(){function e(t){h(this,e),this.serializer=t}return g(e,[{key:"rr",value:function(e){return dI(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?yI(this.serializer,e.document,!1):UC.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return uI(e)}}]),e}(),_j=function(){function e(t,n,r){h(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Cj(t)}return g(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=zx.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new xj(this.serializer),i=I(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.rr(a.metadata.name),u=I(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||QS()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=At(Lt().mark((function e(){var t,n,r,i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BT(this.localStore,new xj(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=I(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,qT(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Cj(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Sj=g((function e(t){h(this,e),this.key=t})),Ej=g((function e(t){h(this,e),this.key=t})),Ij=function(){function e(t,n){h(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=QS(),this.mutatedKeys=QS(),this.tc=MS(t),this.ec=new uj(this.tc)}return g(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new cj,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=PS(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.tc(f,u)>0||c&&n.tc(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:s,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kx()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,u=s!==this.Xu;return this.Xu=s,0!==a.length||u?{snapshot:new lj(this.query,e.ec,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new cj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=QS(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new Ej(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new Sj(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=QS();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return lj.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),Nj=g((function e(t,n,r){h(this,e),this.query=t,this.targetId=n,this.view=r})),Tj=g((function e(t){h(this,e),this.key=t,this.fc=!1})),Lj=function(){function e(t,n,r,i,a,o){h(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new RS((function(e){return jS(e)}),LS),this._c=new Map,this.mc=new Set,this.gc=new X_(Wx.comparator),this.yc=new Map,this.Ic=new sT,this.Tc={},this.Ec=new Map,this.Ac=DN.Mn(),this.onlineState="Unknown",this.vc=void 0}return g(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function jj(e,t){return Aj.apply(this,arguments)}function Aj(){return Aj=At(Lt().mark((function e(t,n){var r,i,a,o,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=CA(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,OT(r.localStore,IS(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,Pj(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&_L(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Aj.apply(this,arguments)}function Pj(e,t,n,r,i){return Oj.apply(this,arguments)}function Oj(){return Oj=At(Lt().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=At(Lt().mark((function e(t,n,r,i){var a,o,s;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,RT(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(eA(t,n.targetId,s.cc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,RT(t.localStore,n,!0);case 3:return o=e.sent,s=new Ij(n,o.ir),u=s.sc(o.documents),c=GE.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),eA(t,r,l.cc),f=new Nj(n,r,s),e.abrupt("return",(t.wc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Oj.apply(this,arguments)}function Mj(e,t){return Dj.apply(this,arguments)}function Dj(){return Dj=At(Lt().mark((function e(t,n){var r,i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xx(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!LS(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,MT(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),CL(r.remoteStore,i.targetId),$j(r,i.targetId)})).catch(r_);case 9:e.next=14;break;case 11:return $j(r,i.targetId),e.next=14,MT(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Dj.apply(this,arguments)}function Rj(e,t,n){return Fj.apply(this,arguments)}function Fj(){return Fj=At(Lt().mark((function e(t,n,r){var i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=SA(t),e.prev=1,e.next=4,function(e,t){var n,r,i=xx(e),a=Vx.now(),o=t.reduce((function(e,t){return e.add(t.key)}),QS());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=VS(),u=QS();return i.Zi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=I(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=kE(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new _E(c.key,l,VC(l.value.mapValue),pE.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:zS(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new X_(Dx)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,rA(i,a.changes);case 9:return e.next=11,UL(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=sj(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Fj.apply(this,arguments)}function Vj(e,t){return Uj.apply(this,arguments)}function Uj(){return Uj=At(Lt().mark((function e(t,n){var r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xx(t),e.prev=1,e.next=4,jT(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(wx(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?wx(n.fc):e.removedDocuments.size>0&&(wx(n.fc),n.fc=!1))})),e.next=8,rA(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,r_(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Uj.apply(this,arguments)}function Bj(e,t,n){var r=xx(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=xx(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=I(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&bj(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function zj(e,t,n){return qj.apply(this,arguments)}function qj(){return qj=At(Lt().mark((function e(t,n,r){var i,a,o,s,u,c;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=xx(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new X_(Wx.comparator)).insert(o,UC.newNoDocument(o,Ux.min())),u=QS().add(o),c=new WE(Ux.min(),new Map,new X_(Dx),s,u),e.next=9,Vj(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),nA(i),e.next=16;break;case 14:return e.next=16,MT(i.localStore,n,!1).then((function(){return $j(i,n,r)})).catch(r_);case 16:case"end":return e.stop()}}),e)}))),qj.apply(this,arguments)}function Hj(e,t){return Wj.apply(this,arguments)}function Wj(){return Wj=At(Lt().mark((function e(t,n){var r,i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xx(t),i=n.batch.batchId,e.prev=1,e.next=4,TT(r.localStore,n);case 4:return a=e.sent,Yj(r,i,null),Jj(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,rA(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,r_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Wj.apply(this,arguments)}function Gj(e,t,n){return Kj.apply(this,arguments)}function Kj(){return Kj=At(Lt().mark((function e(t,n,r){var i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xx(t),e.prev=1,e.next=4,function(e,t){var n=xx(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return wx(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Yj(i,n,r),Jj(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,rA(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,r_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Kj.apply(this,arguments)}function Qj(e,t){return Zj.apply(this,arguments)}function Zj(){return Zj=At(Lt().mark((function e(t,n){var r,i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return TL((r=xx(t)).remoteStore)||mx("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=xx(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ec.get(i)||[]).push(n),r.Ec.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=sj(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Zj.apply(this,arguments)}function Jj(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function Yj(e,t,n){var r=xx(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function $j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=I(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||Xj(e,t)}))}function Xj(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(CL(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),nA(e))}function eA(e,t,n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Sj?(e.Ic.addReference(a.key,t),tA(e,a)):a instanceof Ej?(mx("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||Xj(e,a.key)):kx()}}catch(o){i.e(o)}finally{i.f()}}function tA(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(mx("SyncEngine","New document in limbo: "+n),e.mc.add(r),nA(e))}function nA(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new Wx(zx.fromString(t)),r=e.Ac.next();e.yc.set(r,new Tj(n)),e.gc=e.gc.insert(n,r),_L(e.remoteStore,new OI(IS(wS(n.path)),r,"TargetPurposeLimboResolution",g_.ct))}}function rA(e,t,n){return iA.apply(this,arguments)}function iA(){return iA=At(Lt().mark((function e(t,n,r){var i,a,o,s;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=xx(t),a=[],o=[],s=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=_T.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.dc.nu(a),e.next=9,function(){var e=At(Lt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xx(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return a_.forEach(n,(function(t){return a_.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return a_.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),l_(e.t0)){e.next=10;break}throw e.t0;case 10:mx("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=I(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ji.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),iA.apply(this,arguments)}function aA(e,t){return oA.apply(this,arguments)}function oA(){return oA=At(Lt().mark((function e(t,n){var r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=xx(t)).currentUser.isEqual(n)){e.next=11;break}return mx("SyncEngine","User change. New user:",n.toKey()),e.next=5,IT(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new Cx(_x.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,rA(r,i.er);case 11:case"end":return e.stop()}}),e)}))),oA.apply(this,arguments)}function sA(e,t){var n=xx(e),r=n.yc.get(t);if(r&&r.fc)return QS().add(r.key);var i=QS(),a=n._c.get(t);if(!a)return i;var o,s=I(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.wc.get(u);i=i.unionWith(c.view.nc)}}catch(l){s.e(l)}finally{s.f()}return i}function uA(e,t){return cA.apply(this,arguments)}function cA(){return cA=At(Lt().mark((function e(t,n){var r,i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xx(t),e.next=3,RT(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&eA(r,n.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)}))),cA.apply(this,arguments)}function lA(e,t){return fA.apply(this,arguments)}function fA(){return fA=At(Lt().mark((function e(t,n){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xx(t),e.abrupt("return",VT(r.localStore,n).then((function(e){return rA(r,e)})));case 2:case"end":return e.stop()}}),e)}))),fA.apply(this,arguments)}function dA(e,t,n,r){return hA.apply(this,arguments)}function hA(){return hA=At(Lt().mark((function e(t,n,r,i){var a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xx(t),e.next=3,function(e,t){var n=xx(e),r=xx(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):a_.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,UL(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Yj(a,n,i||null),Jj(a,n),function(e,t){xx(xx(e).mutationQueue).Cn(t)}(a.localStore,n)):kx();case 11:return e.next=13,rA(a,o);case 13:e.next=16;break;case 15:mx("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),hA.apply(this,arguments)}function pA(e,t){return vA.apply(this,arguments)}function vA(){return vA=At(Lt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(CA(r=xx(t)),SA(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,mA(r,i.toArray());case 5:return a=e.sent,r.vc=!0,e.next=9,nj(r.remoteStore,!0);case 9:o=I(a);try{for(o.s();!(s=o.n()).done;)u=s.value,_L(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return $j(r,t),MT(r.localStore,t,!0)})),CL(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,mA(r,c);case 21:return function(e){var t=xx(e);t.yc.forEach((function(e,n){CL(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new X_(Wx.comparator)}(r),r.vc=!1,e.next=25,nj(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),vA.apply(this,arguments)}function mA(e,t,n){return gA.apply(this,arguments)}function gA(){return gA=At(Lt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,h,p,v,m,g;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=xx(t),a=[],o=[],s=I(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,OT(i.localStore,IS(f[0]));case 11:l=e.sent,d=I(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.wc.get(p),e.next=20,uA(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,FT(i.localStore,c);case 36:return g=e.sent,e.next=39,OT(i.localStore,g);case 39:return l=e.sent,e.next=42,Pj(i,yA(g),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),gA.apply(this,arguments)}function yA(e){return kS(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function bA(e){var t=xx(e);return xx(xx(t.localStore).persistence).$i()}function kA(e,t,n,r){return wA.apply(this,arguments)}function wA(){return wA=At(Lt().mark((function e(t,n,r,i){var a,o,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=xx(t)).vc){e.next=3;break}return e.abrupt("return",void mx("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,VT(a.localStore,OS(o[0]));case 10:return s=e.sent,u=WE.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,sC.EMPTY_BYTE_STRING),e.next=14,rA(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,MT(a.localStore,n,!0);case 17:return $j(a,n,i),e.abrupt("break",20);case 19:kx();case 20:case"end":return e.stop()}}),e)}))),wA.apply(this,arguments)}function xA(e,t,n){return _A.apply(this,arguments)}function _A(){return _A=At(Lt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=CA(t)).vc){e.next=45;break}a=I(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i._c.has(s)){e.next=10;break}return mx("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,FT(i.localStore,s);case 12:return u=e.sent,e.next=15,OT(i.localStore,u);case 15:return c=e.sent,e.next=18,Pj(i,yA(u),c.targetId,!1,c.resumeToken);case 18:_L(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=I(r),e.prev=30,d=Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,MT(i.localStore,t,!1).then((function(){CL(i.remoteStore,t),$j(i,t)})).catch(r_);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),_A.apply(this,arguments)}function CA(e){var t=xx(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vj.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zj.bind(null,t),t.dc.nu=gj.bind(null,t.eventManager),t.dc.Pc=yj.bind(null,t.eventManager),t}function SA(e){var t=xx(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Hj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Gj.bind(null,t),t}function EA(e,t,n){var r=xx(e);(function(){var e=At(Lt().mark((function e(t,n,r){var i,a,o,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=xx(e),r=uI(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Cj(i)),a=new _j(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.zu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.bc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,rA(t,u.Ju,void 0);case 31:return e.next=33,function(e,t){var n=xx(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(yx("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var IA=function(){function e(){h(this,e),this.synchronizeTabs=!1}return g(e,[{key:"initialize",value:function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=fL(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return ET(this.persistence,new CT,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new hT(vT.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new eL}},{key:"terminate",value:function(){var e=At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),NA=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).Vc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return g(n,[{key:"initialize",value:function(){var e=At(Lt().mark((function e(t){var r=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ml(k(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,SA(this.Vc.syncEngine);case 6:return e.next=8,UL(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return ET(this.persistence,new CT,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new qN(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new m_(t,this.persistence);return new v_(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=xT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?NN.withCacheSize(this.cacheSizeBytes):NN.DEFAULT;return new bT(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,cL(),lL(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new eL}}]),n}(IA),TA=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return g(n,[{key:"initialize",value:function(){var e=At(Lt().mark((function e(t){var r,i=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ml(k(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof XT,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:dA.bind(null,r),zr:kA.bind(null,r),Wr:xA.bind(null,r),$i:bA.bind(null,r),Qr:lA.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pA(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=cL();if(!XT.D(t))throw new Cx(_x.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=xT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new XT(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(NA),LA=function(){function e(){h(this,e)}return g(e,[{key:"initialize",value:function(){var e=At(Lt().mark((function e(t,n){var r=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Bj(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=aA.bind(null,this.syncEngine),e.next=12,nj(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new dj}},{key:"createDatastore",value:function(e){var t,n=fL(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new uL(t));return function(e,t,n,r){return new mL(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Bj(o.syncEngine,e,0)},a=nL.D()?new nL:new tL,new yL(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Lj(e,t,n,r,i,a);return o&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xx(t),mx("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,wL(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function jA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return At(Lt().mark((function r(){var i;return Lt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var AA=function(){function e(t){h(this,e),this.observer=t,this.muted=!1}return g(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):gx("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),PA=function(){function e(t,n){var r=this;h(this,e),this.Cc=t,this.serializer=n,this.metadata=new Sx,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return g(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=At(Lt().mark((function e(){var t,n,r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new wj(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=At(Lt().mark((function e(){var t,n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=At(Lt().mark((function e(){var t,n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),OA=function(){function e(t){h(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return g(e,[{key:"lookup",value:function(){var e=At(Lt().mark((function e(t){var n,r=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Cx(_x.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=At(Lt().mark((function e(t,n){var r,i,a,o,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xx(t),i=vI(r.serializer)+"/documents",a={documents:n.map((function(e){return fI(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=bI(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());wx(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new TE(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=At(Lt().mark((function e(){var t,n=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Wx.fromPath(t);n.mutations.push(new LE(r,n.precondition(r)))})),e.next=7,function(){var e=At(Lt().mark((function e(t,n){var r,i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xx(t),i=vI(r.serializer)+"/documents",a={writes:n.map((function(e){return kI(r.serializer,e)}))},e.next=3,r.Io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw kx();t=Ux.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Cx(_x.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ux.min())?pE.exists(!1):pE.updateTime(t):pE.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ux.min()))throw new Cx(_x.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pE.updateTime(t)}return pE.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),MA=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new dL(this.asyncQueue,"transaction_retry")}return g(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(At(Lt().mark((function t(){var n,r;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new OA(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!y_(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ME(t)}return!1}}]),e}(),DA=function(){function e(t,n,r,i){var a=this;h(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dx.UNAUTHENTICATED,this.clientId=Mx.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mx("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return mx("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return g(e,[{key:"getConfiguration",value:function(){var e=At(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Cx(_x.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Sx;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(At(Lt().mark((function n(){var r;return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=sj(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function RA(e,t){return FA.apply(this,arguments)}function FA(){return FA=At(Lt().mark((function e(t,n){var r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),mx("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,IT(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),FA.apply(this,arguments)}function VA(e,t){return UA.apply(this,arguments)}function UA(){return UA=At(Lt().mark((function e(t,n){var r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,zA(t);case 3:return r=e.sent,mx("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return ej(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return ej(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),UA.apply(this,arguments)}function BA(e){return"FirebaseError"===e.name?e.code===_x.FAILED_PRECONDITION||e.code===_x.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function zA(e){return qA.apply(this,arguments)}function qA(){return qA=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return mx("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,RA(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),BA(n=e.t0)){e.next=13;break}throw n;case 13:return yx("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,RA(t,new IA);case 16:e.next=21;break;case 18:return mx("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,RA(t,new IA);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),qA.apply(this,arguments)}function HA(e){return WA.apply(this,arguments)}function WA(){return WA=At(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return mx("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,VA(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return mx("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,VA(t,new LA);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),WA.apply(this,arguments)}function GA(e){return zA(e).then((function(e){return e.persistence}))}function KA(e){return zA(e).then((function(e){return e.localStore}))}function QA(e){return HA(e).then((function(e){return e.remoteStore}))}function ZA(e){return HA(e).then((function(e){return e.syncEngine}))}function JA(e){return HA(e).then((function(e){return e.datastore}))}function YA(e){return $A.apply(this,arguments)}function $A(){return $A=At(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HA(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=jj.bind(null,n.syncEngine),r.onUnlisten=Mj.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),$A.apply(this,arguments)}function XA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Sx;return e.asyncQueue.enqueueAndForget(At(Lt().mark((function i(){return Lt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new AA({next:function(a){t.enqueueAndForget((function(){return vj(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Cx(_x.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Cx(_x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new kj(wS(n.path),a,{includeMetadataChanges:!0,Ku:!0});return hj(e,o)},i.next=3,YA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function eP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Sx;return e.asyncQueue.enqueueAndForget(At(Lt().mark((function i(){return Lt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new AA({next:function(n){t.enqueueAndForget((function(){return vj(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Cx(_x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new kj(n,a,{includeMetadataChanges:!0,Ku:!0});return hj(e,o)},i.next=3,YA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function tP(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var nP=new Map;function rP(e,t,n){if(!n)throw new Cx(_x.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function iP(e,t,n,r){if(!0===t&&!0===r)throw new Cx(_x.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function aP(e){if(!Wx.isDocumentKey(e))throw new Cx(_x.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function oP(e){if(Wx.isDocumentKey(e))throw new Cx(_x.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function sP(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":kx()}function uP(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Cx(_x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=sP(e);throw new Cx(_x.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function cP(e,t){if(t<=0)throw new Cx(_x.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var lP=function(){function e(t){var n,r;if(h(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Cx(_x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Cx(_x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}iP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tP(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Cx(_x.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Cx(_x.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Cx(_x.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return g(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),fP=function(){function e(t,n,r,i){h(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lP({}),this._settingsFrozen=!1}return g(e,[{key:"app",get:function(){if(!this._app)throw new Cx(_x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Cx(_x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lP(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ix;switch(e.type){case"firstParty":return new jx(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Cx(_x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=nP.get(e);t&&(mx("ComponentProvider","Removing Datastore"),nP.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function dP(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=uP(e,fP))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&yx("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=dx.MOCK_USER;else{s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[mu(JSON.stringify({alg:"none",type:"JWT"})),mu(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Cx(_x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new dx(c)}e._authCredentials=new Nx(new Ex(s,u))}}var hP=function(){function e(t,n,r){h(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return g(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new vP(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),pP=function(){function e(t,n,r){h(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return g(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),vP=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,wS(i)))._path=i,a.type="collection",a}return g(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new hP(this.firestore,null,new Wx(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(pP);function mP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=zu(e),rP("collection","path",t),e instanceof fP){var a=zx.fromString.apply(zx,[t].concat(r));return oP(a),new vP(e,null,a)}if(!(e instanceof hP||e instanceof vP))throw new Cx(_x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(zx.fromString.apply(zx,[t].concat(r)));return oP(o),new vP(e.firestore,null,o)}function gP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=zu(e),1===arguments.length&&(t=Mx.A()),rP("doc","path",t),e instanceof fP){var a=zx.fromString.apply(zx,[t].concat(r));return aP(a),new hP(e,null,new Wx(a))}if(!(e instanceof hP||e instanceof vP))throw new Cx(_x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(zx.fromString.apply(zx,[t].concat(r)));return aP(o),new hP(e.firestore,e instanceof vP?e.converter:null,new Wx(o))}function yP(e,t){return e=zu(e),t=zu(t),(e instanceof hP||e instanceof vP)&&(t instanceof hP||t instanceof vP)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function bP(e,t){return e=zu(e),t=zu(t),e instanceof pP&&t instanceof pP&&e.firestore===t.firestore&&LS(e._query,t._query)&&e.converter===t.converter}var kP=function(){function e(){var t=this;h(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new dL(this,"async_queue_retry"),this.Xc=function(){var e=lL();e&&mx("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=lL();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return g(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=lL();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new Sx;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=At(Lt().mark((function e(){var t=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),l_(e.t0)){e.next=12;break}throw e.t0;case 12:mx("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw gx("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=oj.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&kx()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=At(Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=I(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=I(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function wP(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=I(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var xP=function(){function e(){h(this,e),this._progressObserver={},this._taskCompletionResolver=new Sx,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return g(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),_P=function(e){b(n,e);var t=_(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new kP,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return g(n,[{key:"_terminate",value:function(){return this._firestoreClient||SP(this),this._firestoreClient.terminate()}}]),n}(fP);function CP(e){return e._firestoreClient||SP(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function SP(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new vC(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,tP(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new DA(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function EP(e,t,n){var r=new Sx;return e.asyncQueue.enqueue(At(Lt().mark((function i(){var a;return Lt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,RA(e,n);case 3:return i.next=5,VA(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),BA(a=i.t0)){i.next=13;break}throw a;case 13:yx("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function IP(e){return function(e){return e.asyncQueue.enqueue(At(Lt().mark((function t(){var n,r;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,GA(e);case 2:return n=t.sent,t.next=5,QA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=xx(e);return t.vu.delete(0),bL(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(CP(e=uP(e,_P)))}function NP(e){return function(e){return e.asyncQueue.enqueue(At(Lt().mark((function t(){var n,r;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,GA(e);case 2:return n=t.sent,t.next=5,QA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=xx(t)).vu.add(0),e.next=4,wL(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(CP(e=uP(e,_P)))}function TP(e,t){var n=CP(e=uP(e,_P)),r=new xP;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new PA(e,t)}(function(e,t){if(e instanceof Uint8Array)return jA(e,t);if(e instanceof ArrayBuffer)return jA(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?VE().encode(e):e),t)}(n,fL(t));e.asyncQueue.enqueueAndForget(At(Lt().mark((function t(){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=EA,t.next=3,ZA(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function LP(e,t){return function(e,t){return e.asyncQueue.enqueue(At(Lt().mark((function n(){return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=xx(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,KA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(CP(e=uP(e,_P)),t).then((function(t){return t?new pP(e,null,t.query):null}))}function jP(e){if(e._initialized||e._terminated)throw new Cx(_x.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var AP=function(){function e(t){h(this,e),this._byteString=t}return g(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(sC.fromBase64String(t))}catch(t){throw new Cx(_x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(sC.fromUint8Array(t))}}]),e}(),PP=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Cx(_x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hx(n)}return g(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var OP=g((function e(t){h(this,e),this._methodName=t})),MP=function(){function e(t,n){if(h(this,e),!isFinite(t)||t<-90||t>90)throw new Cx(_x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Cx(_x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return g(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Dx(this._lat,e._lat)||Dx(this._long,e._long)}}]),e}(),DP=/^__.*__$/,RP=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new _E(e,this.data,this.fieldMask,t,this.fieldTransforms):new xE(e,this.data,t,this.fieldTransforms)}}]),e}(),FP=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return new _E(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function VP(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kx()}}var UP=function(){function e(t,n,r,i,a,o){h(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return g(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return oO(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(VP(this.ca)&&DP.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),BP=function(){function e(t,n,r){h(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||fL(t)}return g(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new UP({ca:e,methodName:t,ga:n,path:Hx.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function zP(e){var t=e._freezeSettings(),n=fL(e._databaseId);return new BP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function qP(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);nO("Data must be an object, but it was:",o,r);var s,u,c=eO(r,o);if(a.merge)s=new aC(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=I(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=rO(t,l.value,n);if(!o.contains(h))throw new Cx(_x.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));sO(f,h)||f.push(h)}}catch(p){d.e(p)}finally{d.f()}s=new aC(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new RP(new FC(c),s,u)}var HP=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(OP);function WP(e,t,n){return new UP({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var GP=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){return new dE(e.path,new iE)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(OP),KP=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).pa=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=WP(this,e,!0),n=this.pa.map((function(e){return XP(e,t)})),r=new aE(n);return new dE(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(OP),QP=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).pa=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=WP(this,e,!0),n=this.pa.map((function(e){return XP(e,t)})),r=new sE(n);return new dE(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(OP),ZP=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).Ia=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=new cE(e.serializer,XS(e.serializer,this.Ia));return new dE(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(OP);function JP(e,t,n,r){var i=e.ya(1,t,n);nO("Data must be an object, but it was:",i,r);var a=[],o=FC.empty();Y_(r,(function(e,r){var s=aO(t,e,n);r=zu(r);var u=i.da(s);if(r instanceof HP)a.push(s);else{var c=XP(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new aC(a);return new FP(o,s,i.fieldTransforms)}function YP(e,t,n,r,i,a){var o=e.ya(1,t,n),s=[rO(t,r,n)],u=[i];if(a.length%2!=0)throw new Cx(_x.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(rO(t,a[c])),u.push(a[c+1]);for(var l=[],f=FC.empty(),d=s.length-1;d>=0;--d)if(!sO(l,s[d])){var h=s[d],p=u[d];p=zu(p);var v=o.da(h);if(p instanceof HP)l.push(h);else{var m=XP(p,v);null!=m&&(l.push(h),f.set(h,m))}}var g=new aC(l);return new FP(f,g,o.fieldTransforms)}function $P(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return XP(n,e.ya(r?4:3,t))}function XP(e,t){if(tO(e=zu(e)))return nO("Unsupported field value:",t,e),eO(e,t);if(e instanceof OP)return function(e,t){if(!VP(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=I(e);try{for(a.s();!(n=a.n()).done;){var o=XP(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=zu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return XS(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Vx.fromDate(e);return{timestampValue:aI(t.serializer,n)}}if(e instanceof Vx){var r=new Vx(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:aI(t.serializer,r)}}if(e instanceof MP)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof AP)return{bytesValue:oI(t.serializer,e._byteString)};if(e instanceof hP){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:cI(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(sP(e)))}(e,t)}function eO(e,t){var n={};return $_(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Y_(e,(function(e,r){var i=XP(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function tO(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vx||e instanceof MP||e instanceof AP||e instanceof hP||e instanceof OP)}function nO(e,t,n){if(!tO(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=sP(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function rO(e,t,n){if((t=zu(t))instanceof PP)return t._internalPath;if("string"==typeof t)return aO(e,t);throw oO("Field path arguments must be of type string or ",e,!1,void 0,n)}var iO=new RegExp("[~\\*/\\[\\]]");function aO(e,t,n){if(t.search(iO)>=0)throw oO("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return C(PP,d(t.split(".")))._internalPath}catch(sa){throw oO("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function oO(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Cx(_x.INVALID_ARGUMENT,s+e+u)}function sO(e,t){return e.some((function(e){return e.isEqual(t)}))}var uO=function(){function e(t,n,r,i,a){h(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return g(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new hP(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new cO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(lO("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),cO=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){return ml(k(n.prototype),"data",this).call(this)}}]),n}(uO);function lO(e,t){return"string"==typeof t?aO(e,t):t instanceof PP?t._internalPath:t._delegate._internalPath}function fO(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Cx(_x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dO=g((function e(){h(this,e)})),hO=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n)}(dO);function pO(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof dO&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof mO})).length,n=e.filter((function(e){return e instanceof vO})).length;if(t>1||t>0&&n>0)throw new Cx(_x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=I(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var vO=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return g(n,[{key:"_apply",value:function(e){var t=this._parse(e);return NO(e._query,t),new pP(e.firestore,e.converter,NS(e._query,t))}},{key:"_parse",value:function(e){var t=zP(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Cx(_x.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){IO(o,a);var u,c=[],l=I(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(EO(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=EO(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||IO(o,a),s=$P(n,"where",o,"in"===a||"not-in"===a);return KC.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(hO);var mO=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return g(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:QC.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=I(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;NO(r,a),r=NS(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new pP(e.firestore,e.converter,NS(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(dO);var gO=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return g(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Cx(_x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Cx(_x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new HC(t,n);return function(e,t){if(null===_S(e)){var n=CS(e);null!==n&&TO(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new pP(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new bS(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(hO);var yO=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return g(n,[{key:"_apply",value:function(e){return new pP(e.firestore,e.converter,TS(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(hO);var bO=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=SO(e,this.type,this._docOrFields,this._inclusive);return new pP(e.firestore,e.converter,function(e,t){return new bS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(hO);function kO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bO._create("startAt",t,!0)}function wO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bO._create("startAfter",t,!1)}var xO=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=SO(e,this.type,this._docOrFields,this._inclusive);return new pP(e.firestore,e.converter,function(e,t){return new bS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(hO);function _O(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xO._create("endBefore",t,!1)}function CO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xO._create("endAt",t,!0)}function SO(e,t,n,r){if(n[0]=zu(n[0]),n[0]instanceof uO)return function(e,t,n,r,i){if(!r)throw new Cx(_x.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=I(ES(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(EC(t,r.key));else{var c=r.data.field(u.field);if(dC(c))throw new Cx(_x.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Cx(_x.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new BC(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=zP(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Cx(_x.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Cx(_x.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!SS(e)&&-1!==c.indexOf("/"))throw new Cx(_x.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(zx.fromString(c));if(!Wx.isDocumentKey(l))throw new Cx(_x.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Wx(l);s.push(EC(t,f))}else{var d=$P(n,r,c);s.push(d)}}return new BC(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function EO(e,t,n){if("string"==typeof(n=zu(n))){if(""===n)throw new Cx(_x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SS(t)&&-1!==n.indexOf("/"))throw new Cx(_x.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(zx.fromString(n));if(!Wx.isDocumentKey(r))throw new Cx(_x.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return EC(e,new Wx(r))}if(n instanceof hP)return EC(e,n._key);throw new Cx(_x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(sP(n),"."))}function IO(e,t){if(!Array.isArray(e)||0===e.length)throw new Cx(_x.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function NO(e,t){if(t.isInequality()){var n=CS(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Cx(_x.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=_S(e);null!==i&&TO(e,r,i)}var a=function(e,t){var n,r=I(e);try{for(r.s();!(n=r.n()).done;){var i,a=I(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Cx(_x.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Cx(_x.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function TO(e,t,n){if(!n.isEqual(t))throw new Cx(_x.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var LO=function(){function e(){h(this,e)}return g(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(bC(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lC(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fC(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw kx()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Y_(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new MP(lC(e.latitude),lC(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=hC(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(pC(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=cC(e);return new Vx(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=zx.fromString(e);wx(PI(n));var r=new mC(n.get(1),n.get(3)),i=new Wx(n.popFirst(5));return r.isEqual(t)||gx("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function jO(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var AO=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new AP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new hP(this.firestore,null,t)}}]),n}(LO);var PO=function(){function e(t,n){h(this,e),this.hasPendingWrites=t,this.fromCache=n}return g(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),OO=function(e){b(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return g(n,[{key:"exists",value:function(){return ml(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new MO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(lO("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(uO),MO=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ml(k(n.prototype),"data",this).call(this,e)}}]),n}(OO),DO=function(){function e(t,n,r,i){h(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new PO(i.hasPendingWrites,i.fromCache),this.query=r}return g(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new MO(n._firestore,n._userDataWriter,r.key,r,new PO(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Cx(_x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new MO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new PO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new MO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new PO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:RO(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function RO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kx()}}function FO(e,t){return e instanceof OO&&t instanceof OO?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof DO&&t instanceof DO&&e._firestore===t._firestore&&bP(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var VO=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new AP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new hP(this.firestore,null,t)}}]),n}(LO);function UO(e){e=uP(e,hP);var t=uP(e.firestore,_P),n=CP(t),r=new VO(t);return function(e,t){var n=new Sx;return e.asyncQueue.enqueueAndForget(At(Lt().mark((function r(){return Lt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=At(Lt().mark((function e(t,n,r){var i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=xx(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Cx(_x.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=sj(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,KA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new OO(t,r,e._key,n,new PO(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function BO(e){e=uP(e,pP);var t=uP(e.firestore,_P),n=CP(t),r=new VO(t);return function(e,t){var n=new Sx;return e.asyncQueue.enqueueAndForget(At(Lt().mark((function r(){return Lt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=At(Lt().mark((function e(t,n,r){var i,a,o,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,RT(t,n,!0);case 3:i=e.sent,a=new Ij(n,i.ir),o=a.sc(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=sj(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,KA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new DO(t,r,e,n)}))}function zO(e,t,n){e=uP(e,hP);var r=uP(e.firestore,_P),i=jO(e.converter,t,n);return GO(r,[qP(zP(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,pE.none())])}function qO(e,t,n){e=uP(e,hP);for(var r=uP(e.firestore,_P),i=zP(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return GO(r,[("string"==typeof(t=zu(t))||t instanceof PP?YP(i,"updateDoc",e._key,t,n,o):JP(i,"updateDoc",e._key,t)).toMutation(e._key,pE.exists(!0))])}function HO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=zu(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||wP(n[u])||(s=n[u],u++);var c,l,f,d={includeMetadataChanges:s.includeMetadataChanges};if(wP(n[u])){var h=n[u];n[u]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[u+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[u+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof hP)l=uP(e.firestore,_P),f=wS(e._key.path),c={next:function(t){n[u]&&n[u](KO(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=uP(e,pP);l=uP(p.firestore,_P),f=p._query;var v=new VO(l);c={next:function(e){n[u]&&n[u](new DO(l,v,p,e))},error:n[u+1],complete:n[u+2]},fO(e._query)}return function(e,t,n,r){var i=new AA(r),a=new kj(t,i,n);return e.asyncQueue.enqueueAndForget(At(Lt().mark((function t(){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=hj,t.next=3,YA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(At(Lt().mark((function t(){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=vj,t.next=3,YA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(CP(l),f,d,c)}function WO(e,t){return function(e,t){var n=new AA(t);return e.asyncQueue.enqueueAndForget(At(Lt().mark((function t(){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){xx(e).ku.add(t),t.next()},t.next=3,YA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(At(Lt().mark((function t(){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){xx(e).ku.delete(t)},t.next=3,YA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(CP(e=uP(e,_P)),wP(t)?t:{next:t})}function GO(e,t){return function(e,t){var n=new Sx;return e.asyncQueue.enqueueAndForget(At(Lt().mark((function r(){return Lt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Rj,r.next=3,ZA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(CP(e),t)}function KO(e,t,n){var r=n.docs.get(t._key),i=new VO(e);return new OO(e,i,t._key,r,new PO(n.hasPendingWrites,n.fromCache),t.converter)}var QO={maxAttempts:5},ZO=function(){function e(t,n){h(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=zP(t)}return g(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=JO(e,this._firestore),i=jO(r.converter,t,n),a=qP(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,pE.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=JO(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=zu(t))||t instanceof PP?YP(this._dataReader,"WriteBatch.update",i._key,t,n,o):JP(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,pE.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=JO(e,this._firestore);return this._mutations=this._mutations.concat(new TE(t._key,pE.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Cx(_x.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function JO(e,t){if((e=zu(e)).firestore!==t)throw new Cx(_x.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var YO=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r))._firestore=e,i}return g(n,[{key:"get",value:function(e){var t=this,r=JO(e,this._firestore),i=new VO(this._firestore);return ml(k(n.prototype),"get",this).call(this,e).then((function(e){return new OO(t._firestore,i,r._key,e._document,new PO(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){h(this,e),this._firestore=t,this._transaction=n,this._dataReader=zP(t)}return g(e,[{key:"get",value:function(e){var t=this,n=JO(e,this._firestore),r=new AO(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return kx();var i=e[0];if(i.isFoundDocument())return new uO(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new uO(t._firestore,r,n._key,null,n.converter);throw kx()}))}},{key:"set",value:function(e,t,n){var r=JO(e,this._firestore),i=jO(r.converter,t,n),a=qP(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=JO(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=zu(t))||t instanceof PP?YP(this._dataReader,"Transaction.update",i._key,t,n,o):JP(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=JO(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function $O(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new KP("arrayUnion",t)}function XO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QP("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){hx=e}(Rc),Lc(new qu("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new _P(new Tx(e.getProvider("auth-internal")),new Px(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Cx(_x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mC(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),qc(fx,"3.13.0",e),qc(fx,"3.13.0","esm2017")}();function eM(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Cx("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function tM(){if("undefined"===typeof Uint8Array)throw new Cx("unimplemented","Uint8Arrays are not available in this environment.")}function nM(){if("undefined"==typeof atob)throw new Cx("unimplemented","Blobs are unavailable in Firestore in this environment.")}var rM=function(){function e(t){h(this,e),this._delegate=t}return g(e,[{key:"toBase64",value:function(){return nM(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return tM(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return nM(),new e(AP.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return tM(),new e(AP.fromUint8Array(t))}}]),e}();function iM(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=I(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var aM=function(){function e(){h(this,e)}return g(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){jP(e=uP(e,_P));var n=CP(e);if(n._uninitializedComponentsProvider)throw new Cx(_x.FAILED_PRECONDITION,"SDK cache is already specified.");yx("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new LA;return EP(n,i,new NA(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){jP(e=uP(e,_P));var t=CP(e);if(t._uninitializedComponentsProvider)throw new Cx(_x.FAILED_PRECONDITION,"SDK cache is already specified.");yx("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new LA;return EP(t,r,new TA(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Cx(_x.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Sx;return e._queue.enqueueAndForgetEvenWhileRestricted(At(Lt().mark((function n(){return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=At(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s_.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,s_.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(xT(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),oM=function(){function e(t,n,r){var i=this;h(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof mC||(this._appCompat=t)}return g(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||yx("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};dP(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return IP(this._delegate)}},{key:"disableNetwork",value:function(){return NP(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&iP("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Sx;return e.asyncQueue.enqueueAndForget(At(Lt().mark((function n(){return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Qj,n.next=3,ZA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(CP(e=uP(e,_P)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return WO(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Cx("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new kM(this,mP(this._delegate,e))}catch(t){throw dM(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new fM(this,gP(this._delegate,e))}catch(t){throw dM(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new gM(this,function(e,t){if(e=uP(e,fP),rP("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Cx(_x.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new pP(e,null,function(e){return new bS(zx.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw dM(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=uP(e,_P);var r=Object.assign(Object.assign({},QO),n);return function(e){if(e.maxAttempts<1)throw new Cx(_x.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Sx;return e.asyncQueue.enqueueAndForget(At(Lt().mark((function i(){var a;return Lt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,JA(e);case 2:a=i.sent,new MA(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(CP(e),(function(n){return t(new YO(e,n))}),r)}(this._delegate,(function(n){return e(new uM(t,n))}))}},{key:"batch",value:function(){var e=this;return CP(this._delegate),new cM(new ZO(this._delegate,(function(t){return GO(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return TP(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return LP(this._delegate,e).then((function(e){return e?new gM(t,e):null}))}}]),e}(),sM=function(e){b(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new rM(new AP(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return fM.forKey(t,this.firestore,null)}}]),n}(LO);var uM=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new sM(t)}return g(e,[{key:"get",value:function(e){var t=this,n=wM(e);return this._delegate.get(n).then((function(e){return new vM(t._firestore,new OO(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=wM(e);return n?(eM("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=wM(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=wM(e);return this._delegate.delete(t),this}}]),e}(),cM=function(){function e(t){h(this,e),this._delegate=t}return g(e,[{key:"set",value:function(e,t,n){var r=wM(e);return n?(eM("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=wM(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=wM(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),lM=function(){function e(t,n,r){h(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return g(e,[{key:"fromFirestore",value:function(e,t){var n=new MO(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new mM(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new sM(t),n),i.set(n,a)),a}}]),e}();lM.INSTANCES=new WeakMap;var fM=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new sM(t)}return g(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new kM(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new kM(this.firestore,mP(this._delegate,e))}catch(t){throw dM(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=zu(e))instanceof hP&&yP(this._delegate,e)}},{key:"set",value:function(e,t){t=eM("DocumentReference.set",t);try{return t?zO(this._delegate,e,t):zO(this._delegate,e)}catch(n){throw dM(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?qO(this._delegate,e):qO.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw dM(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return GO(uP(e.firestore,_P),[new TE(e._key,pE.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=hM(n),a=pM(n,(function(t){return new vM(e.firestore,new OO(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return HO(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?UO(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=uP(e,hP);var t=uP(e.firestore,_P);return XA(CP(t),e._key,{source:"server"}).then((function(n){return KO(t,e,n)}))}(this._delegate):function(e){e=uP(e,hP);var t=uP(e.firestore,_P);return XA(CP(t),e._key).then((function(n){return KO(t,e,n)}))}(this._delegate),t.then((function(e){return new vM(n.firestore,new OO(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(lM.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Cx("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new hP(n._delegate,r,new Wx(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new hP(n._delegate,r,t))}}]),e}();function dM(e,t,n){return e.message=e.message.replace(t,n),e}function hM(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!iM(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function pM(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=iM(e[0])?e[0]:iM(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var vM=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"ref",get:function(){return new fM(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return FO(this._delegate,e._delegate)}}]),e}(),mM=function(e){b(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||kx()}(void 0!==t),t}}]),n}(vM),gM=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new sM(t)}return g(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,pO(this._delegate,function(e,t,n){var r=t,i=lO("where",e);return vO._create(i,r,n)}(t,n,r)))}catch(i){throw dM(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,pO(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=lO("orderBy",e);return gO._create(n,t)}(t,n)))}catch(r){throw dM(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,pO(this._delegate,function(e){return cP("limit",e),yO._create("limit",e,"F")}(t)))}catch(n){throw dM(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,pO(this._delegate,function(e){return cP("limitToLast",e),yO._create("limitToLast",e,"L")}(t)))}catch(n){throw dM(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,pO(this._delegate,kO.apply(void 0,arguments)))}catch(t){throw dM(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,pO(this._delegate,wO.apply(void 0,arguments)))}catch(t){throw dM(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,pO(this._delegate,_O.apply(void 0,arguments)))}catch(t){throw dM(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,pO(this._delegate,CO.apply(void 0,arguments)))}catch(t){throw dM(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return bP(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?BO(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=uP(e,pP);var t=uP(e.firestore,_P),n=CP(t),r=new VO(t);return eP(n,e._query,{source:"server"}).then((function(n){return new DO(t,r,e,n)}))}(this._delegate):function(e){e=uP(e,pP);var t=uP(e.firestore,_P),n=CP(t),r=new VO(t);return fO(e._query),eP(n,e._query).then((function(n){return new DO(t,r,e,n)}))}(this._delegate),t.then((function(e){return new bM(n.firestore,new DO(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=hM(n),a=pM(n,(function(t){return new bM(e.firestore,new DO(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return HO(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(lM.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),yM=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new mM(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),bM=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"query",get:function(){return new gM(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new mM(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new yM(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new mM(n._firestore,r))}))}},{key:"isEqual",value:function(e){return FO(this._delegate,e._delegate)}}]),e}(),kM=function(e){b(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return g(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new fM(this.firestore,e):null}},{key:"doc",value:function(e){try{return new fM(this.firestore,void 0===e?gP(this._delegate):gP(this._delegate,e))}catch(t){throw dM(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=uP(e.firestore,_P),r=gP(e),i=jO(e.converter,t);return GO(n,[qP(zP(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,pE.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new fM(t.firestore,e)}))}},{key:"isEqual",value:function(e){return yP(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(lM.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(gM);function wM(e){return uP(e,hP)}var xM=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=C(PP,n)}return g(e,[{key:"isEqual",value:function(e){return(e=zu(e))instanceof PP&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Hx.keyField().canonicalString())}}]),e}(),_M=function(){function e(t){h(this,e),this._delegate=t}return g(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new GP("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new HP("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=$O.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=XO.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new ZP("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),CM={Firestore:oM,GeoPoint:MP,Timestamp:Vx,Blob:rM,Transaction:uM,WriteBatch:cM,DocumentReference:fM,DocumentSnapshot:vM,Query:gM,QueryDocumentSnapshot:mM,QuerySnapshot:bM,CollectionReference:kM,FieldPath:xM,FieldValue:_M,setLogLevel:function(e){!function(e){px.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new qu("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},CM)))}(e,(function(e,t){return new oM(e,t,new aM)})),e.registerVersion("@firebase/firestore-compat","0.3.12")}(vl);var SM=function(e){return(0,dt.jsxs)("label",{className:"inputText",children:[(0,dt.jsx)("span",{children:e.name}),(0,dt.jsx)("input",{type:"text",placeholder:e.placeholder,value:e.inputValue&&e.inputValue,onChange:function(t){return e.onChange(t.target.value)}})]})},EM=function(){var e=ft(),t=we(),n=(nt((function(e){return e.user})),l((0,r.useState)("STEP_01"),2)),i=n[0],a=n[1],o=l((0,r.useState)(""),2),s=o[0],u=o[1],c=l((0,r.useState)(""),2),f=c[0],d=c[1],h=l((0,r.useState)(""),2),p=h[0],v=h[1],m=l((0,r.useState)(""),2),g=m[0],y=m[1],b=l((0,r.useState)(null),2),k=b[0],w=b[1],x=l((0,r.useState)(""),2),_=x[0],C=x[1],S=l((0,r.useState)(!0),2),E=S[0],I=S[1];(0,r.useEffect)((function(){var e=s.replace(/\s|[()]/g,"");e.includes("_")?I(!0):I(!1),u(e)}),[s]);var N=function(e){var t=new vl.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(){}});vl.auth().signInWithPhoneNumber(s,t).then((function(e){a("STEP_02"),w(e)})).catch((function(e){console.log(e)}))};(0,r.useEffect)((function(){"STEP_02"===i&&(I(!0),6===_.length?I(!1):I(!0))}),[_,i]),(0,r.useEffect)((function(){"STEP_03"===i&&(I(!0),6===_.length?I(!1):I(!0))}),[_,i]);var T=function(){k.confirm(_).then((function(e){console.log("handleVerificationCodeSubmit:",e.user);var t=e.user.multiFactor.user.uid;console.log("accessToken:",t),y(t),L(t)})).catch((function(e){console.error("ERROR:",e)}))},L=function(n){var r={token:n};console.log("AUTH TOKEN in AUTH:",r);var i=JSON.stringify(r);console.log("tokenJSON:",i),_r.post("".concat(Cr,"/api/auth"),i,{headers:{"Content-Type":"application/json"}}).then((function(n){console.log(n),200===n.status&&(e(Wo({name:n.data.name,phone:n.data.phone,email:n.data.email,token:n.data.token,promocode40:n.data.promocode40})),e(tu({isOpen:!1})),t("/profile/info"))})).catch((function(e){console.error(e),a("STEP_03")}))};(0,r.useEffect)((function(){"STEP_03"===i&&(I(!0),I(""===f||""===p))}),[i,f,p]);return(0,dt.jsxs)("div",{className:"singup",children:[(0,dt.jsx)("div",{id:"recaptcha-container"}),(0,dt.jsx)("div",{className:"singup__content",children:"STEP_01"===i?(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsxs)("div",{className:"singup__description",children:[(0,dt.jsx)("h3",{className:"singup__title",children:"\u0412\u0445\u0456\u0434 \u043d\u0430 \u0441\u0430\u0439\u0442"}),(0,dt.jsx)("p",{className:"singup__text",children:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0441\u0432\u0456\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443, \u0449\u043e\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u0431\u043e\u043d\u0443\u0441\u043d\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438 \u0442\u0430 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0438\u043c \u0430\u0434\u0440\u0435\u0441\u0430\u043c \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"})]}),(0,dt.jsx)(fu,{onChange:function(e){return u(e)}}),(0,dt.jsx)(Us,{name:"\u041f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438",disabled:E,onClick:N})]}):"STEP_02"===i?(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsxs)("div",{className:"singup__description",children:[(0,dt.jsx)("h3",{className:"singup__title",children:"\u0412\u0445\u0456\u0434 \u043d\u0430 \u0441\u0430\u0439\u0442"}),(0,dt.jsxs)("p",{className:"singup__text",children:["\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u0434 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f, \u044f\u043a\u0438\u0439 \u043c\u0438 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u043d\u0430 ",s," ",(0,dt.jsx)("span",{className:"singup__text singup__text-action",onClick:function(){return a("STEP_01")},children:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438"})]})]}),(0,dt.jsx)("form",{className:"singup__form",children:(0,dt.jsx)(du,{onData:function(e){return C(e)}})}),(0,dt.jsx)(Us,{name:"\u041f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438",disabled:E,onClick:T})]}):"STEP_03"===i?(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsxs)("div",{className:"singup__description",children:[(0,dt.jsx)("h3",{className:"singup__title",children:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"}),(0,dt.jsx)("p",{className:"singup__text",children:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u0432\u043e\u0457 \u0434\u0430\u043d\u0456"})]}),(0,dt.jsxs)("form",{className:"singup__form",children:[(0,dt.jsx)(SM,{name:"\u0406\u043c\u2019\u044f",placeholder:"\u0406\u043c\u2019\u044f",onChange:function(e){return d(e)}}),(0,dt.jsx)(SM,{name:"\u041f\u043e\u0448\u0442\u0430",placeholder:"xxx@gmail.com",onChange:function(e){return v(e)}})]}),(0,dt.jsx)(Us,{name:"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f",disabled:E,onClick:function(){return function(){var n={name:f,email:p,token:g,phone:s},r=JSON.stringify(n);console.log(r),_r.post("".concat(Cr,"/api/registrate"),r,{headers:{"Content-Type":"application/json"}}).then((function(n){var r=n.data;200===n.status&&(console.log(r),console.log("user data",{name:f,phone:s,email:p,token:g}),e(Wo({name:f,phone:s,email:p,token:g,promocode40:r.promocode40})),e(tu({isOpen:!1})),t("/profile/info"))})).catch((function(e){return console.error(e)}))}()}})]}):void 0})]})},IM=function(){var e=be(),t=l((0,r.useState)(!1),2),n=t[0],i=t[1],a=l((0,r.useState)(!1),2),o=a[0],s=a[1],u=l((0,r.useState)([]),2),c=u[0],f=u[1],d=we(),h=ft(),p=nt((function(e){return e.user}));(0,r.useEffect)((function(){"/"!==e.pathname&&(i(!1),s(!1))}),[e]);var v=nt((function(e){return e.modals.authModal}));return(0,r.useEffect)((function(){_r.get("".concat(Cr,"/api/menu"),{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){var t=e.data.response.filter((function(e){return e.category_name.startsWith("onlineOrder:")})).map((function(e,t){return{category_name:e.category_name.replace(/onlineOrder: /,""),category_id:e.category_id,category_position_index:t}}));t[13].category_position_index=0,t[12].category_position_index=1,t[11].category_position_index=2,t[8].category_position_index=3,t[10].category_position_index=4,t[9].category_position_index=5,t[2].category_position_index=6,t[3].category_position_index=7,t[0].category_position_index=8,t[6].category_position_index=9,t[4].category_position_index=10,t[7].category_position_index=11,t[1].category_position_index=12,t[5].category_position_index=13,t.sort((function(e,t){return e.category_position_index-t.category_position_index})),f(t)})).catch((function(e){return console.error(e)}))}),[]),"/profile/info"===e.pathname?(0,dt.jsxs)(dt.Fragment,{children:[v&&(0,dt.jsx)(Zi,{closeModal:function(){return h(tu({isOpen:!1}))},children:(0,dt.jsx)(EM,{})}),(0,dt.jsx)("header",{className:"header",children:(0,dt.jsxs)(ht,{children:[(0,dt.jsxs)("div",{className:"header__content",children:[(0,dt.jsxs)("div",{className:"header__left",children:[(0,dt.jsx)(Ct,{className:"header__logo",to:"/",children:(0,dt.jsx)("img",{src:au,alt:"Polar Pelmeni \u2013 \u0430\u0432\u0442\u043e\u0440\u0441\u044c\u043a\u0456 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456"})}),(0,dt.jsxs)("div",{className:"header__selectors",children:[(0,dt.jsxs)("div",{className:"header__selector header__selector-city",children:[(0,dt.jsx)("svg",{width:"12",height:"15",viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M10.2427 10.576L6 14.8187L1.75734 10.576C0.918228 9.73687 0.346791 8.66777 0.115286 7.50389C-0.11622 6.34 0.00260456 5.13361 0.456732 4.03726C0.91086 2.9409 1.6799 2.00384 2.66659 1.34455C3.65328 0.685266 4.81332 0.333374 6 0.333374C7.18669 0.333374 8.34672 0.685266 9.33342 1.34455C10.3201 2.00384 11.0891 2.9409 11.5433 4.03726C11.9974 5.13361 12.1162 6.34 11.8847 7.50389C11.6532 8.66777 11.0818 9.73687 10.2427 10.576ZM6 7.66666C6.35362 7.66666 6.69276 7.52618 6.94281 7.27613C7.19286 7.02608 7.33334 6.68694 7.33334 6.33332C7.33334 5.9797 7.19286 5.64056 6.94281 5.39051C6.69276 5.14046 6.35362 4.99999 6 4.99999C5.64638 4.99999 5.30724 5.14046 5.05719 5.39051C4.80715 5.64056 4.66667 5.9797 4.66667 6.33332C4.66667 6.68694 4.80715 7.02608 5.05719 7.27613C5.30724 7.52618 5.64638 7.66666 6 7.66666Z",fill:"#12130F"})}),(0,dt.jsx)("span",{children:p.city}),(0,dt.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M5 3.78132L8.3 0.481323L9.24267 1.42399L5 5.66666L0.757332 1.42399L1.7 0.481323L5 3.78132Z",fill:"#12130F"})})]}),(0,dt.jsxs)("div",{className:"header__selector header__selector-lang",children:[(0,dt.jsx)("span",{children:"UA"}),(0,dt.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M5 3.78132L8.3 0.481323L9.24267 1.42399L5 5.66666L0.757332 1.42399L1.7 0.481323L5 3.78132Z",fill:"#12130F"})})]})]})]}),(0,dt.jsxs)("nav",{className:"header__navigation",children:[(0,dt.jsx)(Ct,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),(0,dt.jsx)(Ct,{to:"/menu",children:"\u041c\u0435\u043d\u044e"}),(0,dt.jsx)(Ct,{to:"/about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"}),(0,dt.jsx)(Ct,{to:"/contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})]}),(0,dt.jsxs)("div",{className:"header__right",children:[(0,dt.jsx)(uu,{}),p.isAuthenticated?(0,dt.jsxs)("div",{className:"header__profile-btn",onClick:function(){return d("/profile/info")},children:[(0,dt.jsx)("div",{className:"header__avatar",children:(0,dt.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:""})}),(0,dt.jsx)("span",{className:"header__username",children:p.name}),(0,dt.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M5.00048 3.78132L8.30048 0.481323L9.24315 1.42399L5.00048 5.66666L0.757812 1.42399L1.70048 0.481323L5.00048 3.78132Z",fill:"#12130F"})})]}):(0,dt.jsx)(Us,{name:"\u0423\u0432\u0456\u0439\u0442\u0438",onClick:function(){return h(tu({isOpen:!0}))}}),(0,dt.jsx)("div",{className:"header__hamburger ".concat(n&&"header__hamburger--active"),onClick:function(){return i(!n)},children:(0,dt.jsx)("span",{})})]})]}),n&&(0,dt.jsx)("div",{className:"mobile-menu",children:(0,dt.jsxs)("nav",{className:"mobile-menu__navigation",children:[(0,dt.jsx)("div",{className:"mobile-menu__auth",children:!0===p.isAuthenticated?(0,dt.jsxs)("div",{className:"mobile-menu__profile-btn mobile-menu__profile-btn--profile",onClick:function(){return d("/profile/info")},children:[(0,dt.jsx)("div",{className:"mobile-menu__avatar",children:(0,dt.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:"avatar"})}),(0,dt.jsxs)("div",{children:[(0,dt.jsx)("span",{className:"mobile-menu__username",children:p.name}),(0,dt.jsx)("p",{className:"mobile-menu__phone",children:p.phone}),(0,dt.jsx)("p",{className:"mobile-menu__bonus",children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e 23 \u0431\u043e\u043d\u0443\u0441\u0438"})]})]}):(0,dt.jsx)(Us,{name:"\u0423\u0432\u0456\u0439\u0442\u0438 \u0432 \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u0438\u0439 \u043a\u0430\u0431\u0456\u043d\u0435\u0442",onClick:function(){return h(tu({isOpen:!0}))}})}),(0,dt.jsxs)("ul",{className:"mobile-menu__menu",children:[(0,dt.jsx)("li",{className:"mobile-menu__link",children:(0,dt.jsx)(Ct,{children:"\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f"})}),(0,dt.jsx)("li",{className:"mobile-menu__link",children:(0,dt.jsx)(Ct,{children:"\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0456 \u0431\u043b\u044e\u0434\u0430"})}),(0,dt.jsx)("li",{className:"mobile-menu__link",children:(0,dt.jsx)(Ct,{children:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0430\u0434\u0440\u0435\u0441\u0438"})}),(0,dt.jsx)("li",{className:"mobile-menu__link",children:(0,dt.jsx)(Ct,{children:"\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c"})}),(0,dt.jsx)("li",{className:"mobile-menu__link",children:(0,dt.jsx)(Ct,{children:"\u0411\u043e\u043d\u0443\u0441\u0438"})}),(0,dt.jsx)("li",{className:"mobile-menu__link mobile-menu__link--exit",children:(0,dt.jsx)(Ct,{children:"\u0412\u0438\u0445\u0456\u0434"})})]}),(0,dt.jsxs)("ul",{className:"mobile-menu__nav",children:[(0,dt.jsx)("li",{children:(0,dt.jsx)(Ct,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"})}),(0,dt.jsx)("li",{children:(0,dt.jsx)(Ct,{to:"/menu",children:"\u041c\u0435\u043d\u044e"})}),(0,dt.jsx)("li",{children:(0,dt.jsx)(Ct,{to:"/about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"})}),(0,dt.jsx)("li",{children:(0,dt.jsx)(Ct,{to:"/contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})})]})]})})]})})]}):(0,dt.jsxs)(dt.Fragment,{children:[v&&(0,dt.jsx)(Zi,{closeModal:function(){return h(tu({isOpen:!1}))},children:(0,dt.jsx)(EM,{})}),(0,dt.jsx)("header",{className:"header ".concat(n&&"header__fh"),children:(0,dt.jsxs)(ht,{children:[(0,dt.jsxs)("div",{className:"header__content",children:[(0,dt.jsxs)("div",{className:"header__left",children:[(0,dt.jsx)(Ct,{className:"header__logo",to:"/",children:(0,dt.jsx)("img",{src:au,alt:"Polar Pelmeni \u2013 \u0430\u0432\u0442\u043e\u0440\u0441\u044c\u043a\u0456 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456"})}),(0,dt.jsxs)("div",{className:"header__selectors",children:[(0,dt.jsxs)("div",{className:"header__selector header__selector-city",children:[(0,dt.jsx)("svg",{width:"12",height:"15",viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M10.2427 10.576L6 14.8187L1.75734 10.576C0.918228 9.73687 0.346791 8.66777 0.115286 7.50389C-0.11622 6.34 0.00260456 5.13361 0.456732 4.03726C0.91086 2.9409 1.6799 2.00384 2.66659 1.34455C3.65328 0.685266 4.81332 0.333374 6 0.333374C7.18669 0.333374 8.34672 0.685266 9.33342 1.34455C10.3201 2.00384 11.0891 2.9409 11.5433 4.03726C11.9974 5.13361 12.1162 6.34 11.8847 7.50389C11.6532 8.66777 11.0818 9.73687 10.2427 10.576ZM6 7.66666C6.35362 7.66666 6.69276 7.52618 6.94281 7.27613C7.19286 7.02608 7.33334 6.68694 7.33334 6.33332C7.33334 5.9797 7.19286 5.64056 6.94281 5.39051C6.69276 5.14046 6.35362 4.99999 6 4.99999C5.64638 4.99999 5.30724 5.14046 5.05719 5.39051C4.80715 5.64056 4.66667 5.9797 4.66667 6.33332C4.66667 6.68694 4.80715 7.02608 5.05719 7.27613C5.30724 7.52618 5.64638 7.66666 6 7.66666Z",fill:"#12130F"})}),(0,dt.jsx)("span",{children:p.city}),(0,dt.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M5 3.78132L8.3 0.481323L9.24267 1.42399L5 5.66666L0.757332 1.42399L1.7 0.481323L5 3.78132Z",fill:"#12130F"})})]}),(0,dt.jsxs)("div",{className:"header__selector header__selector-lang",children:[(0,dt.jsx)("span",{children:"UA"}),(0,dt.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M5 3.78132L8.3 0.481323L9.24267 1.42399L5 5.66666L0.757332 1.42399L1.7 0.481323L5 3.78132Z",fill:"#12130F"})})]})]})]}),(0,dt.jsxs)("nav",{className:"header__navigation",children:[(0,dt.jsx)(Ct,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),(0,dt.jsx)(Ct,{to:"/menu",children:"\u041c\u0435\u043d\u044e"}),(0,dt.jsx)(Ct,{to:"/about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"}),(0,dt.jsx)(Ct,{to:"/contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})]}),(0,dt.jsxs)("div",{className:"header__right",children:[(0,dt.jsx)(uu,{}),p.isAuthenticated?(0,dt.jsxs)("div",{className:"header__profile-btn",onClick:function(){return d("/profile/info")},children:[(0,dt.jsx)("div",{className:"header__avatar",children:(0,dt.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:""})}),(0,dt.jsx)("span",{className:"header__username",children:p.name}),(0,dt.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M5.00048 3.78132L8.30048 0.481323L9.24315 1.42399L5.00048 5.66666L0.757812 1.42399L1.70048 0.481323L5.00048 3.78132Z",fill:"#12130F"})})]}):(0,dt.jsx)(Us,{name:"\u0423\u0432\u0456\u0439\u0442\u0438",onClick:function(){return h(tu({isOpen:!0}))}}),(0,dt.jsx)("div",{className:"header__hamburger ".concat(n&&"header__hamburger--active"),onClick:function(){return i(!n)},children:(0,dt.jsx)("span",{})})]})]}),n&&(0,dt.jsx)("div",{className:"mobile-menu",children:(0,dt.jsxs)("nav",{className:"mobile-menu__navigation",children:[(0,dt.jsxs)("ul",{className:"mobile-menu__menu",children:[(0,dt.jsx)("li",{className:"mobile-menu__link",children:(0,dt.jsx)(Ct,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"})}),(0,dt.jsxs)("li",{className:"mobile-menu__link ",children:[(0,dt.jsxs)("div",{className:"mobile-menu__dropdown",onClick:function(){s(!o)},children:[(0,dt.jsx)("span",{children:"\u041c\u0435\u043d\u044e"}),(0,dt.jsx)("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M5.99959 4.97618L10.1244 0.85141L11.3029 2.02992L5.99959 7.33326L0.696289 2.02992L1.87481 0.85141L5.99959 4.97618Z",fill:"black"})})]}),o&&(0,dt.jsx)("ul",{className:"mobile-menu__submenu",children:c.map((function(e){return(0,dt.jsx)(Ct,{className:"mobile-menu__sublink",to:"menu/".concat(e.category_id),children:e.category_name},e.category_id)}))})]}),(0,dt.jsx)("li",{className:"mobile-menu__link",children:(0,dt.jsx)(Ct,{to:"about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"})}),(0,dt.jsx)("li",{className:"mobile-menu__link",children:(0,dt.jsx)(Ct,{to:"contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})})]}),(0,dt.jsx)("div",{className:"mobile-menu__auth",children:p.isAuthenticated?(0,dt.jsxs)("div",{className:"mobile-menu__profile-btn",onClick:function(){return d("/profile/info")},children:[(0,dt.jsx)("div",{className:"mobile-menu__avatar",children:(0,dt.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:""})}),(0,dt.jsxs)("div",{children:[(0,dt.jsx)("span",{className:"mobile-menu__username",children:p.name}),(0,dt.jsx)("div",{className:"mobile-menu__goto",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0456\u043b\u044c"})]})]}):(0,dt.jsx)(Us,{name:"\u0423\u0432\u0456\u0439\u0442\u0438 \u0432 \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u0438\u0439 \u043a\u0430\u0431\u0456\u043d\u0435\u0442",onClick:function(){return h(tu({isOpen:!0}))}})})]})})]})})]})};qc("firebase","9.23.0","app");var NM={apiKey:"AIzaSyAZTy2mx9Oje6LQvaiaaCxx0rq0Cm3jGvM",authDomain:"polar-pelmeni.firebaseapp.com",projectId:"polar-pelmeni",storageBucket:"polar-pelmeni.appspot.com",messagingSenderId:"1051342657269",appId:"1:1051342657269:web:4a5d1cc8eb468172dcd7bc"},TM=(Fc(NM),n.p+"static/media/about-1-desc.91b817798bf8b5956683.png"),LM=n.p+"static/media/about-2-desc.92d4c3085097a9bb8178.png",jM=n.p+"static/media/about-3-desc.b5bef9ba9ec67b6c4900.png",AM=n.p+"static/media/hero_preview.33f32bcff4c534ce22a3.png";var PM=n.p+"static/media/sprite.846e26b8e4d965e90cf93dc64c8476cc.svg",OM=function(){return(0,dt.jsxs)(ht,{children:[(0,dt.jsx)("section",{className:"about__hero",children:(0,dt.jsx)("div",{className:"about-container container",children:(0,dt.jsxs)("div",{className:"about__hero-content",children:[(0,dt.jsx)("h1",{className:"title__h1",children:"\u041d\u0430\u0448\u0430 \u0456\u0441\u0442\u043e\u0440\u0456\u044f"}),(0,dt.jsx)("p",{className:"text",children:"\u041a\u043e\u043b\u0438 \u043b\u044e\u0434\u044f\u043c \u0445\u043e\u0447\u0435\u0442\u044c\u0441\u044f \u0448\u0432\u0438\u0434\u043a\u043e \u0456 \u0441\u043c\u0430\u0447\u043d\u043e, \u0432\u043e\u043d\u0438 \u043e\u0431\u0438\u0440\u0430\u044e\u0442\u044c Polar"}),(0,dt.jsx)("div",{className:"about__hero-preview",children:(0,dt.jsx)("img",{src:AM,alt:""})})]})})}),(0,dt.jsx)("section",{className:"about-section",children:(0,dt.jsxs)("div",{className:"about-container container",children:[(0,dt.jsxs)("div",{className:"about-top-wrap",children:[(0,dt.jsxs)("ul",{className:"about-top-list list",children:[(0,dt.jsxs)("li",{className:"about-top-item",children:[(0,dt.jsx)("p",{className:"about-top-subtitle",children:"\u041d\u0430\u0448\u0430 \u0456\u0441\u0442\u043e\u0440\u0456\u044f"}),(0,dt.jsx)("h2",{className:"about-top-title title",children:"\u0417 \u0447\u043e\u0433\u043e \u0432\u0441\u0435 \u043f\u043e\u0447\u0430\u043b\u043e\u0441\u044f?"})]}),(0,dt.jsx)("li",{className:"about-top-item",children:(0,dt.jsx)("p",{className:"about-top-text text",children:"\u0417\u0430\u0441\u043d\u043e\u0432\u043d\u0438\u043a Polar \u2014 \u0454\u0432\u0440\u043e\u043f\u0435\u0454\u0446\u044c \u0437 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0438\u043c \u043a\u043e\u0440\u0456\u043d\u043d\u044f\u043c \u2014 \u043a\u0456\u043b\u044c\u043a\u0430 \u0440\u043e\u043a\u0456\u0432 \u0442\u043e\u043c\u0443 \u0432\u0456\u0434\u0432\u0456\u0434\u0430\u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0443. \u0410 \u041e\u0434\u0435\u0441\u0443, \u0439\u043e\u0433\u043e \u0436\u0438\u0442\u0435\u043b\u0456\u0432 \u0456 \u043a\u043e\u043b\u043e\u0440\u0438\u0442 \u0432\u0438 \u0437\u043d\u0430\u0454\u0442\u0435 \u2014 \u043d\u0435 \u0437\u0430\u043a\u043e\u0445\u0430\u0442\u0438\u0441\u044f \u043d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u043e."})}),(0,dt.jsx)("li",{className:"about-top-item",children:(0,dt.jsx)("p",{className:"about-top-text text",children:"\u0406\u0441\u043a\u0440\u0430, \u0431\u0443\u0440\u044f, \u0431\u043e\u0436\u0435\u0432\u0456\u043b\u043b\u044f, \u0456 \u043e\u0442 \u043d\u0430\u0448 \u041a\u043e\u0441\u0442\u044f \u0432\u0438\u0440\u0456\u0448\u0438\u0432 \u0437\u0430\u043b\u0438\u0448\u0438\u0442\u0438\u0441\u044f \u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0456, \u0430\u0431\u0438 \u0440\u0430\u0434\u0443\u0432\u0430\u0442\u0438 \u043b\u044e\u0434\u0435\u0439 \u0432\u0438\u0448\u0443\u043a\u0430\u043d\u0438\u043c\u0438 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u044f\u043c\u0438 \u0439 \u043f\u0456\u0434\u043d\u0456\u043c\u0430\u0442\u0438 \u0435\u043a\u043e\u043d\u043e\u043c\u0456\u043a\u0443 \u043d\u0430\u0448\u043e\u0457 \u043a\u0440\u0430\u0457\u043d\u0438."})}),(0,dt.jsx)("li",{className:"about-top-item",children:(0,dt.jsx)("p",{className:"about-top-text text",children:"\u041f\u0456\u0446\u0430, \u0441\u0443\u0448\u0456, \u0431\u0443\u0440\u0433\u0435\u0440\u0438, \u0440\u0430\u043c\u0435\u043d\u2026 \u0410 \u0434\u0435 \u0436 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456, \u044f\u043a\u0456 \u0442\u043e\u0447\u043d\u043e \u0437\u0430\u0439\u043c\u0430\u044e\u0442\u044c \u043e\u043a\u0440\u0435\u043c\u0435 \u043c\u0456\u0441\u0446\u0435 \u0432 \u0441\u0435\u0440\u0434\u0435\u0447\u043a\u0443 \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u0443\u043a\u0440\u0430\u0457\u043d\u0446\u044f?"})}),(0,dt.jsx)("li",{className:"about-top-item",children:(0,dt.jsx)("p",{className:"about-top-text text",children:"\u0426\u0435 \u043f\u0438\u0442\u0430\u043d\u043d\u044f \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0432 \u0441\u043e\u0431\u0456 \u0437\u0430\u0441\u043d\u043e\u0432\u043d\u0438\u043a Polar, \u044f\u043a\u0438\u0439 \u043d\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0432 \u043d\u0430 \u0440\u0438\u043d\u043a\u0443 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0446\u0456\u0454\u0457 \u0441\u0442\u0440\u0430\u0432\u0438 \u0456 \u0441\u043c\u0430\u0447\u043d\u0438\u0445 \u0441\u043e\u0443\u0441\u0456\u0432 \u0434\u043e \u043d\u0435\u0457. \u0406 \u043f\u043e\u043d\u0435\u0441\u043b\u0430\u0441\u044f\u2026"})})]}),(0,dt.jsx)("img",{src:TM,alt:"women",className:"about-top-img first"})]}),(0,dt.jsx)("svg",{className:"about-icon first",children:(0,dt.jsx)("use",{href:"".concat(PM,"#icon-arrow-1")})}),(0,dt.jsxs)("div",{className:"about-wrap",children:[(0,dt.jsxs)("ul",{className:"about-list list",children:[(0,dt.jsx)("li",{className:"about-item",children:(0,dt.jsxs)("h2",{className:"about-title title",children:["\u042f\u043a \u0432\u0441\u0435",(0,dt.jsx)("br",{}),"\u043f\u0440\u0438\u0437\u0443\u043f\u0438\u043d\u0438\u043b\u043e\u0441\u044f?"]})}),(0,dt.jsx)("li",{className:"about-item",children:(0,dt.jsx)("p",{className:"about-text text",children:"23 \u043b\u044e\u0442\u043e\u0433\u043e \u0431\u0443\u043b\u0430 \u043f\u0440\u0435-\u043f\u0430\u0442\u0456 \u0434\u0435\u0433\u0443\u0441\u0442\u0430\u0446\u0456\u044f \u0432 \u041e\u0434\u0435\u0441\u0456:\u043b\u044e\u0434\u0438 \u0433\u0456\u0434\u043d\u043e \u043e\u0446\u0456\u043d\u0438\u043b\u0438 \u043d\u0430\u0448\u0456 \u0441\u0442\u0430\u0440\u0430\u043d\u043d\u044f, \u0441\u043c\u0430\u043a \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432, \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0456\u0441\u0442\u044c \u0432\u0438\u0431\u043e\u0440\u0443 \u0456 \u0448\u0432\u0438\u0434\u043a\u0456\u0441\u0442\u044c \u043f\u0440\u0438\u0433\u043e\u0442\u0443\u0432\u0430\u043d\u043d\u044f."})}),(0,dt.jsx)("li",{className:"about-item",children:(0,dt.jsx)("p",{className:"about-text text",children:"\u041d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e \u0434\u043d\u044f \u043f\u043e\u0447\u0430\u043b\u0430\u0441\u044f \u0432\u0456\u0439\u043d\u0430."})}),(0,dt.jsx)("li",{className:"about-item",children:(0,dt.jsx)("p",{className:"about-text text",children:"\u041c\u0438, \u044f\u043a \u0456 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u0431\u0456\u0437\u043d\u0435\u0441 \u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0456, \u043d\u0435 \u043c\u043e\u0433\u043b\u0438 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u044f\u043a \u0440\u0430\u043d\u0456\u0448\u0435."})}),(0,dt.jsx)("li",{className:"about-item",children:(0,dt.jsx)("p",{className:"about-text text",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 Polar \u043d\u0435 \u0437\u0434\u0430\u043b\u0430\u0441\u044f \u0456 \u043f\u0440\u0438\u0439\u043d\u044f\u043b\u0430 \u0440\u0456\u0448\u0435\u043d\u043d\u044f \u0432\u0456\u0434\u0447\u0438\u043d\u0438\u0442\u0438\u0441\u044f \u0432 \u0431\u0456\u043b\u044c\u0448 \u0431\u0435\u0437\u043f\u0435\u0447\u043d\u043e\u043c\u0443 \u043c\u0456\u0441\u0442\u0456 \u0423\u043a\u0440\u0430\u0457\u043d\u0438 \u2014 \u0423\u0436\u0433\u043e\u0440\u043e\u0434\u0456."})}),(0,dt.jsx)("li",{className:"about-item",children:(0,dt.jsx)("p",{className:"about-text text",children:"\u0421\u0442\u0432\u043e\u0440\u0438\u043b\u0438 \u0446\u0435\u0445 \u0443 \u0417\u0430\u043a\u0430\u0440\u043f\u0430\u0442\u0442\u0456, \u043f\u043e\u043b\u0456\u043f\u0448\u0438\u043b\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0443\u0440\u0443 \u0456 \u0437\u0440\u043e\u0431\u0438\u043b\u0438 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456 \u0449\u0435 \u043a\u0440\u0430\u0449\u0438\u043c\u0438 \u0437 \u0456\u0434\u0435\u0430\u043b\u044c\u043d\u0438\u043c \u0442\u0456\u0441\u0442\u043e\u043c \u0456 \u043d\u0430\u0447\u0438\u043d\u043a\u0430\u043c\u0438!"})})]}),(0,dt.jsx)("img",{src:LM,alt:"dishes",className:"about-img second"})]}),(0,dt.jsx)("svg",{className:"about-icon second",children:(0,dt.jsx)("use",{href:"".concat(PM,"#icon-arrow-2")})}),(0,dt.jsxs)("div",{className:"about-bottom-wrap",children:[(0,dt.jsxs)("ul",{className:"about-bottom-list list",children:[(0,dt.jsx)("li",{className:"about-bottom-item",children:(0,dt.jsxs)("h2",{className:"about-bottom-title title",children:["\u041c\u0438 \u043f\u0440\u043e\u0434\u0443\u043c\u0430\u043b\u0438 \u0432\u0441\u0435",(0,dt.jsx)("br",{}),"\u0434\u043e \u0434\u0440\u0456\u0431\u043d\u0438\u0446\u044c"]})}),(0,dt.jsx)("li",{className:"about-bottom-item",children:(0,dt.jsx)("p",{className:"about-bottom-text text",children:"\u0423 \u0442\u0435\u0440\u043c\u0456\u043d\u043e\u0432\u043e\u043c\u0443 \u043f\u043e\u0440\u044f\u0434\u043a\u0443 (\u043c\u043e\u0432\u0430 \u0436 \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0440\u043e \u0457\u0436\u0443, \u0430 \u043f\u0440\u043e \u041f\u0415\u041b\u042c\u041c\u0415\u041d\u0406) \u0437\u0456\u0431\u0440\u0430\u043b\u0430\u0441\u044f \u0441\u0438\u043b\u044c\u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u043d\u0430 \u0447\u043e\u043b\u0456 \u0456\u0437 \u0448\u0435\u0444-\u043a\u0443\u0445\u0430\u0440\u0435\u043c."})}),(0,dt.jsx)("li",{className:"about-bottom-item",children:(0,dt.jsx)("p",{className:"about-bottom-text text",children:"\u0414\u043d\u044f\u043c\u0438 \u0439 \u043d\u043e\u0447\u0430\u043c\u0438 \u043c\u0438 \u0440\u043e\u0437\u0440\u043e\u0431\u043b\u044f\u043b\u0438 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0456\u044e, \u043e\u0441\u043e\u0431\u043b\u0438\u0432\u0443 \u0440\u0435\u0446\u0435\u043f\u0442\u0443\u0440\u0443, \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0456\u044e \u043c\u0435\u043d\u044e \u0437 \u043f\u0440\u043e\u0444\u0435\u0441\u0456\u043e\u043d\u0430\u043b\u0430\u043c\u0438, \u0449\u043e\u0431\u0438 \u043d\u0430\u0441\u043e\u043b\u043e\u0434\u0436\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u044f\u043c\u0438 \u043c\u0456\u0433 \u043a\u043e\u0436\u0435\u043d."})}),(0,dt.jsx)("li",{className:"about-bottom-item",children:(0,dt.jsx)("p",{className:"about-bottom-text text",children:"\u041d\u0435 \u0437\u0430\u043b\u0438\u0448\u0438\u043b\u0438 \u0431\u0435\u0437 \u0443\u0432\u0430\u0433\u0438 \u043d\u0456\u043a\u043e\u0433\u043e."})}),(0,dt.jsx)("li",{className:"about-bottom-item",children:(0,dt.jsx)("p",{className:"about-bottom-text text",children:"\u0406 \u0432\u0435\u0433\u0435\u0442\u0430\u0440\u0456\u0430\u043d\u0446\u0456, \u0456 \u0432\u0435\u0433\u0430\u043d\u0438, \u0456 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u043d\u0456 \u043c\u2019\u044f\u0441\u043e\u0457\u0434\u0438, \u0456 \u043b\u044e\u0431\u0438\u0442\u0435\u043b\u0456 \u0440\u0438\u0431\u043a\u0438, \u043e\u0432\u043e\u0447\u0456\u0432, \u043d\u0430\u0432\u0456\u0442\u044c \u0441\u043e\u043b\u043e\u0434\u043e\u0449\u0456\u0432 \u0442\u043e\u0447\u043d\u043e \u0437\u043d\u0430\u0439\u0434\u0443\u0442\u044c \u043f\u043e\u0440\u0446\u0456\u044e \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u0445 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432 \u0434\u043b\u044f \u0441\u0435\u0431\u0435 \u0432 Polar"})})]}),(0,dt.jsx)("img",{src:jM,alt:"women",className:"about-bottom-img"})]})]})}),(0,dt.jsx)("section",{className:"facts-section",children:(0,dt.jsxs)("div",{className:"facts-container container",children:[(0,dt.jsx)("h2",{className:"facts-main-title title",children:"\u0412\u0430\u0436\u043b\u0438\u0432\u0456 \u0444\u0430\u043a\u0442\u0438 \u043f\u0440\u043e Polar"}),(0,dt.jsx)("div",{className:"facts-list-wrap",children:(0,dt.jsxs)("ul",{className:"facts-list list",children:[(0,dt.jsxs)("li",{className:"facts-item",children:[(0,dt.jsx)("div",{className:"facts-icon-wrap",children:(0,dt.jsx)("svg",{className:"facts-icon",children:(0,dt.jsx)("use",{href:"".concat(PM,"#icon-facts-1")})})}),(0,dt.jsx)("h3",{className:"facts-title",children:"\u041c\u0438 \u0441\u0430\u043c\u0456 \u0432\u0438\u0440\u043e\u0431\u043b\u044f\u0454\u043c\u043e \u0432\u0441\u0435"}),(0,dt.jsx)("p",{className:"facts-text",children:"\u0444\u0430\u0440\u0448, \u0431\u0443\u043b\u044c\u0439\u043e\u043d\u0438, \u0441\u043e\u0443\u0441\u0438. \u0406 \u0446\u0435 \u0437 \u043d\u0430\u0439\u044f\u043a\u0456\u0441\u043d\u0456\u0448\u0438\u0445 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432 \u0432\u0456\u0434 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u0438\u0445 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0456\u0432. \u0422\u043e\u043c\u0443 \u0449\u043e, \u0445\u043e\u0440\u043e\u0448\u0456 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456 \u043f\u043e\u0447\u0438\u043d\u0430\u044e\u0442\u044c\u0441\u044f \u0437\u0456 \u0441\u0432\u0456\u0436\u0438\u0445 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432"})]}),(0,dt.jsxs)("li",{className:"facts-item",children:[(0,dt.jsx)("div",{className:"facts-icon-wrap",children:(0,dt.jsx)("svg",{className:"facts-icon",children:(0,dt.jsx)("use",{href:"".concat(PM,"#icon-facts-2")})})}),(0,dt.jsx)("h3",{className:"facts-title",children:"10 \u0432\u0438\u0434\u0456\u0432 \u0440\u0456\u0437\u043d\u0438\u0445 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432"}),(0,dt.jsx)("p",{className:"facts-text",children:"\u0406 \u0432\u0435\u0433\u0435\u0442\u0430\u0440\u0456\u0430\u043d\u0446\u0456, \u0456 \u0432\u0435\u0433\u0430\u043d\u0438, \u0456 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u043d\u0456 \u043c\u2019\u044f\u0441\u043e\u0457\u0434\u0438, \u0456 \u043b\u044e\u0431\u0438\u0442\u0435\u043b\u0456 \u0440\u0438\u0431\u043a\u0438, \u043e\u0432\u043e\u0447\u0456\u0432, \u043d\u0430\u0432\u0456\u0442\u044c \u0441\u043e\u043b\u043e\u0434\u043e\u0449\u0456\u0432 \u0442\u043e\u0447\u043d\u043e \u0437\u043d\u0430\u0439\u0434\u0443\u0442\u044c \u043f\u043e\u0440\u0446\u0456\u044e \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u0445 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432"})]}),(0,dt.jsxs)("li",{className:"facts-item",children:[(0,dt.jsx)("div",{className:"facts-icon-wrap",children:(0,dt.jsx)("svg",{className:"facts-icon",children:(0,dt.jsx)("use",{href:"".concat(PM,"#icon-facts-3")})})}),(0,dt.jsx)("h3",{className:"facts-title",children:"4 \u0445\u0432\u0438\u043b\u0438\u043d\u0438"}),(0,dt.jsx)("p",{className:"facts-text",children:"\u041c\u0430\u043b\u043e \u0449\u043e \u043c\u043e\u0436\u043d\u0430 \u0432\u0441\u0442\u0438\u0433\u043d\u0443\u0442\u0438 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0437\u0430 \u0446\u0435\u0439 \u0447\u0430\u0441, \u0430\u043b\u0435 \u043c\u0438 \u0442\u043e\u0447\u043d\u043e \u0437\u043d\u0430\u0454\u043c\u043e, \u0449\u043e \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456 \u0432\u0456\u0434 Polar \u0432\u0436\u0435 \u0431\u0443\u0434\u0443\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u0456"})]}),(0,dt.jsxs)("li",{className:"facts-item",children:[(0,dt.jsx)("div",{className:"facts-icon-wrap",children:(0,dt.jsx)("svg",{className:"facts-icon",children:(0,dt.jsx)("use",{href:"".concat(PM,"#icon-facts-4")})})}),(0,dt.jsx)("h3",{className:"facts-title",children:"Polar \u0437 \u0435\u043a\u043e\u043b\u043e\u0433\u0456\u0454\u044e"}),(0,dt.jsx)("p",{className:"facts-text",children:"\u041d\u0430 \u0432\u0441\u0456\u0445 \u0435\u0442\u0430\u043f\u0430\u0445 \u0432\u0438\u0440\u043e\u0431\u043d\u0438\u0446\u0442\u0432\u0430 \u0439 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u043c\u0438 \u043d\u0430\u043c\u0430\u0433\u0430\u0454\u043c\u043e\u0441\u044f \u043c\u0456\u043d\u0456\u043c\u0456\u0437\u0443\u0432\u0430\u0442\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u043f\u043b\u0430\u0441\u0442\u0438\u043a\u0443"})]})]})})]})}),(0,dt.jsx)("section",{className:"gallery-section",children:(0,dt.jsxs)("div",{className:"gallery-container container",children:[(0,dt.jsxs)("picture",{children:[(0,dt.jsx)("source",{srcSet:"./images/about/about-8-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,dt.jsx)("img",{src:"./images/about/about-8-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,dt.jsxs)("div",{className:"gallery-img-wrap",children:[(0,dt.jsxs)("picture",{children:[(0,dt.jsx)("source",{srcSet:"./images/about/about-7-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,dt.jsx)("img",{src:"./images/about/about-7-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,dt.jsxs)("picture",{children:[(0,dt.jsx)("source",{srcSet:"./images/about/about-13-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,dt.jsx)("img",{src:"./images/about/about-13-mobile.jpg",alt:"",className:"gallery-img"})]})]}),(0,dt.jsxs)("div",{className:"gallery-img-wrap",children:[(0,dt.jsxs)("picture",{children:[(0,dt.jsx)("source",{srcSet:"./images/about/about-9-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,dt.jsx)("img",{src:"./images/about/about-9-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,dt.jsxs)("picture",{children:[(0,dt.jsx)("source",{srcSet:"./images/about/about-15-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,dt.jsx)("img",{src:"./images/about/about-15-mobile.jpg",alt:"",className:"gallery-img"})]})]}),(0,dt.jsxs)("div",{className:"gallery-img-wrap",children:[(0,dt.jsxs)("picture",{children:[(0,dt.jsx)("source",{srcSet:"./images/about/about-12-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,dt.jsx)("img",{src:"./images/about/about-12-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,dt.jsxs)("picture",{children:[(0,dt.jsx)("source",{srcSet:"./images/about/about-14-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,dt.jsx)("img",{src:"./images/about/about-14-mobile.jpg",alt:"",className:"gallery-img"})]})]}),(0,dt.jsxs)("div",{className:"gallery-img-wrap",children:[(0,dt.jsxs)("picture",{children:[(0,dt.jsx)("source",{srcSet:"./images/about/about-11-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,dt.jsx)("img",{src:"./images/about/about-11-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,dt.jsxs)("picture",{children:[(0,dt.jsx)("source",{srcSet:"./images/about/about-10-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,dt.jsx)("img",{src:"./images/about/about-10-mobile.jpg",alt:"",className:"gallery-img"})]})]})]})})]})},MM=function(e){var t=new Date;return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)+" "+e.split(" - ")[0]+":00"},DM=function(e){var t=0;return e.forEach((function(e){t+=e.totalPrice})),t};var RM=function(e){var t=e.name,n=e.placeholder,r=e.onChange,i=e.data;return(0,dt.jsxs)("label",{className:"inputText",children:[(0,dt.jsx)("span",{children:t}),(0,dt.jsx)("select",{type:"selector",placeholder:n,onChange:function(e){return r(e.target.value)},children:i.map((function(e){return(0,dt.jsx)("option",{value:e.value,children:e.label},e.id)}))})]})},FM=function(e){var t=e.data,n=e.selectedOption,r=e.onOptionChange,i=e.column;return(0,dt.jsx)("div",{className:"radio-button ".concat(i&&"radio-button-column"),n:!0,children:t.map((function(e){return(0,dt.jsxs)("label",{children:[(0,dt.jsxs)("div",{className:"radio-button__flex-content",children:[(0,dt.jsx)("input",{type:"radio",value:e.value,checked:n===e.value,onChange:r}),(0,dt.jsx)("span",{}),e.label]}),e.info&&(0,dt.jsx)("p",{className:"radio-button__info",children:e.info})]},e.id)}))})},VM=function(e){return(0,dt.jsxs)("label",{className:"inputTextArea",children:[(0,dt.jsx)("span",{children:e.name}),(0,dt.jsx)("textarea",{type:"textarea",placeholder:e.placeholder,onChange:function(t){return e.onChange(t.target.value)}})]})},UM=function(e){var t=e.isChecked,n=e.onCheckboxChange,r=e.label;return(0,dt.jsxs)("label",{className:"checkbox-container",children:[(0,dt.jsx)("input",{type:"checkbox",checked:t,onChange:function(){n(!t)}}),(0,dt.jsx)("span",{className:"checkmark"}),(0,dt.jsx)("span",{className:"checkbox-label",children:r})]})},BM=function(e){return(0,dt.jsxs)("button",{className:"btn btn-secondary ".concat(!0===e.fullWide&&"btn-secondary-fw"," "),onClick:e.onClick,disabled:e.disabled,children:[e.name,e.arrow&&(0,dt.jsx)("svg",{width:"17",height:"20",viewBox:"0 0 17 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M9.16645 11.7814L12.7425 8.20535L13.6851 9.14802L8.49979 14.3334L3.31445 9.14802L4.25712 8.20535L7.83312 11.7814V3.66669H9.16645V11.7814Z",fill:"#12130F"})})]})},zM=function(e){var t=e.orderId,n=e.deliveryTime,r=we();return(0,dt.jsx)("div",{children:(0,dt.jsx)("div",{className:"thanks",children:(0,dt.jsxs)("div",{className:"thanks__content",children:[(0,dt.jsx)("div",{className:"thanks__ico",children:(0,dt.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M11.602 13.7599L13.014 15.1719L21.4795 6.7063L22.8938 8.12051L13.014 18.0003L6.65 11.6363L8.06421 10.2221L10.189 12.3469L11.602 13.7599ZM11.6037 10.9322L16.5563 5.97949L17.9666 7.38977L13.014 12.3424L11.6037 10.9322ZM8.77698 16.5873L7.36396 18.0003L1 11.6363L2.41421 10.2221L3.82723 11.6352L3.82604 11.6363L8.77698 16.5873Z",fill:"#DF643A"})})}),(0,dt.jsx)("h4",{className:"title__h4",children:"\u0414\u044f\u043a\u0443\u0454\u043c\u043e"}),(0,dt.jsxs)("p",{className:"thanks__text",children:["\u041d\u043e\u043c\u0435\u0440 \u0432\u0430\u0448\u043e\u0433\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u2116",t]}),(0,dt.jsx)("div",{className:"thanks__delivery-time",children:(0,dt.jsxs)("p",{children:["\u041e\u0440\u0456\u0454\u043d\u0442\u043e\u0432\u043d\u0438\u0439 \u0447\u0430\u0441 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f: ",(0,dt.jsx)("b",{children:n})]})}),(0,dt.jsx)(BM,{name:"\u0417\u0432\u2019\u044f\u0437\u0430\u0442\u0438\u0441\u044f \u0437 \u043d\u0430\u043c\u0438",onClick:function(){return r("/contact")},fullWide:!0})]})})})},qM=Po({name:"order",initialState:{paymentData:null,orderData:null,posterOrder:null,promocode:!1},reducers:{setPaymentData:function(e,t){e.paymentData=t.payload.paymentData,localStorage.setItem("user_payment_data",JSON.stringify(t.payload.paymentData))},setOrderData:function(e,t){e.orderData=t.payload.orderData,localStorage.setItem("user_order_data",JSON.stringify(t.payload.orderData))},setPosterResponsea:function(e,t){e.posterOrder=t.payload.posterOrder,localStorage.setItem("poster_order",JSON.stringify(t.payload.posterOrder))},usedPromocode:function(e){e.promocode=!e.promocode}}}),HM=qM.actions,WM=HM.setPaymentData,GM=HM.setOrderData,KM=HM.setPosterResponsea,QM=(HM.usedPromocode,qM.reducer),ZM=[{id:1,label:"12:00 - 12:30",value:"12:00 - 12:30"},{id:2,label:"12:30 - 13:00",value:"12:30 - 13:00"},{id:3,label:"13:00 - 13:30",value:"13:00 - 13:30"},{id:4,label:"13:30 - 14:00",value:"13:30 - 14:00"},{id:5,label:"14:00 - 14:30",value:"14:00 - 14:30"},{id:6,label:"14:30 - 15:00",value:"14:30 - 15:00"},{id:7,label:"15:00 - 15:30",value:"15:00 - 15:30"},{id:8,label:"15:30 - 16:00",value:"15:30 - 16:00"},{id:9,label:"16:00 - 16:30",value:"16:00 - 16:30"},{id:10,label:"16:30 - 17:00",value:"16:30 - 17:00"},{id:11,label:"17:00 - 17:30",value:"17:00 - 17:30"},{id:12,label:"17:30 - 18:00",value:"17:30 - 18:00"},{id:13,label:"18:00 - 18:30",value:"18:00 - 18:30"},{id:14,label:"18:30 - 19:00",value:"18:30 - 19:00"},{id:15,label:"19:00 - 19:30",value:"19:00 - 19:30"},{id:16,label:"19:30 - 20:00",value:"19:30 - 20:00"},{id:17,label:"22:00 - 22:30",value:"22:00 - 22:30"},{id:16,label:"23:00 - 23:30",value:"23:00 - 23:30"}],JM=function(){var e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()+5).padStart(2,"0"),o=String(e.getSeconds()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r," ").concat(i,":").concat(a,":").concat(o)},YM=function(){var e={"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},t=l((0,r.useState)(!1),2),n=t[0],i=t[1],a=l((0,r.useState)(!1),2),o=a[0],s=a[1],u=l((0,r.useState)(!1),2),c=u[0],f=u[1],h=l((0,r.useState)(null),2),p=h[0],v=h[1],m=l((0,r.useState)([{label:"\u041d\u0435\u043c\u0430\u0454",value:null,id:0}]),2),g=m[0],y=m[1],b=l((0,r.useState)({status:!1,currentError:""}),2),k=b[0],w=b[1],x=l((0,r.useState)(!1),2),_=x[0],C=x[1],S=be(),E=ft(),I=we(),N=nt((function(e){return e.shoppingCart.products})),T=N.map((function(e){return{product_id:e.id,count:e.count}})),L=N.map((function(e){return{id:"2",involved_products:[{id:e.id,count:e.count}]}})),j=nt((function(e){return e.modals})),A=nt((function(e){return e.user}));nt((function(e){return e.order}));(0,r.useEffect)((function(){if(null!==A.adresses){var e=A.adresses.map((function(e,t){return{id:t+1,label:e.addressName,value:"\u0412\u0443\u043b\u0438\u0446\u0430: ".concat(e.streetName,", ").concat(e.homeNumber,", ").concat(e.entranceNumber?"\u043f\u0430\u0440\u0430\u0434\u043d\u0430: ".concat(e.entranceNumber):""," ").concat(e.entranceCode?"\u043a\u043e\u0434: ".concat(e.entranceCode," "):""," ").concat(e.floar?"\u044d\u0442\u0430\u0436: ".concat(e.floar," "):""," ").concat(e.entranceNumber?"\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0430: ".concat(e.entranceNumber," "):""," ").concat(e.comment?"\u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439: ".concat(e.comment," "):""," ")}}));y([].concat([{label:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0443",value:null,id:0}],d(e)))}}),[A]);var P=function(e){var t=new Date,n=t.getHours(),r=t.getMinutes(),i="".concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"));return e.filter((function(e){return e.label.split(" - ")[0]>=i}))}(ZM),O=l((0,r.useState)({spot_id:1,name:"",number:"",selectedAddress:"",street:"",houseNumber:"",deliveryTime:"",howToReciveOrder:"",entrance:"",apartment:"",buildingCode:"",floor:"",selectedTime:JM(),promoCode:"",bonus:"",paymentMethod:1,change:"",withoutDevices:!1,personCount:1,comment:"",doNotCall:!1}),2),M=O[0],D=O[1],R={spot_id:1,first_name:M.name,phone:M.number,products:T,client_address:{address1:"".concat("\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0443"!==M.selectedAddress?M.selectedAddress:" \u0412\u0443\u043b\u0438\u0446\u044f: ".concat(M.street," ,  \u0412\u0443\u043b\u0438\u0446\u044f: ").concat(M.street,",\n                \u0414\u0456\u043c: ").concat(M.houseNumber)),address2:"\n                \u041f\u0430\u0440\u0430\u0434\u043d\u0430\u044f: ".concat(M.entrance,",\n                \u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430: ").concat(M.apartment,",\n                \u041a\u043e\u0434: ").concat(M.buildingCode,",\n                \u041f\u043e\u0432\u0435\u0440\u0445: ").concat(M.floor,",")},service_mode:"\u0421\u0430\u043c\u043e\u0432\u0438\u0432\u0456\u0437"===M.howToReciveOrder?2:3,delivery_time:"".concat("\u041d\u0430 \u0437\u0430\u0440\u0430\u0437"===M.deliveryTime?JM():MM(M.selectedTime)),payment:{type:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430"===M.paymentMethod?0:1,sum:n?0:DM(N),currency:"UAH"},promotion:n?L:"",comment:"\n            \u041a\u043e\u043b - \u0432\u043e\n            \u043f\u0435\u0440\u0441\u043e\u043d: ".concat(M.personCount,",\n            ").concat(M.comment&&" ".concat(M.comment,"\n            "),", ").concat(M.withoutDevices&&"\u0411\u0435\u0437 \u043f\u0440\u0438\u0431\u043e\u0440\u043e\u0432",",").concat(M.doNotCall&&"\u041d\u0435 \u043f\u0435\u0440\u0435\u0437\u0432\u0430\u043d\u0438\u0432\u0430\u0442\u044c",", ").concat(2===M.howToReciveOrder&&"\u0421\u0410\u041c\u041e\u0412\u042b\u0412\u041e\u0417"," ").concat(n&&"\u0421\u041a\u0418\u0414\u041a\u0410 40%")},F=function(e,t){D((function(n){return Ot(Ot({},n),{},Ge({},e,t))}))};(0,r.useEffect)((function(){_r.post("".concat(Cr,"/api/auth"),{token:A.token},{headers:{"Content-Type":"application/json"}}).then((function(e){var t=e.data;200===e.status&&(console.log("checkCurrentUserPromo",t.promocode40),!0===t.promocode40?E(Xo()):E($o()))})).catch((function(e){return console.error(e)}))}),[A.isAuthenticated]);var V=function(){var t=JSON.parse(localStorage.getItem("user_payment_data")),r=JSON.parse(localStorage.getItem("user_order_data")),i=t?t.order_id:null;_r.post(Cr+"/api/createOrder",{order_id:i,data:r},{headers:e}).then((function(t){var r=t.data;r.error||(console.log("createOrder:",r),E(KM({posterOrder:r.response})),C(!0),(n||""!==r.promotion)&&_r.post(Cr+"/api/promocode",{token:A.token},{headers:e}).then((function(e){var t=e.data;console.log("usagePromotion:",t)})).catch((function(e){return console.error(e)})))})).catch((function(e){return console.error(e)}))},U=function(){""===R.phone?w({status:!0,currentError:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0443 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443"}):""===M.howToReciveOrder?w({status:!0,currentError:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u043e\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u043f\u043e\u0441\u0456\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}):DM(N)<=200?(w({status:!0,currentError:"\u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u0441\u0443\u043c\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f 200 \u20b4"}),setTimeout((function(){w({status:!1,currentError:""})}),3e3)):(E(GM({orderData:R})),1===R.payment.type&&function(t){var n={amount:t};_r.post(Cr+"/api/pay",n,{headers:e}).then((function(e){var t=e.data,n="https://liqpay.ua/api/3/checkout?data=".concat(t.data,"&signature=").concat(t.signature);E(WM({paymentData:t})),console.log("createTransaction:",t,n),window.location.replace(n)})).catch((function(e){return console.error(e)}))}(n?.6*DM(N):DM(N)),0===R.payment.type&&(V(),console.log("cash")))};return(0,r.useEffect)((function(){n&&(s(!0),setTimeout((function(){s(!1)}),3e3))}),[n]),(0,r.useEffect)((function(){"checkout"===new URLSearchParams(S.search).get("status")&&function(){var t={order_id:JSON.parse(localStorage.getItem("user_payment_data")).order_id};_r.post(Cr+"/api/getStatus",t,{headers:e}).then((function(e){var t=e.data;console.log("checkTransactionStatus:",t),"success"===t?f(!0):"unpaid"===t&&(E(Xo()),w({status:!0,currentError:"\u041e\u043f\u043b\u0430\u0442\u0430 \u043d\u0435 \u0432\u0434\u0430\u043b\u0430"}),localStorage.removeItem("posterOrder"),localStorage.removeItem("user_payment_data"),localStorage.removeItem("user_order_data"),setTimeout((function(){I("/order")}),2e3))})).catch((function(e){return console.error(e)}))}()}),[]),(0,r.useEffect)((function(){c&&V()}),[c]),(0,r.useEffect)((function(){if(_){var e=JSON.parse(localStorage.getItem("user_order_data")),t=JSON.parse(localStorage.getItem("shoppingCart"));v(JSON.parse(localStorage.getItem("poster_order"))),console.log("order data",JSON.parse(localStorage.getItem("poster_order"))),n=JSON.parse(localStorage.getItem("poster_order")).incoming_order_id,r=e.payment.sum,i=t,window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"purchase",ecommerce:{transaction_id:n,affiliation:"cart",value:r,tax:"0",shipping:"0",currency:"UAH",items:i.map((function(e){return{item_name:e.name,item_id:e.id,price:e.price,item_brand:"Polar Pelmeni",item_category:e.category,quantity:e.count}}))}}),setTimeout((function(){localStorage.removeItem("posterOrder"),localStorage.removeItem("poster_order"),localStorage.removeItem("user_payment_data"),localStorage.removeItem("user_order_data"),E(ks()),E(ru({isOpen:!1}))}),5e3)}var n,r,i}),[_]),(0,r.useEffect)((function(){null!==p&&(console.log("posterOrder",p),E(ru({isOpen:!0})))}),[p]),(0,r.useEffect)((function(){A.isAuthenticated&&(F("name",A.name),F("number",A.phone),M.name=A.name,M.number=A.phone)}),[A]),(0,r.useEffect)((function(){console.log(M)}),[M]),(0,dt.jsxs)(dt.Fragment,{children:[j.thanksModal&&(0,dt.jsx)(Zi,{closeModal:function(){E(ru({isOpen:!1}))},children:(0,dt.jsx)(zM,{orderId:p.incoming_order_id,deliveryTime:p.delivery_time})}),!0===k.status&&(0,dt.jsx)(su,{action:k.currentError,onClick:function(){return w({status:!1,currentError:""})},error:!0}),!0===o&&(0,dt.jsx)(su,{action:"\u0412\u0430\u0448 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434 \u0437\u0430\u0441\u0442\u043e\u0441\u043e\u0432\u0430\u043d",onClick:function(){s(!1)}}),(0,dt.jsxs)("section",{className:"order-page__form",children:[(0,dt.jsxs)("section",{className:"order-page__section",children:[(0,dt.jsx)("h3",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"}),(0,dt.jsxs)("div",{className:"order-page__section-inputs",children:[(0,dt.jsx)(SM,{name:"\u0412\u0430\u0448\u0435 \u0456\u043c\u2019\u044f",placeholder:"\u0412\u0430\u0448\u0435 \u0456\u043c\u2019\u044f",inputValue:M.name,value:M.name,onChange:function(e){return F("name",e)}}),(0,dt.jsx)(fu,{value:M.number,inputValue:M.number,onChange:function(e){return F("number",e)}})]})]}),(0,dt.jsxs)("section",{className:"order-page__section",children:[(0,dt.jsx)("h3",{children:"\u0421\u043f\u043e\u0441\u0456\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,dt.jsx)("section",{className:"order-page__section-inputs",children:(0,dt.jsx)(RM,{name:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0430\u0434\u0440\u0435\u0441\u0438",data:g,placeholder:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0443",value:M.selectedAddress,onChange:function(e){return F("selectedAddress",e)}})}),(0,dt.jsxs)("section",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,dt.jsx)(SM,{name:"\u0412\u0443\u043b\u0438\u0446\u044f",placeholder:"\u0412\u0443\u043b\u0438\u0446\u044f",value:M.street,onChange:function(e){return F("street",e)}}),(0,dt.jsx)(SM,{name:"\u2116 \u0411\u0443\u0434\u0438\u043d\u043a\u0443",placeholder:"\u2116 \u0411\u0443\u0434\u0438\u043d\u043a\u0443",value:M.houseNumber,onChange:function(e){return F("houseNumber",e)}})]}),(0,dt.jsx)("section",{className:"order-page__section-inputs",children:(0,dt.jsx)(FM,{data:[{id:1,value:"\u0414\u043e \u0434\u0432\u0435\u0440\u0435\u0439",label:"\u0414\u043e \u0434\u0432\u0435\u0440\u0435\u0439"},{id:2,value:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a",label:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a"},{id:4,value:"\u0412\u0438\u0439\u0434\u0443 \u0434\u043e \u043c\u0430\u0448\u0438\u043d\u0438",label:"\u0412\u0438\u0439\u0434\u0443 \u0434\u043e \u043c\u0430\u0448\u0438\u043d\u0438"},{id:3,value:"\u0421\u0430\u043c\u043e\u0432\u0438\u0432\u0456\u0437",label:"\u0421\u0430\u043c\u043e\u0432\u0438\u0432\u0456\u0437",info:"(\u041e\u0434\u0435\u0441\u0430, \u0432\u0443\u043b. \u041b\u0435\u0439\u0442\u0435\u043d\u0430\u043d\u0442\u0430 \u0428\u043c\u0456\u0434\u0442\u0430 25)"}],selectedOption:M.howToReciveOrder,onOptionChange:function(e){return F("howToReciveOrder",e.target.value)}})}),"\u0414\u043e \u0434\u0432\u0435\u0440\u0435\u0439"===M.howToReciveOrder&&(0,dt.jsxs)("section",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,dt.jsx)(SM,{name:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430",placeholder:"\u2116 \u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0438",value:M.apartment,onChange:function(e){return F("apartment",e)}}),(0,dt.jsx)(SM,{name:"\u041f\u0430\u0440\u0430\u0434\u043d\u0430",placeholder:"\u2116 \u041f\u0430\u0440\u0430\u0434\u043d\u043e\u0457",value:M.entrance,onChange:function(e){return F("entrance",e)}}),(0,dt.jsx)(SM,{name:"\u041a\u043e\u0434",placeholder:"\u041a\u043e\u0434",value:M.buildingCode,onChange:function(e){return F("buildingCode",e)}}),(0,dt.jsx)(SM,{name:"\u041f\u043e\u0432\u0435\u0440\u0445",placeholder:"\u041f\u043e\u0432\u0435\u0440\u0445",value:M.floor,onChange:function(e){return F("floor",e)}})]})]}),(0,dt.jsxs)("section",{className:"order-page__section",children:[(0,dt.jsx)("h3",{children:"\u0427\u0430\u0441 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f"}),(0,dt.jsxs)("section",{className:"order-page__section-inputs",children:[(0,dt.jsx)(FM,{data:[{id:1,value:"\u041d\u0430 \u0437\u0430\u0440\u0430\u0437",label:"\u041d\u0430 \u0437\u0430\u0440\u0430\u0437"},{id:2,value:"\u0412\u043a\u0430\u0437\u0430\u0442\u0438 \u0442\u043e\u0447\u043d\u0438\u0439 \u0447\u0430\u0441",label:"\u0412\u043a\u0430\u0437\u0430\u0442\u0438 \u0442\u043e\u0447\u043d\u0438\u0439 \u0447\u0430\u0441"}],selectedOption:M.deliveryTime,onOptionChange:function(e){return F("deliveryTime",e.target.value)},column:!0}),"\u0412\u043a\u0430\u0437\u0430\u0442\u0438 \u0442\u043e\u0447\u043d\u0438\u0439 \u0447\u0430\u0441"===M.deliveryTime&&(0,dt.jsx)(RM,{name:"\u0427\u0430\u0441",placeholder:"\u0427\u0430\u0441",data:P,value:M.selectedTime,onChange:function(e){return F("selectedTime",e)}})]})]}),(0,dt.jsxs)("section",{className:"order-page__section",children:[(0,dt.jsx)("h3",{children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434"}),(0,dt.jsxs)("section",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,dt.jsx)(RM,{name:"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434",placeholder:"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434",data:A.isAuthenticated&&A.promocode40?[{id:0,label:"40%",value:"40%"}]:[],value:M.paymentMethod,onChange:function(e){return F("promoCode",e)}}),(0,dt.jsx)(Us,{name:"\u0417\u0430\u0441\u0442\u043e\u0441\u0443\u0432\u0430\u0442\u0438",onClick:function(){.6*DM(N)<=200?(w({status:!0,currentError:"\u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u0441\u0443\u043c\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f 200 \u20b4"}),setTimeout((function(){w({status:!1,currentError:""})}),2e3)):(console.log("usage"),E($o()),i(!0))},disabled:!A.promocode40})]}),A.isAuthenticated&&A.promocode40&&(0,dt.jsxs)("div",{className:"order-page__have-promocode",children:[(0,dt.jsx)("span",{children:"\u0423 \u0412\u0410\u0421 \u0415 \u041f\u0420\u041e\u041c\u041e\u041a\u041e\u0414 \u041d\u0410 \u0421\u041a\u0418\u0414\u041a\u0423 40%"}),(0,dt.jsx)("div",{className:"order-page__arrow",children:(0,dt.jsx)("svg",{width:"17",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dt.jsx)("path",{d:"M9.16645 11.7814L12.7425 8.20535L13.6851 9.14802L8.49979 14.3334L3.31445 9.14802L4.25712 8.20535L7.83312 11.7814V3.66669H9.16645V11.7814Z",fill:"#12130F"})})})]})]}),(0,dt.jsxs)("section",{className:"order-page__section",children:[(0,dt.jsx)("h3",{children:"\u0421\u043f\u043e\u0441\u0456\u0431 \u043e\u043f\u043b\u0430\u0442\u0438"}),(0,dt.jsx)("div",{className:"order-page__section-inputs",children:(0,dt.jsx)(SM,{name:"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0442\u0438 \u0431\u043e\u043d\u0443\u0441\u0438",placeholder:"0",value:M.bonus,onChange:function(e){return F("bonus",e)}})}),(0,dt.jsxs)("div",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,dt.jsx)(RM,{name:"\u041e\u043f\u043b\u0430\u0442\u0430",placeholder:"\u041e\u043d\u043b\u0430\u0439\u043d",data:[{id:0,label:"\u041e\u043d\u043b\u0430\u0439\u043d",value:"\u041e\u043d\u043b\u0430\u0439\u043d"},{id:1,label:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430",value:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430"}],value:M.paymentMethod,onChange:function(e){return F("paymentMethod",e)}}),(0,dt.jsx)(SM,{name:"\u0421\u0434\u0430\u0447\u0430 \u0441",placeholder:"500",value:M.change,onChange:function(e){return F("change",e)}})]})]}),(0,dt.jsxs)("section",{className:"order-page__section",children:[(0,dt.jsx)("h3",{children:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u043e"}),(0,dt.jsxs)("section",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,dt.jsxs)("div",{className:"order-page__block",children:[(0,dt.jsx)("span",{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d:"}),(0,dt.jsx)(UM,{isChecked:M.withoutDevices,onCheckboxChange:function(){return F("withoutDevices",!M.withoutDevices)},label:"\u0411\u0435\u0437 \u043f\u0440\u0438\u0431\u043e\u0440\u0456\u0432"})]}),(0,dt.jsxs)("div",{className:"order-page__block",children:[(0,dt.jsx)("span",{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d:"}),(0,dt.jsxs)("div",{className:"counter",children:[(0,dt.jsx)("div",{className:"counter__btn",onClick:function(){M.personCount>1&&F("personCount",M.personCount-1)},children:"-"}),(0,dt.jsx)("div",{className:"counter__value",children:M.personCount}),(0,dt.jsx)("div",{className:"counter__btn",onClick:function(){return F("personCount",M.personCount+1)},children:"+"})]})]})]}),(0,dt.jsx)("section",{className:"order-page__section-inputs",children:(0,dt.jsx)(VM,{name:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440 \u0434\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f",placeholder:"\u041c\u043e\u0436\u0435\u0442\u0435 \u0442\u0443\u0442 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u0431\u0443\u0434\u044c-\u0449\u043e:)",value:M.comment,onChange:function(e){return F("comment",e)}})}),(0,dt.jsx)("section",{className:"order-page__section-inputs",children:(0,dt.jsx)("div",{className:"order-page__block",children:(0,dt.jsx)(UM,{isChecked:M.doNotCall,onCheckboxChange:function(){return F("doNotCall",!M.doNotCall)},label:"\u041d\u0435 \u043f\u0435\u0440\u0435\u0434\u0437\u0432\u043e\u043d\u044e\u0432\u0430\u0442\u0438 \u043c\u0435\u043d\u0456"})})})]}),(0,dt.jsx)(Us,{name:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f",fullWide:!0,onClick:function(){return U()}})]})]})},$M=function(){ft();var e=nt((function(e){return e.shoppingCart})),t=(nt((function(e){return e.modals})),nt((function(e){return e.order})),nt((function(e){return e.user}))),n=function(e){var t=0;return e.forEach((function(e){t+=e.totalPrice})),t};return(0,r.useEffect)((function(){console.log(e.promocode)}),[e.promocode]),(0,dt.jsx)(dt.Fragment,{children:(0,dt.jsx)(ht,{children:(0,dt.jsx)("div",{className:"order-page",children:(0,dt.jsxs)("div",{className:"order-page__content",children:[(0,dt.jsx)(YM,{}),(0,dt.jsx)("div",{className:"checkout",children:(0,dt.jsxs)("div",{className:"checkout__content",children:[(0,dt.jsx)("h3",{className:"title__h3 text__color--secondary",children:"\u0412\u0430\u0448\u0435 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,dt.jsx)("ul",{className:"checkout__list",children:e.products.map((function(e){return(0,dt.jsxs)("li",{className:"checkout__item",children:[(0,dt.jsxs)("div",{className:"checkout__row",children:[(0,dt.jsxs)("p",{className:"checkout__item-name",children:[" ",e.name]}),(0,dt.jsxs)("p",{className:"checkout__item-count",children:[" x",e.count]})]}),(0,dt.jsxs)("div",{className:"checkout__row",children:[(0,dt.jsxs)("p",{className:"checkout__item-weight",children:[e.weight,"\u0433"]}),(0,dt.jsxs)("p",{className:"checkout__item-price",children:[e.totalPrice," \u20b4"]})]})]})}))}),(0,dt.jsxs)("div",{className:"checkout__total",children:[(0,dt.jsxs)("div",{className:"checkout__row",children:[(0,dt.jsx)("p",{className:"checkout__text",children:"\u0421\u0443\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f:"}),(0,dt.jsxs)("p",{className:"checkout__text",children:[n(e.products)," \u20b4"]})]}),(0,dt.jsxs)("div",{className:"checkout__row checkout__row-delivery",children:[(0,dt.jsx)("p",{className:"checkout__text",children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:"}),(0,dt.jsx)("p",{className:"checkout__text",children:e.products.reduce((function(e,t){return e+t.totalPrice}),0)<500?"\u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0442\u0430\u043a\u0441\u0456 (\u043e\u043f\u043b\u0430\u0447\u0443\u0454\u0442\u044c\u0441\u044f \u043e\u043a\u0440\u0435\u043c\u043e)":"\u0411\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0430"})]}),!t.promocode40&&(0,dt.jsxs)("div",{className:"checkout__row",children:[(0,dt.jsx)("p",{className:"checkout__text",children:"\u0421\u043a\u0438\u0434\u043a\u0430:"}),(0,dt.jsxs)("p",{className:"checkout__text",children:[(n(e.products)-.6*n(e.products)).toFixed(2)," \u20b4"]})]}),(0,dt.jsxs)("div",{className:"checkout__row",children:[(0,dt.jsx)("p",{className:"checkout__text checkout__text-bold",children:"\u0412\u0441\u044c\u043e\u0433\u043e \u0434\u043e \u0441\u043f\u043b\u0430\u0442\u0438:"}),(0,dt.jsxs)("p",{className:"checkout__text-bold",children:[t.promocode40?n(e.products):.6*n(e.products)," \u20b4"]})]})]})]})})]})})})})},XM=n.p+"static/media/logo.66639dc3934ecf41123d.png";var eD=n.p+"static/media/mastercard.b720e3b5a9bf9bce7ef42d6682f56356.svg";var tD=n.p+"static/media/visa.a4e2a3330170d1f5e56d72f68e7aacaf.svg";var nD=n.p+"static/media/liqpay.81db62cd2e5f0c96fa328b281afd471c.svg",rD=function(){var e=l((0,r.useState)(null),2),t=(e[0],e[1]),n=l((0,r.useState)([]),2),i=n[0],a=n[1];return(0,r.useEffect)((function(){_r.get("".concat(Cr,"/api/menu"),{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){var n=e.data.response.filter((function(e){return e.category_name.startsWith("onlineOrder:")})).map((function(e,t){return{category_name:e.category_name.replace(/onlineOrder: /,""),category_id:e.category_id,category_position_index:t}}));n[13].category_position_index=0,n[12].category_position_index=1,n[11].category_position_index=2,n[8].category_position_index=3,n[10].category_position_index=4,n[9].category_position_index=5,n[2].category_position_index=6,n[3].category_position_index=7,n[0].category_position_index=8,n[6].category_position_index=9,n[4].category_position_index=10,n[7].category_position_index=11,n[1].category_position_index=12,n[5].category_position_index=13,n.sort((function(e,t){return e.category_position_index-t.category_position_index})),t(n[0].category_id),a(n)})).catch((function(e){return console.error(e)}))}),[]),(0,dt.jsx)("footer",{className:"footer",children:(0,dt.jsx)(ht,{children:(0,dt.jsxs)("div",{className:"footer__content",children:[(0,dt.jsxs)("div",{className:"footer__top",children:[(0,dt.jsx)("div",{className:"footer__logo",children:(0,dt.jsx)("img",{src:XM,alt:""})}),(0,dt.jsxs)("nav",{className:"footer__column",children:[(0,dt.jsx)("p",{className:"footer__title",children:"\u041c\u0435\u043d\u044e:"}),(0,dt.jsx)("ul",{className:"footer__menu",children:i&&i.map((function(e,t){return(0,dt.jsx)("li",{className:"footer__link",children:(0,dt.jsx)(Ct,{to:"/menu/".concat(e.category_id),children:e.category_name})},t)}))})]}),(0,dt.jsxs)("div",{className:"footer__column",children:[(0,dt.jsxs)("div",{className:"footer__contact",children:[(0,dt.jsx)("p",{className:"footer__title",children:"\u041e\u0434\u0435\u0441\u0430:"}),(0,dt.jsxs)("ul",{className:"footer__contacts",children:[(0,dt.jsx)("a",{href:"tel:+380987271991",children:"+380 (98) 727-19-91"}),(0,dt.jsx)("p",{children:"\u0432\u0443\u043b. \u041c\u0430\u0440\u0448\u0430\u043b\u0430 \u041c\u0430\u043b\u0438\u043d\u043e\u0432\u0441\u043a\u044c\u043e\u0433\u043e 18"})]})]}),(0,dt.jsxs)("div",{className:"footer__contact",children:[(0,dt.jsx)("p",{className:"footer__title",children:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434:"}),(0,dt.jsxs)("ul",{className:"footer__contacts",children:[(0,dt.jsx)("a",{href:"tel:+380677149659",children:"+380 (67) 714-96-59"}),(0,dt.jsx)("p",{children:"\u0432\u0443\u043b. \u041a\u0430\u043f\u0443\u0448\u0430\u043d\u0441\u044c\u043a\u0430, 7\u0430"})]})]}),(0,dt.jsx)("p",{className:"footer__title"})]})]}),(0,dt.jsxs)("div",{className:"footer__bottom",children:[(0,dt.jsxs)("ul",{className:"footer__bottom-nav",children:[(0,dt.jsx)("li",{children:(0,dt.jsx)(Ct,{children:"\xa9 2023 Polar Pelmeni"})}),(0,dt.jsx)("li",{children:(0,dt.jsx)(Ct,{to:"/about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"})}),(0,dt.jsx)("li",{children:(0,dt.jsx)(Ct,{to:"/contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})}),(0,dt.jsx)("li",{children:(0,dt.jsx)(Ct,{children:"\u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u0441\u0442\u0456"})}),(0,dt.jsx)("li",{children:(0,dt.jsx)(Ct,{to:"/payment-and-delivery",children:"\u041e\u043f\u043b\u0430\u0442\u0430 \u0456 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430"})})]}),(0,dt.jsxs)("div",{className:"footer__bottom-contacts",children:[(0,dt.jsx)("a",{href:"mailto:support@polarpelmeni.com",children:"support@polarpelmeni.com"}),(0,dt.jsxs)("div",{className:"footer__social-icons",children:[(0,dt.jsx)("a",{href:"",className:"footer__social",children:(0,dt.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dt.jsx)("g",{opacity:"0.8",clipPath:"url(#clip0_588_31750)",children:(0,dt.jsx)("path",{d:"M7.99908 6.18163C7.51687 6.18163 7.05441 6.37319 6.71343 6.71417C6.37246 7.05514 6.1809 7.5176 6.1809 7.99982C6.1809 8.48203 6.37246 8.94449 6.71343 9.28546C7.05441 9.62644 7.51687 9.818 7.99908 9.818C8.48129 9.818 8.94376 9.62644 9.28473 9.28546C9.62571 8.94449 9.81726 8.48203 9.81726 7.99982C9.81726 7.5176 9.62571 7.05514 9.28473 6.71417C8.94376 6.37319 8.48129 6.18163 7.99908 6.18163ZM7.99908 4.96951C8.80277 4.96951 9.57354 5.28878 10.1418 5.85707C10.7101 6.42536 11.0294 7.19613 11.0294 7.99982C11.0294 8.8035 10.7101 9.57427 10.1418 10.1426C9.57354 10.7109 8.80277 11.0301 7.99908 11.0301C7.1954 11.0301 6.42463 10.7109 5.85633 10.1426C5.28804 9.57427 4.96878 8.8035 4.96878 7.99982C4.96878 7.19613 5.28804 6.42536 5.85633 5.85707C6.42463 5.28878 7.1954 4.96951 7.99908 4.96951ZM11.9385 4.818C11.9385 5.01892 11.8587 5.21161 11.7166 5.35368C11.5745 5.49576 11.3818 5.57557 11.1809 5.57557C10.98 5.57557 10.7873 5.49576 10.6452 5.35368C10.5031 5.21161 10.4233 5.01892 10.4233 4.818C10.4233 4.61708 10.5031 4.42438 10.6452 4.28231C10.7873 4.14024 10.98 4.06042 11.1809 4.06042C11.3818 4.06042 11.5745 4.14024 11.7166 4.28231C11.8587 4.42438 11.9385 4.61708 11.9385 4.818ZM7.99908 3.15133C6.49969 3.15133 6.25484 3.15557 5.55726 3.18648C5.08211 3.20891 4.76333 3.27254 4.46757 3.38769C4.20454 3.48951 4.01484 3.61133 3.81302 3.81375C3.62333 3.99703 3.47748 4.22077 3.38636 4.4683C3.2712 4.76527 3.20757 5.08345 3.18575 5.558C3.15423 6.22709 3.1506 6.46103 3.1506 7.99982C3.1506 9.49921 3.15484 9.74406 3.18575 10.4416C3.20817 10.9162 3.27181 11.2356 3.38636 11.5307C3.48939 11.7944 3.6106 11.9841 3.81181 12.1853C4.01605 12.3889 4.20575 12.5107 4.46636 12.6113C4.76575 12.7271 5.08454 12.7913 5.55726 12.8131C6.22636 12.8447 6.46029 12.8483 7.99908 12.8483C9.49848 12.8483 9.74332 12.8441 10.4409 12.8131C10.9148 12.7907 11.2342 12.7271 11.53 12.6125C11.7924 12.5101 11.9833 12.3883 12.1845 12.1871C12.3888 11.9828 12.5106 11.7931 12.6112 11.5325C12.7264 11.2338 12.7906 10.9144 12.8124 10.4416C12.8439 9.77254 12.8476 9.5386 12.8476 7.99982C12.8476 6.50042 12.8433 6.25557 12.8124 5.558C12.79 5.08406 12.7264 4.76406 12.6112 4.4683C12.5199 4.22103 12.3743 3.99737 12.1851 3.81375C12.002 3.62396 11.7782 3.4781 11.5306 3.38709C11.2336 3.27194 10.9148 3.2083 10.4409 3.18648C9.77181 3.15497 9.53787 3.15133 7.99908 3.15133ZM7.99908 1.93921C9.64575 1.93921 9.8512 1.94527 10.4973 1.97557C11.1427 2.00588 11.5821 2.10709 11.9688 2.25739C12.3688 2.41133 12.7057 2.61982 13.0427 2.95618C13.3509 3.25915 13.5894 3.62563 13.7415 4.03012C13.8912 4.41618 13.993 4.85618 14.0233 5.50163C14.0518 6.14769 14.0597 6.35315 14.0597 7.99982C14.0597 9.64648 14.0536 9.85194 14.0233 10.498C13.993 11.1435 13.8912 11.5828 13.7415 11.9695C13.5898 12.3742 13.3513 12.7408 13.0427 13.0435C12.7397 13.3515 12.3732 13.59 11.9688 13.7422C11.5827 13.8919 11.1427 13.9938 10.4973 14.0241C9.8512 14.0525 9.64575 14.0604 7.99908 14.0604C6.35242 14.0604 6.14696 14.0544 5.5009 14.0241C4.85545 13.9938 4.41605 13.8919 4.02939 13.7422C3.62473 13.5904 3.25819 13.3519 2.95545 13.0435C2.64721 12.7405 2.40874 12.374 2.25666 11.9695C2.10636 11.5835 2.00514 11.1435 1.97484 10.498C1.94636 9.85194 1.93848 9.64648 1.93848 7.99982C1.93848 6.35315 1.94454 6.14769 1.97484 5.50163C2.00514 4.85557 2.10636 4.41678 2.25666 4.03012C2.40832 3.62538 2.64684 3.2588 2.95545 2.95618C3.25828 2.64783 3.6248 2.40935 4.02939 2.25739C4.41605 2.10709 4.85484 2.00588 5.5009 1.97557C6.14696 1.94709 6.35242 1.93921 7.99908 1.93921Z",fill:"#DF643A"})}),(0,dt.jsx)("defs",{children:(0,dt.jsx)("clipPath",{id:"clip0_588_31750",children:(0,dt.jsx)("rect",{width:"14.5455",height:"14.5455",fill:"white",transform:"translate(0.727539 0.727539)"})})})]})}),(0,dt.jsx)("a",{href:"",className:"footer__social",children:(0,dt.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dt.jsx)("g",{clipPath:"url(#clip0_588_31755)",children:(0,dt.jsx)("path",{d:"M7.99908 1.93921C4.65181 1.93921 1.93848 4.65254 1.93848 7.99981C1.93848 11.0247 4.15484 13.5319 7.05242 13.9871V9.75133H5.51302V7.99981H7.05242V6.66466C7.05242 5.14588 7.95666 4.30709 9.34151 4.30709C10.0045 4.30709 10.6979 4.42527 10.6979 4.42527V5.91618H9.93423C9.1809 5.91618 8.94636 6.38345 8.94636 6.86285V7.99981H10.627L10.3585 9.75133H8.94636V13.9871C11.8433 13.5325 14.0597 11.0241 14.0597 7.99981C14.0597 4.65254 11.3464 1.93921 7.99908 1.93921Z",fill:"#DF643A"})}),(0,dt.jsx)("defs",{children:(0,dt.jsx)("clipPath",{id:"clip0_588_31755",children:(0,dt.jsx)("rect",{width:"14.5455",height:"14.5455",fill:"white",transform:"translate(0.727539 0.727539)"})})})]})})]}),(0,dt.jsxs)("div",{className:"footer__payment-icons",children:[(0,dt.jsx)("div",{className:"footer__payment-ico",children:(0,dt.jsx)("img",{src:tD,alt:""})}),(0,dt.jsx)("div",{className:"footer__payment-ico",children:(0,dt.jsx)("img",{src:eD,alt:""})}),(0,dt.jsx)("div",{className:"footer__payment-ico",children:(0,dt.jsx)("img",{src:nD,alt:""})})]}),(0,dt.jsx)("li",{className:"pp-mob",children:(0,dt.jsx)(Ct,{children:"\xa9 2023 Polar Pelmeni"})})]})]})]})})})},iD=function(){var e=ft();return(0,dt.jsx)("div",{className:"select-city",children:(0,dt.jsxs)("div",{className:"select-city__content",children:[(0,dt.jsxs)("svg",{width:"65",height:"65",viewBox:"0 0 65 65",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dt.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32.5",fill:"#DF643A",fillOpacity:"0.1"}),(0,dt.jsx)("path",{d:"M39.364 37.364L33 43.7279L26.636 37.364C23.1213 33.8492 23.1213 28.1508 26.636 24.636C30.1508 21.1213 35.8492 21.1213 39.364 24.636C42.8787 28.1508 42.8787 33.8492 39.364 37.364ZM33 33C34.1046 33 35 32.1046 35 31C35 29.8954 34.1046 29 33 29C31.8954 29 31 29.8954 31 31C31 32.1046 31.8954 33 33 33Z",fill:"#DF643A"})]}),(0,dt.jsx)("h4",{className:"title__h4",children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u0432\u043e\u0454 \u043c\u0456\u0441\u0442\u043e"}),(0,dt.jsxs)("div",{className:"select-city__buttons",children:[(0,dt.jsx)("button",{className:"select-city__btn",onClick:function(){e(Ko({city:"\u041e\u0434\u0435\u0441\u0430"})),e(nu({state:!1}))},children:"\u041e\u0434\u0435\u0441\u0430"}),(0,dt.jsx)("button",{className:"select-city__btn",onClick:function(){e(Ko({city:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434"})),e(nu({state:!1}))},disabled:!0,children:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434"})]})]})})},aD=function(){return(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsx)("div",{className:"slider__container",children:(0,dt.jsx)(Qs,{})}),(0,dt.jsx)(ht,{children:(0,dt.jsx)(Js,{})}),(0,dt.jsxs)(ht,{children:[(0,dt.jsx)("section",{className:"about-section",style:{marginTop:120},children:(0,dt.jsxs)("div",{className:"about-container container",children:[(0,dt.jsxs)("div",{className:"about-top-wrap",children:[(0,dt.jsxs)("ul",{className:"about-top-list list",children:[(0,dt.jsxs)("li",{className:"about-top-item",children:[(0,dt.jsx)("p",{className:"about-top-subtitle",children:"\u041d\u0430\u0448\u0430 \u0456\u0441\u0442\u043e\u0440\u0456\u044f"}),(0,dt.jsx)("h2",{className:"about-top-title title",children:"\u0417 \u0447\u043e\u0433\u043e \u0432\u0441\u0435 \u043f\u043e\u0447\u0430\u043b\u043e\u0441\u044f?"})]}),(0,dt.jsx)("li",{className:"about-top-item",children:(0,dt.jsx)("p",{className:"about-top-text text",children:"\u0417\u0430\u0441\u043d\u043e\u0432\u043d\u0438\u043a Polar \u2014 \u0454\u0432\u0440\u043e\u043f\u0435\u0454\u0446\u044c \u0437 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0438\u043c \u043a\u043e\u0440\u0456\u043d\u043d\u044f\u043c \u2014 \u043a\u0456\u043b\u044c\u043a\u0430 \u0440\u043e\u043a\u0456\u0432 \u0442\u043e\u043c\u0443 \u0432\u0456\u0434\u0432\u0456\u0434\u0430\u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0443. \u0410 \u041e\u0434\u0435\u0441\u0443, \u0439\u043e\u0433\u043e \u0436\u0438\u0442\u0435\u043b\u0456\u0432 \u0456 \u043a\u043e\u043b\u043e\u0440\u0438\u0442 \u0432\u0438 \u0437\u043d\u0430\u0454\u0442\u0435 \u2014 \u043d\u0435 \u0437\u0430\u043a\u043e\u0445\u0430\u0442\u0438\u0441\u044f \u043d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u043e."})}),(0,dt.jsx)("li",{className:"about-top-item",children:(0,dt.jsx)("p",{className:"about-top-text text",children:"\u0406\u0441\u043a\u0440\u0430, \u0431\u0443\u0440\u044f, \u0431\u043e\u0436\u0435\u0432\u0456\u043b\u043b\u044f, \u0456 \u043e\u0442 \u043d\u0430\u0448 \u041a\u043e\u0441\u0442\u044f \u0432\u0438\u0440\u0456\u0448\u0438\u0432 \u0437\u0430\u043b\u0438\u0448\u0438\u0442\u0438\u0441\u044f \u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0456, \u0430\u0431\u0438 \u0440\u0430\u0434\u0443\u0432\u0430\u0442\u0438 \u043b\u044e\u0434\u0435\u0439 \u0432\u0438\u0448\u0443\u043a\u0430\u043d\u0438\u043c\u0438 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u044f\u043c\u0438 \u0439 \u043f\u0456\u0434\u043d\u0456\u043c\u0430\u0442\u0438 \u0435\u043a\u043e\u043d\u043e\u043c\u0456\u043a\u0443 \u043d\u0430\u0448\u043e\u0457 \u043a\u0440\u0430\u0457\u043d\u0438."})}),(0,dt.jsx)("li",{className:"about-top-item",children:(0,dt.jsx)("p",{className:"about-top-text text",children:"\u041f\u0456\u0446\u0430, \u0441\u0443\u0448\u0456, \u0431\u0443\u0440\u0433\u0435\u0440\u0438, \u0440\u0430\u043c\u0435\u043d\u2026 \u0410 \u0434\u0435 \u0436 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456, \u044f\u043a\u0456 \u0442\u043e\u0447\u043d\u043e \u0437\u0430\u0439\u043c\u0430\u044e\u0442\u044c \u043e\u043a\u0440\u0435\u043c\u0435 \u043c\u0456\u0441\u0446\u0435 \u0432 \u0441\u0435\u0440\u0434\u0435\u0447\u043a\u0443 \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u0443\u043a\u0440\u0430\u0457\u043d\u0446\u044f?"})}),(0,dt.jsx)("li",{className:"about-top-item",children:(0,dt.jsx)("p",{className:"about-top-text text",children:"\u0426\u0435 \u043f\u0438\u0442\u0430\u043d\u043d\u044f \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0432 \u0441\u043e\u0431\u0456 \u0437\u0430\u0441\u043d\u043e\u0432\u043d\u0438\u043a Polar, \u044f\u043a\u0438\u0439 \u043d\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0432 \u043d\u0430 \u0440\u0438\u043d\u043a\u0443 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0446\u0456\u0454\u0457 \u0441\u0442\u0440\u0430\u0432\u0438 \u0456 \u0441\u043c\u0430\u0447\u043d\u0438\u0445 \u0441\u043e\u0443\u0441\u0456\u0432 \u0434\u043e \u043d\u0435\u0457. \u0406 \u043f\u043e\u043d\u0435\u0441\u043b\u0430\u0441\u044f\u2026"})})]}),(0,dt.jsx)("img",{src:TM,alt:"women",className:"about-top-img first"})]}),(0,dt.jsx)("svg",{className:"about-icon first",children:(0,dt.jsx)("use",{href:"".concat(PM,"#icon-arrow-1")})}),(0,dt.jsxs)("div",{className:"about-wrap",children:[(0,dt.jsxs)("ul",{className:"about-list list",children:[(0,dt.jsx)("li",{className:"about-item",children:(0,dt.jsxs)("h2",{className:"about-title title",children:["\u042f\u043a \u0432\u0441\u0435",(0,dt.jsx)("br",{}),"\u043f\u0440\u0438\u0437\u0443\u043f\u0438\u043d\u0438\u043b\u043e\u0441\u044f?"]})}),(0,dt.jsx)("li",{className:"about-item",children:(0,dt.jsx)("p",{className:"about-text text",children:"23 \u043b\u044e\u0442\u043e\u0433\u043e \u0431\u0443\u043b\u0430 \u043f\u0440\u0435-\u043f\u0430\u0442\u0456 \u0434\u0435\u0433\u0443\u0441\u0442\u0430\u0446\u0456\u044f \u0432 \u041e\u0434\u0435\u0441\u0456:\u043b\u044e\u0434\u0438 \u0433\u0456\u0434\u043d\u043e \u043e\u0446\u0456\u043d\u0438\u043b\u0438 \u043d\u0430\u0448\u0456 \u0441\u0442\u0430\u0440\u0430\u043d\u043d\u044f, \u0441\u043c\u0430\u043a \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432, \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0456\u0441\u0442\u044c \u0432\u0438\u0431\u043e\u0440\u0443 \u0456 \u0448\u0432\u0438\u0434\u043a\u0456\u0441\u0442\u044c \u043f\u0440\u0438\u0433\u043e\u0442\u0443\u0432\u0430\u043d\u043d\u044f."})}),(0,dt.jsx)("li",{className:"about-item",children:(0,dt.jsx)("p",{className:"about-text text",children:"\u041d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e \u0434\u043d\u044f \u043f\u043e\u0447\u0430\u043b\u0430\u0441\u044f \u0432\u0456\u0439\u043d\u0430."})}),(0,dt.jsx)("li",{className:"about-item",children:(0,dt.jsx)("p",{className:"about-text text",children:"\u041c\u0438, \u044f\u043a \u0456 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u0431\u0456\u0437\u043d\u0435\u0441 \u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0456, \u043d\u0435 \u043c\u043e\u0433\u043b\u0438 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u044f\u043a \u0440\u0430\u043d\u0456\u0448\u0435."})}),(0,dt.jsx)("li",{className:"about-item",children:(0,dt.jsx)("p",{className:"about-text text",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 Polar \u043d\u0435 \u0437\u0434\u0430\u043b\u0430\u0441\u044f \u0456 \u043f\u0440\u0438\u0439\u043d\u044f\u043b\u0430 \u0440\u0456\u0448\u0435\u043d\u043d\u044f \u0432\u0456\u0434\u0447\u0438\u043d\u0438\u0442\u0438\u0441\u044f \u0432 \u0431\u0456\u043b\u044c\u0448 \u0431\u0435\u0437\u043f\u0435\u0447\u043d\u043e\u043c\u0443 \u043c\u0456\u0441\u0442\u0456 \u0423\u043a\u0440\u0430\u0457\u043d\u0438 \u2014 \u0423\u0436\u0433\u043e\u0440\u043e\u0434\u0456."})}),(0,dt.jsx)("li",{className:"about-item",children:(0,dt.jsx)("p",{className:"about-text text",children:"\u0421\u0442\u0432\u043e\u0440\u0438\u043b\u0438 \u0446\u0435\u0445 \u0443 \u0417\u0430\u043a\u0430\u0440\u043f\u0430\u0442\u0442\u0456, \u043f\u043e\u043b\u0456\u043f\u0448\u0438\u043b\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0443\u0440\u0443 \u0456 \u0437\u0440\u043e\u0431\u0438\u043b\u0438 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456 \u0449\u0435 \u043a\u0440\u0430\u0449\u0438\u043c\u0438 \u0437 \u0456\u0434\u0435\u0430\u043b\u044c\u043d\u0438\u043c \u0442\u0456\u0441\u0442\u043e\u043c \u0456 \u043d\u0430\u0447\u0438\u043d\u043a\u0430\u043c\u0438!"})})]}),(0,dt.jsx)("img",{src:LM,alt:"dishes",className:"about-img second"})]}),(0,dt.jsx)("svg",{className:"about-icon second",children:(0,dt.jsx)("use",{href:"".concat(PM,"#icon-arrow-2")})}),(0,dt.jsxs)("div",{className:"about-bottom-wrap",children:[(0,dt.jsxs)("ul",{className:"about-bottom-list list",children:[(0,dt.jsx)("li",{className:"about-bottom-item",children:(0,dt.jsxs)("h2",{className:"about-bottom-title title",children:["\u041c\u0438 \u043f\u0440\u043e\u0434\u0443\u043c\u0430\u043b\u0438 \u0432\u0441\u0435",(0,dt.jsx)("br",{}),"\u0434\u043e \u0434\u0440\u0456\u0431\u043d\u0438\u0446\u044c"]})}),(0,dt.jsx)("li",{className:"about-bottom-item",children:(0,dt.jsx)("p",{className:"about-bottom-text text",children:"\u0423 \u0442\u0435\u0440\u043c\u0456\u043d\u043e\u0432\u043e\u043c\u0443 \u043f\u043e\u0440\u044f\u0434\u043a\u0443 (\u043c\u043e\u0432\u0430 \u0436 \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0440\u043e \u0457\u0436\u0443, \u0430 \u043f\u0440\u043e \u041f\u0415\u041b\u042c\u041c\u0415\u041d\u0406) \u0437\u0456\u0431\u0440\u0430\u043b\u0430\u0441\u044f \u0441\u0438\u043b\u044c\u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u043d\u0430 \u0447\u043e\u043b\u0456 \u0456\u0437 \u0448\u0435\u0444-\u043a\u0443\u0445\u0430\u0440\u0435\u043c."})}),(0,dt.jsx)("li",{className:"about-bottom-item",children:(0,dt.jsx)("p",{className:"about-bottom-text text",children:"\u0414\u043d\u044f\u043c\u0438 \u0439 \u043d\u043e\u0447\u0430\u043c\u0438 \u043c\u0438 \u0440\u043e\u0437\u0440\u043e\u0431\u043b\u044f\u043b\u0438 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0456\u044e, \u043e\u0441\u043e\u0431\u043b\u0438\u0432\u0443 \u0440\u0435\u0446\u0435\u043f\u0442\u0443\u0440\u0443, \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0456\u044e \u043c\u0435\u043d\u044e \u0437 \u043f\u0440\u043e\u0444\u0435\u0441\u0456\u043e\u043d\u0430\u043b\u0430\u043c\u0438, \u0449\u043e\u0431\u0438 \u043d\u0430\u0441\u043e\u043b\u043e\u0434\u0436\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u044f\u043c\u0438 \u043c\u0456\u0433 \u043a\u043e\u0436\u0435\u043d."})}),(0,dt.jsx)("li",{className:"about-bottom-item",children:(0,dt.jsx)("p",{className:"about-bottom-text text",children:"\u041d\u0435 \u0437\u0430\u043b\u0438\u0448\u0438\u043b\u0438 \u0431\u0435\u0437 \u0443\u0432\u0430\u0433\u0438 \u043d\u0456\u043a\u043e\u0433\u043e."})}),(0,dt.jsx)("li",{className:"about-bottom-item",children:(0,dt.jsx)("p",{className:"about-bottom-text text",children:"\u0406 \u0432\u0435\u0433\u0435\u0442\u0430\u0440\u0456\u0430\u043d\u0446\u0456, \u0456 \u0432\u0435\u0433\u0430\u043d\u0438, \u0456 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u043d\u0456 \u043c\u2019\u044f\u0441\u043e\u0457\u0434\u0438, \u0456 \u043b\u044e\u0431\u0438\u0442\u0435\u043b\u0456 \u0440\u0438\u0431\u043a\u0438, \u043e\u0432\u043e\u0447\u0456\u0432, \u043d\u0430\u0432\u0456\u0442\u044c \u0441\u043e\u043b\u043e\u0434\u043e\u0449\u0456\u0432 \u0442\u043e\u0447\u043d\u043e \u0437\u043d\u0430\u0439\u0434\u0443\u0442\u044c \u043f\u043e\u0440\u0446\u0456\u044e \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u0445 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432 \u0434\u043b\u044f \u0441\u0435\u0431\u0435 \u0432 Polar"})})]}),(0,dt.jsx)("img",{src:jM,alt:"women",className:"about-bottom-img"})]})]})}),(0,dt.jsx)("section",{className:"facts-section",children:(0,dt.jsxs)("div",{className:"facts-container container",children:[(0,dt.jsx)("h2",{className:"facts-main-title title",children:"\u0412\u0430\u0436\u043b\u0438\u0432\u0456 \u0444\u0430\u043a\u0442\u0438 \u043f\u0440\u043e Polar"}),(0,dt.jsx)("div",{className:"facts-list-wrap",children:(0,dt.jsxs)("ul",{className:"facts-list list",children:[(0,dt.jsxs)("li",{className:"facts-item",children:[(0,dt.jsx)("div",{className:"facts-icon-wrap",children:(0,dt.jsx)("svg",{className:"facts-icon",children:(0,dt.jsx)("use",{href:"".concat(PM,"#icon-facts-1")})})}),(0,dt.jsx)("h3",{className:"facts-title",children:"\u041c\u0438 \u0441\u0430\u043c\u0456 \u0432\u0438\u0440\u043e\u0431\u043b\u044f\u0454\u043c\u043e \u0432\u0441\u0435"}),(0,dt.jsx)("p",{className:"facts-text",children:"\u0444\u0430\u0440\u0448, \u0431\u0443\u043b\u044c\u0439\u043e\u043d\u0438, \u0441\u043e\u0443\u0441\u0438. \u0406 \u0446\u0435 \u0437 \u043d\u0430\u0439\u044f\u043a\u0456\u0441\u043d\u0456\u0448\u0438\u0445 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432 \u0432\u0456\u0434 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u0438\u0445 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0456\u0432. \u0422\u043e\u043c\u0443 \u0449\u043e, \u0445\u043e\u0440\u043e\u0448\u0456 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456 \u043f\u043e\u0447\u0438\u043d\u0430\u044e\u0442\u044c\u0441\u044f \u0437\u0456 \u0441\u0432\u0456\u0436\u0438\u0445 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432"})]}),(0,dt.jsxs)("li",{className:"facts-item",children:[(0,dt.jsx)("div",{className:"facts-icon-wrap",children:(0,dt.jsx)("svg",{className:"facts-icon",children:(0,dt.jsx)("use",{href:"".concat(PM,"#icon-facts-2")})})}),(0,dt.jsx)("h3",{className:"facts-title",children:"10 \u0432\u0438\u0434\u0456\u0432 \u0440\u0456\u0437\u043d\u0438\u0445 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432"}),(0,dt.jsx)("p",{className:"facts-text",children:"\u0406 \u0432\u0435\u0433\u0435\u0442\u0430\u0440\u0456\u0430\u043d\u0446\u0456, \u0456 \u0432\u0435\u0433\u0430\u043d\u0438, \u0456 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u043d\u0456 \u043c\u2019\u044f\u0441\u043e\u0457\u0434\u0438, \u0456 \u043b\u044e\u0431\u0438\u0442\u0435\u043b\u0456 \u0440\u0438\u0431\u043a\u0438, \u043e\u0432\u043e\u0447\u0456\u0432, \u043d\u0430\u0432\u0456\u0442\u044c \u0441\u043e\u043b\u043e\u0434\u043e\u0449\u0456\u0432 \u0442\u043e\u0447\u043d\u043e \u0437\u043d\u0430\u0439\u0434\u0443\u0442\u044c \u043f\u043e\u0440\u0446\u0456\u044e \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u0445 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432"})]}),(0,dt.jsxs)("li",{className:"facts-item",children:[(0,dt.jsx)("div",{className:"facts-icon-wrap",children:(0,dt.jsx)("svg",{className:"facts-icon",children:(0,dt.jsx)("use",{href:"".concat(PM,"#icon-facts-3")})})}),(0,dt.jsx)("h3",{className:"facts-title",children:"4 \u0445\u0432\u0438\u043b\u0438\u043d\u0438"}),(0,dt.jsx)("p",{className:"facts-text",children:"\u041c\u0430\u043b\u043e \u0449\u043e \u043c\u043e\u0436\u043d\u0430 \u0432\u0441\u0442\u0438\u0433\u043d\u0443\u0442\u0438 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0437\u0430 \u0446\u0435\u0439 \u0447\u0430\u0441, \u0430\u043b\u0435 \u043c\u0438 \u0442\u043e\u0447\u043d\u043e \u0437\u043d\u0430\u0454\u043c\u043e, \u0449\u043e \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456 \u0432\u0456\u0434 Polar \u0432\u0436\u0435 \u0431\u0443\u0434\u0443\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u0456"})]}),(0,dt.jsxs)("li",{className:"facts-item",children:[(0,dt.jsx)("div",{className:"facts-icon-wrap",children:(0,dt.jsx)("svg",{className:"facts-icon",children:(0,dt.jsx)("use",{href:"".concat(PM,"#icon-facts-4")})})}),(0,dt.jsx)("h3",{className:"facts-title",children:"Polar \u0437 \u0435\u043a\u043e\u043b\u043e\u0433\u0456\u0454\u044e"}),(0,dt.jsx)("p",{className:"facts-text",children:"\u041d\u0430 \u0432\u0441\u0456\u0445 \u0435\u0442\u0430\u043f\u0430\u0445 \u0432\u0438\u0440\u043e\u0431\u043d\u0438\u0446\u0442\u0432\u0430 \u0439 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u043c\u0438 \u043d\u0430\u043c\u0430\u0433\u0430\u0454\u043c\u043e\u0441\u044f \u043c\u0456\u043d\u0456\u043c\u0456\u0437\u0443\u0432\u0430\u0442\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u043f\u043b\u0430\u0441\u0442\u0438\u043a\u0443"})]})]})})]})}),(0,dt.jsx)("section",{className:"gallery-section",children:(0,dt.jsxs)("div",{className:"gallery-container container",children:[(0,dt.jsxs)("picture",{children:[(0,dt.jsx)("source",{srcSet:"./images/about/about-8-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,dt.jsx)("img",{src:"./images/about/about-8-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,dt.jsxs)("div",{className:"gallery-img-wrap",children:[(0,dt.jsxs)("picture",{children:[(0,dt.jsx)("source",{srcSet:"./images/about/about-7-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,dt.jsx)("img",{src:"./images/about/about-7-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,dt.jsxs)("picture",{children:[(0,dt.jsx)("source",{srcSet:"./images/about/about-13-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,dt.jsx)("img",{src:"./images/about/about-13-mobile.jpg",alt:"",className:"gallery-img"})]})]}),(0,dt.jsxs)("div",{className:"gallery-img-wrap",children:[(0,dt.jsxs)("picture",{children:[(0,dt.jsx)("source",{srcSet:"./images/about/about-9-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,dt.jsx)("img",{src:"./images/about/about-9-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,dt.jsxs)("picture",{children:[(0,dt.jsx)("source",{srcSet:"./images/about/about-15-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,dt.jsx)("img",{src:"./images/about/about-15-mobile.jpg",alt:"",className:"gallery-img"})]})]}),(0,dt.jsxs)("div",{className:"gallery-img-wrap",children:[(0,dt.jsxs)("picture",{children:[(0,dt.jsx)("source",{srcSet:"./images/about/about-12-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,dt.jsx)("img",{src:"./images/about/about-12-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,dt.jsxs)("picture",{children:[(0,dt.jsx)("source",{srcSet:"./images/about/about-14-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,dt.jsx)("img",{src:"./images/about/about-14-mobile.jpg",alt:"",className:"gallery-img"})]})]}),(0,dt.jsxs)("div",{className:"gallery-img-wrap",children:[(0,dt.jsxs)("picture",{children:[(0,dt.jsx)("source",{srcSet:"./images/about/about-11-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,dt.jsx)("img",{src:"./images/about/about-11-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,dt.jsxs)("picture",{children:[(0,dt.jsx)("source",{srcSet:"./images/about/about-10-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,dt.jsx)("img",{src:"./images/about/about-10-mobile.jpg",alt:"",className:"gallery-img"})]})]})]})})]})]})},oD=function(){return(0,dt.jsx)(ht,{children:(0,dt.jsx)(Js,{})})},sD=function(e,t){return sD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},sD(e,t)};function uD(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}sD(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var cD=function(){return cD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},cD.apply(this,arguments)};function lD(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function fD(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function dD(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function hD(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pD=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}},vD=hD(pD),mD=(0,r.createContext)(null);function gD(e,t,n,r){var i={};return function(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}(e,(function(e,a){var o=n[a];o!==t[a]&&(i[a]=o,e(r,o))})),i}function yD(e,t,n){var r=function(e,t,n){return Object.keys(e).reduce((function(n,r){return t(n,e[r],r)}),n)}(n,(function(n,r,i){return"function"===typeof e[i]&&n.push(google.maps.event.addListener(t,r,e[i])),n}),[]);return r}function bD(e){google.maps.event.removeListener(e)}function kD(e){void 0===e&&(e=[]),e.forEach(bD)}function wD(e){var t=e.updaterMap,n=e.eventMap,r=e.prevProps,i=e.nextProps,a=e.instance,o=yD(i,a,n);return gD(t,r,i,a),o}var xD={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},_D={extraMapTypes:function(e,t){t.forEach((function(t,n){e.mapTypes.set(String(n),t)}))},center:function(e,t){e.setCenter(t)},clickableIcons:function(e,t){e.setClickableIcons(t)},heading:function(e,t){e.setHeading(t)},mapTypeId:function(e,t){e.setMapTypeId(t)},options:function(e,t){e.setOptions(t)},streetView:function(e,t){e.setStreetView(t)},tilt:function(e,t){e.setTilt(t)},zoom:function(e,t){e.setZoom(t)}};(0,r.memo)((function(e){var t=e.children,n=e.options,i=e.id,a=e.mapContainerStyle,o=e.mapContainerClassName,s=e.center,u=e.onClick,c=e.onDblClick,l=e.onDrag,f=e.onDragEnd,d=e.onDragStart,h=e.onMouseMove,p=e.onMouseOut,v=e.onMouseOver,m=e.onMouseDown,g=e.onMouseUp,y=e.onRightClick,b=e.onCenterChanged,k=e.onLoad,w=e.onUnmount,x=(0,r.useState)(null),_=x[0],C=x[1],S=(0,r.useRef)(null),E=(0,r.useState)(null),I=E[0],N=E[1],T=(0,r.useState)(null),L=T[0],j=T[1],A=(0,r.useState)(null),P=A[0],O=A[1],M=(0,r.useState)(null),D=M[0],R=M[1],F=(0,r.useState)(null),V=F[0],U=F[1],B=(0,r.useState)(null),z=B[0],q=B[1],H=(0,r.useState)(null),W=H[0],G=H[1],K=(0,r.useState)(null),Q=K[0],Z=K[1],J=(0,r.useState)(null),Y=J[0],$=J[1],X=(0,r.useState)(null),ee=X[0],te=X[1],ne=(0,r.useState)(null),re=ne[0],ie=ne[1],ae=(0,r.useState)(null),oe=ae[0],se=ae[1];return(0,r.useEffect)((function(){n&&null!==_&&_.setOptions(n)}),[_,n]),(0,r.useEffect)((function(){null!==_&&"undefined"!==typeof s&&_.setCenter(s)}),[_,s]),(0,r.useEffect)((function(){_&&c&&(null!==L&&google.maps.event.removeListener(L),j(google.maps.event.addListener(_,"dblclick",c)))}),[c]),(0,r.useEffect)((function(){_&&f&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(_,"dragend",f)))}),[f]),(0,r.useEffect)((function(){_&&d&&(null!==D&&google.maps.event.removeListener(D),R(google.maps.event.addListener(_,"dragstart",d)))}),[d]),(0,r.useEffect)((function(){_&&m&&(null!==V&&google.maps.event.removeListener(V),U(google.maps.event.addListener(_,"mousedown",m)))}),[m]),(0,r.useEffect)((function(){_&&h&&(null!==z&&google.maps.event.removeListener(z),q(google.maps.event.addListener(_,"mousemove",h)))}),[h]),(0,r.useEffect)((function(){_&&p&&(null!==W&&google.maps.event.removeListener(W),G(google.maps.event.addListener(_,"mouseout",p)))}),[p]),(0,r.useEffect)((function(){_&&v&&(null!==Q&&google.maps.event.removeListener(Q),Z(google.maps.event.addListener(_,"mouseover",v)))}),[v]),(0,r.useEffect)((function(){_&&g&&(null!==Y&&google.maps.event.removeListener(Y),$(google.maps.event.addListener(_,"mouseup",g)))}),[g]),(0,r.useEffect)((function(){_&&y&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(_,"rightclick",y)))}),[y]),(0,r.useEffect)((function(){_&&u&&(null!==re&&google.maps.event.removeListener(re),ie(google.maps.event.addListener(_,"click",u)))}),[u]),(0,r.useEffect)((function(){_&&l&&(null!==oe&&google.maps.event.removeListener(oe),se(google.maps.event.addListener(_,"drag",l)))}),[l]),(0,r.useEffect)((function(){_&&b&&(null!==I&&google.maps.event.removeListener(I),N(google.maps.event.addListener(_,"center_changed",b)))}),[u]),(0,r.useEffect)((function(){var e=null===S.current?null:new google.maps.Map(S.current,n);return C(e),null!==e&&k&&k(e),function(){null!==e&&w&&w(e)}}),[]),(0,dt.jsx)("div",{id:i,ref:S,style:a,className:o,children:(0,dt.jsx)(mD.Provider,{value:_,children:null!==_?t:(0,dt.jsx)(dt.Fragment,{})})})}));var CD=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={map:null},t.registeredEvents=[],t.mapRef=null,t.getInstance=function(){return null===t.mapRef?null:new google.maps.Map(t.mapRef,t.props.options)},t.panTo=function(e){var n=t.getInstance();n&&n.panTo(e)},t.setMapCallback=function(){null!==t.state.map&&t.props.onLoad&&t.props.onLoad(t.state.map)},t.getRef=function(e){t.mapRef=e},t}return uD(t,e),t.prototype.componentDidMount=function(){var e=this.getInstance();this.registeredEvents=wD({updaterMap:_D,eventMap:xD,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{map:e}}),this.setMapCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.map&&(kD(this.registeredEvents),this.registeredEvents=wD({updaterMap:_D,eventMap:xD,prevProps:e,nextProps:this.props,instance:this.state.map}))},t.prototype.componentWillUnmount=function(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),kD(this.registeredEvents))},t.prototype.render=function(){return(0,dt.jsx)("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:(0,dt.jsx)(mD.Provider,{value:this.state.map,children:null!==this.state.map?this.props.children:(0,dt.jsx)(dt.Fragment,{})})})},t}(r.PureComponent),SD="undefined"!==typeof document;function ED(e){var t=e.url,n=e.id,r=e.nonce;return SD?new Promise((function(e,i){var a=document.getElementById(n),o=window;if(a){var s=a.getAttribute("data-state");if(a.src===t&&"error"!==s){if("ready"===s)return e(n);var u=o.initMap,c=a.onerror;return o.initMap=function(){u&&u(),e(n)},void(a.onerror=function(e){c&&c(e),i(e)})}a.remove()}var l=document.createElement("script");l.type="text/javascript",l.src=t,l.id=n,l.async=!0,l.nonce=r||"",l.onerror=function(e){l.setAttribute("data-state","error"),i(e)},o.initMap=function(){l.setAttribute("data-state","ready"),e(n)},document.head.appendChild(l)})).catch((function(e){throw console.error("injectScript error: ",e),e})):Promise.reject(new Error("document is undefined"))}function ID(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function ND(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(n,r){return ID(n)||Reflect.apply(t,e,[n,r]),n};var n=e.appendChild.bind(e);e.appendChild=function(t){return ID(t)||Reflect.apply(n,e,[t]),t}}}function TD(e){var t=e.googleMapsApiKey,n=e.googleMapsClientId,r=e.version,i=void 0===r?"weekly":r,a=e.language,o=e.region,s=e.libraries,u=e.channel,c=e.mapIds,l=e.authReferrerPolicy,f=[];return vD(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?f.push("key=".concat(t)):n&&f.push("client=".concat(n)),i&&f.push("v=".concat(i)),a&&f.push("language=".concat(a)),o&&f.push("region=".concat(o)),s&&s.length&&f.push("libraries=".concat(s.sort().join(","))),u&&f.push("channel=".concat(u)),c&&c.length&&f.push("map_ids=".concat(c.join(","))),l&&f.push("auth_referrer_policy=".concat(l)),f.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(f.join("&"))}var LD=!1;function jD(){return(0,dt.jsx)("div",{children:"Loading..."})}var AD,PD={id:"script-loader",version:"weekly"},OD=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.check=(0,r.createRef)(),t.state={loaded:!1},t.cleanupCallback=function(){delete window.google.maps,t.injectScript()},t.isCleaningUp=function(){return fD(t,void 0,void 0,(function(){function e(e){if(LD){if(SD)var t=window.setInterval((function(){LD||(window.clearInterval(t),e())}),1)}else e()}return dD(this,(function(t){return[2,new Promise(e)]}))}))},t.cleanup=function(){LD=!0;var e=document.getElementById(t.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter((function(e){return"string"===typeof e.src&&e.src.includes("maps.googleapis")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("link")).filter((function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("style")).filter((function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},t.injectScript=function(){t.props.preventGoogleFontsLoading&&ND(),vD(!!t.props.id,'LoadScript requires "id" prop to be a string: %s',t.props.id),ED({id:t.props.id,nonce:t.props.nonce,url:TD(t.props)}).then((function(){t.props.onLoad&&t.props.onLoad(),t.setState((function(){return{loaded:!0}}))})).catch((function(e){t.props.onError&&t.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(t.props.googleMapsApiKey||"-",") or Client ID (").concat(t.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))}))},t}return uD(t,e),t.prototype.componentDidMount=function(){if(SD){if(window.google&&window.google.maps&&!LD)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch((function(e){console.error("Error at injecting script after cleaning up: ",e)}))}},t.prototype.componentDidUpdate=function(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),SD&&e.language!==this.props.language&&(this.cleanup(),this.setState((function(){return{loaded:!1}}),this.cleanupCallback))},t.prototype.componentWillUnmount=function(){var e=this;if(SD){this.cleanup();window.setTimeout((function(){e.check.current||(delete window.google,LD=!1)}),1),this.props.onUnmount&&this.props.onUnmount()}},t.prototype.render=function(){return(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsx)("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||(0,dt.jsx)(jD,{})]})},t.defaultProps=PD,t}(r.PureComponent);var MD=(0,dt.jsx)(jD,{});(0,r.memo)((function(e){var t=e.loadingElement,n=e.onLoad,i=e.onError,a=e.onUnmount,o=e.children,s=function(e){var t=e.id,n=void 0===t?PD.id:t,i=e.version,a=void 0===i?PD.version:i,o=e.nonce,s=e.googleMapsApiKey,u=e.googleMapsClientId,c=e.language,l=e.region,f=e.libraries,d=e.preventGoogleFontsLoading,h=e.channel,p=e.mapIds,v=e.authReferrerPolicy,m=(0,r.useRef)(!1),g=(0,r.useState)(!1),y=g[0],b=g[1],k=(0,r.useState)(void 0),w=k[0],x=k[1];(0,r.useEffect)((function(){return m.current=!0,function(){m.current=!1}}),[]),(0,r.useEffect)((function(){SD&&d&&ND()}),[d]),(0,r.useEffect)((function(){y&&vD(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")}),[y]);var _=TD({version:a,googleMapsApiKey:s,googleMapsClientId:u,language:c,region:l,libraries:f,channel:h,mapIds:p,authReferrerPolicy:v});(0,r.useEffect)((function(){function e(){m.current&&(b(!0),AD=_)}SD&&(window.google&&window.google.maps&&AD===_?e():ED({id:n,url:_,nonce:o}).then(e).catch((function(e){m.current&&x(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(s||"-",") or Client ID (").concat(u||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)})))}),[n,_,o]);var C=(0,r.useRef)();return(0,r.useEffect)((function(){C.current&&f!==C.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),C.current=f}),[f]),{isLoaded:y,loadError:w,url:_}}(lD(e,["loadingElement","onLoad","onError","onUnmount","children"])),u=s.isLoaded,c=s.loadError;return(0,r.useEffect)((function(){u&&"function"===typeof n&&n()}),[u,n]),(0,r.useEffect)((function(){c&&"function"===typeof i&&i(c)}),[c,i]),(0,r.useEffect)((function(){return function(){a&&a()}}),[a]),u?o:t||MD}));var DD;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(DD||(DD={}));var RD={},FD={options:function(e,t){e.setOptions(t)}};(0,r.memo)((function(e){var t=e.options,n=e.onLoad,i=e.onUnmount,a=(0,r.useContext)(mD),o=(0,r.useState)(null),s=o[0],u=o[1];return(0,r.useEffect)((function(){null!==s&&s.setMap(a)}),[a]),(0,r.useEffect)((function(){t&&null!==s&&s.setOptions(t)}),[s,t]),(0,r.useEffect)((function(){var e=new google.maps.TrafficLayer(cD(cD({},t||{}),{map:a}));return u(e),n&&n(e),function(){null!==s&&(i&&i(s),s.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={trafficLayer:null},t.setTrafficLayerCallback=function(){null!==t.state.trafficLayer&&t.props.onLoad&&t.props.onLoad(t.state.trafficLayer)},t.registeredEvents=[],t}uD(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.TrafficLayer(cD(cD({},this.props.options||{}),{map:this.context}));this.registeredEvents=wD({updaterMap:FD,eventMap:RD,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{trafficLayer:e}}),this.setTrafficLayerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.trafficLayer&&(kD(this.registeredEvents),this.registeredEvents=wD({updaterMap:FD,eventMap:RD,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))},t.prototype.componentWillUnmount=function(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),kD(this.registeredEvents),this.state.trafficLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=mD}(r.PureComponent);(0,r.memo)((function(e){var t=e.onLoad,n=e.onUnmount,i=(0,r.useContext)(mD),a=(0,r.useState)(null),o=a[0],s=a[1];return(0,r.useEffect)((function(){null!==o&&o.setMap(i)}),[i]),(0,r.useEffect)((function(){var e=new google.maps.BicyclingLayer;return s(e),e.setMap(i),t&&t(e),function(){null!==e&&(n&&n(e),e.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={bicyclingLayer:null},t.setBicyclingLayerCallback=function(){null!==t.state.bicyclingLayer&&(t.state.bicyclingLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.bicyclingLayer))},t}uD(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.BicyclingLayer;this.setState((function(){return{bicyclingLayer:e}}),this.setBicyclingLayerCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=mD}(r.PureComponent);(0,r.memo)((function(e){var t=e.onLoad,n=e.onUnmount,i=(0,r.useContext)(mD),a=(0,r.useState)(null),o=a[0],s=a[1];return(0,r.useEffect)((function(){null!==o&&o.setMap(i)}),[i]),(0,r.useEffect)((function(){var e=new google.maps.TransitLayer;return s(e),e.setMap(i),t&&t(e),function(){null!==o&&(n&&n(o),o.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={transitLayer:null},t.setTransitLayerCallback=function(){null!==t.state.transitLayer&&(t.state.transitLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.transitLayer))},t}uD(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.TransitLayer;this.setState((function(){return{transitLayer:e}}),this.setTransitLayerCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=mD}(r.PureComponent);var VD={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},UD={drawingMode:function(e,t){e.setDrawingMode(t)},options:function(e,t){e.setOptions(t)}};(0,r.memo)((function(e){var t=e.options,n=e.drawingMode,i=e.onCircleComplete,a=e.onMarkerComplete,o=e.onOverlayComplete,s=e.onPolygonComplete,u=e.onPolylineComplete,c=e.onRectangleComplete,l=e.onLoad,f=e.onUnmount,d=(0,r.useContext)(mD),h=(0,r.useState)(null),p=h[0],v=h[1],m=(0,r.useState)(null),g=m[0],y=m[1],b=(0,r.useState)(null),k=b[0],w=b[1],x=(0,r.useState)(null),_=x[0],C=x[1],S=(0,r.useState)(null),E=S[0],I=S[1],N=(0,r.useState)(null),T=N[0],L=N[1],j=(0,r.useState)(null),A=j[0],P=j[1];return(0,r.useEffect)((function(){null!==p&&p.setMap(d)}),[d]),(0,r.useEffect)((function(){t&&null!==p&&p.setOptions(t)}),[p,t]),(0,r.useEffect)((function(){n&&null!==p&&p.setDrawingMode(n)}),[p,n]),(0,r.useEffect)((function(){p&&i&&(null!==g&&google.maps.event.removeListener(g),y(google.maps.event.addListener(p,"circlecomplete",i)))}),[p,i]),(0,r.useEffect)((function(){p&&a&&(null!==k&&google.maps.event.removeListener(k),w(google.maps.event.addListener(p,"markercomplete",a)))}),[p,a]),(0,r.useEffect)((function(){p&&o&&(null!==_&&google.maps.event.removeListener(_),C(google.maps.event.addListener(p,"overlaycomplete",o)))}),[p,o]),(0,r.useEffect)((function(){p&&s&&(null!==E&&google.maps.event.removeListener(E),I(google.maps.event.addListener(p,"polygoncomplete",s)))}),[p,s]),(0,r.useEffect)((function(){p&&u&&(null!==T&&google.maps.event.removeListener(T),L(google.maps.event.addListener(p,"polylinecomplete",u)))}),[p,u]),(0,r.useEffect)((function(){p&&c&&(null!==A&&google.maps.event.removeListener(A),P(google.maps.event.addListener(p,"rectanglecomplete",c)))}),[p,c]),(0,r.useEffect)((function(){vD(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(cD(cD({},t||{}),{map:d}));return n&&e.setDrawingMode(n),i&&y(google.maps.event.addListener(e,"circlecomplete",i)),a&&w(google.maps.event.addListener(e,"markercomplete",a)),o&&C(google.maps.event.addListener(e,"overlaycomplete",o)),s&&I(google.maps.event.addListener(e,"polygoncomplete",s)),u&&L(google.maps.event.addListener(e,"polylinecomplete",u)),c&&P(google.maps.event.addListener(e,"rectanglecomplete",c)),v(e),l&&l(e),function(){null!==p&&(g&&google.maps.event.removeListener(g),k&&google.maps.event.removeListener(k),_&&google.maps.event.removeListener(_),E&&google.maps.event.removeListener(E),T&&google.maps.event.removeListener(T),A&&google.maps.event.removeListener(A),f&&f(p),p.setMap(null))}}),[]),null})),function(e){function t(t){var n=e.call(this,t)||this;return n.registeredEvents=[],n.state={drawingManager:null},n.setDrawingManagerCallback=function(){null!==n.state.drawingManager&&n.props.onLoad&&n.props.onLoad(n.state.drawingManager)},vD(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),n}uD(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.drawing.DrawingManager(cD(cD({},this.props.options||{}),{map:this.context}));this.registeredEvents=wD({updaterMap:UD,eventMap:VD,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{drawingManager:e}}),this.setDrawingManagerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.drawingManager&&(kD(this.registeredEvents),this.registeredEvents=wD({updaterMap:UD,eventMap:VD,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))},t.prototype.componentWillUnmount=function(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),kD(this.registeredEvents),this.state.drawingManager.setMap(null))},t.prototype.render=function(){return null},t.contextType=mD}(r.PureComponent);var BD={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},zD={animation:function(e,t){e.setAnimation(t)},clickable:function(e,t){e.setClickable(t)},cursor:function(e,t){e.setCursor(t)},draggable:function(e,t){e.setDraggable(t)},icon:function(e,t){e.setIcon(t)},label:function(e,t){e.setLabel(t)},map:function(e,t){e.setMap(t)},opacity:function(e,t){e.setOpacity(t)},options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},shape:function(e,t){e.setShape(t)},title:function(e,t){e.setTitle(t)},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},qD={};var HD=(0,r.memo)((function(e){var t=e.position,n=e.options,i=e.clusterer,a=e.noClustererRedraw,o=e.children,s=e.draggable,u=e.visible,c=e.animation,l=e.clickable,f=e.cursor,d=e.icon,h=e.label,p=e.opacity,v=e.shape,m=e.title,g=e.zIndex,y=e.onClick,b=e.onDblClick,k=e.onDrag,w=e.onDragEnd,x=e.onDragStart,_=e.onMouseOut,C=e.onMouseOver,S=e.onMouseUp,E=e.onMouseDown,I=e.onRightClick,N=e.onClickableChanged,T=e.onCursorChanged,L=e.onAnimationChanged,j=e.onDraggableChanged,A=e.onFlatChanged,P=e.onIconChanged,O=e.onPositionChanged,M=e.onShapeChanged,D=e.onTitleChanged,R=e.onVisibleChanged,F=e.onZindexChanged,V=e.onLoad,U=e.onUnmount,B=(0,r.useContext)(mD),z=(0,r.useState)(null),q=z[0],H=z[1],W=(0,r.useState)(null),G=W[0],K=W[1],Q=(0,r.useState)(null),Z=Q[0],J=Q[1],Y=(0,r.useState)(null),$=Y[0],X=Y[1],ee=(0,r.useState)(null),te=ee[0],ne=ee[1],re=(0,r.useState)(null),ie=re[0],ae=re[1],oe=(0,r.useState)(null),se=oe[0],ue=oe[1],ce=(0,r.useState)(null),le=ce[0],fe=ce[1],de=(0,r.useState)(null),he=de[0],pe=de[1],ve=(0,r.useState)(null),me=ve[0],ge=ve[1],ye=(0,r.useState)(null),be=ye[0],ke=ye[1],we=(0,r.useState)(null),xe=we[0],_e=we[1],Ce=(0,r.useState)(null),Se=Ce[0],Ee=Ce[1],Ie=(0,r.useState)(null),Ne=Ie[0],Te=Ie[1],Le=(0,r.useState)(null),je=Le[0],Ae=Le[1],Pe=(0,r.useState)(null),Oe=Pe[0],Me=Pe[1],De=(0,r.useState)(null),Re=De[0],Fe=De[1],Ve=(0,r.useState)(null),Ue=Ve[0],Be=Ve[1],ze=(0,r.useState)(null),qe=ze[0],He=ze[1],We=(0,r.useState)(null),Ge=We[0],Ke=We[1],Qe=(0,r.useState)(null),Ze=Qe[0],Je=Qe[1],Ye=(0,r.useState)(null),$e=Ye[0],Xe=Ye[1];(0,r.useEffect)((function(){null!==q&&q.setMap(B)}),[B]),(0,r.useEffect)((function(){"undefined"!==typeof n&&null!==q&&q.setOptions(n)}),[q,n]),(0,r.useEffect)((function(){"undefined"!==typeof s&&null!==q&&q.setDraggable(s)}),[q,s]),(0,r.useEffect)((function(){t&&null!==q&&q.setPosition(t)}),[q,t]),(0,r.useEffect)((function(){"undefined"!==typeof u&&null!==q&&q.setVisible(u)}),[q,u]),(0,r.useEffect)((function(){null===q||void 0===q||q.setAnimation(c)}),[q,c]),(0,r.useEffect)((function(){q&&b&&(null!==G&&google.maps.event.removeListener(G),K(google.maps.event.addListener(q,"dblclick",b)))}),[b]),(0,r.useEffect)((function(){q&&w&&(null!==Z&&google.maps.event.removeListener(Z),J(google.maps.event.addListener(q,"dragend",w)))}),[w]),(0,r.useEffect)((function(){q&&x&&(null!==$&&google.maps.event.removeListener($),X(google.maps.event.addListener(q,"dragstart",x)))}),[x]),(0,r.useEffect)((function(){q&&E&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(q,"mousedown",E)))}),[E]),(0,r.useEffect)((function(){q&&_&&(null!==ie&&google.maps.event.removeListener(ie),ae(google.maps.event.addListener(q,"mouseout",_)))}),[_]),(0,r.useEffect)((function(){q&&C&&(null!==se&&google.maps.event.removeListener(se),ue(google.maps.event.addListener(q,"mouseover",C)))}),[C]),(0,r.useEffect)((function(){q&&S&&(null!==le&&google.maps.event.removeListener(le),fe(google.maps.event.addListener(q,"mouseup",S)))}),[S]),(0,r.useEffect)((function(){q&&I&&(null!==he&&google.maps.event.removeListener(he),pe(google.maps.event.addListener(q,"rightclick",I)))}),[I]),(0,r.useEffect)((function(){q&&y&&(null!==me&&google.maps.event.removeListener(me),ge(google.maps.event.addListener(q,"click",y)))}),[y]),(0,r.useEffect)((function(){q&&k&&(null!==be&&google.maps.event.removeListener(be),ke(google.maps.event.addListener(q,"drag",k)))}),[k]),(0,r.useEffect)((function(){q&&N&&(null!==xe&&google.maps.event.removeListener(xe),_e(google.maps.event.addListener(q,"clickable_changed",N)))}),[N]),(0,r.useEffect)((function(){q&&T&&(null!==Se&&google.maps.event.removeListener(Se),Ee(google.maps.event.addListener(q,"cursor_changed",T)))}),[T]),(0,r.useEffect)((function(){q&&L&&(null!==Ne&&google.maps.event.removeListener(Ne),Te(google.maps.event.addListener(q,"animation_changed",L)))}),[L]),(0,r.useEffect)((function(){q&&j&&(null!==je&&google.maps.event.removeListener(je),Ae(google.maps.event.addListener(q,"draggable_changed",j)))}),[j]),(0,r.useEffect)((function(){q&&A&&(null!==Oe&&google.maps.event.removeListener(Oe),Me(google.maps.event.addListener(q,"flat_changed",A)))}),[A]),(0,r.useEffect)((function(){q&&P&&(null!==Re&&google.maps.event.removeListener(Re),Fe(google.maps.event.addListener(q,"icon_changed",P)))}),[P]),(0,r.useEffect)((function(){q&&O&&(null!==Ue&&google.maps.event.removeListener(Ue),Be(google.maps.event.addListener(q,"position_changed",O)))}),[O]),(0,r.useEffect)((function(){q&&M&&(null!==qe&&google.maps.event.removeListener(qe),He(google.maps.event.addListener(q,"shape_changed",M)))}),[M]),(0,r.useEffect)((function(){q&&D&&(null!==Ge&&google.maps.event.removeListener(Ge),Ke(google.maps.event.addListener(q,"title_changed",D)))}),[D]),(0,r.useEffect)((function(){q&&R&&(null!==Ze&&google.maps.event.removeListener(Ze),Je(google.maps.event.addListener(q,"visible_changed",R)))}),[R]),(0,r.useEffect)((function(){q&&F&&(null!==$e&&google.maps.event.removeListener($e),Xe(google.maps.event.addListener(q,"zindex_changed",F)))}),[F]),(0,r.useEffect)((function(){var e=cD(cD(cD({},n||qD),i?qD:{map:B}),{position:t}),r=new google.maps.Marker(e);return i?i.addMarker(r,!!a):r.setMap(B),t&&r.setPosition(t),"undefined"!==typeof u&&r.setVisible(u),"undefined"!==typeof s&&r.setDraggable(s),"undefined"!==typeof l&&r.setClickable(l),"string"===typeof f&&r.setCursor(f),d&&r.setIcon(d),"undefined"!==typeof h&&r.setLabel(h),"undefined"!==typeof p&&r.setOpacity(p),v&&r.setShape(v),"string"===typeof m&&r.setTitle(m),"number"===typeof g&&r.setZIndex(g),b&&K(google.maps.event.addListener(r,"dblclick",b)),w&&J(google.maps.event.addListener(r,"dragend",w)),x&&X(google.maps.event.addListener(r,"dragstart",x)),E&&ne(google.maps.event.addListener(r,"mousedown",E)),_&&ae(google.maps.event.addListener(r,"mouseout",_)),C&&ue(google.maps.event.addListener(r,"mouseover",C)),S&&fe(google.maps.event.addListener(r,"mouseup",S)),I&&pe(google.maps.event.addListener(r,"rightclick",I)),y&&ge(google.maps.event.addListener(r,"click",y)),k&&ke(google.maps.event.addListener(r,"drag",k)),N&&_e(google.maps.event.addListener(r,"clickable_changed",N)),T&&Ee(google.maps.event.addListener(r,"cursor_changed",T)),L&&Te(google.maps.event.addListener(r,"animation_changed",L)),j&&Ae(google.maps.event.addListener(r,"draggable_changed",j)),A&&Me(google.maps.event.addListener(r,"flat_changed",A)),P&&Fe(google.maps.event.addListener(r,"icon_changed",P)),O&&Be(google.maps.event.addListener(r,"position_changed",O)),M&&He(google.maps.event.addListener(r,"shape_changed",M)),D&&Ke(google.maps.event.addListener(r,"title_changed",D)),R&&Je(google.maps.event.addListener(r,"visible_changed",R)),F&&Xe(google.maps.event.addListener(r,"zindex_changed",F)),H(r),V&&V(r),function(){null!==G&&google.maps.event.removeListener(G),null!==Z&&google.maps.event.removeListener(Z),null!==$&&google.maps.event.removeListener($),null!==te&&google.maps.event.removeListener(te),null!==ie&&google.maps.event.removeListener(ie),null!==se&&google.maps.event.removeListener(se),null!==le&&google.maps.event.removeListener(le),null!==he&&google.maps.event.removeListener(he),null!==me&&google.maps.event.removeListener(me),null!==xe&&google.maps.event.removeListener(xe),null!==Se&&google.maps.event.removeListener(Se),null!==Ne&&google.maps.event.removeListener(Ne),null!==je&&google.maps.event.removeListener(je),null!==Oe&&google.maps.event.removeListener(Oe),null!==Re&&google.maps.event.removeListener(Re),null!==Ue&&google.maps.event.removeListener(Ue),null!==Ge&&google.maps.event.removeListener(Ge),null!==Ze&&google.maps.event.removeListener(Ze),null!==$e&&google.maps.event.removeListener($e),U&&U(r),i?i.removeMarker(r,!!a):r&&r.setMap(null)}}),[]);var et=(0,r.useMemo)((function(){return o?r.Children.map(o,(function(e){if(!(0,r.isValidElement)(e))return e;var t=e;return(0,r.cloneElement)(t,{anchor:q})})):null}),[o,q]);return(0,dt.jsx)(dt.Fragment,{children:et})||null})),WD=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t}uD(t,e),t.prototype.componentDidMount=function(){var e=cD(cD(cD({},this.props.options||qD),this.props.clusterer?qD:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(e),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=wD({updaterMap:zD,eventMap:BD,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)},t.prototype.componentDidUpdate=function(e){this.marker&&(kD(this.registeredEvents),this.registeredEvents=wD({updaterMap:zD,eventMap:BD,prevProps:e,nextProps:this.props,instance:this.marker}))},t.prototype.componentWillUnmount=function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),kD(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))},t.prototype.render=function(){var e=this,t=null;return this.props.children&&(t=r.Children.map(this.props.children,(function(t){if(!(0,r.isValidElement)(t))return t;var n=t;return(0,r.cloneElement)(n,{anchor:e.marker})}))),t||null},t.contextType=mD}(r.PureComponent),function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),r=this.cluster.getBounds(),i=t.getMap();null!==i&&"fitBounds"in i&&i.fitBounds(r),this.timeOut=window.setTimeout((function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(r);var i=e.getZoom()||0;null!==n&&i>n&&e.setZoom(n+1)}}),100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,n,r,i,a;if(this.div&&this.center){var o=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,s=this.backgroundPosition.split(" "),u=parseInt((null===(e=s[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),c=parseInt((null===(t=s[1])||void 0===t?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),l=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==l?"".concat(l.y,"px"):"0","; left: ").concat(null!==l?"".concat(l.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var f=document.createElement("img");f.alt=o,f.src=this.url,f.width=this.width,f.height=this.height,f.setAttribute("style","position: absolute; top: ".concat(c,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(f.style.clip="rect(-".concat(c,"px, -").concat(u+this.width,"px, -").concat(c+this.height,", -").concat(u,")"));var d=document.createElement("div");d.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(n=this.sums)||void 0===n?void 0:n.text)&&(d.innerText="".concat(null===(r=this.sums)||void 0===r?void 0:r.text)),(null===(i=this.sums)||void 0===i?void 0:i.html)&&(d.innerHTML="".concat(null===(a=this.sums)||void 0===a?void 0:a.html)),this.div.innerHTML="",this.div.appendChild(f),this.div.appendChild(d),this.div.title=o,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}()),GD=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new WD(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=0,n=this.getMarkers();t<n.length;t++){var r=n[t].getPosition();r&&e.extend(r)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(n=e.getPosition())){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+n.lat())/r,(this.center.lng()*(r-1)+n.lng())/r),this.calculateBounds()}}else(n=e.getPosition())&&(this.center=n,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var i=this.markers.length,a=this.markerClusterer.getMaxZoom(),o=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==a&&"undefined"!==typeof o&&o>a)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var s=0,u=this.markers;s<u.length;s++){u[s].setMap(null)}else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),r=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==n&&"undefined"!==typeof r&&r>n||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function KD(e,t){var n=e.length,r=n.toString().length,i=Math.min(r,t);return{text:n.toString(),index:i,title:""}}var QD=[53,56,66,78,90],ZD=function(){function e(t,n,r){void 0===n&&(n=[]),void 0===r&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,void 0!==r.zoomOnClick&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,void 0!==r.averageCenter&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,void 0!==r.ignoreHidden&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,void 0!==r.enableRetinaIcons&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=r.imageExtension||"png",this.imageSizes=r.imageSizes||QD,this.calculator=r.calculator||KD,this.batchSize=r.batchSize||2e3,this.batchSizeIE=r.batchSizeIE||500,this.clusterClass=r.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var r=0,i=this.clusters;r<i.length;r++){i[r].remove()}this.clusters=[];for(var a=0,o=this.listeners;a<o.length;a++){var s=o[a];google.maps.event.removeListener(s)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,r=e;n<r.length;n++){var i=r[n].getPosition();i&&t.extend(i)}var a=this.getMap();null!==a&&"fitBounds"in a&&a.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];r&&this.pushMarkerTo(r)}t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",(function(){t.ready&&(e.isAdded=!1,t.repaint())})),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},e.prototype.removeMarkers=function(e,t){for(var n=!1,r=0,i=e;r<i.length;r++){var a=i[r];n=n||this.removeMarker_(a)}return!t&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout((function(){for(var t=0,n=e;t<n.length;t++){n[t].remove()}}),0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==n&&(n.x+=this.gridSize,n.y-=this.gridSize);var r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==r&&(r.x-=this.gridSize,r.y+=this.gridSize),null!==n){var i=t.fromDivPixelToLatLng(n);null!==i&&e.extend(i)}if(null!==r){var a=t.fromDivPixelToLatLng(r);null!==a&&e.extend(a)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){n[t].remove()}this.clusters=[];for(var r=0,i=this.markers;r<i.length;r++){var a=i[r];a.isAdded=!1,e&&a.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,r=(t.lng()-e.lng())*Math.PI/180,i=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371},e.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return!!n&&t.contains(n)},e.prototype.addToClosestCluster=function(e){for(var t,n=4e4,r=null,i=0,a=this.clusters;i<a.length;i++){var o=(t=a[i]).getCenter(),s=e.getPosition();if(o&&s){var u=this.distanceBetweenPoints(o,s);u<n&&(n=u,r=t)}}r&&r.isMarkerInClusterBounds(e)?r.addMarker(e):((t=new GD(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),r=(null!==n&&"getBounds"in n?n.getBounds():null),i=((null===n||void 0===n?void 0:n.getZoom())||0)>3?new google.maps.LatLngBounds(null===r||void 0===r?void 0:r.getSouthWest(),null===r||void 0===r?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(i),o=Math.min(e+this.batchSize,this.markers.length),s=e;s<o;s++){var u=this.markers[s];u&&!u.isAdded&&this.isMarkerInBounds(u,a)&&(!this.ignoreHidden||this.ignoreHidden&&u.getVisible())&&this.addToClosestCluster(u)}if(o<this.markers.length)this.timerRefStatic=window.setTimeout((function(){t.createClusters(o)}),0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var c=0,l=this.clusters;c<l.length;c++){l[c].updateIcon()}}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){var n=t;this.prototype[n]=e.prototype[n]}return this}.apply(e,[t])},e}(),JD={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},YD={averageCenter:function(e,t){e.setAverageCenter(t)},batchSizeIE:function(e,t){e.setBatchSizeIE(t)},calculator:function(e,t){e.setCalculator(t)},clusterClass:function(e,t){e.setClusterClass(t)},enableRetinaIcons:function(e,t){e.setEnableRetinaIcons(t)},gridSize:function(e,t){e.setGridSize(t)},ignoreHidden:function(e,t){e.setIgnoreHidden(t)},imageExtension:function(e,t){e.setImageExtension(t)},imagePath:function(e,t){e.setImagePath(t)},imageSizes:function(e,t){e.setImageSizes(t)},maxZoom:function(e,t){e.setMaxZoom(t)},minimumClusterSize:function(e,t){e.setMinimumClusterSize(t)},styles:function(e,t){e.setStyles(t)},title:function(e,t){e.setTitle(t)},zoomOnClick:function(e,t){e.setZoomOnClick(t)}},$D={};(0,r.memo)((function(e){var t=e.children,n=e.options,i=e.averageCenter,a=e.batchSizeIE,o=e.calculator,s=e.clusterClass,u=e.enableRetinaIcons,c=e.gridSize,l=e.ignoreHidden,f=e.imageExtension,d=e.imagePath,h=e.imageSizes,p=e.maxZoom,v=e.minimumClusterSize,m=e.styles,g=e.title,y=e.zoomOnClick,b=e.onClick,k=e.onClusteringBegin,w=e.onClusteringEnd,x=e.onMouseOver,_=e.onMouseOut,C=e.onLoad,S=e.onUnmount,E=(0,r.useState)(null),I=E[0],N=E[1],T=(0,r.useContext)(mD),L=(0,r.useState)(null),j=L[0],A=L[1],P=(0,r.useState)(null),O=P[0],M=P[1],D=(0,r.useState)(null),R=D[0],F=D[1],V=(0,r.useState)(null),U=V[0],B=V[1],z=(0,r.useState)(null),q=z[0],H=z[1];return(0,r.useEffect)((function(){I&&_&&(null!==U&&google.maps.event.removeListener(U),B(google.maps.event.addListener(I,JD.onMouseOut,_)))}),[_]),(0,r.useEffect)((function(){I&&x&&(null!==q&&google.maps.event.removeListener(q),H(google.maps.event.addListener(I,JD.onMouseOver,x)))}),[x]),(0,r.useEffect)((function(){I&&b&&(null!==j&&google.maps.event.removeListener(j),A(google.maps.event.addListener(I,JD.onClick,b)))}),[b]),(0,r.useEffect)((function(){I&&k&&(null!==O&&google.maps.event.removeListener(O),M(google.maps.event.addListener(I,JD.onClusteringBegin,k)))}),[k]),(0,r.useEffect)((function(){I&&w&&(null!==R&&google.maps.event.removeListener(R),M(google.maps.event.addListener(I,JD.onClusteringEnd,w)))}),[w]),(0,r.useEffect)((function(){"undefined"!==typeof i&&null!==I&&YD.averageCenter(I,i)}),[I,i]),(0,r.useEffect)((function(){"undefined"!==typeof a&&null!==I&&YD.batchSizeIE(I,a)}),[I,a]),(0,r.useEffect)((function(){"undefined"!==typeof o&&null!==I&&YD.calculator(I,o)}),[I,o]),(0,r.useEffect)((function(){"undefined"!==typeof s&&null!==I&&YD.clusterClass(I,s)}),[I,s]),(0,r.useEffect)((function(){"undefined"!==typeof u&&null!==I&&YD.enableRetinaIcons(I,u)}),[I,u]),(0,r.useEffect)((function(){"undefined"!==typeof c&&null!==I&&YD.gridSize(I,c)}),[I,c]),(0,r.useEffect)((function(){"undefined"!==typeof l&&null!==I&&YD.ignoreHidden(I,l)}),[I,l]),(0,r.useEffect)((function(){"undefined"!==typeof f&&null!==I&&YD.imageExtension(I,f)}),[I,f]),(0,r.useEffect)((function(){"undefined"!==typeof d&&null!==I&&YD.imagePath(I,d)}),[I,d]),(0,r.useEffect)((function(){"undefined"!==typeof h&&null!==I&&YD.imageSizes(I,h)}),[I,h]),(0,r.useEffect)((function(){"undefined"!==typeof p&&null!==I&&YD.maxZoom(I,p)}),[I,p]),(0,r.useEffect)((function(){"undefined"!==typeof v&&null!==I&&YD.minimumClusterSize(I,v)}),[I,v]),(0,r.useEffect)((function(){"undefined"!==typeof m&&null!==I&&YD.styles(I,m)}),[I,m]),(0,r.useEffect)((function(){"undefined"!==typeof g&&null!==I&&YD.title(I,g)}),[I,g]),(0,r.useEffect)((function(){"undefined"!==typeof y&&null!==I&&YD.zoomOnClick(I,y)}),[I,y]),(0,r.useEffect)((function(){if(T){var e=cD({},n||$D),t=new ZD(T,[],e);return i&&YD.averageCenter(t,i),a&&YD.batchSizeIE(t,a),o&&YD.calculator(t,o),s&&YD.clusterClass(t,s),u&&YD.enableRetinaIcons(t,u),c&&YD.gridSize(t,c),l&&YD.ignoreHidden(t,l),f&&YD.imageExtension(t,f),d&&YD.imagePath(t,d),h&&YD.imageSizes(t,h),p&&YD.maxZoom(t,p),v&&YD.minimumClusterSize(t,v),m&&YD.styles(t,m),g&&YD.title(t,g),y&&YD.zoomOnClick(t,y),_&&B(google.maps.event.addListener(t,JD.onMouseOut,_)),x&&H(google.maps.event.addListener(t,JD.onMouseOver,x)),b&&A(google.maps.event.addListener(t,JD.onClick,b)),k&&M(google.maps.event.addListener(t,JD.onClusteringBegin,k)),w&&F(google.maps.event.addListener(t,JD.onClusteringEnd,w)),N(t),C&&C(t),function(){null!==U&&google.maps.event.removeListener(U),null!==q&&google.maps.event.removeListener(q),null!==j&&google.maps.event.removeListener(j),null!==O&&google.maps.event.removeListener(O),null!==R&&google.maps.event.removeListener(R),S&&S(t)}}}),[]),null!==I&&t(I)||null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={markerClusterer:null},t.setClustererCallback=function(){null!==t.state.markerClusterer&&t.props.onLoad&&t.props.onLoad(t.state.markerClusterer)},t}uD(t,e),t.prototype.componentDidMount=function(){if(this.context){var e=new ZD(this.context,[],this.props.options);this.registeredEvents=wD({updaterMap:YD,eventMap:JD,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{markerClusterer:e}}),this.setClustererCallback)}},t.prototype.componentDidUpdate=function(e){this.state.markerClusterer&&(kD(this.registeredEvents),this.registeredEvents=wD({updaterMap:YD,eventMap:JD,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))},t.prototype.componentWillUnmount=function(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),kD(this.registeredEvents),this.state.markerClusterer.setMap(null))},t.prototype.render=function(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null},t.contextType=mD}(r.PureComponent);function XD(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}var eR=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof t.visible&&("undefined"===typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var r=0,i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];r<i.length;r++){var a=i[r];this.eventListeners.push(google.maps.event.addListener(this.div,a,XD))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",(function(){e.div&&(e.div.style.cursor="default")})))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",(function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||XD(t)})),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,r=0,i=t.getBounds();i&&!i.contains(this.position)&&t.setCenter(this.position);var a=t.getDiv(),o=a.offsetWidth,s=a.offsetHeight,u=this.pixelOffset.width,c=this.pixelOffset.height,l=this.div.offsetWidth,f=this.div.offsetHeight,d=this.infoBoxClearance.width,h=this.infoBoxClearance.height,p=this.getProjection().fromLatLngToContainerPixel(this.position);null!==p&&(p.x<-u+d?n=p.x+u-d:p.x+l+u+d>o&&(n=p.x+l+u+d-o),this.alignBottom?p.y<-c+h+f?r=p.y+c-h-f:p.y+c+h>s&&(r=p.y+c+h-s):p.y<-c+h?r=p.y+c-h:p.y+f+c+h>s&&(r=p.y+f+c+h-s)),0===n&&0===r||t.panBy(n,r)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*n+')"',this.div.style.filter="alpha(opacity="+100*n+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),"undefined"!==typeof e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),"undefined"!==typeof e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),"undefined"!==typeof e.content&&this.setContent(e.content),"undefined"!==typeof e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),"undefined"!==typeof e.maxWidth&&(this.maxWidth=e.maxWidth),"undefined"!==typeof e.pixelOffset&&(this.pixelOffset=e.pixelOffset),"undefined"!==typeof e.alignBottom&&(this.alignBottom=e.alignBottom),"undefined"!==typeof e.position&&this.setPosition(e.position),"undefined"!==typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!==typeof e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),"undefined"!==typeof e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),"undefined"!==typeof e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),"undefined"!==typeof e.isHidden&&(this.isHidden=e.isHidden),"undefined"!==typeof e.visible&&(this.isHidden=!e.visible),"undefined"!==typeof e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return"undefined"!==typeof e&&null!==e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",(function(){var e=t.getPosition();n.setPosition(e)})),this.mapListener=google.maps.event.addListener(t,"map_changed",(function(){n.setMap(t.map)}))),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),tR={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},nR={options:function(e,t){e.setOptions(t)},position:function(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},rR={};(0,r.memo)((function(e){var t=e.children,n=e.anchor,i=e.options,a=e.position,o=e.zIndex,s=e.onCloseClick,u=e.onDomReady,c=e.onContentChanged,l=e.onPositionChanged,f=e.onZindexChanged,d=e.onLoad,h=e.onUnmount,p=(0,r.useContext)(mD),v=(0,r.useState)(null),m=v[0],g=v[1],y=(0,r.useState)(null),b=y[0],k=y[1],w=(0,r.useState)(null),x=w[0],_=w[1],C=(0,r.useState)(null),S=C[0],E=C[1],I=(0,r.useState)(null),N=I[0],T=I[1],L=(0,r.useState)(null),j=L[0],A=L[1],P=(0,r.useRef)(null);return(0,r.useEffect)((function(){p&&null!==m&&(m.close(),n?m.open(p,n):m.getPosition()&&m.open(p))}),[p,m,n]),(0,r.useEffect)((function(){i&&null!==m&&m.setOptions(i)}),[m,i]),(0,r.useEffect)((function(){if(a&&null!==m){var e=a instanceof google.maps.LatLng?a:new google.maps.LatLng(a.lat,a.lng);m.setPosition(e)}}),[a]),(0,r.useEffect)((function(){"number"===typeof o&&null!==m&&m.setZIndex(o)}),[o]),(0,r.useEffect)((function(){m&&s&&(null!==b&&google.maps.event.removeListener(b),k(google.maps.event.addListener(m,"closeclick",s)))}),[s]),(0,r.useEffect)((function(){m&&u&&(null!==x&&google.maps.event.removeListener(x),_(google.maps.event.addListener(m,"domready",u)))}),[u]),(0,r.useEffect)((function(){m&&c&&(null!==S&&google.maps.event.removeListener(S),E(google.maps.event.addListener(m,"content_changed",c)))}),[c]),(0,r.useEffect)((function(){m&&l&&(null!==N&&google.maps.event.removeListener(N),T(google.maps.event.addListener(m,"position_changed",l)))}),[l]),(0,r.useEffect)((function(){m&&f&&(null!==j&&google.maps.event.removeListener(j),A(google.maps.event.addListener(m,"zindex_changed",f)))}),[f]),(0,r.useEffect)((function(){if(p){var e=i||rR,t=e.position,r=lD(e,["position"]),a=void 0;!t||t instanceof google.maps.LatLng||(a=new google.maps.LatLng(t.lat,t.lng));var o=new eR(cD(cD({},r),a?{position:a}:{}));P.current=document.createElement("div"),g(o),s&&k(google.maps.event.addListener(o,"closeclick",s)),u&&_(google.maps.event.addListener(o,"domready",u)),c&&E(google.maps.event.addListener(o,"content_changed",c)),l&&T(google.maps.event.addListener(o,"position_changed",l)),f&&A(google.maps.event.addListener(o,"zindex_changed",f)),o.setContent(P.current),n?o.open(p,n):o.getPosition()?o.open(p):vD(!1,"You must provide either an anchor or a position prop for <InfoBox>."),d&&d(o)}return function(){null!==m&&(b&&google.maps.event.removeListener(b),S&&google.maps.event.removeListener(S),x&&google.maps.event.removeListener(x),N&&google.maps.event.removeListener(N),j&&google.maps.event.removeListener(j),h&&h(m),m.close())}}),[]),P.current?(0,qe.createPortal)(r.Children.only(t),P.current):null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=null,t.state={infoBox:null},t.open=function(e,n){n?null!==t.context&&e.open(t.context,n):e.getPosition()?null!==t.context&&e.open(t.context):vD(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},t.setInfoBoxCallback=function(){null!==t.state.infoBox&&null!==t.containerElement&&(t.state.infoBox.setContent(t.containerElement),t.open(t.state.infoBox,t.props.anchor),t.props.onLoad&&t.props.onLoad(t.state.infoBox))},t}uD(t,e),t.prototype.componentDidMount=function(){var e,t=this.props.options||{},n=t.position,r=lD(t,["position"]);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var i=new eR(cD(cD({},r),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=wD({updaterMap:nR,eventMap:tR,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)},t.prototype.componentDidUpdate=function(e){var t=this.state.infoBox;null!==t&&(kD(this.registeredEvents),this.registeredEvents=wD({updaterMap:nR,eventMap:tR,prevProps:e,nextProps:this.props,instance:t}))},t.prototype.componentWillUnmount=function(){var e=this.props.onUnmount,t=this.state.infoBox;null!==t&&(e&&e(t),kD(this.registeredEvents),t.close())},t.prototype.render=function(){return this.containerElement?(0,qe.createPortal)(r.Children.only(this.props.children),this.containerElement):null},t.contextType=mD}(r.PureComponent);var iR=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n},aR=hD(iR),oR=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],sR=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(h(this,e),isNaN(t)||t<0)throw new Error("Unpexpected numItems value: ".concat(t,"."));this.numItems=+t,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;var a=oR.indexOf(this.ArrayType),o=2*t*this.ArrayType.BYTES_PER_ELEMENT,s=t*this.IndexArrayType.BYTES_PER_ELEMENT,u=(8-s%8)%8;if(a<0)throw new Error("Unexpected typed array class: ".concat(r,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+s+u,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+o+s+u),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+s+u,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+a]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=t)}return g(e,[{key:"add",value:function(e,t){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}},{key:"finish",value:function(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return uR(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}},{key:"range",value:function(e,t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var i=this.ids,a=this.coords,o=this.nodeSize,s=[0,i.length-1,0],u=[];s.length;){var c=s.pop()||0,l=s.pop()||0,f=s.pop()||0;if(l-f<=o)for(var d=f;d<=l;d++){var h=a[2*d],p=a[2*d+1];h>=e&&h<=n&&p>=t&&p<=r&&u.push(i[d])}else{var v=f+l>>1,m=a[2*v],g=a[2*v+1];m>=e&&m<=n&&g>=t&&g<=r&&u.push(i[v]),(0===c?e<=m:t<=g)&&(s.push(f),s.push(v-1),s.push(1-c)),(0===c?n>=m:r>=g)&&(s.push(v+1),s.push(l),s.push(1-c))}}return u}},{key:"within",value:function(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var r=this.ids,i=this.coords,a=this.nodeSize,o=[0,r.length-1,0],s=[],u=n*n;o.length;){var c=o.pop()||0,l=o.pop()||0,f=o.pop()||0;if(l-f<=a)for(var d=f;d<=l;d++)dR(i[2*d],i[2*d+1],e,t)<=u&&s.push(r[d]);else{var h=f+l>>1,p=i[2*h],v=i[2*h+1];dR(p,v,e,t)<=u&&s.push(r[h]),(0===c?e-n<=p:t-n<=v)&&(o.push(f),o.push(h-1),o.push(1-c)),(0===c?e+n>=p:t+n>=v)&&(o.push(h+1),o.push(l),o.push(1-c))}}return s}}],[{key:"from",value:function(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var n=l(new Uint8Array(t,0,2),2),r=n[0],i=n[1];if(219!==r)throw new Error("Data does not appear to be in a KDBush format.");var a=i>>4;if(1!==a)throw new Error("Got v".concat(a," data when expected v").concat(1,"."));var o=oR[15&i];if(!o)throw new Error("Unrecognized array type.");var s=l(new Uint16Array(t,2,1),1)[0];return new e(l(new Uint32Array(t,4,1),1)[0],s,o,t)}}]),e}();function uR(e,t,n,r,i,a){if(!(i-r<=n)){var o=r+i>>1;cR(e,t,o,r,i,a),uR(e,t,n,r,o-1,1-a),uR(e,t,n,o+1,i,1-a)}}function cR(e,t,n,r,i,a){for(;i>r;){if(i-r>600){var o=i-r+1,s=n-r+1,u=Math.log(o),c=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*c*(o-c)/o)*(s-o/2<0?-1:1);cR(e,t,n,Math.max(r,Math.floor(n-s*c/o+l)),Math.min(i,Math.floor(n+(o-s)*c/o+l)),a)}var f=t[2*n+a],d=r,h=i;for(lR(e,t,r,n),t[2*i+a]>f&&lR(e,t,r,i);d<h;){for(lR(e,t,d,h),d++,h--;t[2*d+a]<f;)d++;for(;t[2*h+a]>f;)h--}t[2*r+a]===f?lR(e,t,r,h):lR(e,t,++h,i),h<=n&&(r=h+1),n<=h&&(i=h-1)}}function lR(e,t,n,r){fR(e,n,r),fR(t,2*n,2*r),fR(t,2*n+1,2*r+1)}function fR(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function dR(e,t,n,r){var i=e-n,a=t-r;return i*i+a*a}var hR,pR={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},vR=Math.fround||(hR=new Float32Array(1),function(e){return hR[0]=+e,hR[0]}),mR=3,gR=5,yR=6,bR=function(){function e(t){h(this,e),this.options=Object.assign(Object.create(pR),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}return g(e,[{key:"load",value:function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom;n&&console.time("total time");var a="prepare ".concat(e.length," points");n&&console.time(a),this.points=e;for(var o=[],s=0;s<e.length;s++){var u=e[s];if(u.geometry){var c=l(u.geometry.coordinates,2),f=c[0],d=c[1],h=vR(xR(f)),p=vR(_R(d));o.push(h,p,1/0,s,-1,1),this.options.reduce&&o.push(0)}}var v=this.trees[i+1]=this._createTree(o);n&&console.timeEnd(a);for(var m=i;m>=r;m--){var g=+Date.now();v=this.trees[m]=this._createTree(this._cluster(v,m)),n&&console.log("z%d: %d clusters in %dms",m,v.numItems,+Date.now()-g)}return n&&console.timeEnd("total time"),this}},{key:"getClusters",value:function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var o=this.getClusters([n,r,180,a],t),s=this.getClusters([-180,r,i,a],t);return o.concat(s)}var u,c=this.trees[this._limitZoom(t)],l=c.range(xR(n),_R(a),xR(i),_R(r)),f=c.data,d=[],h=I(l);try{for(h.s();!(u=h.n()).done;){var p=u.value,v=this.stride*p;d.push(f[v+gR]>1?kR(f,v,this.clusterProps):this.points[f[v+mR]])}}catch(m){h.e(m)}finally{h.f()}return d}},{key:"getChildren",value:function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var a=i.data;if(t*this.stride>=a.length)throw new Error(r);var o,s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),u=a[t*this.stride],c=a[t*this.stride+1],l=[],f=I(i.within(u,c,s));try{for(f.s();!(o=f.n()).done;){var d=o.value*this.stride;a[d+4]===e&&l.push(a[d+gR]>1?kR(a,d,this.clusterProps):this.points[a[d+mR]])}}catch(h){f.e(h)}finally{f.f()}if(0===l.length)throw new Error(r);return l}},{key:"getLeaves",value:function(e,t,n){t=t||10,n=n||0;var r=[];return this._appendLeaves(r,e,t,n,0),r}},{key:"getTile",value:function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),a=this.options,o=a.extent,s=a.radius/o,u=(n-s)/i,c=(n+1+s)/i,l={features:[]};return this._addTileFeatures(r.range((t-s)/i,u,(t+1+s)/i,c),r.data,t,n,i,l),0===t&&this._addTileFeatures(r.range(1-s/i,u,1,c),r.data,i,n,i,l),t===i-1&&this._addTileFeatures(r.range(0,u,s/i,c),r.data,-1,n,i,l),l.features.length?l:null}},{key:"getClusterExpansionZoom",value:function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}},{key:"_appendLeaves",value:function(e,t,n,r,i){var a,o=I(this.getChildren(t));try{for(o.s();!(a=o.n()).done;){var s=a.value,u=s.properties;if(u&&u.cluster?i+u.point_count<=r?i+=u.point_count:i=this._appendLeaves(e,u.cluster_id,n,r,i):i<r?i++:e.push(s),e.length===n)break}}catch(c){o.e(c)}finally{o.f()}return i}},{key:"_createTree",value:function(e){for(var t=new sR(e.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}},{key:"_addTileFeatures",value:function(e,t,n,r,i,a){var o,s=I(e);try{for(s.s();!(o=s.n()).done;){var u=o.value*this.stride,c=t[u+gR]>1,f=void 0,d=void 0,h=void 0;if(c)f=wR(t,u,this.clusterProps),d=t[u],h=t[u+1];else{var p=this.points[t[u+mR]];f=p.properties;var v=l(p.geometry.coordinates,2),m=v[0],g=v[1];d=xR(m),h=_R(g)}var y={type:1,geometry:[[Math.round(this.options.extent*(d*i-n)),Math.round(this.options.extent*(h*i-r))]],tags:f},b=void 0;void 0!==(b=c||this.options.generateId?t[u+mR]:this.points[t[u+mR]].id)&&(y.id=b),a.features.push(y)}}catch(k){s.e(k)}finally{s.f()}}},{key:"_limitZoom",value:function(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}},{key:"_cluster",value:function(e,t){for(var n=this.options,r=n.radius,i=n.extent,a=n.reduce,o=n.minPoints,s=r/(i*Math.pow(2,t)),u=e.data,c=[],l=this.stride,f=0;f<u.length;f+=l)if(!(u[f+2]<=t)){u[f+2]=t;var d,h=u[f],p=u[f+1],v=e.within(u[f],u[f+1],s),m=u[f+gR],g=m,y=I(v);try{for(y.s();!(d=y.n()).done;){var b=d.value*l;u[b+2]>t&&(g+=u[b+gR])}}catch(M){y.e(M)}finally{y.f()}if(g>m&&g>=o){var k,w=h*m,x=p*m,_=void 0,C=-1,S=((f/l|0)<<5)+(t+1)+this.points.length,E=I(v);try{for(E.s();!(k=E.n()).done;){var N=k.value*l;if(!(u[N+2]<=t)){u[N+2]=t;var T=u[N+gR];w+=u[N]*T,x+=u[N+1]*T,u[N+4]=S,a&&(_||(_=this._map(u,f,!0),C=this.clusterProps.length,this.clusterProps.push(_)),a(_,this._map(u,N)))}}}catch(M){E.e(M)}finally{E.f()}u[f+4]=S,c.push(w/g,x/g,1/0,S,-1,g),a&&c.push(C)}else{for(var L=0;L<l;L++)c.push(u[f+L]);if(g>1){var j,A=I(v);try{for(A.s();!(j=A.n()).done;){var P=j.value*l;if(!(u[P+2]<=t)){u[P+2]=t;for(var O=0;O<l;O++)c.push(u[P+O])}}}catch(M){A.e(M)}finally{A.f()}}}}return c}},{key:"_getOriginId",value:function(e){return e-this.points.length>>5}},{key:"_getOriginZoom",value:function(e){return(e-this.points.length)%32}},{key:"_map",value:function(e,t,n){if(e[t+gR]>1){var r=this.clusterProps[e[t+yR]];return n?Object.assign({},r):r}var i=this.points[e[t+mR]].properties,a=this.options.map(i);return n&&a===i?Object.assign({},a):a}}]),e}();function kR(e,t,n){return{type:"Feature",id:e[t+mR],properties:wR(e,t,n),geometry:{type:"Point",coordinates:[CR(e[t]),SR(e[t+1])]}}}function wR(e,t,n){var r=e[t+gR],i=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,a=e[t+yR],o=-1===a?{}:Object.assign({},n[a]);return Object.assign(o,{cluster:!0,cluster_id:e[t+mR],point_count:r,point_count_abbreviated:i})}function xR(e){return e/360+.5}function _R(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function CR(e){return 360*(e-.5)}function SR(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function ER(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var IR=function(){function e(){h(this,e)}return g(e,null,[{key:"isAdvancedMarkerAvailable",value:function(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}},{key:"isAdvancedMarker",value:function(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}},{key:"setMap",value:function(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}},{key:"getPosition",value:function(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}},{key:"getVisible",value:function(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}]),e}(),NR=function(){function e(t){var n=t.markers,r=t.position;h(this,e),this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}return g(e,[{key:"bounds",get:function(){if(0!==this.markers.length||this._position){var e,t=new google.maps.LatLngBounds(this._position,this._position),n=I(this.markers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.extend(IR.getPosition(r))}}catch(i){n.e(i)}finally{n.f()}return t}}},{key:"position",get:function(){return this._position||this.bounds.getCenter()}},{key:"count",get:function(){return this.markers.filter((function(e){return IR.getVisible(e)})).length}},{key:"push",value:function(e){this.markers.push(e)}},{key:"delete",value:function(){this.marker&&(IR.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}]),e}(),TR=function(){function e(t){var n=t.maxZoom,r=void 0===n?16:n;h(this,e),this.maxZoom=r}return g(e,[{key:"noop",value:function(e){var t=e.markers;return LR(t)}}]),e}(),LR=function(e){return e.map((function(e){return new NR({position:IR.getPosition(e),markers:[e]})}))},jR=function(e){b(n,e);var t=_(n);function n(e){var r;h(this,n);var i=e.maxZoom,a=e.radius,o=void 0===a?60:a,s=ER(e,["maxZoom","radius"]);return(r=t.call(this,{maxZoom:i})).state={zoom:-1},r.superCluster=new bR(Object.assign({maxZoom:r.maxZoom,radius:o},s)),r}return g(n,[{key:"calculate",value:function(e){var t=!1,n={zoom:e.map.getZoom()};if(!aR(e.markers,this.markers)){t=!0,this.markers=d(e.markers);var r=this.markers.map((function(e){var t=IR.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}}));this.superCluster.load(r)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!aR(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}},{key:"cluster",value:function(e){var t=this,n=e.map;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map((function(e){return t.transformCluster(e)}))}},{key:"transformCluster",value:function(e){var t=l(e.geometry.coordinates,2),n=t[0],r=t[1],i=e.properties;if(i.cluster)return new NR({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map((function(e){return e.properties.marker})),position:{lat:r,lng:n}});var a=i.marker;return new NR({markers:[a],position:IR.getPosition(a)})}}]),n}(TR),AR=g((function e(t,n){h(this,e),this.markers={sum:t.length};var r=n.map((function(e){return e.count})),i=r.reduce((function(e,t){return e+t}),0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min.apply(Math,d(r)),max:Math.max.apply(Math,d(r))}}})),PR=function(){function e(){h(this,e)}return g(e,[{key:"render",value:function(e,t,n){var r=e.count,i=e.position,a=r>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",o='<svg fill="'.concat(a,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(r,"</text>\n</svg>"),s="Cluster of ".concat(r," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+r;if(IR.isAdvancedMarkerAvailable(n)){var c=document.createElement("div");c.innerHTML=o;var l=c.firstElementChild;l.setAttribute("transform","translate(0 25)");var f={map:n,position:i,zIndex:u,title:s,content:l};return new google.maps.marker.AdvancedMarkerElement(f)}var d={position:i,zIndex:u,title:s,icon:{url:"data:image/svg+xml;base64,".concat(btoa(o)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(d)}}]),e}();var OR,MR=g((function e(){h(this,e),function(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}(e,google.maps.OverlayView)}));!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(OR||(OR={}));var DR=function(e,t,n){n.fitBounds(t.bounds)},RR=function(e){b(n,e);var t=_(n);function n(e){var r,i=e.map,a=e.markers,o=void 0===a?[]:a,s=e.algorithmOptions,u=void 0===s?{}:s,c=e.algorithm,l=void 0===c?new jR(u):c,f=e.renderer,p=void 0===f?new PR:f,v=e.onClusterClick,m=void 0===v?DR:v;return h(this,n),(r=t.call(this)).markers=d(o),r.clusters=[],r.algorithm=l,r.renderer=p,r.onClusterClick=m,i&&r.setMap(i),r}return g(n,[{key:"addMarker",value:function(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}},{key:"addMarkers",value:function(e,t){var n=this;e.forEach((function(e){n.addMarker(e,!0)})),t||this.render()}},{key:"removeMarker",value:function(e,t){var n=this.markers.indexOf(e);return-1!==n&&(IR.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}},{key:"removeMarkers",value:function(e,t){var n=this,r=!1;return e.forEach((function(e){r=n.removeMarker(e,!0)||r})),r&&!t&&this.render(),r}},{key:"clearMarkers",value:function(e){this.markers.length=0,e||this.render()}},{key:"render",value:function(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,OR.CLUSTERING_BEGIN,this);var t=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()}),n=t.clusters,r=t.changed;if(r||void 0==r){var i,a=new Set,o=I(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;1==s.markers.length&&a.add(s.markers[0])}}catch(d){o.e(d)}finally{o.f()}var u,c=[],l=I(this.clusters);try{for(l.s();!(u=l.n()).done;){var f=u.value;null!=f.marker&&(1==f.markers.length?a.has(f.marker)||IR.setMap(f.marker,null):c.push(f.marker))}}catch(d){l.e(d)}finally{l.f()}this.clusters=n,this.renderClusters(),requestAnimationFrame((function(){return c.forEach((function(e){return IR.setMap(e,null)}))}))}google.maps.event.trigger(this,OR.CLUSTERING_END,this)}}},{key:"onAdd",value:function(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}},{key:"onRemove",value:function(){google.maps.event.removeListener(this.idleListener),this.reset()}},{key:"reset",value:function(){this.markers.forEach((function(e){return IR.setMap(e,null)})),this.clusters.forEach((function(e){return e.delete()})),this.clusters=[]}},{key:"renderClusters",value:function(){var e=this,t=new AR(this.markers,this.clusters),n=this.getMap();this.clusters.forEach((function(r){1===r.markers.length?r.marker=r.markers[0]:(r.marker=e.renderer.render(r,t,n),r.markers.forEach((function(e){return IR.setMap(e,null)})),e.onClusterClick&&r.marker.addListener("click",(function(t){google.maps.event.trigger(e,OR.CLUSTER_CLICK,r),e.onClusterClick(t,r,n)}))),IR.setMap(r.marker,n)}))}}]),n}(MR);function FR(e){var t=function(){vD(!!r.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=(0,r.useContext)(mD);return vD(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}(),n=(0,r.useState)(null),i=n[0],a=n[1];return(0,r.useEffect)((function(){if(t&&null===i){var n=new RR(cD(cD({},e),{map:t}));a(n)}}),[t]),i}(0,r.memo)((function(e){var t=e.children,n=FR(e.options);return null!==n?t(n):null}));var VR={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},UR={options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},zIndex:function(e,t){e.setZIndex(t)}};(0,r.memo)((function(e){var t=e.children,n=e.anchor,i=e.options,a=e.position,o=e.zIndex,s=e.onCloseClick,u=e.onDomReady,c=e.onContentChanged,l=e.onPositionChanged,f=e.onZindexChanged,d=e.onLoad,h=e.onUnmount,p=(0,r.useContext)(mD),v=(0,r.useState)(null),m=v[0],g=v[1],y=(0,r.useState)(null),b=y[0],k=y[1],w=(0,r.useState)(null),x=w[0],_=w[1],C=(0,r.useState)(null),S=C[0],E=C[1],I=(0,r.useState)(null),N=I[0],T=I[1],L=(0,r.useState)(null),j=L[0],A=L[1],P=(0,r.useRef)(null);return(0,r.useEffect)((function(){null!==m&&(m.close(),n?m.open(p,n):m.getPosition()&&m.open(p))}),[p,m,n]),(0,r.useEffect)((function(){i&&null!==m&&m.setOptions(i)}),[m,i]),(0,r.useEffect)((function(){a&&null!==m&&m.setPosition(a)}),[a]),(0,r.useEffect)((function(){"number"===typeof o&&null!==m&&m.setZIndex(o)}),[o]),(0,r.useEffect)((function(){m&&s&&(null!==b&&google.maps.event.removeListener(b),k(google.maps.event.addListener(m,"closeclick",s)))}),[s]),(0,r.useEffect)((function(){m&&u&&(null!==x&&google.maps.event.removeListener(x),_(google.maps.event.addListener(m,"domready",u)))}),[u]),(0,r.useEffect)((function(){m&&c&&(null!==S&&google.maps.event.removeListener(S),E(google.maps.event.addListener(m,"content_changed",c)))}),[c]),(0,r.useEffect)((function(){m&&l&&(null!==N&&google.maps.event.removeListener(N),T(google.maps.event.addListener(m,"position_changed",l)))}),[l]),(0,r.useEffect)((function(){m&&f&&(null!==j&&google.maps.event.removeListener(j),A(google.maps.event.addListener(m,"zindex_changed",f)))}),[f]),(0,r.useEffect)((function(){var e=new google.maps.InfoWindow(cD({},i||{}));return g(e),P.current=document.createElement("div"),s&&k(google.maps.event.addListener(e,"closeclick",s)),u&&_(google.maps.event.addListener(e,"domready",u)),c&&E(google.maps.event.addListener(e,"content_changed",c)),l&&T(google.maps.event.addListener(e,"position_changed",l)),f&&A(google.maps.event.addListener(e,"zindex_changed",f)),e.setContent(P.current),a&&e.setPosition(a),o&&e.setZIndex(o),n?e.open(p,n):e.getPosition()?e.open(p):vD(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),d&&d(e),function(){b&&google.maps.event.removeListener(b),S&&google.maps.event.removeListener(S),x&&google.maps.event.removeListener(x),N&&google.maps.event.removeListener(N),j&&google.maps.event.removeListener(j),h&&h(e),e.close()}}),[]),P.current?(0,qe.createPortal)(r.Children.only(t),P.current):null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=null,t.state={infoWindow:null},t.open=function(e,n){n?e.open(t.context,n):e.getPosition()?e.open(t.context):vD(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},t.setInfoWindowCallback=function(){null!==t.state.infoWindow&&null!==t.containerElement&&(t.state.infoWindow.setContent(t.containerElement),t.open(t.state.infoWindow,t.props.anchor),t.props.onLoad&&t.props.onLoad(t.state.infoWindow))},t}uD(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.InfoWindow(cD({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=wD({updaterMap:UR,eventMap:VR,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{infoWindow:e}}),this.setInfoWindowCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.infoWindow&&(kD(this.registeredEvents),this.registeredEvents=wD({updaterMap:UR,eventMap:VR,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))},t.prototype.componentWillUnmount=function(){null!==this.state.infoWindow&&(kD(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())},t.prototype.render=function(){return this.containerElement?(0,qe.createPortal)(r.Children.only(this.props.children),this.containerElement):null},t.contextType=mD}(r.PureComponent);var BR={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},zR={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},visible:function(e,t){e.setVisible(t)}},qR={};(0,r.memo)((function(e){var t=e.options,n=e.draggable,i=e.editable,a=e.visible,o=e.path,s=e.onDblClick,u=e.onDragEnd,c=e.onDragStart,l=e.onMouseDown,f=e.onMouseMove,d=e.onMouseOut,h=e.onMouseOver,p=e.onMouseUp,v=e.onRightClick,m=e.onClick,g=e.onDrag,y=e.onLoad,b=e.onUnmount,k=(0,r.useContext)(mD),w=(0,r.useState)(null),x=w[0],_=w[1],C=(0,r.useState)(null),S=C[0],E=C[1],I=(0,r.useState)(null),N=I[0],T=I[1],L=(0,r.useState)(null),j=L[0],A=L[1],P=(0,r.useState)(null),O=P[0],M=P[1],D=(0,r.useState)(null),R=D[0],F=D[1],V=(0,r.useState)(null),U=V[0],B=V[1],z=(0,r.useState)(null),q=z[0],H=z[1],W=(0,r.useState)(null),G=W[0],K=W[1],Q=(0,r.useState)(null),Z=Q[0],J=Q[1],Y=(0,r.useState)(null),$=Y[0],X=Y[1],ee=(0,r.useState)(null),te=ee[0],ne=ee[1];return(0,r.useEffect)((function(){null!==x&&x.setMap(k)}),[k]),(0,r.useEffect)((function(){"undefined"!==typeof t&&null!==x&&x.setOptions(t)}),[x,t]),(0,r.useEffect)((function(){"undefined"!==typeof n&&null!==x&&x.setDraggable(n)}),[x,n]),(0,r.useEffect)((function(){"undefined"!==typeof i&&null!==x&&x.setEditable(i)}),[x,i]),(0,r.useEffect)((function(){"undefined"!==typeof a&&null!==x&&x.setVisible(a)}),[x,a]),(0,r.useEffect)((function(){"undefined"!==typeof o&&null!==x&&x.setPath(o)}),[x,o]),(0,r.useEffect)((function(){x&&s&&(null!==S&&google.maps.event.removeListener(S),E(google.maps.event.addListener(x,"dblclick",s)))}),[s]),(0,r.useEffect)((function(){x&&u&&(null!==N&&google.maps.event.removeListener(N),T(google.maps.event.addListener(x,"dragend",u)))}),[u]),(0,r.useEffect)((function(){x&&c&&(null!==j&&google.maps.event.removeListener(j),A(google.maps.event.addListener(x,"dragstart",c)))}),[c]),(0,r.useEffect)((function(){x&&l&&(null!==O&&google.maps.event.removeListener(O),M(google.maps.event.addListener(x,"mousedown",l)))}),[l]),(0,r.useEffect)((function(){x&&f&&(null!==R&&google.maps.event.removeListener(R),F(google.maps.event.addListener(x,"mousemove",f)))}),[f]),(0,r.useEffect)((function(){x&&d&&(null!==U&&google.maps.event.removeListener(U),B(google.maps.event.addListener(x,"mouseout",d)))}),[d]),(0,r.useEffect)((function(){x&&h&&(null!==q&&google.maps.event.removeListener(q),H(google.maps.event.addListener(x,"mouseover",h)))}),[h]),(0,r.useEffect)((function(){x&&p&&(null!==G&&google.maps.event.removeListener(G),K(google.maps.event.addListener(x,"mouseup",p)))}),[p]),(0,r.useEffect)((function(){x&&v&&(null!==Z&&google.maps.event.removeListener(Z),J(google.maps.event.addListener(x,"rightclick",v)))}),[v]),(0,r.useEffect)((function(){x&&m&&(null!==$&&google.maps.event.removeListener($),X(google.maps.event.addListener(x,"click",m)))}),[m]),(0,r.useEffect)((function(){x&&g&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(x,"drag",g)))}),[g]),(0,r.useEffect)((function(){var e=new google.maps.Polyline(cD(cD({},t||qR),{map:k}));return o&&e.setPath(o),"undefined"!==typeof a&&e.setVisible(a),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof n&&e.setDraggable(n),s&&E(google.maps.event.addListener(e,"dblclick",s)),u&&T(google.maps.event.addListener(e,"dragend",u)),c&&A(google.maps.event.addListener(e,"dragstart",c)),l&&M(google.maps.event.addListener(e,"mousedown",l)),f&&F(google.maps.event.addListener(e,"mousemove",f)),d&&B(google.maps.event.addListener(e,"mouseout",d)),h&&H(google.maps.event.addListener(e,"mouseover",h)),p&&K(google.maps.event.addListener(e,"mouseup",p)),v&&J(google.maps.event.addListener(e,"rightclick",v)),m&&X(google.maps.event.addListener(e,"click",m)),g&&ne(google.maps.event.addListener(e,"drag",g)),_(e),y&&y(e),function(){null!==S&&google.maps.event.removeListener(S),null!==N&&google.maps.event.removeListener(N),null!==j&&google.maps.event.removeListener(j),null!==O&&google.maps.event.removeListener(O),null!==R&&google.maps.event.removeListener(R),null!==U&&google.maps.event.removeListener(U),null!==q&&google.maps.event.removeListener(q),null!==G&&google.maps.event.removeListener(G),null!==Z&&google.maps.event.removeListener(Z),null!==$&&google.maps.event.removeListener($),b&&b(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polyline:null},t.setPolylineCallback=function(){null!==t.state.polyline&&t.props.onLoad&&t.props.onLoad(t.state.polyline)},t}uD(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Polyline(cD(cD({},this.props.options||{}),{map:this.context}));this.registeredEvents=wD({updaterMap:zR,eventMap:BR,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polyline:e}}),this.setPolylineCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.polyline&&(kD(this.registeredEvents),this.registeredEvents=wD({updaterMap:zR,eventMap:BR,prevProps:e,nextProps:this.props,instance:this.state.polyline}))},t.prototype.componentWillUnmount=function(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),kD(this.registeredEvents),this.state.polyline.setMap(null))},t.prototype.render=function(){return null},t.contextType=mD}(r.PureComponent);var HR={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},WR={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},paths:function(e,t){e.setPaths(t)},visible:function(e,t){e.setVisible(t)}};(0,r.memo)((function(e){var t=e.options,n=e.draggable,i=e.editable,a=e.visible,o=e.path,s=e.paths,u=e.onDblClick,c=e.onDragEnd,l=e.onDragStart,f=e.onMouseDown,d=e.onMouseMove,h=e.onMouseOut,p=e.onMouseOver,v=e.onMouseUp,m=e.onRightClick,g=e.onClick,y=e.onDrag,b=e.onLoad,k=e.onUnmount,w=(0,r.useContext)(mD),x=(0,r.useState)(null),_=x[0],C=x[1],S=(0,r.useState)(null),E=S[0],I=S[1],N=(0,r.useState)(null),T=N[0],L=N[1],j=(0,r.useState)(null),A=j[0],P=j[1],O=(0,r.useState)(null),M=O[0],D=O[1],R=(0,r.useState)(null),F=R[0],V=R[1],U=(0,r.useState)(null),B=U[0],z=U[1],q=(0,r.useState)(null),H=q[0],W=q[1],G=(0,r.useState)(null),K=G[0],Q=G[1],Z=(0,r.useState)(null),J=Z[0],Y=Z[1],$=(0,r.useState)(null),X=$[0],ee=$[1],te=(0,r.useState)(null),ne=te[0],re=te[1];return(0,r.useEffect)((function(){null!==_&&_.setMap(w)}),[w]),(0,r.useEffect)((function(){"undefined"!==typeof t&&null!==_&&_.setOptions(t)}),[_,t]),(0,r.useEffect)((function(){"undefined"!==typeof n&&null!==_&&_.setDraggable(n)}),[_,n]),(0,r.useEffect)((function(){"undefined"!==typeof i&&null!==_&&_.setEditable(i)}),[_,i]),(0,r.useEffect)((function(){"undefined"!==typeof a&&null!==_&&_.setVisible(a)}),[_,a]),(0,r.useEffect)((function(){"undefined"!==typeof o&&null!==_&&_.setPath(o)}),[_,o]),(0,r.useEffect)((function(){"undefined"!==typeof s&&null!==_&&_.setPaths(s)}),[_,s]),(0,r.useEffect)((function(){_&&u&&(null!==E&&google.maps.event.removeListener(E),I(google.maps.event.addListener(_,"dblclick",u)))}),[u]),(0,r.useEffect)((function(){_&&c&&(null!==T&&google.maps.event.removeListener(T),L(google.maps.event.addListener(_,"dragend",c)))}),[c]),(0,r.useEffect)((function(){_&&l&&(null!==A&&google.maps.event.removeListener(A),P(google.maps.event.addListener(_,"dragstart",l)))}),[l]),(0,r.useEffect)((function(){_&&f&&(null!==M&&google.maps.event.removeListener(M),D(google.maps.event.addListener(_,"mousedown",f)))}),[f]),(0,r.useEffect)((function(){_&&d&&(null!==F&&google.maps.event.removeListener(F),V(google.maps.event.addListener(_,"mousemove",d)))}),[d]),(0,r.useEffect)((function(){_&&h&&(null!==B&&google.maps.event.removeListener(B),z(google.maps.event.addListener(_,"mouseout",h)))}),[h]),(0,r.useEffect)((function(){_&&p&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(_,"mouseover",p)))}),[p]),(0,r.useEffect)((function(){_&&v&&(null!==K&&google.maps.event.removeListener(K),Q(google.maps.event.addListener(_,"mouseup",v)))}),[v]),(0,r.useEffect)((function(){_&&m&&(null!==J&&google.maps.event.removeListener(J),Y(google.maps.event.addListener(_,"rightclick",m)))}),[m]),(0,r.useEffect)((function(){_&&g&&(null!==X&&google.maps.event.removeListener(X),ee(google.maps.event.addListener(_,"click",g)))}),[g]),(0,r.useEffect)((function(){_&&y&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(_,"drag",y)))}),[y]),(0,r.useEffect)((function(){var e=new google.maps.Polygon(cD(cD({},t||{}),{map:w}));return o&&e.setPath(o),s&&e.setPaths(s),"undefined"!==typeof a&&e.setVisible(a),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof n&&e.setDraggable(n),u&&I(google.maps.event.addListener(e,"dblclick",u)),c&&L(google.maps.event.addListener(e,"dragend",c)),l&&P(google.maps.event.addListener(e,"dragstart",l)),f&&D(google.maps.event.addListener(e,"mousedown",f)),d&&V(google.maps.event.addListener(e,"mousemove",d)),h&&z(google.maps.event.addListener(e,"mouseout",h)),p&&W(google.maps.event.addListener(e,"mouseover",p)),v&&Q(google.maps.event.addListener(e,"mouseup",v)),m&&Y(google.maps.event.addListener(e,"rightclick",m)),g&&ee(google.maps.event.addListener(e,"click",g)),y&&re(google.maps.event.addListener(e,"drag",y)),C(e),b&&b(e),function(){null!==E&&google.maps.event.removeListener(E),null!==T&&google.maps.event.removeListener(T),null!==A&&google.maps.event.removeListener(A),null!==M&&google.maps.event.removeListener(M),null!==F&&google.maps.event.removeListener(F),null!==B&&google.maps.event.removeListener(B),null!==H&&google.maps.event.removeListener(H),null!==K&&google.maps.event.removeListener(K),null!==J&&google.maps.event.removeListener(J),null!==X&&google.maps.event.removeListener(X),k&&k(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polygon:null},t.setPolygonCallback=function(){null!==t.state.polygon&&t.props.onLoad&&t.props.onLoad(t.state.polygon)},t}uD(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Polygon(cD(cD({},this.props.options||{}),{map:this.context}));this.registeredEvents=wD({updaterMap:WR,eventMap:HR,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polygon:e}}),this.setPolygonCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.polygon&&(kD(this.registeredEvents),this.registeredEvents=wD({updaterMap:WR,eventMap:HR,prevProps:e,nextProps:this.props,instance:this.state.polygon}))},t.prototype.componentWillUnmount=function(){null!==this.state.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),kD(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))},t.prototype.render=function(){return null},t.contextType=mD}(r.PureComponent);var GR={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},KR={bounds:function(e,t){e.setBounds(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},visible:function(e,t){e.setVisible(t)}};(0,r.memo)((function(e){var t=e.options,n=e.bounds,i=e.draggable,a=e.editable,o=e.visible,s=e.onDblClick,u=e.onDragEnd,c=e.onDragStart,l=e.onMouseDown,f=e.onMouseMove,d=e.onMouseOut,h=e.onMouseOver,p=e.onMouseUp,v=e.onRightClick,m=e.onClick,g=e.onDrag,y=e.onBoundsChanged,b=e.onLoad,k=e.onUnmount,w=(0,r.useContext)(mD),x=(0,r.useState)(null),_=x[0],C=x[1],S=(0,r.useState)(null),E=S[0],I=S[1],N=(0,r.useState)(null),T=N[0],L=N[1],j=(0,r.useState)(null),A=j[0],P=j[1],O=(0,r.useState)(null),M=O[0],D=O[1],R=(0,r.useState)(null),F=R[0],V=R[1],U=(0,r.useState)(null),B=U[0],z=U[1],q=(0,r.useState)(null),H=q[0],W=q[1],G=(0,r.useState)(null),K=G[0],Q=G[1],Z=(0,r.useState)(null),J=Z[0],Y=Z[1],$=(0,r.useState)(null),X=$[0],ee=$[1],te=(0,r.useState)(null),ne=te[0],re=te[1],ie=(0,r.useState)(null),ae=ie[0],oe=ie[1];return(0,r.useEffect)((function(){null!==_&&_.setMap(w)}),[w]),(0,r.useEffect)((function(){"undefined"!==typeof t&&null!==_&&_.setOptions(t)}),[_,t]),(0,r.useEffect)((function(){"undefined"!==typeof i&&null!==_&&_.setDraggable(i)}),[_,i]),(0,r.useEffect)((function(){"undefined"!==typeof a&&null!==_&&_.setEditable(a)}),[_,a]),(0,r.useEffect)((function(){"undefined"!==typeof o&&null!==_&&_.setVisible(o)}),[_,o]),(0,r.useEffect)((function(){"undefined"!==typeof n&&null!==_&&_.setBounds(n)}),[_,n]),(0,r.useEffect)((function(){_&&s&&(null!==E&&google.maps.event.removeListener(E),I(google.maps.event.addListener(_,"dblclick",s)))}),[s]),(0,r.useEffect)((function(){_&&u&&(null!==T&&google.maps.event.removeListener(T),L(google.maps.event.addListener(_,"dragend",u)))}),[u]),(0,r.useEffect)((function(){_&&c&&(null!==A&&google.maps.event.removeListener(A),P(google.maps.event.addListener(_,"dragstart",c)))}),[c]),(0,r.useEffect)((function(){_&&l&&(null!==M&&google.maps.event.removeListener(M),D(google.maps.event.addListener(_,"mousedown",l)))}),[l]),(0,r.useEffect)((function(){_&&f&&(null!==F&&google.maps.event.removeListener(F),V(google.maps.event.addListener(_,"mousemove",f)))}),[f]),(0,r.useEffect)((function(){_&&d&&(null!==B&&google.maps.event.removeListener(B),z(google.maps.event.addListener(_,"mouseout",d)))}),[d]),(0,r.useEffect)((function(){_&&h&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(_,"mouseover",h)))}),[h]),(0,r.useEffect)((function(){_&&p&&(null!==K&&google.maps.event.removeListener(K),Q(google.maps.event.addListener(_,"mouseup",p)))}),[p]),(0,r.useEffect)((function(){_&&v&&(null!==J&&google.maps.event.removeListener(J),Y(google.maps.event.addListener(_,"rightclick",v)))}),[v]),(0,r.useEffect)((function(){_&&m&&(null!==X&&google.maps.event.removeListener(X),ee(google.maps.event.addListener(_,"click",m)))}),[m]),(0,r.useEffect)((function(){_&&g&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(_,"drag",g)))}),[g]),(0,r.useEffect)((function(){_&&y&&(null!==ae&&google.maps.event.removeListener(ae),oe(google.maps.event.addListener(_,"bounds_changed",y)))}),[y]),(0,r.useEffect)((function(){var e=new google.maps.Rectangle(cD(cD({},t||{}),{map:w}));return"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof a&&e.setEditable(a),"undefined"!==typeof i&&e.setDraggable(i),"undefined"!==typeof n&&e.setBounds(n),s&&I(google.maps.event.addListener(e,"dblclick",s)),u&&L(google.maps.event.addListener(e,"dragend",u)),c&&P(google.maps.event.addListener(e,"dragstart",c)),l&&D(google.maps.event.addListener(e,"mousedown",l)),f&&V(google.maps.event.addListener(e,"mousemove",f)),d&&z(google.maps.event.addListener(e,"mouseout",d)),h&&W(google.maps.event.addListener(e,"mouseover",h)),p&&Q(google.maps.event.addListener(e,"mouseup",p)),v&&Y(google.maps.event.addListener(e,"rightclick",v)),m&&ee(google.maps.event.addListener(e,"click",m)),g&&re(google.maps.event.addListener(e,"drag",g)),y&&oe(google.maps.event.addListener(e,"bounds_changed",y)),C(e),b&&b(e),function(){null!==E&&google.maps.event.removeListener(E),null!==T&&google.maps.event.removeListener(T),null!==A&&google.maps.event.removeListener(A),null!==M&&google.maps.event.removeListener(M),null!==F&&google.maps.event.removeListener(F),null!==B&&google.maps.event.removeListener(B),null!==H&&google.maps.event.removeListener(H),null!==K&&google.maps.event.removeListener(K),null!==J&&google.maps.event.removeListener(J),null!==X&&google.maps.event.removeListener(X),null!==ne&&google.maps.event.removeListener(ne),null!==ae&&google.maps.event.removeListener(ae),k&&k(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={rectangle:null},t.setRectangleCallback=function(){null!==t.state.rectangle&&t.props.onLoad&&t.props.onLoad(t.state.rectangle)},t}uD(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Rectangle(cD(cD({},this.props.options||{}),{map:this.context}));this.registeredEvents=wD({updaterMap:KR,eventMap:GR,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{rectangle:e}}),this.setRectangleCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.rectangle&&(kD(this.registeredEvents),this.registeredEvents=wD({updaterMap:KR,eventMap:GR,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))},t.prototype.componentWillUnmount=function(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),kD(this.registeredEvents),this.state.rectangle.setMap(null))},t.prototype.render=function(){return null},t.contextType=mD}(r.PureComponent);var QR={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ZR={center:function(e,t){e.setCenter(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},radius:function(e,t){e.setRadius(t)},visible:function(e,t){e.setVisible(t)}},JR={};(0,r.memo)((function(e){var t=e.options,n=e.center,i=e.radius,a=e.draggable,o=e.editable,s=e.visible,u=e.onDblClick,c=e.onDragEnd,l=e.onDragStart,f=e.onMouseDown,d=e.onMouseMove,h=e.onMouseOut,p=e.onMouseOver,v=e.onMouseUp,m=e.onRightClick,g=e.onClick,y=e.onDrag,b=e.onCenterChanged,k=e.onRadiusChanged,w=e.onLoad,x=e.onUnmount,_=(0,r.useContext)(mD),C=(0,r.useState)(null),S=C[0],E=C[1],I=(0,r.useState)(null),N=I[0],T=I[1],L=(0,r.useState)(null),j=L[0],A=L[1],P=(0,r.useState)(null),O=P[0],M=P[1],D=(0,r.useState)(null),R=D[0],F=D[1],V=(0,r.useState)(null),U=V[0],B=V[1],z=(0,r.useState)(null),q=z[0],H=z[1],W=(0,r.useState)(null),G=W[0],K=W[1],Q=(0,r.useState)(null),Z=Q[0],J=Q[1],Y=(0,r.useState)(null),$=Y[0],X=Y[1],ee=(0,r.useState)(null),te=ee[0],ne=ee[1],re=(0,r.useState)(null),ie=re[0],ae=re[1],oe=(0,r.useState)(null),se=oe[0],ue=oe[1],ce=(0,r.useState)(null),le=ce[0],fe=ce[1];return(0,r.useEffect)((function(){null!==S&&S.setMap(_)}),[_]),(0,r.useEffect)((function(){"undefined"!==typeof t&&null!==S&&S.setOptions(t)}),[S,t]),(0,r.useEffect)((function(){"undefined"!==typeof a&&null!==S&&S.setDraggable(a)}),[S,a]),(0,r.useEffect)((function(){"undefined"!==typeof o&&null!==S&&S.setEditable(o)}),[S,o]),(0,r.useEffect)((function(){"undefined"!==typeof s&&null!==S&&S.setVisible(s)}),[S,s]),(0,r.useEffect)((function(){"number"===typeof i&&null!==S&&S.setRadius(i)}),[S,i]),(0,r.useEffect)((function(){"undefined"!==typeof n&&null!==S&&S.setCenter(n)}),[S,n]),(0,r.useEffect)((function(){S&&u&&(null!==N&&google.maps.event.removeListener(N),T(google.maps.event.addListener(S,"dblclick",u)))}),[u]),(0,r.useEffect)((function(){S&&c&&(null!==j&&google.maps.event.removeListener(j),A(google.maps.event.addListener(S,"dragend",c)))}),[c]),(0,r.useEffect)((function(){S&&l&&(null!==O&&google.maps.event.removeListener(O),M(google.maps.event.addListener(S,"dragstart",l)))}),[l]),(0,r.useEffect)((function(){S&&f&&(null!==R&&google.maps.event.removeListener(R),F(google.maps.event.addListener(S,"mousedown",f)))}),[f]),(0,r.useEffect)((function(){S&&d&&(null!==U&&google.maps.event.removeListener(U),B(google.maps.event.addListener(S,"mousemove",d)))}),[d]),(0,r.useEffect)((function(){S&&h&&(null!==q&&google.maps.event.removeListener(q),H(google.maps.event.addListener(S,"mouseout",h)))}),[h]),(0,r.useEffect)((function(){S&&p&&(null!==G&&google.maps.event.removeListener(G),K(google.maps.event.addListener(S,"mouseover",p)))}),[p]),(0,r.useEffect)((function(){S&&v&&(null!==Z&&google.maps.event.removeListener(Z),J(google.maps.event.addListener(S,"mouseup",v)))}),[v]),(0,r.useEffect)((function(){S&&m&&(null!==$&&google.maps.event.removeListener($),X(google.maps.event.addListener(S,"rightclick",m)))}),[m]),(0,r.useEffect)((function(){S&&g&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(S,"click",g)))}),[g]),(0,r.useEffect)((function(){S&&y&&(null!==ie&&google.maps.event.removeListener(ie),ae(google.maps.event.addListener(S,"drag",y)))}),[y]),(0,r.useEffect)((function(){S&&b&&(null!==se&&google.maps.event.removeListener(se),ue(google.maps.event.addListener(S,"center_changed",b)))}),[g]),(0,r.useEffect)((function(){S&&k&&(null!==le&&google.maps.event.removeListener(le),fe(google.maps.event.addListener(S,"radius_changed",k)))}),[k]),(0,r.useEffect)((function(){var e=new google.maps.Circle(cD(cD({},t||JR),{map:_}));return"number"===typeof i&&e.setRadius(i),"undefined"!==typeof n&&e.setCenter(n),"number"===typeof i&&e.setRadius(i),"undefined"!==typeof s&&e.setVisible(s),"undefined"!==typeof o&&e.setEditable(o),"undefined"!==typeof a&&e.setDraggable(a),u&&T(google.maps.event.addListener(e,"dblclick",u)),c&&A(google.maps.event.addListener(e,"dragend",c)),l&&M(google.maps.event.addListener(e,"dragstart",l)),f&&F(google.maps.event.addListener(e,"mousedown",f)),d&&B(google.maps.event.addListener(e,"mousemove",d)),h&&H(google.maps.event.addListener(e,"mouseout",h)),p&&K(google.maps.event.addListener(e,"mouseover",p)),v&&J(google.maps.event.addListener(e,"mouseup",v)),m&&X(google.maps.event.addListener(e,"rightclick",m)),g&&ne(google.maps.event.addListener(e,"click",g)),y&&ae(google.maps.event.addListener(e,"drag",y)),b&&ue(google.maps.event.addListener(e,"center_changed",b)),k&&fe(google.maps.event.addListener(e,"radius_changed",k)),E(e),w&&w(e),function(){null!==N&&google.maps.event.removeListener(N),null!==j&&google.maps.event.removeListener(j),null!==O&&google.maps.event.removeListener(O),null!==R&&google.maps.event.removeListener(R),null!==U&&google.maps.event.removeListener(U),null!==q&&google.maps.event.removeListener(q),null!==G&&google.maps.event.removeListener(G),null!==Z&&google.maps.event.removeListener(Z),null!==$&&google.maps.event.removeListener($),null!==te&&google.maps.event.removeListener(te),null!==se&&google.maps.event.removeListener(se),null!==le&&google.maps.event.removeListener(le),x&&x(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={circle:null},t.setCircleCallback=function(){null!==t.state.circle&&t.props.onLoad&&t.props.onLoad(t.state.circle)},t}uD(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Circle(cD(cD({},this.props.options||{}),{map:this.context}));this.registeredEvents=wD({updaterMap:ZR,eventMap:QR,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{circle:e}}),this.setCircleCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.circle&&(kD(this.registeredEvents),this.registeredEvents=wD({updaterMap:ZR,eventMap:QR,prevProps:e,nextProps:this.props,instance:this.state.circle}))},t.prototype.componentWillUnmount=function(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),kD(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))},t.prototype.render=function(){return null},t.contextType=mD}(r.PureComponent);var YR={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},$R={add:function(e,t){e.add(t)},addgeojson:function(e,t,n){e.addGeoJson(t,n)},contains:function(e,t){e.contains(t)},foreach:function(e,t){e.forEach(t)},loadgeojson:function(e,t,n,r){e.loadGeoJson(t,n,r)},overridestyle:function(e,t,n){e.overrideStyle(t,n)},remove:function(e,t){e.remove(t)},revertstyle:function(e,t){e.revertStyle(t)},controlposition:function(e,t){e.setControlPosition(t)},controls:function(e,t){e.setControls(t)},drawingmode:function(e,t){e.setDrawingMode(t)},map:function(e,t){e.setMap(t)},style:function(e,t){e.setStyle(t)},togeojson:function(e,t){e.toGeoJson(t)}};(0,r.memo)((function(e){var t=e.options,n=e.onClick,i=e.onDblClick,a=e.onMouseDown,o=e.onMouseMove,s=e.onMouseOut,u=e.onMouseOver,c=e.onMouseUp,l=e.onRightClick,f=e.onAddFeature,d=e.onRemoveFeature,h=e.onRemoveProperty,p=e.onSetGeometry,v=e.onSetProperty,m=e.onLoad,g=e.onUnmount,y=(0,r.useContext)(mD),b=(0,r.useState)(null),k=b[0],w=b[1],x=(0,r.useState)(null),_=x[0],C=x[1],S=(0,r.useState)(null),E=S[0],I=S[1],N=(0,r.useState)(null),T=N[0],L=N[1],j=(0,r.useState)(null),A=j[0],P=j[1],O=(0,r.useState)(null),M=O[0],D=O[1],R=(0,r.useState)(null),F=R[0],V=R[1],U=(0,r.useState)(null),B=U[0],z=U[1],q=(0,r.useState)(null),H=q[0],W=q[1],G=(0,r.useState)(null),K=G[0],Q=G[1],Z=(0,r.useState)(null),J=Z[0],Y=Z[1],$=(0,r.useState)(null),X=$[0],ee=$[1],te=(0,r.useState)(null),ne=te[0],re=te[1],ie=(0,r.useState)(null),ae=ie[0],oe=ie[1];return(0,r.useEffect)((function(){null!==k&&k.setMap(y)}),[y]),(0,r.useEffect)((function(){k&&i&&(null!==_&&google.maps.event.removeListener(_),C(google.maps.event.addListener(k,"dblclick",i)))}),[i]),(0,r.useEffect)((function(){k&&a&&(null!==E&&google.maps.event.removeListener(E),I(google.maps.event.addListener(k,"mousedown",a)))}),[a]),(0,r.useEffect)((function(){k&&o&&(null!==T&&google.maps.event.removeListener(T),L(google.maps.event.addListener(k,"mousemove",o)))}),[o]),(0,r.useEffect)((function(){k&&s&&(null!==A&&google.maps.event.removeListener(A),P(google.maps.event.addListener(k,"mouseout",s)))}),[s]),(0,r.useEffect)((function(){k&&u&&(null!==M&&google.maps.event.removeListener(M),D(google.maps.event.addListener(k,"mouseover",u)))}),[u]),(0,r.useEffect)((function(){k&&c&&(null!==F&&google.maps.event.removeListener(F),V(google.maps.event.addListener(k,"mouseup",c)))}),[c]),(0,r.useEffect)((function(){k&&l&&(null!==B&&google.maps.event.removeListener(B),z(google.maps.event.addListener(k,"rightclick",l)))}),[l]),(0,r.useEffect)((function(){k&&n&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(k,"click",n)))}),[n]),(0,r.useEffect)((function(){k&&f&&(null!==K&&google.maps.event.removeListener(K),Q(google.maps.event.addListener(k,"addfeature",f)))}),[f]),(0,r.useEffect)((function(){k&&d&&(null!==J&&google.maps.event.removeListener(J),Y(google.maps.event.addListener(k,"removefeature",d)))}),[d]),(0,r.useEffect)((function(){k&&h&&(null!==X&&google.maps.event.removeListener(X),ee(google.maps.event.addListener(k,"removeproperty",h)))}),[h]),(0,r.useEffect)((function(){k&&p&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(k,"setgeometry",p)))}),[p]),(0,r.useEffect)((function(){k&&v&&(null!==ae&&google.maps.event.removeListener(ae),oe(google.maps.event.addListener(k,"setproperty",v)))}),[v]),(0,r.useEffect)((function(){if(null!==y){var e=new google.maps.Data(cD(cD({},t||{}),{map:y}));i&&C(google.maps.event.addListener(e,"dblclick",i)),a&&I(google.maps.event.addListener(e,"mousedown",a)),o&&L(google.maps.event.addListener(e,"mousemove",o)),s&&P(google.maps.event.addListener(e,"mouseout",s)),u&&D(google.maps.event.addListener(e,"mouseover",u)),c&&V(google.maps.event.addListener(e,"mouseup",c)),l&&z(google.maps.event.addListener(e,"rightclick",l)),n&&W(google.maps.event.addListener(e,"click",n)),f&&Q(google.maps.event.addListener(e,"addfeature",f)),d&&Y(google.maps.event.addListener(e,"removefeature",d)),h&&ee(google.maps.event.addListener(e,"removeproperty",h)),p&&re(google.maps.event.addListener(e,"setgeometry",p)),v&&oe(google.maps.event.addListener(e,"setproperty",v)),w(e),m&&m(e)}return function(){k&&(null!==_&&google.maps.event.removeListener(_),null!==E&&google.maps.event.removeListener(E),null!==T&&google.maps.event.removeListener(T),null!==A&&google.maps.event.removeListener(A),null!==M&&google.maps.event.removeListener(M),null!==F&&google.maps.event.removeListener(F),null!==B&&google.maps.event.removeListener(B),null!==H&&google.maps.event.removeListener(H),null!==K&&google.maps.event.removeListener(K),null!==J&&google.maps.event.removeListener(J),null!==X&&google.maps.event.removeListener(X),null!==ne&&google.maps.event.removeListener(ne),null!==ae&&google.maps.event.removeListener(ae),g&&g(k),k.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={data:null},t.setDataCallback=function(){null!==t.state.data&&t.props.onLoad&&t.props.onLoad(t.state.data)},t}uD(t,e),t.prototype.componentDidMount=function(){if(null!==this.context){var e=new google.maps.Data(cD(cD({},this.props.options||{}),{map:this.context}));this.registeredEvents=wD({updaterMap:$R,eventMap:YR,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{data:e}}),this.setDataCallback)}},t.prototype.componentDidUpdate=function(e){null!==this.state.data&&(kD(this.registeredEvents),this.registeredEvents=wD({updaterMap:$R,eventMap:YR,prevProps:e,nextProps:this.props,instance:this.state.data}))},t.prototype.componentWillUnmount=function(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),kD(this.registeredEvents),this.state.data&&this.state.data.setMap(null))},t.prototype.render=function(){return null},t.contextType=mD}(r.PureComponent);var XR={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},eF={options:function(e,t){e.setOptions(t)},url:function(e,t){e.setUrl(t)},zIndex:function(e,t){e.setZIndex(t)}};!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={kmlLayer:null},t.setKmlLayerCallback=function(){null!==t.state.kmlLayer&&t.props.onLoad&&t.props.onLoad(t.state.kmlLayer)},t}uD(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.KmlLayer(cD(cD({},this.props.options),{map:this.context}));this.registeredEvents=wD({updaterMap:eF,eventMap:XR,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{kmlLayer:e}}),this.setKmlLayerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.kmlLayer&&(kD(this.registeredEvents),this.registeredEvents=wD({updaterMap:eF,eventMap:XR,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))},t.prototype.componentWillUnmount=function(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),kD(this.registeredEvents),this.state.kmlLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=mD}(r.PureComponent);function tF(e,t){return"function"===typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function nF(e,t){return new t(e.lat,e.lng)}function rF(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function iF(e,t,n,r){return void 0!==n?function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n.getNorthEast()),i=e&&e.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+t.x,"px"),top:"".concat(r.y+t.y,"px"),width:"".concat(r.x-i.x-t.x,"px"),height:"".concat(i.y-r.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,(i=n,a=google.maps.LatLngBounds,o=rF,i instanceof a?i:o(i,a))):function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n);if(r){var i=r.x,a=r.y;return{left:"".concat(i+t.x,"px"),top:"".concat(a+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(r,google.maps.LatLng,nF));var i,a,o}function aF(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function oF(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}(0,r.memo)((function(e){var t=e.position,n=e.bounds,i=e.mapPaneName,a=e.zIndex,o=e.onLoad,s=e.onUnmount,u=e.getPixelPositionOffset,c=e.children,l=(0,r.useContext)(mD),f=(0,r.useMemo)((function(){var e=document.createElement("div");return e.style.position="absolute",e}),[]),d=(0,r.useMemo)((function(){return function(e,t,n,r,i){var a=function(e){function t(t,n,r,i){var a=e.call(this)||this;return a.container=t,a.pane=n,a.position=r,a.bounds=i,a}return uD(t,e),t.prototype.onAdd=function(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null===t||void 0===t||t.appendChild(this.container)},t.prototype.draw=function(){for(var e=iF(this.getProjection(),cD({},this.container?tF(this.container,i):{x:0,y:0}),this.bounds,this.position),t=0,n=Object.entries(e);t<n.length;t++){var r=n[t],a=r[0],o=r[1];this.container.style[a]=o}},t.prototype.onRemove=function(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)},t}(google.maps.OverlayView);return new a(e,t,n,r)}(f,i,t,n,u)}),[f,i,t,n]);return(0,r.useEffect)((function(){return null===o||void 0===o||o(d),null===d||void 0===d||d.setMap(l),function(){null===s||void 0===s||s(d),null===d||void 0===d||d.setMap(null)}}),[l,d]),(0,r.useEffect)((function(){f.style.zIndex="".concat(a)}),[a,f]),qe.createPortal(c,f)})),function(e){function t(t){var n=e.call(this,t)||this;n.state={paneEl:null,containerStyle:{position:"absolute"}},n.updatePane=function(){var e=n.props.mapPaneName,t=n.overlayView.getPanes();vD(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?n.setState({paneEl:t[e]}):n.setState({paneEl:null})},n.onAdd=function(){var e,t;n.updatePane(),null===(t=(e=n.props).onLoad)||void 0===t||t.call(e,n.overlayView)},n.onPositionElement=function(){var e,t,r,i=iF(n.overlayView.getProjection(),cD({x:0,y:0},n.containerRef.current?tF(n.containerRef.current,n.props.getPixelPositionOffset):{}),n.props.bounds,n.props.position),a=(e=n.state.containerStyle).left,o=e.top,s=e.width,u=e.height;r={left:a,top:o,width:s,height:u},((t=i).left!==r.left||t.top!==r.top||t.width!==r.height||t.height!==r.height)&&n.setState({containerStyle:{top:i.top||0,left:i.left||0,width:i.width||0,height:i.height||0,position:"absolute"}})},n.draw=function(){n.onPositionElement()},n.onRemove=function(){var e,t;n.setState((function(){return{paneEl:null}})),null===(t=(e=n.props).onUnmount)||void 0===t||t.call(e,n.overlayView)},n.containerRef=(0,r.createRef)();var i=new google.maps.OverlayView;return i.onAdd=n.onAdd,i.draw=n.draw,i.onRemove=n.onRemove,n.overlayView=i,n}uD(t,e),t.prototype.componentDidMount=function(){this.overlayView.setMap(this.context)},t.prototype.componentDidUpdate=function(e){var t=aF(e.position),n=aF(this.props.position),r=oF(e.bounds),i=oF(this.props.bounds);t===n&&r===i||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()},t.prototype.componentWillUnmount=function(){this.overlayView.setMap(null)},t.prototype.render=function(){var e=this.state.paneEl;return e?qe.createPortal((0,dt.jsx)("div",{ref:this.containerRef,style:this.state.containerStyle,children:r.Children.only(this.props.children)}),e):null},t.FLOAT_PANE="floatPane",t.MAP_PANE="mapPane",t.MARKER_LAYER="markerLayer",t.OVERLAY_LAYER="overlayLayer",t.OVERLAY_MOUSE_TARGET="overlayMouseTarget",t.contextType=mD}(r.PureComponent);function sF(){}var uF={onDblClick:"dblclick",onClick:"click"},cF={opacity:function(e,t){e.setOpacity(t)}};(0,r.memo)((function(e){var t=e.url,n=e.bounds,i=e.options,a=e.visible,o=(0,r.useContext)(mD),s=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),u=(0,r.useMemo)((function(){return new google.maps.GroundOverlay(t,s,cD({},i))}),[]);return(0,r.useEffect)((function(){null!==u&&u.setMap(o)}),[o]),(0,r.useEffect)((function(){"undefined"!==typeof t&&null!==u&&(u.set("url",t),u.setMap(o))}),[u,t]),(0,r.useEffect)((function(){"undefined"!==typeof a&&null!==u&&u.setOpacity(a?1:0)}),[u,a]),(0,r.useEffect)((function(){var e=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));"undefined"!==typeof n&&null!==u&&(u.set("bounds",e),u.setMap(o))}),[u,n]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={groundOverlay:null},t.setGroundOverlayCallback=function(){null!==t.state.groundOverlay&&t.props.onLoad&&t.props.onLoad(t.state.groundOverlay)},t}uD(t,e),t.prototype.componentDidMount=function(){vD(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,cD(cD({},this.props.options),{map:this.context}));this.registeredEvents=wD({updaterMap:cF,eventMap:uF,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{groundOverlay:e}}),this.setGroundOverlayCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.groundOverlay&&(kD(this.registeredEvents),this.registeredEvents=wD({updaterMap:cF,eventMap:uF,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))},t.prototype.componentWillUnmount=function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))},t.prototype.render=function(){return null},t.defaultProps={onLoad:sF},t.contextType=mD}(r.PureComponent);var lF={},fF={data:function(e,t){e.setData(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)}};(0,r.memo)((function(e){var t=e.data,n=e.onLoad,i=e.onUnmount,a=e.options,o=(0,r.useContext)(mD),s=(0,r.useState)(null),u=s[0],c=s[1];return(0,r.useEffect)((function(){google.maps.visualization||vD(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)}),[]),(0,r.useEffect)((function(){vD(!!t,"data property is required in HeatmapLayer %s",t)}),[t]),(0,r.useEffect)((function(){null!==u&&u.setMap(o)}),[o]),(0,r.useEffect)((function(){a&&null!==u&&u.setOptions(a)}),[u,a]),(0,r.useEffect)((function(){var e=new google.maps.visualization.HeatmapLayer(cD(cD({},a||{}),{data:t,map:o}));return c(e),n&&n(e),function(){null!==u&&(i&&i(u),u.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={heatmapLayer:null},t.setHeatmapLayerCallback=function(){null!==t.state.heatmapLayer&&t.props.onLoad&&t.props.onLoad(t.state.heatmapLayer)},t}uD(t,e),t.prototype.componentDidMount=function(){vD(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),vD(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(cD(cD({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=wD({updaterMap:fF,eventMap:lF,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{heatmapLayer:e}}),this.setHeatmapLayerCallback)},t.prototype.componentDidUpdate=function(e){kD(this.registeredEvents),this.registeredEvents=wD({updaterMap:fF,eventMap:lF,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})},t.prototype.componentWillUnmount=function(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),kD(this.registeredEvents),this.state.heatmapLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=mD}(r.PureComponent);var dF={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},hF={register:function(e,t,n){e.registerPanoProvider(t,n)},links:function(e,t){e.setLinks(t)},motionTracking:function(e,t){e.setMotionTracking(t)},options:function(e,t){e.setOptions(t)},pano:function(e,t){e.setPano(t)},position:function(e,t){e.setPosition(t)},pov:function(e,t){e.setPov(t)},visible:function(e,t){e.setVisible(t)},zoom:function(e,t){e.setZoom(t)}},pF=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={streetViewPanorama:null},t.setStreetViewPanoramaCallback=function(){null!==t.state.streetViewPanorama&&t.props.onLoad&&t.props.onLoad(t.state.streetViewPanorama)},t}uD(t,e),t.prototype.componentDidMount=function(){var e,t,n=null!==(t=null===(e=this.context)||void 0===e?void 0:e.getStreetView())&&void 0!==t?t:null;this.registeredEvents=wD({updaterMap:hF,eventMap:dF,prevProps:{},nextProps:this.props,instance:n}),this.setState((function(){return{streetViewPanorama:n}}),this.setStreetViewPanoramaCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.streetViewPanorama&&(kD(this.registeredEvents),this.registeredEvents=wD({updaterMap:hF,eventMap:dF,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))},t.prototype.componentWillUnmount=function(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),kD(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))},t.prototype.render=function(){return null},t.contextType=mD}(r.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={streetViewService:null},t.setStreetViewServiceCallback=function(){null!==t.state.streetViewService&&t.props.onLoad&&t.props.onLoad(t.state.streetViewService)},t}uD(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.StreetViewService;this.setState((function(){return{streetViewService:e}}),this.setStreetViewServiceCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)},t.prototype.render=function(){return null},t.contextType=mD}(r.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={directionsService:null},t.setDirectionsServiceCallback=function(){null!==t.state.directionsService&&t.props.onLoad&&t.props.onLoad(t.state.directionsService)},t}uD(t,e),t.prototype.componentDidMount=function(){vD(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var e=new google.maps.DirectionsService;this.setState((function(){return{directionsService:e}}),this.setDirectionsServiceCallback)},t.prototype.componentDidUpdate=function(){null!==this.state.directionsService&&this.state.directionsService.route(this.props.options,this.props.callback)},t.prototype.componentWillUnmount=function(){null!==this.state.directionsService&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)},t.prototype.render=function(){return null}}(r.PureComponent),{onDirectionsChanged:"directions_changed"}),vF={directions:function(e,t){e.setDirections(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},panel:function(e,t){e.setPanel(t)},routeIndex:function(e,t){e.setRouteIndex(t)}},mF=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={directionsRenderer:null},t.setDirectionsRendererCallback=function(){null!==t.state.directionsRenderer&&(t.state.directionsRenderer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.directionsRenderer))},t}uD(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=wD({updaterMap:vF,eventMap:pF,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{directionsRenderer:e}}),this.setDirectionsRendererCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.directionsRenderer&&(kD(this.registeredEvents),this.registeredEvents=wD({updaterMap:vF,eventMap:pF,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))},t.prototype.componentWillUnmount=function(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),kD(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))},t.prototype.render=function(){return(0,dt.jsx)(dt.Fragment,{})},t.contextType=mD}(r.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={distanceMatrixService:null},t.setDistanceMatrixServiceCallback=function(){null!==t.state.distanceMatrixService&&t.props.onLoad&&t.props.onLoad(t.state.distanceMatrixService)},t}uD(t,e),t.prototype.componentDidMount=function(){vD(!!this.props.options,"DistanceMatrixService expected options object as parameter, but go %s",this.props.options);var e=new google.maps.DistanceMatrixService;this.setState((function(){return{distanceMatrixService:e}}),this.setDistanceMatrixServiceCallback)},t.prototype.componentDidUpdate=function(){null!==this.state.distanceMatrixService&&this.state.distanceMatrixService.getDistanceMatrix(this.props.options,this.props.callback)},t.prototype.componentWillUnmount=function(){null!==this.state.distanceMatrixService&&this.props.onUnmount&&this.props.onUnmount(this.state.distanceMatrixService)},t.prototype.render=function(){return null}}(r.PureComponent),{onPlacesChanged:"places_changed"}),gF={bounds:function(e,t){e.setBounds(t)}},yF=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=(0,r.createRef)(),t.state={searchBox:null},t.setSearchBoxCallback=function(){null!==t.state.searchBox&&t.props.onLoad&&t.props.onLoad(t.state.searchBox)},t}uD(t,e),t.prototype.componentDidMount=function(){if(vD(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=wD({updaterMap:gF,eventMap:mF,prevProps:{},nextProps:this.props,instance:t}),this.setState((function(){return{searchBox:t}}),this.setSearchBoxCallback)}}},t.prototype.componentDidUpdate=function(e){null!==this.state.searchBox&&(kD(this.registeredEvents),this.registeredEvents=wD({updaterMap:gF,eventMap:mF,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))},t.prototype.componentWillUnmount=function(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),kD(this.registeredEvents))},t.prototype.render=function(){return(0,dt.jsx)("div",{ref:this.containerElement,children:r.Children.only(this.props.children)})},t.contextType=mD}(r.PureComponent),{onPlaceChanged:"place_changed"}),bF={bounds:function(e,t){e.setBounds(t)},restrictions:function(e,t){e.setComponentRestrictions(t)},fields:function(e,t){e.setFields(t)},options:function(e,t){e.setOptions(t)},types:function(e,t){e.setTypes(t)}},kF=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=(0,r.createRef)(),t.state={autocomplete:null},t.setAutocompleteCallback=function(){null!==t.state.autocomplete&&t.props.onLoad&&t.props.onLoad(t.state.autocomplete)},t}uD(t,e),t.prototype.componentDidMount=function(){var e;vD(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=wD({updaterMap:bF,eventMap:yF,prevProps:{},nextProps:this.props,instance:n}),this.setState((function(){return{autocomplete:n}}),this.setAutocompleteCallback)}},t.prototype.componentDidUpdate=function(e){kD(this.registeredEvents),this.registeredEvents=wD({updaterMap:bF,eventMap:yF,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})},t.prototype.componentWillUnmount=function(){null!==this.state.autocomplete&&kD(this.registeredEvents)},t.prototype.render=function(){return(0,dt.jsx)("div",{ref:this.containerElement,className:this.props.className,children:r.Children.only(this.props.children)})},t.defaultProps={className:""},t.contextType=mD}(r.PureComponent),function(){var e={lat:46.44037226802607,lng:30.721339215781278};return(0,dt.jsx)("div",{className:"contact",children:(0,dt.jsx)(ht,{children:(0,dt.jsxs)("div",{className:"contact__content",children:[(0,dt.jsxs)("div",{className:"contact__column",children:[(0,dt.jsx)("h1",{className:"title__h1",children:"\u0417\u0432\u2019\u044f\u0437\u0430\u0442\u0438\u0441\u044f \u0437 \u043d\u0430\u043c\u0438"}),(0,dt.jsxs)("div",{className:"contact__section",children:[(0,dt.jsx)("span",{className:"contact__text",children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e:"}),(0,dt.jsxs)("div",{className:"contact__btns",children:[(0,dt.jsx)("button",{className:"contact__btn contact__btn-active",children:"\u041e\u0434\u0435\u0441\u0430"}),(0,dt.jsx)("button",{className:"contact__btn ",disabled:!0,children:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434"})]})]}),(0,dt.jsxs)("ul",{className:"contact__list",children:[(0,dt.jsxs)("li",{className:"contact__item",children:[(0,dt.jsx)("span",{className:"contact__item-title",children:"\u0410\u0434\u0440\u0435\u0441\u0430"}),(0,dt.jsx)("span",{className:"contact__item-link",children:"\u0432\u0443\u043b. \u041c\u0430\u0440\u0448\u0430\u043b\u0430 \u041c\u0430\u043b\u0438\u043d\u043e\u0432\u0441\u043a\u044c\u043e\u0433\u043e 18"})]}),(0,dt.jsxs)("li",{className:"contact__item",children:[(0,dt.jsx)("span",{className:"contact__item-title",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,dt.jsx)("a",{href:"tel:+390987271991",className:"contact__item-link",children:"+39 (098) 727 19 91"})]}),(0,dt.jsxs)("li",{className:"contact__item",children:[(0,dt.jsx)("span",{className:"contact__item-title",children:"\u0413\u0440\u0430\u0444\u0456\u043a \u0440\u043e\u0431\u043e\u0442\u0438"}),(0,dt.jsx)("span",{className:"contact__item-link",children:"\u041d\u0435\u0434\u0456\u043b\u044f - \u0427\u0435\u0442\u0432\u0435\u0440: 9:00 - 21:00"}),(0,dt.jsx)("span",{className:"contact__item-link",children:"\u041f\u2019\u044f\u0442\u043d\u0438\u0446\u044f - \u0421\u0443\u0431\u043e\u0442\u0430: 10:00 - 22:00"})]}),(0,dt.jsxs)("li",{className:"contact__item",children:[(0,dt.jsx)("span",{className:"contact__item-title",children:"Email"}),(0,dt.jsx)("a",{href:"mailto:support@polarpelmeni.com",className:"contact__item-link",children:"support@polarpelmeni.com"})]})]})]}),(0,dt.jsx)("div",{className:"contact__column",children:(0,dt.jsx)("div",{className:"contact__map",children:(0,dt.jsx)(OD,{googleMapsApiKey:"AIzaSyCFu2436NGhyXMBwq8mLiAhsl_SSYYRhvI",children:(0,dt.jsx)(CD,{mapContainerStyle:{height:"100%"},center:e,zoom:16,options:{streetViewControl:!1,mapTypeControl:!1,zoomControl:!1,styles:[{featureType:"all",elementType:"all",stylers:[{saturation:-100},{lightness:20},{gamma:1.2}]}]},children:(0,dt.jsx)(HD,{position:e})})})})})]})})})}),wF=n(264),xF=function(){return(0,dt.jsx)("section",{className:"paymentAndDelivery",children:(0,dt.jsx)(ht,{children:(0,dt.jsxs)("div",{className:"paymentAndDelivery__content",children:[(0,dt.jsxs)("section",{className:"paymentAndDelivery__block",children:[(0,dt.jsx)("h3",{className:"title__h3",children:"\u0421\u043f\u043e\u0441\u043e\u0431\u0438 \u043e\u043f\u043b\u0430\u0442\u0438"}),(0,dt.jsxs)("div",{className:"paymentAndDelivery__paymentMethodts",children:[(0,dt.jsxs)("div",{className:"paymentAndDelivery__paymentMethodt",children:[(0,dt.jsx)("div",{className:"paymentAndDelivery__name",children:"Apple pay"}),(0,dt.jsx)("div",{className:"paymentAndDelivery__ico",children:(0,dt.jsxs)("svg",{width:"2.187vw",height:"2.187vw",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dt.jsx)("rect",{x:"0.5",y:"0.5",width:"41",height:"41",rx:"2.5",fill:"white",stroke:"#E0E8F0"}),(0,dt.jsx)("path",{d:"M31.6716 13H10.3284C10.2395 13 10.1505 13 10.0617 13.0005C9.98674 13.0011 9.91191 13.0019 9.83707 13.0039C9.67387 13.0084 9.50927 13.018 9.3481 13.047C9.18436 13.0766 9.03199 13.1247 8.88335 13.2006C8.73722 13.275 8.60343 13.3724 8.48749 13.4887C8.37151 13.6049 8.2743 13.7387 8.20001 13.8853C8.12431 14.0343 8.07621 14.187 8.04695 14.3512C8.01783 14.5127 8.00813 14.6777 8.00373 14.841C8.00172 14.916 8.00086 14.991 8.00037 15.066C7.99985 15.1551 8.00003 15.2441 8.00003 15.3334V27.346C8.00003 27.4353 7.99985 27.5242 8.00037 27.6135C8.00086 27.6884 8.00172 27.7634 8.00373 27.8384C8.00813 28.0016 8.01783 28.1666 8.04695 28.328C8.07621 28.4923 8.12431 28.645 8.20001 28.7939C8.2743 28.9405 8.37151 29.0745 8.48749 29.1906C8.60343 29.307 8.73722 29.4044 8.88335 29.4787C9.03199 29.5547 9.18436 29.6029 9.3481 29.6324C9.50927 29.6613 9.67387 29.6711 9.83707 29.6755C9.91191 29.6772 9.98674 29.6782 10.0617 29.6786C10.1505 29.6792 10.2395 29.6792 10.3284 29.6792H31.6716C31.7603 29.6792 31.8494 29.6792 31.9381 29.6786C32.0129 29.6782 32.0878 29.6772 32.163 29.6755C32.3258 29.6711 32.4904 29.6613 32.6519 29.6324C32.8155 29.6029 32.9679 29.5547 33.1165 29.4787C33.2628 29.4044 33.3962 29.307 33.5124 29.1906C33.6282 29.0745 33.7254 28.9405 33.7999 28.7939C33.8757 28.645 33.9238 28.4923 33.9529 28.328C33.982 28.1666 33.9915 28.0016 33.9959 27.8384C33.998 27.7634 33.999 27.6884 33.9993 27.6135C34 27.5242 34 27.4353 34 27.346V15.3334C34 15.2441 34 15.1551 33.9993 15.066C33.999 14.991 33.998 14.916 33.9959 14.841C33.9915 14.6777 33.982 14.5127 33.9529 14.3512C33.9238 14.187 33.8757 14.0343 33.7999 13.8853C33.7254 13.7387 33.6282 13.6049 33.5124 13.4887C33.3962 13.3724 33.2628 13.275 33.1165 13.2006C32.9679 13.1247 32.8155 13.0766 32.6519 13.047C32.4904 13.018 32.3258 13.0084 32.163 13.0039C32.0878 13.0019 32.0129 13.0011 31.9381 13.0005C31.8494 13 31.7603 13 31.6716 13Z",fill:"black"}),(0,dt.jsx)("path",{d:"M31.6715 13.5559L31.934 13.5564C32.0052 13.5569 32.0763 13.5577 32.1478 13.5596C32.2722 13.563 32.4178 13.5698 32.5534 13.5941C32.6713 13.6154 32.7702 13.6478 32.8651 13.6962C32.9588 13.7439 33.0447 13.8064 33.1196 13.8814C33.1949 13.9569 33.2573 14.0431 33.3056 14.138C33.3536 14.2324 33.3857 14.331 33.4068 14.45C33.4311 14.5845 33.4378 14.7307 33.4412 14.8562C33.4431 14.927 33.4441 14.9978 33.4444 15.0702C33.4451 15.1579 33.4451 15.2455 33.4451 15.3333V27.346C33.4451 27.4338 33.4451 27.5213 33.4444 27.6108C33.4441 27.6816 33.4431 27.7524 33.4412 27.8233C33.4378 27.9486 33.4311 28.0947 33.4065 28.2308C33.3857 28.3482 33.3536 28.4468 33.3053 28.5416C33.2572 28.6363 33.1949 28.7224 33.1199 28.7974C33.0446 28.873 32.959 28.9353 32.8642 28.9835C32.77 29.0316 32.6713 29.064 32.5545 29.085C32.4161 29.1098 32.2645 29.1166 32.1503 29.1197C32.0784 29.1213 32.0069 29.1222 31.9337 29.1226C31.8464 29.1233 31.7588 29.1233 31.6715 29.1233H10.3283C10.3271 29.1233 10.326 29.1233 10.3248 29.1233C10.2385 29.1233 10.152 29.1233 10.0642 29.1226C9.99253 29.1222 9.92105 29.1213 9.85193 29.1197C9.73513 29.1166 9.5834 29.1098 9.44613 29.0852C9.32837 29.064 9.22964 29.0316 9.1342 28.9828C9.04029 28.9351 8.95479 28.8728 8.87937 28.7971C8.80454 28.7223 8.74235 28.6365 8.69427 28.5417C8.64614 28.4469 8.61394 28.348 8.59277 28.2292C8.56829 28.0934 8.56157 27.9478 8.55821 27.8234C8.55629 27.7522 8.55549 27.681 8.55503 27.6102L8.55469 27.4012L8.5547 27.346V15.3333L8.55469 15.2782L8.55502 15.0696C8.55549 14.9984 8.55629 14.9271 8.55821 14.856C8.56157 14.7315 8.56829 14.5858 8.59297 14.4489C8.61395 14.3312 8.64614 14.2323 8.69452 14.137C8.74222 14.0429 8.80452 13.957 8.87975 13.8817C8.95468 13.8065 9.04046 13.7441 9.13497 13.6959C9.22939 13.6478 9.32831 13.6154 9.44607 13.5942C9.58175 13.5697 9.72738 13.563 9.8521 13.5596C9.9232 13.5577 9.99429 13.5569 10.0649 13.5564L10.3283 13.5559H31.6715Z",fill:"white"}),(0,dt.jsx)("path",{d:"M15.0975 18.61C15.3201 18.331 15.4712 17.9563 15.4314 17.5735C15.1055 17.5897 14.7078 17.7889 14.4776 18.0682C14.2708 18.3073 14.0879 18.6976 14.1356 19.0644C14.5014 19.0962 14.8669 18.8812 15.0975 18.61Z",fill:"black"}),(0,dt.jsx)("path",{d:"M15.4273 19.136C14.896 19.1043 14.4443 19.4382 14.1906 19.4382C13.9368 19.4382 13.5483 19.152 13.1281 19.1597C12.5812 19.1678 12.0737 19.4776 11.7962 19.9705C11.2253 20.9564 11.6455 22.4188 12.2006 23.2218C12.4702 23.6191 12.7951 24.0565 13.2232 24.0408C13.6277 24.0249 13.7862 23.7783 14.2778 23.7783C14.7691 23.7783 14.9119 24.0408 15.3401 24.0328C15.7841 24.0248 16.0617 23.6354 16.3313 23.2377C16.6405 22.7849 16.7671 22.3476 16.7751 22.3236C16.7671 22.3156 15.9189 21.9896 15.911 21.0119C15.903 20.1932 16.577 19.8038 16.6087 19.7797C16.2281 19.2156 15.6335 19.152 15.4273 19.136Z",fill:"black"}),(0,dt.jsx)("path",{d:"M20.0534 18.0281C21.2081 18.0281 22.0121 18.8257 22.0121 19.9869C22.0121 21.1522 21.1915 21.9539 20.0244 21.9539H18.746V23.9912H17.8223V18.0281H20.0534V18.0281ZM18.746 21.177H19.8058C20.61 21.177 21.0677 20.7431 21.0677 19.991C21.0677 19.2389 20.61 18.8092 19.81 18.8092H18.746V21.177Z",fill:"black"}),(0,dt.jsx)("path",{d:"M22.2524 22.7557C22.2524 21.9952 22.8339 21.5283 23.865 21.4704L25.0526 21.4002V21.0655C25.0526 20.582 24.7268 20.2927 24.1825 20.2927C23.6669 20.2927 23.3452 20.5406 23.267 20.9291H22.4257C22.4752 20.1439 23.1432 19.5654 24.2155 19.5654C25.2671 19.5654 25.9392 20.1233 25.9392 20.9952V23.9912H25.0855V23.2763H25.065C24.8135 23.7598 24.265 24.0656 23.6959 24.0656C22.8463 24.0656 22.2524 23.5367 22.2524 22.7557ZM25.0526 22.3631V22.0201L23.9845 22.0862C23.4525 22.1234 23.1515 22.359 23.1515 22.7309C23.1515 23.111 23.4649 23.359 23.9433 23.359C24.566 23.359 25.0526 22.9292 25.0526 22.3631Z",fill:"black"}),(0,dt.jsx)("path",{d:"M26.7463 25.5906V24.8674C26.8122 24.8839 26.9606 24.8839 27.0349 24.8839C27.4473 24.8839 27.67 24.7103 27.806 24.2641C27.806 24.2558 27.8844 23.9996 27.8844 23.9954L26.3174 19.6439H27.2823L28.3794 23.1814H28.3958L29.4929 19.6439H30.4331L28.8081 24.2185C28.4371 25.2724 28.0082 25.6112 27.1092 25.6112C27.0349 25.6112 26.8122 25.6029 26.7463 25.5906Z",fill:"black"})]})})]}),(0,dt.jsxs)("div",{className:"paymentAndDelivery__paymentMethodt",children:[(0,dt.jsx)("div",{className:"paymentAndDelivery__name",children:"\u041f\u0440\u0438\u0432\u0430\u0442 24"}),(0,dt.jsx)("div",{className:"paymentAndDelivery__ico",children:(0,dt.jsxs)("svg",{width:"2.187vw",height:"2.187vw",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dt.jsx)("rect",{x:"0.5",y:"0.5",width:"41",height:"41",rx:"2.5",fill:"white",stroke:"#E0E8F0"}),(0,dt.jsx)("path",{d:"M8.21387 21.0523C8.21387 28.1429 13.9619 33.891 21.0526 33.891C28.1432 33.891 33.8913 28.1429 33.8913 21.0523C33.8913 13.9616 28.1432 8.21356 21.0526 8.21356C13.9619 8.21356 8.21387 13.9616 8.21387 21.0523Z",fill:"url(#paint0_linear)"}),(0,dt.jsx)("path",{d:"M21 8C13.8256 8 8 13.8407 8 21.0522C8 28.2638 13.8173 34.1045 21 34.1045C28.1827 34.1045 34 28.2638 34 21.0522C34 13.8407 28.1827 8 21 8ZM21 32.6671C14.6117 32.6671 9.43157 27.4662 9.43157 21.0522C9.43157 14.6383 14.6117 9.43732 21 9.43732C27.3883 9.43732 32.5684 14.6383 32.5684 21.0522C32.5684 27.4662 27.3883 32.6671 21 32.6671Z",fill:"#8DC641"}),(0,dt.jsx)("path",{d:"M25.5429 18.0862L22.6467 22.3982H25.5429V18.0862ZM26.6352 16.3415V22.4065H27.9096V23.5032H26.6352V25.7713H25.5346V23.5032H21.4385V22.3234L25.5677 16.3498H26.6352V16.3415ZM20.2304 24.6663V25.763H14.0903V25.7298C14.1483 24.6996 14.4131 23.9435 14.9261 23.3204C15.3399 22.8053 15.8446 22.4231 16.879 21.7751C16.879 21.7751 17.2431 21.5424 17.3507 21.476C17.9051 21.1187 18.2609 20.8362 18.5505 20.5122C18.9064 20.0968 19.0884 19.6482 19.0884 19.1164C19.0884 18.0862 18.3602 17.38 17.3176 17.38C16.1012 17.38 15.4805 18.3105 15.4474 19.698V19.7229H14.3551V19.698L14.3469 19.4488C14.3469 17.5877 15.555 16.3415 17.3755 16.3415C19.1546 16.3415 20.3131 17.4216 20.3131 19.0915C20.3131 19.9473 20.0069 20.6368 19.4194 21.2433C18.9808 21.7086 18.5257 22.016 17.5079 22.6391C17.4914 22.6474 17.4831 22.6557 17.4665 22.6641C17.4169 22.689 17.1935 22.8219 17.1355 22.8635C16.6473 23.1542 16.3494 23.3619 16.0846 23.6112C15.7619 23.9186 15.5467 24.2592 15.4474 24.658H20.2304V24.6663Z",fill:"white"}),(0,dt.jsx)("defs",{children:(0,dt.jsxs)("linearGradient",{id:"paint0_linear",x1:"8.21658",y1:"21.0523",x2:"33.8912",y2:"21.0523",gradientUnits:"userSpaceOnUse",children:[(0,dt.jsx)("stop",{"stop-color":"#333333"}),(0,dt.jsx)("stop",{offset:"1"})]})})]})})]}),(0,dt.jsxs)("div",{className:"paymentAndDelivery__paymentMethodt",children:[(0,dt.jsx)("div",{className:"paymentAndDelivery__name",children:"Privat Pay"}),(0,dt.jsx)("div",{className:"paymentAndDelivery__ico",children:(0,dt.jsxs)("svg",{width:"2.187vw",height:"2.187vw",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dt.jsx)("rect",{x:"0.5",y:"0.5",width:"41",height:"41",rx:"2.5",fill:"white",stroke:"#E0E8F0"}),(0,dt.jsx)("path",{d:"M8.21387 21.0523C8.21387 28.1429 13.9619 33.891 21.0526 33.891C28.1432 33.891 33.8913 28.1429 33.8913 21.0523C33.8913 13.9616 28.1432 8.21356 21.0526 8.21356C13.9619 8.21356 8.21387 13.9616 8.21387 21.0523Z",fill:"url(#paint0_linear)"}),(0,dt.jsx)("path",{d:"M21 8C13.8256 8 8 13.8407 8 21.0522C8 28.2638 13.8173 34.1045 21 34.1045C28.1827 34.1045 34 28.2638 34 21.0522C34 13.8407 28.1827 8 21 8ZM21 32.6671C14.6117 32.6671 9.43157 27.4662 9.43157 21.0522C9.43157 14.6383 14.6117 9.43732 21 9.43732C27.3883 9.43732 32.5684 14.6383 32.5684 21.0522C32.5684 27.4662 27.3883 32.6671 21 32.6671Z",fill:"#8DC641"}),(0,dt.jsx)("path",{d:"M25.5429 18.0862L22.6467 22.3982H25.5429V18.0862ZM26.6352 16.3415V22.4065H27.9096V23.5032H26.6352V25.7713H25.5346V23.5032H21.4385V22.3234L25.5677 16.3498H26.6352V16.3415ZM20.2304 24.6663V25.763H14.0903V25.7298C14.1483 24.6996 14.4131 23.9435 14.9261 23.3204C15.3399 22.8053 15.8446 22.4231 16.879 21.7751C16.879 21.7751 17.2431 21.5424 17.3507 21.476C17.9051 21.1187 18.2609 20.8362 18.5505 20.5122C18.9064 20.0968 19.0884 19.6482 19.0884 19.1164C19.0884 18.0862 18.3602 17.38 17.3176 17.38C16.1012 17.38 15.4805 18.3105 15.4474 19.698V19.7229H14.3551V19.698L14.3469 19.4488C14.3469 17.5877 15.555 16.3415 17.3755 16.3415C19.1546 16.3415 20.3131 17.4216 20.3131 19.0915C20.3131 19.9473 20.0069 20.6368 19.4194 21.2433C18.9808 21.7086 18.5257 22.016 17.5079 22.6391C17.4914 22.6474 17.4831 22.6557 17.4665 22.6641C17.4169 22.689 17.1935 22.8219 17.1355 22.8635C16.6473 23.1542 16.3494 23.3619 16.0846 23.6112C15.7619 23.9186 15.5467 24.2592 15.4474 24.658H20.2304V24.6663Z",fill:"white"}),(0,dt.jsx)("defs",{children:(0,dt.jsxs)("linearGradient",{id:"paint0_linear",x1:"8.21658",y1:"21.0523",x2:"33.8912",y2:"21.0523",gradientUnits:"userSpaceOnUse",children:[(0,dt.jsx)("stop",{"stop-color":"#333333"}),(0,dt.jsx)("stop",{offset:"1"})]})})]})})]}),(0,dt.jsxs)("div",{className:"paymentAndDelivery__paymentMethodt",children:[(0,dt.jsx)("div",{className:"paymentAndDelivery__name",children:"Masterpass"}),(0,dt.jsx)("div",{className:"paymentAndDelivery__ico",children:(0,dt.jsxs)("svg",{width:"2.187vw",height:"2.187vw",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dt.jsx)("rect",{x:"0.5",y:"0.5",width:"41",height:"41",rx:"2.5",fill:"white",stroke:"#E0E8F0"}),(0,dt.jsxs)("g",{"clip-path":"url(#clip0)",children:[(0,dt.jsx)("path",{d:"M24.8646 15.2769H17.3628V27.5294H24.8646V15.2769Z",fill:"#FF5F00"}),(0,dt.jsx)("path",{d:"M18.1353 21.4042C18.1343 20.2244 18.4018 19.0599 18.9174 17.9987C19.433 16.9375 20.1832 16.0075 21.1113 15.279C19.9618 14.3757 18.5814 13.8139 17.1277 13.658C15.6741 13.502 14.2059 13.7582 12.891 14.3972C11.576 15.0362 10.4674 16.0323 9.69181 17.2716C8.91619 18.5109 8.50488 19.9433 8.50488 21.4053C8.50488 22.8673 8.91619 24.2998 9.69181 25.5391C10.4674 26.7783 11.576 27.7744 12.891 28.4134C14.2059 29.0524 15.6741 29.3086 17.1277 29.1527C18.5814 28.9967 19.9618 28.435 21.1113 27.5316C20.1829 26.8029 19.4325 25.8726 18.9169 24.811C18.4013 23.7494 18.134 22.5844 18.1353 21.4042Z",fill:"#EB001B"}),(0,dt.jsx)("path",{d:"M32.9745 26.233V25.9819H33.0828V25.93H32.8252V25.9819H32.9269V26.233H32.9745ZM33.4745 26.233V25.93H33.3966L33.3057 26.1464L33.2148 25.93H33.1369V26.233H33.1931V26.0036L33.2776 26.2005H33.336L33.4204 26.0036V26.233H33.4745Z",fill:"#F79E1B"}),(0,dt.jsx)("path",{d:"M33.7189 21.4042C33.7188 22.8663 33.3074 24.2989 32.5317 25.5382C31.7559 26.7775 30.6471 27.7736 29.332 28.4125C28.017 29.0514 26.5486 29.3074 25.0949 29.1513C23.6412 28.9951 22.2607 28.4331 21.1113 27.5295C22.039 26.8004 22.7891 25.8701 23.3048 24.8089C23.8205 23.7476 24.0885 22.5831 24.0885 21.4032C24.0885 20.2232 23.8205 19.0587 23.3048 17.9975C22.7891 16.9362 22.039 16.006 21.1113 15.2769C22.2607 14.3732 23.6412 13.8112 25.0949 13.655C26.5486 13.4989 28.017 13.7549 29.332 14.3938C30.6471 15.0327 31.7559 16.0288 32.5317 17.2681C33.3074 18.5074 33.7188 19.94 33.7189 21.4021V21.4042Z",fill:"#F79E1B"})]}),(0,dt.jsx)("defs",{children:(0,dt.jsx)("clipPath",{id:"clip0",children:(0,dt.jsx)("rect",{width:"26",height:"18.8085",fill:"white",transform:"translate(8 12)"})})})]})})]}),(0,dt.jsxs)("div",{className:"paymentAndDelivery__paymentMethodt",children:[(0,dt.jsx)("div",{className:"paymentAndDelivery__name",children:"Mastercard"}),(0,dt.jsx)("div",{className:"paymentAndDelivery__ico",children:(0,dt.jsxs)("svg",{width:"2.187vw",height:"2.187vw",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dt.jsx)("rect",{x:"0.5",y:"0.5",width:"41",height:"41",rx:"2.5",fill:"white",stroke:"#E0E8F0"}),(0,dt.jsxs)("g",{"clip-path":"url(#clip0)",children:[(0,dt.jsx)("path",{d:"M24.8646 15.2769H17.3628V27.5294H24.8646V15.2769Z",fill:"#FF5F00"}),(0,dt.jsx)("path",{d:"M18.1353 21.4042C18.1343 20.2244 18.4018 19.0599 18.9174 17.9987C19.433 16.9375 20.1832 16.0075 21.1113 15.279C19.9618 14.3757 18.5814 13.8139 17.1277 13.658C15.6741 13.502 14.2059 13.7582 12.891 14.3972C11.576 15.0362 10.4674 16.0323 9.69181 17.2716C8.91619 18.5109 8.50488 19.9433 8.50488 21.4053C8.50488 22.8673 8.91619 24.2998 9.69181 25.5391C10.4674 26.7783 11.576 27.7744 12.891 28.4134C14.2059 29.0524 15.6741 29.3086 17.1277 29.1527C18.5814 28.9967 19.9618 28.435 21.1113 27.5316C20.1829 26.8029 19.4325 25.8726 18.9169 24.811C18.4013 23.7494 18.134 22.5844 18.1353 21.4042Z",fill:"#EB001B"}),(0,dt.jsx)("path",{d:"M32.9745 26.233V25.9819H33.0828V25.93H32.8252V25.9819H32.9269V26.233H32.9745ZM33.4745 26.233V25.93H33.3966L33.3057 26.1464L33.2148 25.93H33.1369V26.233H33.1931V26.0036L33.2776 26.2005H33.336L33.4204 26.0036V26.233H33.4745Z",fill:"#F79E1B"}),(0,dt.jsx)("path",{d:"M33.7189 21.4042C33.7188 22.8663 33.3074 24.2989 32.5317 25.5382C31.7559 26.7775 30.6471 27.7736 29.332 28.4125C28.017 29.0514 26.5486 29.3074 25.0949 29.1513C23.6412 28.9951 22.2607 28.4331 21.1113 27.5295C22.039 26.8004 22.7891 25.8701 23.3048 24.8089C23.8205 23.7476 24.0885 22.5831 24.0885 21.4032C24.0885 20.2232 23.8205 19.0587 23.3048 17.9975C22.7891 16.9362 22.039 16.006 21.1113 15.2769C22.2607 14.3732 23.6412 13.8112 25.0949 13.655C26.5486 13.4989 28.017 13.7549 29.332 14.3938C30.6471 15.0327 31.7559 16.0288 32.5317 17.2681C33.3074 18.5074 33.7188 19.94 33.7189 21.4021V21.4042Z",fill:"#F79E1B"})]}),(0,dt.jsx)("defs",{children:(0,dt.jsx)("clipPath",{id:"clip0",children:(0,dt.jsx)("rect",{width:"26",height:"18.8085",fill:"white",transform:"translate(8 12)"})})})]})})]}),(0,dt.jsxs)("div",{className:"paymentAndDelivery__paymentMethodt",children:[(0,dt.jsx)("div",{className:"paymentAndDelivery__name",children:"Visa"}),(0,dt.jsx)("div",{className:"paymentAndDelivery__ico",children:(0,dt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"2.187vw",viewBox:"0 0 141.732 141.732",children:[(0,dt.jsx)("g",{fill:"#2566af",children:(0,dt.jsx)("path",{d:"M62.935 89.571h-9.733l6.083-37.384h9.734zM45.014 52.187L35.735 77.9l-1.098-5.537.001.002-3.275-16.812s-.396-3.366-4.617-3.366h-15.34l-.18.633s4.691.976 10.181 4.273l8.456 32.479h10.141l15.485-37.385H45.014zM121.569 89.571h8.937l-7.792-37.385h-7.824c-3.613 0-4.493 2.786-4.493 2.786L95.881 89.571h10.146l2.029-5.553h12.373l1.14 5.553zm-10.71-13.224l5.114-13.99 2.877 13.99h-7.991zM96.642 61.177l1.389-8.028s-4.286-1.63-8.754-1.63c-4.83 0-16.3 2.111-16.3 12.376 0 9.658 13.462 9.778 13.462 14.851s-12.075 4.164-16.06.965l-1.447 8.394s4.346 2.111 10.986 2.111c6.642 0 16.662-3.439 16.662-12.799 0-9.72-13.583-10.625-13.583-14.851.001-4.227 9.48-3.684 13.645-1.389z"})}),(0,dt.jsx)("path",{d:"M34.638 72.364l-3.275-16.812s-.396-3.366-4.617-3.366h-15.34l-.18.633s7.373 1.528 14.445 7.253c6.762 5.472 8.967 12.292 8.967 12.292z",fill:"#e6a540"}),(0,dt.jsx)("path",{fill:"none",d:"M0 0h141.732v141.732H0z"})]})})]}),(0,dt.jsxs)("div",{className:"paymentAndDelivery__paymentMethodt",children:[(0,dt.jsx)("div",{className:"paymentAndDelivery__name",children:"Visa Checkout"}),(0,dt.jsx)("div",{className:"paymentAndDelivery__ico",children:(0,dt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"2.187vw",viewBox:"0 0 141.732 141.732",children:[(0,dt.jsx)("g",{fill:"#2566af",children:(0,dt.jsx)("path",{d:"M62.935 89.571h-9.733l6.083-37.384h9.734zM45.014 52.187L35.735 77.9l-1.098-5.537.001.002-3.275-16.812s-.396-3.366-4.617-3.366h-15.34l-.18.633s4.691.976 10.181 4.273l8.456 32.479h10.141l15.485-37.385H45.014zM121.569 89.571h8.937l-7.792-37.385h-7.824c-3.613 0-4.493 2.786-4.493 2.786L95.881 89.571h10.146l2.029-5.553h12.373l1.14 5.553zm-10.71-13.224l5.114-13.99 2.877 13.99h-7.991zM96.642 61.177l1.389-8.028s-4.286-1.63-8.754-1.63c-4.83 0-16.3 2.111-16.3 12.376 0 9.658 13.462 9.778 13.462 14.851s-12.075 4.164-16.06.965l-1.447 8.394s4.346 2.111 10.986 2.111c6.642 0 16.662-3.439 16.662-12.799 0-9.72-13.583-10.625-13.583-14.851.001-4.227 9.48-3.684 13.645-1.389z"})}),(0,dt.jsx)("path",{d:"M34.638 72.364l-3.275-16.812s-.396-3.366-4.617-3.366h-15.34l-.18.633s7.373 1.528 14.445 7.253c6.762 5.472 8.967 12.292 8.967 12.292z",fill:"#e6a540"}),(0,dt.jsx)("path",{fill:"none",d:"M0 0h141.732v141.732H0z"})]})})]}),(0,dt.jsxs)("div",{className:"paymentAndDelivery__paymentMethodt",children:[(0,dt.jsx)("div",{className:"paymentAndDelivery__name",children:"Google Pay"}),(0,dt.jsx)("div",{className:"paymentAndDelivery__ico",children:(0,dt.jsxs)("svg",{role:"presentation",fill:"#A1A1A1",height:"2.187vw",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 435.97 173.13",className:"main-header__logo-image",children:[(0,dt.jsx)("path",{d:"M206.2,84.58v50.75H190.1V10h42.7a38.61,38.61,0,0,1,27.65,10.85A34.88,34.88,0,0,1,272,47.3a34.72,34.72,0,0,1-11.55,26.6q-11.2,10.68-27.65,10.67H206.2Zm0-59.15V69.18h27a21.28,21.28,0,0,0,15.93-6.48,21.36,21.36,0,0,0,0-30.63,21,21,0,0,0-15.93-6.65h-27Z",fill:"#5f6368"}),(0,dt.jsx)("path",{d:"M309.1,46.78q17.85,0,28.18,9.54T347.6,82.48v52.85H332.2v-11.9h-.7q-10,14.7-26.6,14.7-14.17,0-23.71-8.4a26.82,26.82,0,0,1-9.54-21q0-13.31,10.06-21.17t26.86-7.88q14.34,0,23.62,5.25V81.25A18.33,18.33,0,0,0,325.54,67,22.8,22.8,0,0,0,310,61.13q-13.49,0-21.35,11.38l-14.18-8.93Q286.17,46.78,309.1,46.78Zm-20.83,62.3a12.86,12.86,0,0,0,5.34,10.5,19.64,19.64,0,0,0,12.51,4.2,25.67,25.67,0,0,0,18.11-7.52q8-7.53,8-17.67-7.53-6-21-6-9.81,0-16.36,4.73C290.46,100.52,288.27,104.41,288.27,109.08Z",fill:"#5f6368"}),(0,dt.jsx)("path",{d:"M436,49.58,382.24,173.13H365.62l19.95-43.23L350.22,49.58h17.5l25.55,61.6h.35l24.85-61.6Z",fill:"#5f6368"}),(0,dt.jsx)("path",{d:"M141.14,73.64A85.79,85.79,0,0,0,139.9,59H72V86.73h38.89a33.33,33.33,0,0,1-14.38,21.88v18h23.21C133.31,114.08,141.14,95.55,141.14,73.64Z",fill:"#4285f4"}),(0,dt.jsx)("path",{d:"M72,144c19.43,0,35.79-6.38,47.72-17.38l-23.21-18C90.05,113,81.73,115.5,72,115.5c-18.78,0-34.72-12.66-40.42-29.72H7.67v18.55A72,72,0,0,0,72,144Z",fill:"#34a853"}),(0,dt.jsx)("path",{d:"M31.58,85.78a43.14,43.14,0,0,1,0-27.56V39.67H7.67a72,72,0,0,0,0,64.66Z",fill:"#fbbc04"}),(0,dt.jsx)("path",{d:"M72,28.5A39.09,39.09,0,0,1,99.62,39.3h0l20.55-20.55A69.18,69.18,0,0,0,72,0,72,72,0,0,0,7.67,39.67L31.58,58.22C37.28,41.16,53.22,28.5,72,28.5Z",fill:"#ea4335"})]})})]})]})]}),(0,dt.jsxs)("div",{className:"paymentAndDelivery__block",children:[(0,dt.jsx)("h3",{className:"title__h3",children:"\u0423\u043c\u043e\u0432\u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),(0,dt.jsx)("p",{className:"text text__color--primary",children:"\u041c\u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0454\u043c\u043e:"}),(0,dt.jsxs)("ul",{className:"paymentAndDelivery__list",children:[(0,dt.jsx)("li",{children:"\u041a\u0438\u0457\u0432\u0441\u043a\u0438\u0439"}),(0,dt.jsx)("li",{children:"\u0410\u0440\u043a\u0430\u0434\u0456\u044f"}),(0,dt.jsx)("li",{children:"\u0424\u043e\u043d\u0442\u0430\u043d"}),(0,dt.jsx)("li",{children:"\u041f\u0440\u0438\u043c\u043e\u0440\u0441\u044c\u043a\u0438\u0439"}),(0,dt.jsx)("li",{children:"\u041c\u0430\u043b\u0438\u043d\u043e\u0432\u0441\u044c\u043a\u0438\u0439"}),(0,dt.jsx)("li",{children:"\u041f\u0435\u0440\u0435\u0441\u0435\u043f\u0441\u044c\u043a\u0438\u0439"}),(0,dt.jsx)("li",{children:"\u0410\u0432\u0430\u043d\u0433\u0430\u0440\u0434"})]}),(0,dt.jsx)("p",{className:"text text__color--primary",children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0437\u0434\u0456\u0439\u0441\u043d\u044e\u0454\u0442\u044c\u0441\u044f \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0442\u0430\u043a\u0441\u0456 Uklon"})]}),(0,dt.jsxs)("div",{className:"paymentAndDelivery__block",children:[(0,dt.jsx)("h3",{className:"title__h3",children:"\u0423\u043c\u043e\u0432\u0438 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f:"}),(0,dt.jsxs)("p",{className:"text text__color--primary",children:["\u0423\u043c\u043e\u0432\u0438 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0441\u0430\u0439\u0442\u0443 Polar Pelmeni:",(0,dt.jsx)("br",{}),(0,dt.jsx)("br",{}),"\u0428\u0430\u043d\u043e\u0432\u043d\u0456 \u043a\u043b\u0456\u0454\u043d\u0442\u0438 Polar Pelmeni, \u0432\u0430\u0448\u0430 \u043d\u0430\u0441\u043e\u043b\u043e\u0434\u0430 \u043d\u0430\u0448\u043e\u044e \u0457\u0436\u0435\u044e - \u043f\u0440\u0456\u043e\u0440\u0438\u0442\u0435\u0442! \u041c\u0438 \u0433\u0430\u0440\u0430\u043d\u0442\u0443\u0454\u043c\u043e \u044f\u043a\u0456\u0441\u0442\u044c \u043d\u0430\u0448\u043e\u0457 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0456\u0457 \u0442\u0430 \u043d\u0430\u0434\u0430\u0454\u043c\u043e \u043c\u043e\u0436\u043b\u0438\u0432\u0456\u0441\u0442\u044c \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0432 \u0442\u0430\u043a\u0438\u0445 \u0443\u043c\u043e\u0432\u0430\u0445:"]}),(0,dt.jsxs)("ul",{className:"paymentAndDelivery__list paymentAndDelivery__list--num",children:[(0,dt.jsx)("li",{children:"\u041f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438: \u041c\u0438 \u0437\u0434\u0456\u0439\u0441\u043d\u044e\u0454\u043c\u043e \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043a\u043e\u0448\u0442\u0456\u0432 \u0437\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0443 \u0432 \u0440\u0430\u0437\u0456, \u044f\u043a\u0449\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0456\u044f \u043d\u0435\u044f\u043a\u0456\u0441\u043d\u0430 \u0442\u0430 \u0432 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u0456 \u043f\u0440\u0438\u0441\u0443\u0442\u043d\u0456\u0439 \u0449\u043e\u043d\u0430\u0439\u043c\u0435\u043d\u0448\u0435 70% \u0432\u0456\u0434 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0431\u0441\u044f\u0433\u0443 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f."}),(0,dt.jsx)("li",{children:"\u0423\u043c\u043e\u0432\u0438 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f: \u0429\u043e\u0431 \u0437\u0434\u0456\u0439\u0441\u043d\u0438\u0442\u0438 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u0434\u043e \u043d\u0430\u0448\u043e\u0457 \u0441\u043b\u0443\u0436\u0431\u0438 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0438 \u0437\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u043c +380 (98) 727-19-91 \u0430\u0431\u043e \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u044e \u043f\u043e\u0448\u0442\u043e\u044e support@polarpelmeni.com. \u041d\u0430\u0448\u0456 \u0441\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u0440\u0430\u0434\u0456 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0442\u0438 \u0432\u0430\u043c \u0456\u0437 \u0437\u0434\u0456\u0439\u0441\u043d\u0435\u043d\u043d\u044f\u043c \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u0442\u0430 \u043d\u0430\u0434\u0430\u0434\u0443\u0442\u044c \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457."}),(0,dt.jsx)("li",{children:"\u041f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0456\u0457: \u041f\u0435\u0440\u0435\u0434 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f\u043c \u0442\u043e\u0432\u0430\u0440\u0443, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0431\u0435\u0440\u0435\u0436\u0456\u0442\u044c \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0443 \u0442\u0430 \u0437\u0440\u043e\u0431\u0456\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0457 \u043d\u0435\u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u0445 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432 \u0434\u043b\u044f \u043d\u0430\u0448\u043e\u0457 \u0432\u043d\u0443\u0442\u0440\u0456\u0448\u043d\u044c\u043e\u0457 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0438."}),(0,dt.jsx)("li",{children:"\u0422\u0435\u0440\u043c\u0456\u043d \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f: \u041f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u0431\u0443\u0442\u0438 \u0437\u0434\u0456\u0439\u0441\u043d\u0435\u043d\u0435 \u043c\u0435\u043d\u0448\u0435 \u0434\u043e 5 \u0433\u043e\u0434\u0438\u043d \u0437 \u043c\u043e\u043c\u0435\u043d\u0442\u0443 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f."}),(0,dt.jsx)("li",{children:"\u041f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043a\u043e\u0448\u0442\u0456\u0432: \u041f\u0456\u0441\u043b\u044f \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0438 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0443, \u043c\u0438 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043c\u043e \u043a\u043e\u0448\u0442\u0438 \u043d\u0430 \u0432\u0430\u0448 \u0440\u0430\u0445\u0443\u043d\u043e\u043a \u0430\u0431\u043e \u0432\u0438\u043a\u043e\u043d\u0430\u0454\u043c\u043e \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043d\u0430 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u0443 \u043a\u0430\u0440\u0442\u0443, \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u0443 \u0434\u043b\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f."})]}),(0,dt.jsx)("p",{className:"text text__color--primary",children:"\u041c\u0438 \u0434\u0443\u0436\u0435 \u0446\u0456\u043d\u0443\u0454\u043c\u043e \u0432\u0430\u0448\u0443 \u0434\u043e\u0432\u0456\u0440\u0443 \u0442\u0430 \u0440\u043e\u0437\u0443\u043c\u0456\u0454\u043c\u043e \u0432\u0430\u0436\u043b\u0438\u0432\u0456\u0441\u0442\u044c \u044f\u043a\u043e\u0441\u0442\u0456 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432, \u044f\u043a\u0456 \u043c\u0438 \u043f\u0440\u043e\u043f\u043e\u043d\u0443\u0454\u043c\u043e. \u0412 \u0440\u0430\u0437\u0456 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0445 \u043f\u0438\u0442\u0430\u043d\u044c \u0447\u0438 \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e\u0441\u0442\u0456 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0438, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0432'\u044f\u0436\u0456\u0442\u044c\u0441\u044f \u0437 \u043d\u0430\u043c\u0438. \u0414\u044f\u043a\u0443\u0454\u043c\u043e, \u0449\u043e \u043e\u0431\u0438\u0440\u0430\u0454\u0442\u0435 Polar Pelmeni!"})]})]})})})};n.n(wF)().initialize({gtmId:"GTM-5CBQPKC"}),vl.initializeApp(NM);var _F=function(){var e=nt((function(e){return e.modals})),t=nt((function(e){return e.user})),n=l((0,r.useState)(!1),2),i=n[0],a=n[1],o=l((0,r.useState)(!0),2),s=o[0],u=o[1],c=ft(),f=be(),d=we();(0,r.useEffect)((function(){!function(){var e=localStorage.getItem("userData"),t=JSON.parse(e);e&&(c(bs()),!0===t.isAuthenticated&&(c(Ko({city:t.city})),c(Wo(t))))}(),c(Jo()),c(Yo())}),[]),(0,r.useEffect)((function(){var e=localStorage.getItem("favoritProducts");JSON.parse(e)&&c(Jo())}),[t.isAuthenticated]),(0,r.useEffect)((function(){"/profile/signout"===f.pathname&&(c(Go()),d("/"))}),[f]),(0,r.useEffect)((function(){var e=function(){var e=f.pathname.includes("/profile");window.innerWidth<=768&&e?u(!1):u(!0)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[f]),(0,r.useEffect)((function(){window.scrollTo(0,0),a(!0),setTimeout((function(){a(!1)}),1500)}),[f]);var h,p=nt((function(e){return e.popupActions.currentAction}));return(0,r.useEffect)((function(){null!==t.city?c(nu({isOpen:!1})):c(nu({isOpen:!0}))}),[t]),(0,dt.jsxs)(dt.Fragment,{children:[(h=p,"addToCard"===h?(0,dt.jsx)(su,{action:"\u0411\u043b\u044e\u0434\u043e \u0434\u043e\u0434\u0430\u043d\u043e \u0443 \u043a\u043e\u0448\u0438\u043a"}):"addToFavorit"===h?(0,dt.jsx)(su,{action:"\u0411\u043b\u044e\u0434\u043e \u0434\u043e\u0434\u0430\u043d\u043e \u0432 \xab\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0435\xbb"}):null),e.cityModal&&(0,dt.jsx)(Zi,{small:!0,closeModal:function(){return c(nu({isOpen:!1}))},children:(0,dt.jsx)(iD,{})}),s&&(0,dt.jsx)(IM,{}),i&&(0,dt.jsx)("div",{className:"loader__wrapper",children:(0,dt.jsx)(Zs,{})}),(0,dt.jsxs)(Fe,{children:[(0,dt.jsx)(De,{path:"/",element:(0,dt.jsx)(aD,{})}),(0,dt.jsx)(De,{path:"/menu",element:(0,dt.jsx)(oD,{}),children:(0,dt.jsx)(De,{path:":id",element:(0,dt.jsx)(oD,{})})}),(0,dt.jsx)(De,{path:"/product/:id",element:(0,dt.jsx)($s,{})}),(0,dt.jsx)(De,{path:"/about-us",element:(0,dt.jsx)(OM,{})}),(0,dt.jsx)(De,{path:"/order",element:(0,dt.jsx)($M,{})}),(0,dt.jsx)(De,{path:"/contact",element:(0,dt.jsx)(kF,{})}),(0,dt.jsx)(De,{path:"/payment-and-delivery",element:(0,dt.jsx)(xF,{})}),(0,dt.jsxs)(De,{path:"/profile",children:[(0,dt.jsx)(De,{index:!0,element:(0,dt.jsx)(Ts,{})}),(0,dt.jsx)(De,{path:":item",element:(0,dt.jsx)(Ts,{})})]})]}),(0,dt.jsx)(rD,{})]})},CF=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},SF=function(e){var t,n=Lo(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,d=r.enhancers,h=void 0===d?void 0:d;if("function"===typeof a)t=a;else{if(!Eo(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=ao(a)}var p=s;"function"===typeof p&&(p=p(n));var v=so.apply(void 0,p),m=oo;c&&(m=So(xo({trace:!1},"object"===typeof c&&c)));var g=new No(v),y=g;return Array.isArray(h)?y=po([v],h):"function"===typeof h&&(y=h(g)),io(t,f,m.apply(void 0,y))}({reducer:{user:ns,modals:iu,popupActions:Cs,shoppingCart:ws,order:QM}});a.createRoot(document.getElementById("root")).render((0,dt.jsx)(r.StrictMode,{children:(0,dt.jsx)(ot,{store:SF,children:(0,dt.jsx)(wt,{children:(0,dt.jsx)(_F,{})})})})),CF()}()}();
//# sourceMappingURL=main.4a738671.js.map