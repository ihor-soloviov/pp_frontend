/*! For license information please see main.eaa018ed.js.LICENSE.txt */
(()=>{var e={110:(e,t,n)=>{"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?o:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<o.length;++g){var v=o[g];if(!s[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},746:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case s:case a:case o:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function x(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=s,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return x(e)||_(e)===u},t.isConcurrentMode=x,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===s},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===d||e===a||e===o||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},309:(e,t,n)=>{"use strict";e.exports=n(746)},463:(e,t,n)=>{"use strict";var r=n(791),i=n(296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,R=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case L:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ce=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),xe(e.stateNode,e.type,t))}}function ke(e){Ce?Se?Se.push(e):Se=[e]:Ce=e}function Ie(){if(Ce){var e=Ce,t=Se;if(Se=Ce=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Le=!1;function je(e,t,n){if(Le)return e(t,n);Le=!0;try{return Te(e,t,n)}finally{Le=!1,(null!==Ce||null!==Se)&&(Ne(),Ie())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){Oe=!1}function De(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Re=null,Fe=!1,Ve=null,Ue={onError:function(e){Me=!0,Re=e}};function Be(e,t,n,r,i,s,o,a,l){Me=!1,Re=null,De.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ze=i.unstable_shouldYield,Je=i.unstable_requestPaint,$e=i.unstable_now,Ye=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=dt(a):0!==(s&=o)&&(r=dt(s))}else 0!==(o=n&~i)?r=dt(o):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,xt,Ct,St,Et,kt=!1,It=[],Tt=null,Nt=null,Lt=null,jt=new Map,At=new Map,Ot=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Rt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){kt=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Lt&&Ft(Lt)&&(Lt=null),jt.forEach(Vt),At.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==Nt&&Bt(Nt,e),null!==Lt&&Bt(Lt,e),jt.forEach(t),At.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Rt(n),null===n.blockedOn&&Ot.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Gt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Kt(e,t,n,r){if(Ht){var i=Zt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Lt=Mt(Lt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return jt.set(s,Mt(jt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,At.set(s,Mt(At.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&_t(s),null===(s=Zt(e,t,n,r))&&Hr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Zt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Yt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=R({},cn,{view:0,detail:0}),hn=sn(dn),fn=R({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(R({},fn,{dataTransfer:0})),gn=sn(R({},dn,{relatedTarget:0})),vn=sn(R({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=R({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(R({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function En(){return Sn}var kn=R({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(kn),Tn=sn(R({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(R({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Ln=sn(R({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=R({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=sn(jn),On=[9,13,27,32],Pn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Mn=u&&"TextEvent"in window&&!Dn,Rn=u&&(!Pn||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){ke(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Fr(e,0)}function Zn(e){if(K(wi(e)))return e}function Jn(e,t){if("change"===e)return t}var $n=!1;if(u){var Yn;if(u){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Yn=Xn}else Yn=!1;$n=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Zn(Kn)){var t=[];Wn(t,Kn,e,_e(e)),je(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Kn)}function sr(e,t){if("click"===e)return Zn(t)}function or(e,t){if("input"===e||"change"===e)return Zn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Cr={},Sr={};function Er(e){if(Cr[e])return Cr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Cr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var kr=Er("animationend"),Ir=Er("animationiteration"),Tr=Er("animationstart"),Nr=Er("transitionend"),Lr=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Lr.set(e,t),l(t,[e])}for(var Or=0;Or<jr.length;Or++){var Pr=jr[Or];Ar(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Ar(kr,"onAnimationEnd"),Ar(Ir,"onAnimationIteration"),Ar(Tr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=Re;Me=!1,Re=null,Fe||(Fe=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Rr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Rr(i,a,c),s=l}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}je((function(){var r=s,i=_e(n),o=[];e:{var a=Lr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case kr:case Ir:case Tr:l=vn;break;case Nr:l=Ln;break;case"scroll":l=hn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ae(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Qr(o,a,l,u,!1),null!==c&&null!==d&&Qr(o,d,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Jn;else if(Hn(a))if($n)g=or;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Yt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(v=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Un(e,t)?(e=en(),Xt=Yt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ae(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=Ae(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ae(n,s))&&o.unshift(Wr(n,l,a)):i||null!=(l=Ae(n,s))&&o.push(Wr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Zr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(Jr,"")}function Yr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var xi=[],Ci=-1;function Si(e){return{current:e}}function Ei(e){0>Ci||(e.current=xi[Ci],xi[Ci]=null,Ci--)}function ki(e,t){Ci++,xi[Ci]=e.current,e.current=t}var Ii={},Ti=Si(Ii),Ni=Si(!1),Li=Ii;function ji(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ei(Ni),Ei(Ti)}function Pi(e,t,n){if(Ti.current!==Ii)throw Error(s(168));ki(Ti,t),ki(Ni,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return R({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Li=Ti.current,ki(Ti,e),ki(Ni,Ni.current),!0}function Ri(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Di(e,t,Li),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ti),ki(Ti,e)):Ei(Ni),ki(Ni,n)}var Fi=null,Vi=!1,Ui=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Xe,zi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Hi=0,Wi=null,Gi=0,Ki=[],Qi=0,Zi=null,Ji=1,$i="";function Yi(e,t){qi[Hi++]=Gi,qi[Hi++]=Wi,Wi=e,Gi=t}function Xi(e,t,n){Ki[Qi++]=Ji,Ki[Qi++]=$i,Ki[Qi++]=Zi,Zi=e;var r=Ji;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,$i=s+e}else Ji=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Yi(e,1),Xi(e,1,0))}function ts(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Gi=qi[--Hi],qi[Hi]=null;for(;e===Zi;)Zi=Ki[--Qi],Ki[Qi]=null,$i=Ki[--Qi],Ki[Qi]=null,Ji=Ki[--Qi],Ki[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zi?{id:Ji,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Si(null),ys=null,bs=null,ws=null;function _s(){ws=bs=ys=null}function xs(e){var t=vs.current;Ei(vs),e._currentValue=t}function Cs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){ys=e,ws=bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Es(e){var t=e._currentValue;if(ws!==e)if(e={context:e,memoizedValue:t,next:null},null===bs){if(null===ys)throw Error(s(308));bs=e,ys.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var ks=null;function Is(e){null===ks?ks=[e]:ks.push(e)}function Ts(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Is(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function js(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function As(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ns(e,n)}return null===(i=r.interleaved)?(t.next=t,Is(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ns(e,n)}function Ds(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Rs(e,t,n,r){var i=e.updateQueue;Ls=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(o=0,u=c=l=null,a=s;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=R({},d,h);break e;case 2:Ls=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=d}}function Fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Vs=(new r.Component).refs;function Us(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bs={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Os(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ps(e,s,i))&&(rc(t,e,i,r),Ds(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Os(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ps(e,s,i))&&(rc(t,e,i,r),Ds(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Os(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ps(e,i,r))&&(rc(t,e,r,n),Ds(t,e,r))}};function zs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function qs(e,t,n){var r=!1,i=Ii,s=t.contextType;return"object"===typeof s&&null!==s?s=Es(s):(i=Ai(t)?Li:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?ji(e,i):Ii),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Hs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function Ws(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vs,js(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Es(s):(s=Ai(t)?Li:Ti.current,i.context=ji(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Us(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bs.enqueueReplaceState(i,i.state,null),Rs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Vs&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ks(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Zs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===A&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Gs(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Gs(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ks(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case A:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:d(e,t,n,r,null);Ks(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,i,null);Ks(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),is&&Yi(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&Yi(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&Yi(i,m),c}function g(i,a,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),is&&Yi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return is&&Yi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Yi(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===C){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Qs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===C?((s=Mc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Dc(o.type,o.key,o.props,null,r.mode,l)).ref=Gs(r,s,o),l.return=r,r=l)}return a(r);case x:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Vc(o,r.mode,l)).return=r,r=s}return a(r);case A:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(D(o))return g(r,s,o,l);Ks(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Fc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var Js=Zs(!0),$s=Zs(!1),Ys={},Xs=Si(Ys),eo=Si(Ys),to=Si(Ys);function no(e){if(e===Ys)throw Error(s(174));return e}function ro(e,t){switch(ki(to,t),ki(eo,e),ki(Xs,Ys),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Xs),ki(Xs,t)}function io(){Ei(Xs),Ei(eo),Ei(to)}function so(e){no(to.current);var t=no(Xs.current),n=le(t,e.type);t!==n&&(ki(eo,e),ki(Xs,n))}function oo(e){eo.current===e&&(Ei(Xs),Ei(eo))}var ao=Si(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=w.ReactCurrentDispatcher,fo=w.ReactCurrentBatchConfig,po=0,mo=null,go=null,vo=null,yo=!1,bo=!1,wo=0,_o=0;function xo(){throw Error(s(321))}function Co(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(s(301));o+=1,vo=go=null,t.updateQueue=null,ho.current=ca,e=n(r,i)}while(bo)}if(ho.current=oa,t=null!==go&&null!==go.next,po=0,vo=go=mo=null,yo=!1,t)throw Error(s(300));return e}function Eo(){var e=0!==wo;return wo=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function Io(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function To(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((po&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,mo.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Rl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Lo(e){var t=Io(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function jo(){}function Ao(e,t){var n=mo,r=Io(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,wa=!0),r=r.queue,Ho(Do.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Vo(9,Po.bind(null,n,r,i,t),void 0,null),null===Ll)throw Error(s(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Ro(e)}function Do(e,t,n){return n((function(){Mo(t)&&Ro(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ro(e){var t=Ns(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return Io().memoizedState}function Bo(e,t,n,r){var i=ko();mo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Io();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&Co(r,o.deps))return void(i.memoizedState=Vo(t,n,s,r))}mo.flags|=e,i.memoizedState=Vo(1|t,n,s,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ho(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Go(e,t){return zo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ko.bind(null,t,e),n)}function Zo(){}function Jo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),mo.lanes|=n,Rl|=n,e.baseState=!0),t)}function Xo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{bt=n,fo.transition=r}}function ea(){return Io().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Ts(e,t,n,r))){rc(n,e,r,tc()),sa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Is(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ts(e,t,i,r))&&(rc(n,e,r,i=tc()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ia(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var oa={readContext:Es,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},aa={readContext:Es,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Es,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:Fo,useDebugValue:Zo,useDeferredValue:function(e){return ko().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Xo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=ko();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ll)throw Error(s(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Do.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=Ll.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Es,useCallback:Jo,useContext:Es,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:$o,useReducer:No,useRef:Uo,useState:function(){return No(To)},useDebugValue:Zo,useDeferredValue:function(e){return Yo(Io(),go.memoizedState,e)},useTransition:function(){return[No(To)[0],Io().memoizedState]},useMutableSource:jo,useSyncExternalStore:Ao,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Es,useCallback:Jo,useContext:Es,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:$o,useReducer:Lo,useRef:Uo,useState:function(){return Lo(To)},useDebugValue:Zo,useDeferredValue:function(e){var t=Io();return null===go?t.memoizedState=e:Yo(t,go.memoizedState,e)},useTransition:function(){return[Lo(To)[0],Io().memoizedState]},useMutableSource:jo,useSyncExternalStore:Ao,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Os(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Gl=r),ha(0,t)},n}function ma(e,t,n){(n=Os(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Os(-1,1)).tag=2,Ps(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function _a(e,t,n,r){t.child=null===e?$s(t,null,n,r):Js(t,e.child,n,r)}function xa(e,t,n,r,i){n=n.render;var s=t.ref;return Ss(t,i),r=So(e,t,n,r,s,i),n=Eo(),null===e||wa?(is&&n&&es(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Ca(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Oc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Pc(s,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ia(e,t,n,r,i)}function Ea(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Pl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Pl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Pl,Ol),Ol|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Pl,Ol),Ol|=r;return _a(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,r,i){var s=Ai(n)?Li:Ti.current;return s=ji(t,s),Ss(t,i),n=So(e,t,n,r,s,i),r=Eo(),null===e||wa?(is&&r&&es(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Ta(e,t,n,r,i){if(Ai(n)){var s=!0;Mi(t)}else s=!1;if(Ss(t,i),null===t.stateNode)Ha(e,t),qs(t,n,r),Ws(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Es(c):c=ji(t,c=Ai(n)?Li:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&Hs(t,o,r,c),Ls=!1;var h=t.memoizedState;o.state=h,Rs(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Ni.current||Ls?("function"===typeof u&&(Us(t,n,u,r),l=t.memoizedState),(a=Ls||zs(t,n,a,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,As(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:gs(t.type,a),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Es(l):l=ji(t,l=Ai(n)?Li:Ti.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==l)&&Hs(t,o,r,l),Ls=!1,h=t.memoizedState,o.state=h,Rs(t,r,o,i);var p=t.memoizedState;a!==d||h!==p||Ni.current||Ls?("function"===typeof f&&(Us(t,n,f,r),p=t.memoizedState),(c=Ls||zs(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Na(e,t,n,r,s,i)}function Na(e,t,n,r,i,s){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ri(t,n,!1),Wa(e,t,s);r=t.stateNode,ba.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Js(t,e.child,null,s),t.child=Js(t,null,a,s)):_a(e,t,a,s),t.memoizedState=r.state,i&&Ri(t,n,!0),t.child}function La(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function ja(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_a(e,t,n,r),t.child}var Aa,Oa,Pa,Da,Ma={dehydrated:null,treeContext:null,retryLane:0};function Ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(ao,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Rc(l,i,0,null),e=Mc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ra(n),t.memoizedState=Ma,e):Va(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=da(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Js(t,e.child,null,a),t.child.memoizedState=Ra(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=da(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Ll)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ns(e,i),rc(r,e,i,-1))}return gc(),Ua(e,t,a,r=da(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Qi++]=Ji,Ki[Qi++]=$i,Ki[Qi++]=Zi,Ji=e.id,$i=e.overflow,Zi=t),t=Va(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Pc(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ra(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Pc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Va(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&ps(r),Js(t,e.child,null,n),(e=Va(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cs(e.return,t,n)}function za(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),za(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}za(t,!0,n,null,s);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Ai(t.type)&&Oi(),Ka(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ti),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Oa(e,t),Ka(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ka(t),null}if(e=no(Xs.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Vr(Dr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":J(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":G(r),X(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Aa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Vr(Dr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":J(e,r),i=Z(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=R({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Vr("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":G(e),X(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Xs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ka(t),null;case 13:if(Ei(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Dl&&(Dl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return io(),Oa(e,t),null===e&&zr(t.stateNode.containerInfo),Ka(t),null;case 10:return xs(t.type._context),Ka(t),null;case 19:if(Ei(ao),null===(o=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ga(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ga(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>ql&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ka(t),null}else 2*$e()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=ao.current,ki(ao,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Za(e,t){switch(ts(t),t.tag){case 1:return Ai(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ti),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ao),null;case 4:return io(),null;case 10:return xs(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Aa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Pa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Xs.current);var s,o=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),o=[];break;case"select":i=R({},i,{value:void 0}),r=R({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ja=!1,$a=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Xa=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:$a||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!$a&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ec(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?($a=(r=$a)||null!==n.memoizedState,fl(e,t,n),$a=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(s(160));pl(o,a,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Ec(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),be(l,a);var u=be(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":Y(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Ec(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Ec(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=$e())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($a=(u=$a)||d,gl(t,e),$a=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xa=e,d=e.child;null!==d;){for(h=Xa=d;null!==Xa;){switch(p=(f=Xa).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Xa=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Ec(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){Ec(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Xa=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var i=Xa,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ja;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||$a;a=Ja;var c=$a;if(Ja=o,($a=l)&&!c)for(Xa=i;null!==Xa;)l=(o=Xa).child,22===o.tag&&null!==o.memoizedState?Cl(i):null!==l?(l.return=o,Xa=l):Cl(i);for(;null!==s;)Xa=s,wl(s,t,n),s=s.sibling;Xa=i,Ja=a,$a=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Xa=s):_l(e)}}function _l(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$a||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$a)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}$a||512&t.flags&&sl(t)}catch(f){Ec(t,t.return,f)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function xl(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function Cl(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var s=t.return;try{sl(t)}catch(l){Ec(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){Ec(t,o,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var Sl,El=Math.ceil,kl=w.ReactCurrentDispatcher,Il=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Nl=0,Ll=null,jl=null,Al=0,Ol=0,Pl=Si(0),Dl=0,Ml=null,Rl=0,Fl=0,Vl=0,Ul=null,Bl=null,zl=0,ql=1/0,Hl=null,Wl=!1,Gl=null,Kl=null,Ql=!1,Zl=null,Jl=0,$l=0,Yl=null,Xl=-1,ec=0;function tc(){return 0!==(6&Nl)?$e():-1!==Xl?Xl:Xl=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Al?Al&-Al:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<$l)throw $l=0,Yl=null,Error(s(185));vt(e,n,r),0!==(2&Nl)&&e===Ll||(e===Ll&&(0===(2&Nl)&&(Fl|=n),4===Dl&&lc(e,Al)),ic(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(ql=$e()+500,Vi&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=ht(e,e===Ll?Al:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),oi((function(){0===(6&Nl)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Lc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Xl=-1,ec=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ll?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Nl;Nl|=2;var o=mc();for(Ll===e&&Al===t||(Hl=null,ql=$e()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}_s(),kl.current=o,Nl=i,null!==jl?t=0:(Ll=null,Al=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ml,fc(e,0),lc(e,r),ic(e,$e()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ml,fc(e,0),lc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,Bl,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=zl+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Bl,Hl),t);break}xc(e,Bl,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Bl,Hl),r);break}xc(e,Bl,Hl);break;default:throw Error(s(329))}}}return ic(e,$e()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bl,Bl=n,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lc(e,t){for(t&=~Vl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nl))throw Error(s(327));Cc();var t=ht(e,0);if(0===(1&t))return ic(e,$e()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,fc(e,0),lc(e,t),ic(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bl,Hl),ic(e,$e()),null}function uc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(ql=$e()+500,Vi&&zi())}}function dc(e){null!==Zl&&0===Zl.tag&&0===(6&Nl)&&Cc();var t=Nl;Nl|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Nl=t))&&zi()}}function hc(){Ol=Pl.current,Ei(Pl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==jl)for(n=jl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ei(Ni),Ei(Ti),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(ao);break;case 10:xs(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ll=e,jl=e=Pc(e.current,null),Al=Ol=t,Dl=0,Ml=null,Vl=Fl=Rl=0,Bl=Ul=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(r=(n=ks[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}ks=null}return e}function pc(e,t){for(;;){var n=jl;try{if(_s(),ho.current=oa,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,vo=go=mo=null,bo=!1,wo=0,Il.current=null,null===n||null===n.return){Dl=1,Ml=t,jl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(o,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),ps(ua(c,l));break e}}o=c=ua(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[o]:Ul.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,pa(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}_c(n)}catch(w){t=w,jl===n&&null!==n&&(jl=n=n.return);continue}break}}function mc(){var e=kl.current;return kl.current=oa,null===e?oa:e}function gc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Ll||0===(268435455&Rl)&&0===(268435455&Fl)||lc(Ll,Al)}function vc(e,t){var n=Nl;Nl|=2;var r=mc();for(Ll===e&&Al===t||(Hl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(_s(),Nl=n,kl.current=r,null!==jl)throw Error(s(261));return Ll=null,Al=0,Dl}function yc(){for(;null!==jl;)wc(jl)}function bc(){for(;null!==jl&&!Ze();)wc(jl)}function wc(e){var t=Sl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?_c(e):jl=t,Il.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Ol)))return void(jl=n)}else{if(null!==(n=Za(n,t)))return n.flags&=32767,void(jl=n);if(null===e)return Dl=6,void(jl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(jl=t);jl=t=e}while(null!==t);0===Dl&&(Dl=5)}function xc(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{Cc()}while(null!==Zl);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Ll&&(jl=Ll=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Lc(tt,(function(){return Cc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tl.transition,Tl.transition=null;var a=bt;bt=1;var l=Nl;Nl|=4,Il.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(_){Ec(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Je(),Nl=l,bt=a,Tl.transition=o}else e.current=n;if(Ql&&(Ql=!1,Zl=e,Jl=i),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Gl,Gl=null,e;0!==(1&Jl)&&0!==e.tag&&Cc(),o=e.pendingLanes,0!==(1&o)?e===Yl?$l++:($l=0,Yl=e):$l=0,zi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function Cc(){if(null!==Zl){var e=wt(Jl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,Jl=0,0!==(6&Nl))throw Error(s(331));var i=Nl;for(Nl|=4,Xa=e.current;null!==Xa;){var o=Xa,a=o.child;if(0!==(16&Xa.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xa=u;null!==Xa;){var d=Xa;switch(d.tag){case 0:case 11:case 15:rl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Xa=h;else for(;null!==Xa;){var f=(d=Xa).sibling,p=d.return;if(ol(d),d===u){Xa=null;break}if(null!==f){f.return=p,Xa=f;break}Xa=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xa=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(o=Xa).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Xa=y;break e}Xa=o.return}}var b=e.current;for(Xa=b;null!==Xa;){var w=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Xa=w;else e:for(a=b;null!==Xa;){if(0!==(2048&(l=Xa).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(x){Ec(l,l.return,x)}if(l===a){Xa=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Xa=_;break e}Xa=l.return}}if(Nl=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function Sc(e,t,n){e=Ps(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Ps(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ll===e&&(Al&n)===n&&(4===Dl||3===Dl&&(130023424&Al)===Al&&500>$e()-zl?fc(e,0):Vl|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ns(e,t))&&(vt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ic(e,n)}function Lc(e,t){return Ke(e,t)}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new jc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Oc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case C:return Mc(n.children,i,o,t);case S:a=8,i|=8;break;case E:return(e=Ac(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Ac(13,n,t,i)).elementType=N,e.lanes=o,e;case L:return(e=Ac(19,n,t,i)).elementType=L,e.lanes=o,e;case O:return Rc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case I:a=9;break e;case T:a=11;break e;case j:a=14;break e;case A:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ac(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,s,o,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ac(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},js(s),e}function zc(e){if(!e)return Ii;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Di(e,n,t)}return t}function qc(e,t,n,r,i,s,o,a,l){return(e=Bc(n,r,!0,e,0,s,0,a,l)).context=zc(null),n=e.current,(s=Os(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ps(n,s,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,s=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Os(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ps(i,t,o))&&(rc(e,i,o,s),Ds(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:La(t),fs();break;case 5:so(t);break;case 1:Ai(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(ki(ao,1&ao.current),null!==(e=Wa(e,t,n))?e.sibling:null);ki(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Ea(e,t,n)}return Wa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,is&&0!==(1048576&t.flags)&&Xi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=ji(t,Ti.current);Ss(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,js(t),i.updater=Bs,t.stateNode=i,i._reactInternals=t,Ws(t,r,e,n),t=Na(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===j)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Ia(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=Ca(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(La(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,As(e,t),Rs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=ja(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=ja(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=$s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Wa(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),ka(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Fa(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Js(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(vs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=Wa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Os(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Cs(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Cs(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ss(t,n),r=r(i=Es(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Ca(e,t,r,i=gs(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Ha(e,t),t.tag=1,Ai(r)?(e=!0,Mi(t)):e=!1,Ss(t,n),qs(t,r,i),Ws(t,r,i,n),Na(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return Ea(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Wc(o);a.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Wc(o);s.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),dc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),dc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(o)}Jc.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Jc.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Hc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Rt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,$e()),0===(6&Nl)&&(ql=$e()+500,zi()))}break;case 13:dc((function(){var t=Ns(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},Ct=function(e){if(13===e.tag){var t=nc(e),n=Ns(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));K(r),Y(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uc,Ne=dc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,_i,ke,Ie,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},969:(e,t,n)=>{"use strict";var r,i=n(381),s=(r=i)&&r.__esModule?r:{default:r};var o={tags:function(e){var t=e.id,n=e.events,r=e.dataLayer,i=e.dataLayerName,o=e.preview,a="&gtm_auth="+e.auth,l="&gtm_preview="+o;return t||(0,s.default)("GTM Id is required"),{iframe:'\n      <iframe src="https://www.googletagmanager.com/ns.html?id='+t+a+l+'&gtm_cookies_win=x"\n        height="0" width="0" style="display:none;visibility:hidden" id="tag-manager"></iframe>',script:"\n      (function(w,d,s,l,i){w[l]=w[l]||[];\n        w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js', "+JSON.stringify(n).slice(1,-1)+"});\n        var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';\n        j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl+'"+a+l+"&gtm_cookies_win=x';\n        f.parentNode.insertBefore(j,f);\n      })(window,document,'script','"+i+"','"+t+"');",dataLayerVar:this.dataLayer(r,i)}},dataLayer:function(e,t){return"\n      window."+t+" = window."+t+" || [];\n      window."+t+".push("+JSON.stringify(e)+")"}};e.exports=o},419:(e,t,n)=>{"use strict";var r,i=n(969),s=(r=i)&&r.__esModule?r:{default:r};var o={dataScript:function(e){var t=document.createElement("script");return t.innerHTML=e,t},gtm:function(e){var t=s.default.tags(e);return{noScript:function(){var e=document.createElement("noscript");return e.innerHTML=t.iframe,e},script:function(){var e=document.createElement("script");return e.innerHTML=t.script,e},dataScript:this.dataScript(t.dataLayerVar)}},initialize:function(e){var t=e.gtmId,n=e.events,r=void 0===n?{}:n,i=e.dataLayer,s=e.dataLayerName,o=void 0===s?"dataLayer":s,a=e.auth,l=void 0===a?"":a,c=e.preview,u=void 0===c?"":c,d=this.gtm({id:t,events:r,dataLayer:i||void 0,dataLayerName:o,auth:l,preview:u});i&&document.head.appendChild(d.dataScript),document.head.insertBefore(d.script(),document.head.childNodes[0]),document.body.insertBefore(d.noScript(),document.body.childNodes[0])},dataLayer:function(e){var t=e.dataLayer,n=e.dataLayerName,r=void 0===n?"dataLayer":n;if(window[r])return window[r].push(t);var i=s.default.dataLayer(t,r),o=this.dataScript(i);document.head.insertBefore(o,document.head.childNodes[0])}};e.exports=o},264:(e,t,n)=>{"use strict";var r,i=n(419),s=(r=i)&&r.__esModule?r:{default:r};e.exports=s.default},381:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){console.warn("[react-gtm]",e)}},504:(e,t,n)=>{e.exports=n(269)},269:(e,t,n)=>{"use strict";var r,i=(r=n(791))&&"object"==typeof r&&"default"in r?r.default:r,s=n(164);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){e.prototype=Object.create(t.prototype),function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],s=Object.getOwnPropertyDescriptor(t,i);s&&s.configurable&&void 0===e[i]&&Object.defineProperty(e,i,s)}}(e.prototype.constructor=e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(e,t,n,r,i,s,o,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}};function u(e,t,n){if("selectionStart"in e&&"selectionEnd"in e)e.selectionStart=t,e.selectionEnd=n;else{var r=e.createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n-t),r.select()}}var d={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};function h(e,t,n){var r="",i="",s=null,o=[];if(void 0===t&&(t="_"),null==n&&(n=d),!e||"string"!=typeof e)return{maskChar:t,formatChars:n,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var a=!1;return e.split("").forEach((function(e){a=!a&&"\\"===e||(a||!n[e]?(o.push(r.length),r.length===o.length-1&&(i+=e)):s=r.length+1,r+=e,!1)})),{maskChar:t,formatChars:n,prefix:i,mask:r,lastEditablePosition:s,permanents:o}}function f(e,t){return-1!==e.permanents.indexOf(t)}function p(e,t,n){var r=e.mask,i=e.formatChars;if(!n)return!1;if(f(e,t))return r[t]===n;var s=i[r[t]];return new RegExp(s).test(n)}function m(e,t){return t.split("").every((function(t,n){return f(e,n)||!p(e,n,t)}))}function g(e,t){var n=e.maskChar,r=e.prefix;if(!n){for(;t.length>r.length&&f(e,t.length-1);)t=t.slice(0,t.length-1);return t.length}for(var i=r.length,s=t.length;s>=r.length;s--){var o=t[s];if(!f(e,s)&&p(e,s,o)){i=s+1;break}}return i}function v(e,t){return g(e,t)===e.mask.length}function y(e,t){var n=e.maskChar,r=e.mask,i=e.prefix;if(!n){for((t=b(e,"",t,0)).length<i.length&&(t=i);t.length<r.length&&f(e,t.length);)t+=r[t.length];return t}if(t)return b(e,y(e,""),t,0);for(var s=0;s<r.length;s++)f(e,s)?t+=r[s]:t+=n;return t}function b(e,t,n,r){var i=e.mask,s=e.maskChar,o=e.prefix,a=n.split(""),l=v(e,t);return!s&&r>t.length&&(t+=i.slice(t.length,r)),a.every((function(n){for(;u=n,f(e,c=r)&&u!==i[c];){if(r>=t.length&&(t+=i[r]),a=n,s&&f(e,r)&&a===s)return!0;if(++r>=i.length)return!1}var a,c,u;return!p(e,r,n)&&n!==s||(r<t.length?t=s||l||r<o.length?t.slice(0,r)+n+t.slice(r+1):(t=t.slice(0,r)+n+t.slice(r),y(e,t)):s||(t+=n),++r<i.length)})),t}function w(e,t){for(var n=e.mask,r=t;r<n.length;++r)if(!f(e,r))return r;return null}function _(e){return e||0===e?e+"":""}function x(e,t,n,r,i){var s=e.mask,o=e.prefix,a=e.lastEditablePosition,l=t,c="",u=0,d=0,h=Math.min(i.start,n.start);return n.end>i.start?d=(u=function(e,t,n,r){var i=e.mask,s=e.maskChar,o=n.split(""),a=r;return o.every((function(t){for(;o=t,f(e,n=r)&&o!==i[n];)if(++r>=i.length)return!1;var n,o;return(p(e,r,t)||t===s)&&r++,r<i.length})),r-a}(e,0,c=l.slice(i.start,n.end),h))?i.length:0:l.length<r.length&&(d=r.length-l.length),l=r,d&&(1!==d||i.length||(h=i.start===n.start?w(e,n.start):function(e,t){for(var n=t;0<=n;--n)if(!f(e,n))return n;return null}(e,n.start)),l=function(e,t,n,r){var i=n+r,s=e.maskChar,o=e.mask,a=e.prefix,l=t.split("");if(s)return l.map((function(t,r){return r<n||i<=r?t:f(e,r)?o[r]:s})).join("");for(var c=i;c<l.length;c++)f(e,c)&&(l[c]="");return n=Math.max(a.length,n),l.splice(n,i-n),t=l.join(""),y(e,t)}(e,l,h,d)),l=b(e,l,c,h),(h+=u)>=s.length?h=s.length:h<o.length&&!u?h=o.length:h>=o.length&&h<a&&u&&(h=w(e,h)),c||(c=null),{value:l=y(e,l),enteredString:c,selection:{start:h,end:h}}}function C(e){return"function"==typeof e}function S(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function E(e){return(S()?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame:function(){return setTimeout(e,1e3/60)})(e)}function k(e){(S()||clearTimeout)(e)}var I=function(e){function t(t){var n=e.call(this,t)||this;n.focused=!1,n.mounted=!1,n.previousSelection=null,n.selectionDeferId=null,n.saveSelectionLoopDeferId=null,n.saveSelectionLoop=function(){n.previousSelection=n.getSelection(),n.saveSelectionLoopDeferId=E(n.saveSelectionLoop)},n.runSaveSelectionLoop=function(){null===n.saveSelectionLoopDeferId&&n.saveSelectionLoop()},n.stopSaveSelectionLoop=function(){null!==n.saveSelectionLoopDeferId&&(k(n.saveSelectionLoopDeferId),n.saveSelectionLoopDeferId=null,n.previousSelection=null)},n.getInputDOMNode=function(){if(!n.mounted)return null;var e=s.findDOMNode(l(l(n))),t="undefined"!=typeof window&&e instanceof window.Element;if(e&&!t)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},n.getInputValue=function(){var e=n.getInputDOMNode();return e?e.value:null},n.setInputValue=function(e){var t=n.getInputDOMNode();t&&(n.value=e,t.value=e)},n.setCursorToEnd=function(){var e=g(n.maskOptions,n.value),t=w(n.maskOptions,e);null!==t&&n.setCursorPosition(t)},n.setSelection=function(e,t,r){void 0===r&&(r={});var i=n.getInputDOMNode(),s=n.isFocused();i&&s&&(r.deferred||u(i,e,t),null!==n.selectionDeferId&&k(n.selectionDeferId),n.selectionDeferId=E((function(){n.selectionDeferId=null,u(i,e,t)})),n.previousSelection={start:e,end:t,length:Math.abs(t-e)})},n.getSelection=function(){return function(e){var t=0,n=0;if("selectionStart"in e&&"selectionEnd"in e)t=e.selectionStart,n=e.selectionEnd;else{var r=document.selection.createRange();r.parentElement()===e&&(t=-r.moveStart("character",-e.value.length),n=-r.moveEnd("character",-e.value.length))}return{start:t,end:n,length:n-t}}(n.getInputDOMNode())},n.getCursorPosition=function(){return n.getSelection().start},n.setCursorPosition=function(e){n.setSelection(e,e)},n.isFocused=function(){return n.focused},n.getBeforeMaskedValueChangeConfig=function(){var e=n.maskOptions,t=e.mask,r=e.maskChar,i=e.permanents,s=e.formatChars;return{mask:t,maskChar:r,permanents:i,alwaysShowMask:!!n.props.alwaysShowMask,formatChars:s}},n.isInputAutofilled=function(e,t,r,i){var s=n.getInputDOMNode();try{if(s.matches(":-webkit-autofill"))return!0}catch(c){}return!n.focused||i.end<r.length&&t.end===e.length},n.onChange=function(e){var t=l(l(n)).beforePasteState,r=l(l(n)).previousSelection,i=n.props.beforeMaskedValueChange,s=n.getInputValue(),o=n.value,a=n.getSelection();n.isInputAutofilled(s,a,o,r)&&(o=y(n.maskOptions,""),r={start:0,end:0,length:0}),t&&(r=t.selection,o=t.value,a={start:r.start+s.length,end:r.start+s.length,length:0},s=o.slice(0,r.start)+s+o.slice(r.end),n.beforePasteState=null);var c=x(n.maskOptions,s,a,o,r),u=c.enteredString,d=c.selection,h=c.value;if(C(i)){var f=i({value:h,selection:d},{value:o,selection:r},u,n.getBeforeMaskedValueChangeConfig());h=f.value,d=f.selection}n.setInputValue(h),C(n.props.onChange)&&n.props.onChange(e),n.isWindowsPhoneBrowser?n.setSelection(d.start,d.end,{deferred:!0}):n.setSelection(d.start,d.end)},n.onFocus=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions,i=r.mask,s=r.prefix;if(n.focused=!0,n.mounted=!0,i){if(n.value)g(n.maskOptions,n.value)<n.maskOptions.mask.length&&n.setCursorToEnd();else{var o=y(n.maskOptions,s),a=y(n.maskOptions,o),l=g(n.maskOptions,a),c=w(n.maskOptions,l),u={start:c,end:c};if(C(t)){var d=t({value:a,selection:u},{value:n.value,selection:null},null,n.getBeforeMaskedValueChangeConfig());a=d.value,u=d.selection}var h=a!==n.getInputValue();h&&n.setInputValue(a),h&&C(n.props.onChange)&&n.props.onChange(e),n.setSelection(u.start,u.end)}n.runSaveSelectionLoop()}C(n.props.onFocus)&&n.props.onFocus(e)},n.onBlur=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions.mask;if(n.stopSaveSelectionLoop(),n.focused=!1,r&&!n.props.alwaysShowMask&&m(n.maskOptions,n.value)){var i="";C(t)&&(i=t({value:i,selection:null},{value:n.value,selection:n.previousSelection},null,n.getBeforeMaskedValueChangeConfig()).value);var s=i!==n.getInputValue();s&&n.setInputValue(i),s&&C(n.props.onChange)&&n.props.onChange(e)}C(n.props.onBlur)&&n.props.onBlur(e)},n.onMouseDown=function(e){if(!n.focused&&document.addEventListener){n.mouseDownX=e.clientX,n.mouseDownY=e.clientY,n.mouseDownTime=(new Date).getTime();document.addEventListener("mouseup",(function e(t){if(document.removeEventListener("mouseup",e),n.focused){var r=Math.abs(t.clientX-n.mouseDownX),i=Math.abs(t.clientY-n.mouseDownY),s=Math.max(r,i),o=(new Date).getTime()-n.mouseDownTime;(s<=10&&o<=200||s<=5&&o<=300)&&n.setCursorToEnd()}}))}C(n.props.onMouseDown)&&n.props.onMouseDown(e)},n.onPaste=function(e){C(n.props.onPaste)&&n.props.onPaste(e),e.defaultPrevented||(n.beforePasteState={value:n.getInputValue(),selection:n.getSelection()},n.setInputValue(""))},n.handleRef=function(e){null==n.props.children&&C(n.props.inputRef)&&n.props.inputRef(e)};var r=t.mask,i=t.maskChar,o=t.formatChars,a=t.alwaysShowMask,c=t.beforeMaskedValueChange,d=t.defaultValue,f=t.value;n.maskOptions=h(r,i,o),null==d&&(d=""),null==f&&(f=d);var p=_(f);if(n.maskOptions.mask&&(a||p)&&(p=y(n.maskOptions,p),C(c))){var v=t.value;null==t.value&&(v=d),p=c({value:p,selection:null},{value:v=_(v),selection:null},null,n.getBeforeMaskedValueChangeConfig()).value}return n.value=p,n}a(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=function(){var e=new RegExp("windows","i"),t=new RegExp("phone","i"),n=navigator.userAgent;return e.test(n)&&t.test(n)}(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},n.componentDidUpdate=function(){var e=this.previousSelection,t=this.props,n=t.beforeMaskedValueChange,r=t.alwaysShowMask,i=t.mask,s=t.maskChar,o=t.formatChars,a=this.maskOptions,l=r||this.isFocused(),c=null!=this.props.value,u=c?_(this.props.value):this.value,d=e?e.start:null;if(this.maskOptions=h(i,s,o),this.maskOptions.mask){!a.mask&&this.isFocused()&&this.runSaveSelectionLoop();var f=this.maskOptions.mask&&this.maskOptions.mask!==a.mask;if(a.mask||c||(u=this.getInputValue()),(f||this.maskOptions.mask&&(u||l))&&(u=y(this.maskOptions,u)),f){var p=g(this.maskOptions,u);(null===d||p<d)&&(d=v(this.maskOptions,u)?p:w(this.maskOptions,p))}!this.maskOptions.mask||!m(this.maskOptions,u)||l||c&&this.props.value||(u="");var b={start:d,end:d};if(C(n)){var x=n({value:u,selection:b},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());u=x.value,b=x.selection}this.value=u;var S=this.getInputValue()!==this.value;S?(this.setInputValue(this.value),this.forceUpdate()):f&&this.forceUpdate();var E=!1;null!=b.start&&null!=b.end&&(E=!e||e.start!==b.start||e.end!==b.end),(E||S)&&this.setSelection(b.start,b.end)}else a.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},n.componentWillUnmount=function(){this.mounted=!1,null!==this.selectionDeferId&&k(this.selectionDeferId),this.stopSaveSelectionLoop()},n.render=function(){var e,t=this.props,n=(t.mask,t.alwaysShowMask,t.maskChar,t.formatChars,t.inputRef,t.beforeMaskedValueChange,t.children),r=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(t,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(n){C(n)||c(!1);var s=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],a=o({},r);s.forEach((function(e){return delete a[e]})),e=n(a),s.filter((function(t){return null!=e.props[t]&&e.props[t]!==r[t]})).length&&c(!1)}else e=i.createElement("input",o({ref:this.handleRef},r));var l={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(r.disabled||r.readOnly||(l.onChange=this.onChange,l.onPaste=this.onPaste,l.onMouseDown=this.onMouseDown),null!=r.value&&(l.value=this.value)),e=i.cloneElement(e,l)},t}(i.Component);e.exports=I},459:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case s:case a:case o:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:(e,t,n)=>{"use strict";n(459)},374:(e,t,n)=>{"use strict";var r=n(791),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,C={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:C.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+T(l,0):s,_(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",_(e))for(var c=0;c<e.length;c++){var u=s+T(a=e[c],c);l+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=s+T(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function L(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},O={transition:null},P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:C};t.Children={map:L,forEach:function(e,t,n){L(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=C.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,O(x);else{var t=r(u);null!==t&&P(_,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&P(_,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,S=!1,E=null,k=-1,I=5,T=-1;function N(){return!(t.unstable_now()-T<I)}function L(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?C():(S=!1,E=null)}}else S=!1}if("function"===typeof b)C=function(){b(L)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,A=j.port2;j.port1.onmessage=L,C=function(){A.postMessage(null)}}else C=function(){v(L,0)};function O(e){E=e,S||(S=!0,C())}function P(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(k),k=-1):g=!0,P(_,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,O(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},561:(e,t,n)=>{"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useState,o=r.useEffect,a=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return a((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),o((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},595:(e,t,n)=>{"use strict";var r=n(791),i=n(248);var s="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=a(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c((function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return a=t}return a=e}if(t=a,s(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,a=n)}var o,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var f=o(e,d[0],d[1]);return l((function(){h.hasValue=!0,h.value=f}),[f]),u(f),f}},248:(e,t,n)=>{"use strict";e.exports=n(561)},327:(e,t,n)=>{"use strict";e.exports=n(595)},418:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,s(n)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".cfe4fae0.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="polar-pelmeni-frontend:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={179:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkpolar_pelmeni_frontend=self.webpackChunkpolar_pelmeni_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>ko,hasStandardBrowserEnv:()=>Io,hasStandardBrowserWebWorkerEnv:()=>No});var t={};n.r(t),n.d(t,{FirebaseError:()=>qh,SDK_VERSION:()=>Kf,_DEFAULT_ENTRY_NAME:()=>Df,_addComponent:()=>Vf,_addOrOverwriteComponent:()=>Uf,_apps:()=>Rf,_clearComponents:()=>Hf,_components:()=>Ff,_getProvider:()=>zf,_registerComponent:()=>Bf,_removeServiceInstance:()=>qf,deleteApp:()=>$f,getApp:()=>Zf,getApps:()=>Jf,initializeApp:()=>Qf,onLog:()=>Xf,registerVersion:()=>Yf,setLogLevel:()=>ep});var r,i=n(791),s=n.t(i,2),o=n(250);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,p=r.Pop,m=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){p=r.Pop;let e=v(),t=null==e?null:e-g;g=e,m&&m({action:p,location:w.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(a({},u.state,{idx:g}),""));let w={get action(){return p},get location(){return e(s,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),m=e,()=>{s.removeEventListener(l,y),m=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=r.Push;let i=h(w.location,e,t);n&&n(i,e),g=v()+1;let a=d(i,g),l=w.createHref(i);try{u.pushState(a,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}o&&m&&m({action:p,location:w.location,delta:1})},replace:function(e,t){p=r.Replace;let i=h(w.location,e,t);n&&n(i,e),g=v();let s=d(i,g),a=w.createHref(i);u.replaceState(s,"",a),o&&m&&m({action:p,location:w.location,delta:0})},go:e=>u.go(e)};return w}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){void 0===n&&(n="/");let r=j(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;let i=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o)s=T(i[o],L(r));return s}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(c(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=M([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),y(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:I(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=b(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:\w+$/,_=3,x=2,C=1,S=10,E=-2,k=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=E),t&&(r+=x),n.filter((e=>!k(e))).reduce(((e,t)=>e+(w.test(t)?_:""===t?C:S)),r)}function T(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=N({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:M([i,c.pathname]),pathnameBase:R(M([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=M([i,c.pathnameBase]))}return s}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return u(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function L(e){try{return decodeURI(e)}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function P(e,t){let n=O(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function D(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=a({},e),c(!i.pathname||!i.pathname.includes("?"),A("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),A("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),A("#","search","hash",i)));let s,o=""===e||""===i.pathname,l=o?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:F(r),hash:V(i)}}(i,s),d=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],z=(new Set(B),["get",...B]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const H=i.createContext(null);const W=i.createContext(null);const G=i.createContext(null);const K=i.createContext(null);const Q=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=i.createContext(null);function J(){return null!=i.useContext(K)}function $(){return J()||c(!1),i.useContext(K).location}function Y(e){i.useContext(G).static||i.useLayoutEffect(e)}function X(){let{isDataRoute:e}=i.useContext(Q);return e?function(){let{router:e}=ue(le.UseNavigateStable),t=he(ce.UseNavigateStable),n=i.useRef(!1);Y((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},i)))}),[e,t]);return r}():function(){J()||c(!1);let e=i.useContext(H),{basename:t,future:n,navigator:r}=i.useContext(G),{matches:s}=i.useContext(Q),{pathname:o}=$(),a=JSON.stringify(P(s,n.v7_relativeSplatPath)),l=i.useRef(!1);Y((()=>{l.current=!0}));let u=i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=D(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:M([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,a,o,e]);return u}()}function ee(){let{matches:e}=i.useContext(Q),t=e[e.length-1];return t?t.params:{}}function te(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(G),{matches:s}=i.useContext(Q),{pathname:o}=$(),a=JSON.stringify(P(s,r.v7_relativeSplatPath));return i.useMemo((()=>D(e,JSON.parse(a),o,"path"===n)),[e,a,o,n])}function ne(e,t,n,s){J()||c(!1);let{navigator:o}=i.useContext(G),{matches:a}=i.useContext(Q),l=a[a.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=$();if(t){var m;let e="string"===typeof t?p(t):t;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||c(!1),h=e}else h=f;let g=h.pathname||"/",y=v(e,{pathname:"/"===d?g:g.slice(d.length)||"/"});let b=ae(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([d,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,s);return t&&b?i.createElement(K.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},b):b}function re(){let e=function(){var e;let t=i.useContext(Z),n=de(ce.UseRouteError),r=he(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const ie=i.createElement(re,null);class se extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Q.Provider,{value:this.props.routeContext},i.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(H);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Q.Provider,{value:t},r)}function ae(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,a=d>=0?a.slice(0,d+1):[a[0]];break}}}return a.reduceRight(((e,r,s)=>{let o,c=!1,h=null,f=null;var p;n&&(o=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ie,u&&(d<0&&0===s?(p="route-fallback",!1||fe[p]||(fe[p]=!0),c=!0,f=null):d===s&&(c=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?h:c?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(oe,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(se,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let t=i.useContext(H);return t||c(!1),t}function de(e){let t=i.useContext(W);return t||c(!1),t}function he(e){let t=function(e){let t=i.useContext(Q);return t||c(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const fe={};s.startTransition;function pe(e){c(!1)}function me(e){let{basename:t="/",children:n=null,location:s,navigationType:o=r.Pop,navigator:a,static:l=!1,future:u}=e;J()&&c(!1);let d=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:d,navigator:a,static:l,future:q({v7_relativeSplatPath:!1},u)})),[d,u,a,l]);"string"===typeof s&&(s=p(s));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:y="default"}=s,b=i.useMemo((()=>{let e=j(f,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:o}}),[d,f,m,g,v,y,o]);return null==b?null:i.createElement(G.Provider,{value:h},i.createElement(K.Provider,{children:n,value:b}))}function ge(e){let{children:t,location:n}=e;return ne(ve(t),n)}new Promise((()=>{}));i.Component;function ve(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,ve(e.props.children,s));e.type!==pe&&c(!1),e.props.index&&e.props.children&&c(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ve(e.props.children,s)),n.push(o)})),n}function ye(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"===typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var be={};function we(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:be}var _e=Object.assign,xe=Object.getOwnPropertyDescriptor,Ce=Object.defineProperty,Se=Object.prototype,Ee=[];Object.freeze(Ee);var ke={};Object.freeze(ke);var Ie="undefined"!==typeof Proxy,Te=Object.toString();function Ne(){Ie||ye("Proxy not available")}function Le(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var je=function(){};function Ae(e){return"function"===typeof e}function Oe(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function Pe(e){return null!==e&&"object"===typeof e}function De(e){if(!Pe(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"===typeof n&&n.toString()===Te}function Me(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function Re(e,t,n){Ce(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Fe(e,t,n){Ce(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Ve(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return Pe(e)&&!0===e[n]}}function Ue(e){return e instanceof Map}function Be(e){return e instanceof Set}var ze="undefined"!==typeof Object.getOwnPropertySymbols;var qe="undefined"!==typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:ze?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function He(e){return null===e?null:"object"===typeof e?""+e:e}function We(e,t){return Se.hasOwnProperty.call(e,t)}var Ge=Object.getOwnPropertyDescriptors||function(e){var t={};return qe(e).forEach((function(n){t[n]=xe(e,n)})),t};function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tt(r.key),r)}}function Qe(e,t,n){return t&&Ke(e.prototype,t),n&&Ke(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ze.apply(this,arguments)}function Je(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$e(e,t)}function $e(e,t){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$e(e,t)}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function et(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tt(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var nt=Symbol("mobx-stored-annotations");function rt(e){return Object.assign((function(t,n){if(st(n))return e.decorate_20223_(t,n);it(t,n,e)}),e)}function it(e,t,n){We(e,nt)||Re(e,nt,Ze({},e[nt])),function(e){return e.annotationType_===ft}(n)||(e[nt][t]=n)}function st(e){return"object"==typeof e&&"string"==typeof e.kind}var ot=Symbol("mobx administration"),at=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=hn.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return Rn(this)},t.reportChanged=function(){Dn(),Fn(this),Mn()},t.toString=function(){return this.name_},e}(),lt=Ve("Atom",at);function ct(e,t,n){void 0===t&&(t=je),void 0===n&&(n=je);var r,i=new at(e);return t!==je&&lr(sr,i,t,r),n!==je&&ar(i,n),i}var ut={identity:function(e,t){return e===t},structural:function(e,t){return ji(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e===1/t:e!==e&&t!==t},shallow:function(e,t){return ji(e,t,1)}};function dt(e,t,n){return Sr(e)?e:Array.isArray(e)?Zt.array(e,{name:n}):De(e)?Zt.object(e,void 0,{name:n}):Ue(e)?Zt.map(e,{name:n}):Be(e)?Zt.set(e,{name:n}):"function"!==typeof e||tr(e)||xr(e)?e:Me(e)?wr(e):er(n,e)}function ht(e){return e}var ft="override";function pt(e,t){return{annotationType_:e,options_:t,make_:mt,extend_:gt,decorate_20223_:vt}}function mt(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(tr(n.value))return 1;var s=yt(e,this,t,n,!1);return Ce(r,t,s),2}function gt(e,t,n,r){var i=yt(e,this,t,n);return e.defineProperty_(t,i,r)}function vt(e,t){var n=t.kind,r=t.name,i=t.addInitializer,s=this;if("field"!=n){var o;if("method"==n)return tr(e)||(e=function(e){var t,n,i,o;return on(null!=(t=null==(n=s.options_)?void 0:n.name)?t:r.toString(),e,null!=(i=null==(o=s.options_)?void 0:o.autoAction)&&i)}(e)),null!=(o=this.options_)&&o.bound&&i((function(){var e=this,t=e[r].bind(e);t.isMobxAction=!0,e[r]=t})),e;ye("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):\n'"+s.annotationType_+"' can only be used on properties with a function value.")}else i((function(){it(this,r,s)}))}function yt(e,t,n,r,i){var s,o,a,l,c,u,d,h;void 0===i&&(i=jn.safeDescriptors),h=r,t.annotationType_,h.value;var f,p=r.value;null!=(s=t.options_)&&s.bound&&(p=p.bind(null!=(f=e.proxy_)?f:e.target_));return{value:on(null!=(o=null==(a=t.options_)?void 0:a.name)?o:n.toString(),p,null!=(l=null==(c=t.options_)?void 0:c.autoAction)&&l,null!=(u=t.options_)&&u.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function bt(e,t){return{annotationType_:e,options_:t,make_:wt,extend_:_t,decorate_20223_:xt}}function wt(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!We(e.target_,t)||!xr(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(xr(n.value))return 1;var s=Ct(e,this,t,n,!1,!1);return Ce(r,t,s),2}function _t(e,t,n,r){var i,s=Ct(e,this,t,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,s,r)}function xt(e,t){var n;var r=t.name,i=t.addInitializer;return xr(e)||(e=wr(e)),null!=(n=this.options_)&&n.bound&&i((function(){var e=this,t=e[r].bind(e);t.isMobXFlow=!0,e[r]=t})),e}function Ct(e,t,n,r,i,s){var o;void 0===s&&(s=jn.safeDescriptors),o=r,t.annotationType_,o.value;var a,l=r.value;(xr(l)||(l=wr(l)),i)&&((l=l.bind(null!=(a=e.proxy_)?a:e.target_)).isMobXFlow=!0);return{value:l,configurable:!s||e.isPlainObject_,enumerable:!1,writable:!s}}function St(e,t){return{annotationType_:e,options_:t,make_:Et,extend_:kt,decorate_20223_:It}}function Et(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function kt(e,t,n,r){return function(e,t,n,r){t.annotationType_,r.get;0}(0,this,0,n),e.defineComputedProperty_(t,Ze({},this.options_,{get:n.get,set:n.set}),r)}function It(e,t){var n=this,r=t.name;return(0,t.addInitializer)((function(){var t=ci(this)[ot],i=Ze({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),t.values_.set(r,new pn(i))})),function(){return this[ot].getObservablePropValue_(r)}}function Tt(e,t){return{annotationType_:e,options_:t,make_:Nt,extend_:Lt,decorate_20223_:jt}}function Nt(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function Lt(e,t,n,r){var i,s;return function(e,t,n,r){t.annotationType_;0}(0,this),e.defineObservableProperty_(t,n.value,null!=(i=null==(s=this.options_)?void 0:s.enhancer)?i:dt,r)}function jt(e,t){var n=this,r=t.kind,i=t.name,s=new WeakSet;function o(e,t){var r,o,a=ci(e)[ot],l=new dn(t,null!=(r=null==(o=n.options_)?void 0:o.enhancer)?r:dt,"ObservableObject."+i.toString(),!1);a.values_.set(i,l),s.add(e)}if("accessor"==r)return{get:function(){return s.has(this)||o(this,e.get.call(this)),this[ot].getObservablePropValue_(i)},set:function(e){return s.has(this)||o(this,e),this[ot].setObservablePropValue_(i,e)},init:function(e){return s.has(this)||o(this,e),e}}}var At="true",Ot=Pt();function Pt(e){return{annotationType_:At,options_:e,make_:Dt,extend_:Mt,decorate_20223_:Rt}}function Dt(e,t,n,r){var i,s,o,a;if(n.get)return Xt.make_(e,t,n,r);if(n.set){var l=on(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!jn.safeDescriptors||e.isPlainObject_,set:l})?0:2:(Ce(r,t,{configurable:!0,set:l}),2)}if(r!==e.target_&&"function"===typeof n.value)return Me(n.value)?(null!=(a=this.options_)&&a.autoBind?wr.bound:wr).make_(e,t,n,r):(null!=(o=this.options_)&&o.autoBind?er.bound:er).make_(e,t,n,r);var c,u=!1===(null==(i=this.options_)?void 0:i.deep)?Zt.ref:Zt;"function"===typeof n.value&&null!=(s=this.options_)&&s.autoBind&&(n.value=n.value.bind(null!=(c=e.proxy_)?c:e.target_));return u.make_(e,t,n,r)}function Mt(e,t,n,r){var i,s,o;if(n.get)return Xt.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!jn.safeDescriptors||e.isPlainObject_,set:on(t.toString(),n.set)},r);"function"===typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(o=e.proxy_)?o:e.target_));return(!1===(null==(s=this.options_)?void 0:s.deep)?Zt.ref:Zt).extend_(e,t,n,r)}function Rt(e,t){ye("'"+this.annotationType_+"' cannot be used as a decorator")}var Ft={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Vt(e){return e||Ft}Object.freeze(Ft);var Ut=Tt("observable"),Bt=Tt("observable.ref",{enhancer:ht}),zt=Tt("observable.shallow",{enhancer:function(e,t,n){return void 0===e||null===e||hi(e)||Zr(e)||ni(e)||si(e)?e:Array.isArray(e)?Zt.array(e,{name:n,deep:!1}):De(e)?Zt.object(e,void 0,{name:n,deep:!1}):Ue(e)?Zt.map(e,{name:n,deep:!1}):Be(e)?Zt.set(e,{name:n,deep:!1}):void 0}}),qt=Tt("observable.struct",{enhancer:function(e,t){return ji(e,t)?t:e}}),Ht=rt(Ut);function Wt(e){return!0===e.deep?dt:!1===e.deep?ht:function(e){var t,n;return e&&null!=(t=null==(n=e.options_)?void 0:n.enhancer)?t:dt}(e.defaultDecorator)}function Gt(e,t,n){return st(t)?Ut.decorate_20223_(e,t):Oe(t)?void it(e,t,Ut):Sr(e)?e:De(e)?Zt.object(e,t,n):Array.isArray(e)?Zt.array(e,t):Ue(e)?Zt.map(e,t):Be(e)?Zt.set(e,t):"object"===typeof e&&null!==e?e:Zt.box(e,t)}_e(Gt,Ht);var Kt,Qt,Zt=_e(Gt,{box:function(e,t){var n=Vt(t);return new dn(e,Wt(n),n.name,!0,n.equals)},array:function(e,t){var n=Vt(t);return(!1===jn.useProxies||!1===n.proxy?Ei:Ur)(e,Wt(n),n.name)},map:function(e,t){var n=Vt(t);return new ti(e,Wt(n),n.name)},set:function(e,t){var n=Vt(t);return new ii(e,Wt(n),n.name)},object:function(e,t,n){return Ni((function(){return fr(!1===jn.useProxies||!1===(null==n?void 0:n.proxy)?ci({},n):function(e,t){var n,r;return Ne(),e=ci(e,t),null!=(r=(n=e[ot]).proxy_)?r:n.proxy_=new Proxy(e,Ir)}({},n),e,t)}))},ref:rt(Bt),shallow:rt(zt),deep:Ht,struct:rt(qt)}),Jt="computed",$t=St(Jt),Yt=St("computed.struct",{equals:ut.structural}),Xt=function(e,t){if(st(t))return $t.decorate_20223_(e,t);if(Oe(t))return it(e,t,$t);if(De(e))return rt(St(Jt,e));var n=De(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new pn(n)};Object.assign(Xt,$t),Xt.struct=rt(Yt);var en,tn=0,nn=1,rn=null!=(Kt=null==(Qt=xe((function(){}),"name"))?void 0:Qt.configurable)&&Kt,sn={value:"action",configurable:!0,writable:!1,enumerable:!1};function on(e,t,n,r){function i(){return an(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,i.toString=function(){return t.toString()},rn&&(sn.value=e,Ce(i,"name",sn)),i}function an(e,t,n,r,i){var s=function(e,t,n,r){var i=!1,s=0;0;var o=jn.trackingDerivation,a=!t||!o;Dn();var l=jn.allowStateChanges;a&&(Cn(),l=ln(!0));var c=En(!0),u={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:l,prevAllowStateReads_:c,notifySpy_:i,startTime_:s,actionId_:nn++,parentActionId_:tn};return tn=u.actionId_,u}(0,t);try{return n.apply(r,i)}catch(o){throw s.error_=o,o}finally{!function(e){tn!==e.actionId_&&ye(30);tn=e.parentActionId_,void 0!==e.error_&&(jn.suppressReactionErrors=!0);cn(e.prevAllowStateChanges_),kn(e.prevAllowStateReads_),Mn(),e.runAsAction_&&Sn(e.prevDerivation_);0;jn.suppressReactionErrors=!1}(s)}}function ln(e){var t=jn.allowStateChanges;return jn.allowStateChanges=e,t}function cn(e){jn.allowStateChanges=e}en=Symbol.toPrimitive;var un,dn=function(e){function t(t,n,r,i,s){var o;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===s&&(s=ut.default),(o=e.call(this,r)||this).enhancer=void 0,o.name_=void 0,o.equals=void 0,o.hasUnreportedChange_=!1,o.interceptors_=void 0,o.changeListeners_=void 0,o.value_=void 0,o.dehancer=void 0,o.enhancer=n,o.name_=r,o.equals=s,o.value_=n(t,void 0,r),o}Je(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==jn.UNCHANGED){0,this.setNewValue_(e)}},n.prepareNewValue_=function(e){if(bn(this),Tr(this)){var t=Lr(this,{object:this,type:Rr,newValue:e});if(!t)return jn.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?jn.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),jr(this)&&Or(this,{type:Rr,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return Nr(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:Rr,newValue:this.value_,oldValue:void 0}),Ar(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return He(this.get())},n[en]=function(){return this.valueOf()},t}(at);un=Symbol.toPrimitive;var hn,fn,pn=function(){function e(e){this.dependenciesState_=hn.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=hn.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new gn(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=fn.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||ye(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=on("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?ut.structural:ut.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==hn.UP_TO_DATE_)return;e.lowestObserverState_=hn.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===hn.UP_TO_DATE_&&(e.dependenciesState_=hn.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing_&&ye(32,this.name_,this.derivation),0!==jn.inBatch||0!==this.observers_.size||this.keepAlive_){if(Rn(this),yn(this)){var e=jn.trackingContext;this.keepAlive_&&!e&&(jn.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===hn.STALE_)return;e.lowestObserverState_=hn.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===hn.POSSIBLY_STALE_?t.dependenciesState_=hn.STALE_:t.dependenciesState_===hn.UP_TO_DATE_&&(e.lowestObserverState_=hn.UP_TO_DATE_)}))}(this),jn.trackingContext=e}}else yn(this)&&(this.warnAboutUntrackedRead_(),Dn(),this.value_=this.computeValue_(!1),Mn());var t=this.value_;if(vn(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter_&&ye(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else ye(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===hn.NOT_TRACKING_,n=this.computeValue_(!0),r=t||vn(e)||vn(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing_=!0;var t,n=ln(!1);if(e)t=wn(this,this.derivation,this.scope_);else if(!0===jn.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(r){t=new gn(r)}return cn(n),this.isComputing_=!1,t},t.suspend_=function(){this.keepAlive_||(_n(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return nr((function(){var s=n.get();if(!r||t){var o=Cn();e({observableKind:"computed",debugObjectName:n.name_,type:Rr,object:n,newValue:s,oldValue:i}),Sn(o)}r=!1,i=s}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return He(this.get())},t[un]=function(){return this.valueOf()},e}(),mn=Ve("ComputedValue",pn);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(hn||(hn={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(fn||(fn={}));var gn=function(e){this.cause=void 0,this.cause=e};function vn(e){return e instanceof gn}function yn(e){switch(e.dependenciesState_){case hn.UP_TO_DATE_:return!1;case hn.NOT_TRACKING_:case hn.STALE_:return!0;case hn.POSSIBLY_STALE_:for(var t=En(!0),n=Cn(),r=e.observing_,i=r.length,s=0;s<i;s++){var o=r[s];if(mn(o)){if(jn.disableErrorBoundaries)o.get();else try{o.get()}catch(a){return Sn(n),kn(t),!0}if(e.dependenciesState_===hn.STALE_)return Sn(n),kn(t),!0}}return In(e),Sn(n),kn(t),!1}}function bn(e){}function wn(e,t,n){var r=En(!0);In(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++jn.runId;var i,s=jn.trackingDerivation;if(jn.trackingDerivation=e,jn.inBatch++,!0===jn.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(o){i=new gn(o)}return jn.inBatch--,jn.trackingDerivation=s,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=hn.UP_TO_DATE_,i=0,s=e.unboundDepsCount_,o=0;o<s;o++){var a=n[o];0===a.diffValue_&&(a.diffValue_=1,i!==o&&(n[i]=a),i++),a.dependenciesState_>r&&(r=a.dependenciesState_)}n.length=i,e.newObserving_=null,s=t.length;for(;s--;){var l=t[s];0===l.diffValue_&&On(l,e),l.diffValue_=0}for(;i--;){var c=n[i];1===c.diffValue_&&(c.diffValue_=0,An(c,e))}r!==hn.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),kn(r),i}function _n(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)On(t[n],e);e.dependenciesState_=hn.NOT_TRACKING_}function xn(e){var t=Cn();try{return e()}finally{Sn(t)}}function Cn(){var e=jn.trackingDerivation;return jn.trackingDerivation=null,e}function Sn(e){jn.trackingDerivation=e}function En(e){var t=jn.allowStateReads;return jn.allowStateReads=e,t}function kn(e){jn.allowStateReads=e}function In(e){if(e.dependenciesState_!==hn.UP_TO_DATE_){e.dependenciesState_=hn.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=hn.UP_TO_DATE_}}var Tn=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Nn=!0,Ln=!1,jn=function(){var e=we();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Nn=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Tn).version&&(Nn=!1),Nn?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Tn):(setTimeout((function(){Ln||ye(35)}),1),new Tn)}();function An(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function On(e,t){e.observers_.delete(t),0===e.observers_.size&&Pn(e)}function Pn(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,jn.pendingUnobservations.push(e))}function Dn(){jn.inBatch++}function Mn(){if(0===--jn.inBatch){zn();for(var e=jn.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof pn&&n.suspend_())}jn.pendingUnobservations=[]}}function Rn(e){var t=jn.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&jn.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(0===e.observers_.size&&jn.inBatch>0&&Pn(e),!1)}function Fn(e){e.lowestObserverState_!==hn.STALE_&&(e.lowestObserverState_=hn.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===hn.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=hn.STALE_})))}var Vn=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=hn.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=fn.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,jn.pendingReactions.push(this),zn())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){Dn(),this.isScheduled_=!1;var e=jn.trackingContext;if(jn.trackingContext=this,yn(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(t){this.reportExceptionInDerivation_(t)}}jn.trackingContext=e,Mn()}},t.track=function(e){if(!this.isDisposed_){Dn();0,this.isRunning_=!0;var t=jn.trackingContext;jn.trackingContext=this;var n=wn(this,e,void 0);jn.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&_n(this),vn(n)&&this.reportExceptionInDerivation_(n.cause),Mn()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(jn.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";jn.suppressReactionErrors||console.error(n,e),jn.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Dn(),_n(this),Mn()))},t.getDisposer_=function(e){var t=this,n=function n(){t.dispose(),null==e||null==e.removeEventListener||e.removeEventListener("abort",n)};return null==e||null==e.addEventListener||e.addEventListener("abort",n),n[ot]=this,n},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1)},e}();var Un=100,Bn=function(e){return e()};function zn(){jn.inBatch>0||jn.isRunningReactions||Bn(qn)}function qn(){jn.isRunningReactions=!0;for(var e=jn.pendingReactions,t=0;e.length>0;){++t===Un&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}jn.isRunningReactions=!1}var Hn=Ve("Reaction",Vn);var Wn="action",Gn="autoAction",Kn="<unnamed action>",Qn=pt(Wn),Zn=pt("action.bound",{bound:!0}),Jn=pt(Gn,{autoAction:!0}),$n=pt("autoAction.bound",{autoAction:!0,bound:!0});function Yn(e){return function(t,n){return Ae(t)?on(t.name||Kn,t,e):Ae(n)?on(t,n,e):st(n)?(e?Jn:Qn).decorate_20223_(t,n):Oe(n)?it(t,n,e?Jn:Qn):Oe(t)?rt(pt(e?Gn:Wn,{name:t,autoAction:e})):void 0}}var Xn=Yn(!1);Object.assign(Xn,Qn);var er=Yn(!0);function tr(e){return Ae(e)&&!0===e.isMobxAction}function nr(e,t){var n,r,i,s,o;void 0===t&&(t=ke);var a,l=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(!t.scheduler&&!t.delay)a=new Vn(l,(function(){this.track(d)}),t.onError,t.requiresObservable);else{var c=ir(t),u=!1;a=new Vn(l,(function(){u||(u=!0,c((function(){u=!1,a.isDisposed_||a.track(d)})))}),t.onError,t.requiresObservable)}function d(){e(a)}return null!=(i=t)&&null!=(s=i.signal)&&s.aborted||a.schedule_(),a.getDisposer_(null==(o=t)?void 0:o.signal)}Object.assign(er,Jn),Xn.bound=rt(Zn),er.bound=rt($n);var rr=function(e){return e()};function ir(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:rr}var sr="onBO",or="onBUO";function ar(e,t,n){return lr(or,e,t,n)}function lr(e,t,n,r){var i="function"===typeof r?ki(t,n):ki(t),s=Ae(r)?r:n,o=e+"L";return i[o]?i[o].add(s):i[o]=new Set([s]),function(){var e=i[o];e&&(e.delete(s),0===e.size&&delete i[o])}}var cr="never",ur="always",dr="observed";function hr(e){!0===e.isolateGlobalState&&function(){if((jn.pendingReactions.length||jn.inBatch||jn.isRunningReactions)&&ye(36),Ln=!0,Nn){var e=we();0===--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),jn=new Tn}}();var t=e.useProxies,n=e.enforceActions;if(void 0!==t&&(jn.useProxies=t===ur||t!==cr&&"undefined"!==typeof Proxy),"ifavailable"===t&&(jn.verifyProxies=!0),void 0!==n){var r=n===ur?ur:n===dr;jn.enforceActions=r,jn.allowStateChanges=!0!==r&&r!==ur}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(jn[t]=!!e[t])})),jn.allowStateReads=!jn.observableRequiresReaction,e.reactionScheduler&&function(e){var t=Bn;Bn=function(n){return e((function(){return t(n)}))}}(e.reactionScheduler)}function fr(e,t,n,r){var i=Ge(t);return Ni((function(){var t=ci(e,r)[ot];qe(i).forEach((function(e){t.extend_(e,i[e],!n||(!(e in n)||n[e]))}))})),e}function pr(e,t){return mr(ki(e,t))}function mr(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(mr)),n}var gr=0;function vr(){this.message="FLOW_CANCELLED"}vr.prototype=Object.create(Error.prototype);var yr=bt("flow"),br=bt("flow.bound",{bound:!0}),wr=Object.assign((function(e,t){if(st(t))return yr.decorate_20223_(e,t);if(Oe(t))return it(e,t,yr);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=arguments,i=++gr,s=Xn(r+" - runid: "+i+" - init",n).apply(this,t),o=void 0,a=new Promise((function(t,n){var a=0;function l(e){var t;o=void 0;try{t=Xn(r+" - runid: "+i+" - yield "+a++,s.next).call(s,e)}catch(l){return n(l)}u(t)}function c(e){var t;o=void 0;try{t=Xn(r+" - runid: "+i+" - yield "+a++,s.throw).call(s,e)}catch(l){return n(l)}u(t)}function u(e){if(!Ae(null==e?void 0:e.then))return e.done?t(e.value):(o=Promise.resolve(e.value)).then(l,c);e.then(u,n)}e=n,l(void 0)}));return a.cancel=Xn(r+" - runid: "+i+" - cancel",(function(){try{o&&_r(o);var t=s.return(void 0),n=Promise.resolve(t.value);n.then(je,je),_r(n),e(new vr)}catch(r){e(r)}})),a};return i.isMobXFlow=!0,i}),yr);function _r(e){Ae(e.cancel)&&e.cancel()}function xr(e){return!0===(null==e?void 0:e.isMobXFlow)}function Cr(e,t){return!!e&&(void 0!==t?!!hi(e)&&e[ot].values_.has(t):hi(e)||!!e[ot]||lt(e)||Hn(e)||mn(e))}function Sr(e){return Cr(e)}function Er(e,t){void 0===t&&(t=void 0),Dn();try{return e.apply(t)}finally{Mn()}}function kr(e){return e[ot]}wr.bound=rt(br);var Ir={has:function(e,t){return kr(e).has_(t)},get:function(e,t){return kr(e).get_(t)},set:function(e,t,n){var r;return!!Oe(t)&&(null==(r=kr(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!Oe(t)&&(null==(n=kr(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=kr(e).defineProperty_(t,n))||r},ownKeys:function(e){return kr(e).ownKeys_()},preventExtensions:function(e){ye(13)}};function Tr(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function Nr(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),Le((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Lr(e,t){var n=Cn();try{for(var r=[].concat(e.interceptors_||[]),i=0,s=r.length;i<s&&((t=r[i](t))&&!t.type&&ye(14),t);i++);return t}finally{Sn(n)}}function jr(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function Ar(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),Le((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Or(e,t){var n=Cn(),r=e.changeListeners_;if(r){for(var i=0,s=(r=r.slice()).length;i<s;i++)r[i](t);Sn(n)}}var Pr=Symbol("mobx-keys");function Dr(e,t,n){return De(e)?fr(e,e,t,n):(Ni((function(){var r=ci(e,n)[ot];if(!e[Pr]){var i=Object.getPrototypeOf(e),s=new Set([].concat(qe(e),qe(i)));s.delete("constructor"),s.delete(ot),Re(i,Pr,s)}e[Pr].forEach((function(e){return r.make_(e,!t||(!(e in t)||t[e]))}))})),e)}var Mr="splice",Rr="update",Fr={get:function(e,t){var n=e[ot];return t===ot?n:"length"===t?n.getArrayLength_():"string"!==typeof t||isNaN(t)?We(Br,t)?Br[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[ot];return"length"===t&&r.setArrayLength_(n),"symbol"===typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){ye(15)}},Vr=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new at(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return Nr(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Ar(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!==typeof e||isNaN(e)||e<0)&&ye("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&ye(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&Si(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:void 0===t||null===t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=Ee),Tr(this)){var s=Lr(this,{object:this.proxy_,type:Mr,index:e,removedCount:t,added:n});if(!s)return Ee;t=s.removedCount,n=s.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var o=n.length-t;this.updateArrayLength_(i,o)}var a=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,a),this.dehanceValues_(a)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),s=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var o=0;o<n.length;o++)this.values_[e+o]=n[o];for(var a=0;a<s.length;a++)this.values_[e+n.length+a]=s[a];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=jr(this),s=i||r?{observableKind:"array",object:this.proxy_,type:Rr,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&Or(this,s)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=jr(this),s=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Mr,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&Or(this,s)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&ye(17,e,n.length),e<n.length){this.atom_;var r=n[e];if(Tr(this)){var i=Lr(this,{type:Rr,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else{for(var s=new Array(e+1-n.length),o=0;o<s.length-1;o++)s[o]=void 0;s[s.length-1]=t,this.spliceWithArray_(n.length,0,s)}},e}();function Ur(e,t,n,r){return void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),Ne(),Ni((function(){var i=new Vr(n,t,r,!1);Fe(i.values_,ot,i);var s=new Proxy(i.values_,Fr);return i.proxy_=s,e&&e.length&&i.spliceWithArray_(0,0,e),s}))}var Br={clear:function(){return this.splice(0)},replace:function(e){var t=this[ot];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=this[ot];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(e);case 2:return s.spliceWithArray_(e,t)}return s.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[ot].spliceWithArray_(e,t,n)},push:function(){for(var e=this[ot],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[ot].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[ot],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return jn.trackingDerivation&&ye(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){jn.trackingDerivation&&ye(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[ot],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function zr(e,t){"function"===typeof Array.prototype[e]&&(Br[e]=t(e))}function qr(e){return function(){var t=this[ot];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Hr(e){return function(t,n){var r=this,i=this[ot];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function Wr(e){return function(){var t=this,n=this[ot];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}zr("at",qr),zr("concat",qr),zr("flat",qr),zr("includes",qr),zr("indexOf",qr),zr("join",qr),zr("lastIndexOf",qr),zr("slice",qr),zr("toString",qr),zr("toLocaleString",qr),zr("toSorted",qr),zr("toSpliced",qr),zr("with",qr),zr("every",Hr),zr("filter",Hr),zr("find",Hr),zr("findIndex",Hr),zr("findLast",Hr),zr("findLastIndex",Hr),zr("flatMap",Hr),zr("forEach",Hr),zr("map",Hr),zr("some",Hr),zr("toReversed",Hr),zr("reduce",Wr),zr("reduceRight",Wr);var Gr,Kr,Qr=Ve("ObservableArrayAdministration",Vr);function Zr(e){return Pe(e)&&Qr(e[ot])}var Jr={},$r="add",Yr="delete";Gr=Symbol.iterator,Kr=Symbol.toStringTag;var Xr,ei,ti=function(){function e(e,t,n){var r=this;void 0===t&&(t=dt),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[ot]=Jr,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,Ae(Map)||ye(18),Ni((function(){r.keysAtom_=ct("ObservableMap.keys()"),r.data_=new Map,r.hasMap_=new Map,e&&r.merge(e)}))}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!jn.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new dn(this.has_(e),ht,"ObservableMap.key?",!1);this.hasMap_.set(e,r),ar(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},t.set=function(e,t){var n=this.has_(e);if(Tr(this)){var r=Lr(this,{type:n?Rr:$r,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,Tr(this))&&!Lr(this,{type:Yr,object:this,name:e}))return!1;if(this.has_(e)){var n=jr(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:Yr,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return Er((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&Or(this,r),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==jn.UNCHANGED){var r=jr(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Rr,object:this,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),r&&Or(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,Er((function(){var r,i=new dn(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=jr(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:$r,object:this,name:e,newValue:t}:null;r&&Or(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return Pi({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return Pi({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[Gr]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=et(this);!(n=r()).done;){var i=n.value,s=i[0],o=i[1];e.call(t,o,s,this)}},t.merge=function(e){var t=this;return ni(e)&&(e=new Map(e)),Er((function(){De(e)?function(e){var t=Object.keys(e);if(!ze)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return Se.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):Ue(e)?(e.constructor!==Map&&ye(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!==e&&void 0!==e&&ye(20,e)})),this},t.clear=function(){var e=this;Er((function(){xn((function(){for(var t,n=et(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.replace=function(e){var t=this;return Er((function(){for(var n,r=function(e){if(Ue(e)||ni(e))return e;if(Array.isArray(e))return new Map(e);if(De(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return ye(21,e)}(e),i=new Map,s=!1,o=et(t.data_.keys());!(n=o()).done;){var a=n.value;if(!r.has(a))if(t.delete(a))s=!0;else{var l=t.data_.get(a);i.set(a,l)}}for(var c,u=et(r.entries());!(c=u()).done;){var d=c.value,h=d[0],f=d[1],p=t.data_.has(h);if(t.set(h,f),t.data_.has(h)){var m=t.data_.get(h);i.set(h,m),p||(s=!0)}}if(!s)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var g=t.data_.keys(),v=i.keys(),y=g.next(),b=v.next();!y.done;){if(y.value!==b.value){t.keysAtom_.reportChanged();break}y=g.next(),b=v.next()}t.data_=i})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return Ar(this,e)},t.intercept_=function(e){return Nr(this,e)},Qe(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Kr,get:function(){return"Map"}}]),e}(),ni=Ve("ObservableMap",ti);var ri={};Xr=Symbol.iterator,ei=Symbol.toStringTag;var ii=function(){function e(e,t,n){var r=this;void 0===t&&(t=dt),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[ot]=ri,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,Ae(Set)||ye(22),this.enhancer_=function(e,r){return t(e,r,n)},Ni((function(){r.atom_=ct(r.name_),e&&r.replace(e)}))}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;Er((function(){xn((function(){for(var t,n=et(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.forEach=function(e,t){for(var n,r=et(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if((this.atom_,Tr(this))&&!Lr(this,{type:$r,object:this,newValue:e}))return this;if(!this.has(e)){Er((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=!1,r=jr(this),i=r?{observableKind:"set",debugObjectName:this.name_,type:$r,object:this,newValue:e}:null;n,r&&Or(this,i)}return this},t.delete=function(e){var t=this;if(Tr(this)&&!Lr(this,{type:Yr,object:this,oldValue:e}))return!1;if(this.has(e)){var n=jr(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Yr,object:this,oldValue:e}:null;return Er((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&Or(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return Pi({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return Pi({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return si(e)&&(e=new Set(e)),Er((function(){Array.isArray(e)||Be(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!==e&&void 0!==e&&ye("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return Ar(this,e)},t.intercept_=function(e){return Nr(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Xr]=function(){return this.values()},Qe(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:ei,get:function(){return"Set"}}]),e}(),si=Ve("ObservableSet",ii),oi=Object.create(null),ai="remove",li=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=Ot),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new at("ObservableObject.keys"),this.isPlainObject_=De(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof pn)return n.set(t),!0;if(Tr(this)){var r=Lr(this,{type:Rr,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==jn.UNCHANGED){var i=jr(this),s=i?{type:Rr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),i&&Or(this,s)}return!0},t.get_=function(e){return jn.trackingDerivation&&!We(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),We(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!jn.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new dn(e in this.target_,ht,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(pi(this,t,e),!(e in this.target_)){var n;if(null!=(n=this.target_[nt])&&n[e])return;ye(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==Se;){var i=xe(r,e);if(i){var s=t.make_(this,e,i,r);if(0===s)return;if(1===s)break}r=Object.getPrototypeOf(r)}fi(this,t,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);pi(this,n,e);var i=n.extend_(this,e,t,r);return i&&fi(this,n,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{Dn();var r=this.delete_(e);if(!r)return r;if(Tr(this)){var i=Lr(this,{object:this.proxy_||this.target_,name:e,type:$r,newValue:t.value});if(!i)return null;var s=i.newValue;t.value!==s&&(t=Ze({},t,{value:s}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else Ce(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{Mn()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1),this.keysAtom_;try{Dn();var i=this.delete_(e);if(!i)return i;if(Tr(this)){var s=Lr(this,{object:this.proxy_||this.target_,name:e,type:$r,newValue:t});if(!s)return null;t=s.newValue}var o=di(e),a={configurable:!jn.safeDescriptors||this.isPlainObject_,enumerable:!0,get:o.get,set:o.set};if(r){if(!Reflect.defineProperty(this.target_,e,a))return!1}else Ce(this.target_,e,a);var l=new dn(t,n,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{Mn()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{Dn();var r=this.delete_(e);if(!r)return r;if(Tr(this))if(!Lr(this,{object:this.proxy_||this.target_,name:e,type:$r,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=di(e),s={configurable:!jn.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,s))return!1}else Ce(this.target_,e,s);this.values_.set(e,new pn(t)),this.notifyPropertyAddition_(e,void 0)}finally{Mn()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),this.keysAtom_,!We(this.target_,e))return!0;if(Tr(this)&&!Lr(this,{object:this.proxy_||this.target_,name:e,type:ai}))return null;try{var n,r;Dn();var i,s=jr(this),o=this.values_.get(e),a=void 0;if(!o&&s)a=null==(i=xe(this.target_,e))?void 0:i.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(o&&(this.values_.delete(e),o instanceof dn&&(a=o.value_),Fn(o)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),s){var l={type:ai,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:a,name:e};0,s&&Or(this,l)}}finally{Mn()}return!0},t.observe_=function(e,t){return Ar(this,e)},t.intercept_=function(e){return Nr(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=jr(this);if(i){var s=i?{type:$r,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;0,i&&Or(this,s)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),qe(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function ci(e,t){var n;if(We(e,ot))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new li(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:Pt(e):void 0}(t));return Re(e,ot,i),e}var ui=Ve("ObservableObjectAdministration",li);function di(e){return oi[e]||(oi[e]={get:function(){return this[ot].getObservablePropValue_(e)},set:function(t){return this[ot].setObservablePropValue_(e,t)}})}function hi(e){return!!Pe(e)&&ui(e[ot])}function fi(e,t,n){var r;null==(r=e.target_[nt])||delete r[n]}function pi(e,t,n){}var mi,gi,vi=xi(0),yi=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),bi=0,wi=function(){};mi=wi,gi=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(mi.prototype,gi):void 0!==mi.prototype.__proto__?mi.prototype.__proto__=gi:mi.prototype=gi;var _i=function(e,t,n){function r(t,n,r,i){var s;return void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),s=e.call(this)||this,Ni((function(){var e=new Vr(r,n,i,!0);e.proxy_=Ye(s),Fe(Ye(s),ot,e),t&&t.length&&s.spliceWithArray(0,0,t),yi&&Object.defineProperty(Ye(s),"0",vi)})),s}Je(r,e);var i=r.prototype;return i.concat=function(){this[ot].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Zr(e)?e.slice():e})))},i[n]=function(){var e=this,t=0;return Pi({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},Qe(r,[{key:"length",get:function(){return this[ot].getArrayLength_()},set:function(e){this[ot].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(wi,Symbol.toStringTag,Symbol.iterator);function xi(e){return{enumerable:!1,configurable:!0,get:function(){return this[ot].get_(e)},set:function(t){this[ot].set_(e,t)}}}function Ci(e){Ce(_i.prototype,""+e,xi(e))}function Si(e){if(e>bi){for(var t=bi;t<e+100;t++)Ci(t);bi=e}}function Ei(e,t,n){return new _i(e,t,n)}function ki(e,t){if("object"===typeof e&&null!==e){if(Zr(e))return void 0!==t&&ye(23),e[ot].atom_;if(si(e))return e.atom_;if(ni(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||ye(25,t,Ti(e)),n}if(hi(e)){if(!t)return ye(26);var r=e[ot].values_.get(t);return r||ye(27,t,Ti(e)),r}if(lt(e)||mn(e)||Hn(e))return e}else if(Ae(e)&&Hn(e[ot]))return e[ot];ye(28)}function Ii(e,t){return e||ye(29),void 0!==t?Ii(ki(e,t)):lt(e)||mn(e)||Hn(e)||ni(e)||si(e)?e:e[ot]?e[ot]:void ye(24,e)}function Ti(e,t){var n;if(void 0!==t)n=ki(e,t);else{if(tr(e))return e.name;n=hi(e)||ni(e)||si(e)?Ii(e):ki(e)}return n.name_}function Ni(e){var t=Cn(),n=ln(!0);Dn();try{return e()}finally{Mn(),cn(n),Sn(t)}}Object.entries(Br).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&Re(_i.prototype,t,n)})),Si(1e3);var Li=Se.toString;function ji(e,t,n){return void 0===n&&(n=-1),Ai(e,t,n)}function Ai(e,t,n,r,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var s=typeof e;if("function"!==s&&"object"!==s&&"object"!=typeof t)return!1;var o=Li.call(e);if(o!==Li.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return"undefined"!==typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=Oi(e),t=Oi(t);var a="[object Array]"===o;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(Ae(l)&&l instanceof l&&Ae(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var u=(r=r||[]).length;u--;)if(r[u]===e)return i[u]===t;if(r.push(e),i.push(t),a){if((u=e.length)!==t.length)return!1;for(;u--;)if(!Ai(e[u],t[u],n-1,r,i))return!1}else{var d,h=Object.keys(e);if(u=h.length,Object.keys(t).length!==u)return!1;for(;u--;)if(!We(t,d=h[u])||!Ai(e[d],t[d],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function Oi(e){return Zr(e)?e.slice():Ue(e)||ni(e)||Be(e)||si(e)?Array.from(e.entries()):e}function Pi(e){return e[Symbol.iterator]=Di,e}function Di(){return this}if(["Symbol","Map","Set"].forEach((function(e){"undefined"===typeof we()[e]&&ye("MobX requires global '"+e+"' to be available or polyfilled")})),"object"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:Ti},$mobx:ot}),!i.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!function(e,t,n){return Ni((function(){var r=ci(e,n)[ot];null!=t||(t=function(e){return We(e,nt)||Re(e,nt,Ze({},e[nt])),e[nt]}(e)),qe(t).forEach((function(e){return r.make_(e,t[e])}))})),e})throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var Mi=n(164),Ri=n.t(Mi,2);function Fi(e){e()}function Vi(e){return pr(e)}var Ui=!1;function Bi(){return Ui}var zi=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach((function(r,i){n-r.registeredAt>=e&&(t.finalize(r.value),t.registrations.delete(i))})),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),qi=new("undefined"!==typeof FinalizationRegistry?FinalizationRegistry:zi)((function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null})),Hi=n(248),Wi=function(){};function Gi(e){e.reaction=new Vn("observer".concat(e.name),(function(){var t;e.stateVersion=Symbol(),null===(t=e.onStoreChange)||void 0===t||t.call(e)}))}function Ki(e,t){if(void 0===t&&(t="observed"),Bi())return e();var n=i.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(e){return qi.unregister(r),r.onStoreChange=e,r.reaction||(Gi(r),r.stateVersion=Symbol()),function(){var e;r.onStoreChange=null,null===(e=r.reaction)||void 0===e||e.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var s,o,a=n.current;if(a.reaction||(Gi(a),qi.register(n,a,a)),i.useDebugValue(a.reaction,Vi),(0,Hi.useSyncExternalStore)(a.subscribe,a.getSnapshot,Wi),a.reaction.track((function(){try{s=e()}catch(t){o=t}})),o)throw o;return s}var Qi="function"===typeof Symbol&&Symbol.for,Zi=Qi?Symbol.for("react.forward_ref"):"function"===typeof i.forwardRef&&(0,i.forwardRef)((function(e){return null})).$$typeof,Ji=Qi?Symbol.for("react.memo"):"function"===typeof i.memo&&(0,i.memo)((function(e){return null})).$$typeof;function $i(e,t){var n;if(Ji&&e.$$typeof===Ji)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(Bi())return e;var r=null!==(n=null===t||void 0===t?void 0:t.forwardRef)&&void 0!==n&&n,s=e,o=e.displayName||e.name;if(Zi&&e.$$typeof===Zi&&(r=!0,"function"!==typeof(s=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a,l,c=function(e,t){return Ki((function(){return s(e,t)}),o)};return c.displayName=e.displayName,Object.defineProperty(c,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(c.contextTypes=e.contextTypes),r&&(c=(0,i.forwardRef)(c)),c=(0,i.memo)(c),a=e,l=c,Object.keys(a).forEach((function(e){Yi[e]||Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(a,e))})),c}var Yi={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};var Xi;!function(e){e||(e=Fi),hr({reactionScheduler:e})}(Mi.unstable_batchedUpdates);Xi=qi.finalizeAllImmediately;const es=new class{constructor(){this.authModal=!1,this.cityModal=!0,this.thanksModal=!1,this.authModalHandler=e=>{this.authModal=e},this.cityModalHandler=e=>{this.cityModal=e},this.thanksModalHandler=e=>{this.thanksModal=e},Dr(this)}};const ts=new class{constructor(){this.isAuthenticated=!1,this.city=null,this.name=null,this.phone=null,this.email=null,this.token=null,this.promocode40=!0,this.favoritProducts=[],this.adresses=[],this.setUserDataToStore=e=>{let{name:t,phone:n,email:r,token:i,promocode40:s,favorites:o,addresses:a}=e;this.isAuthenticated=!0,this.name=t,this.phone=n,this.email=r,this.token=i,this.promocode40=s,this.adresses=a,this.favoritProducts=o,localStorage.setItem("userData",JSON.stringify(this))},this.userLogout=()=>{this.isAuthenticated=!1,this.name=null,this.phone=null,this.email=null,this.token=null,this.promocode40=!1,localStorage.removeItem("userData")},this.updateCity=e=>{this.city=e;const t=JSON.parse(localStorage.getItem("userData"));if(null===t||void 0===t||!t.isAuthenticated)return;const n={...t,city:e};localStorage.setItem("userData",JSON.stringify(n))},this.addToFavorit=e=>{let{preview:t,name:n,price:r,weight:i,id:s,ingredients:o}=e;const a={preview:t,name:n,price:r,count:1,weight:i,id:s,ingredients:o};this.favoritProducts.push(a),this.isAuthenticated&&localStorage.setItem("favoritProducts",JSON.stringify(this.favoritProducts))},this.removeFromFavorit=e=>{console.log("a"),this.favoritProducts=this.favoritProducts.filter((t=>t.id!==e)),this.isAuthenticated&&localStorage.setItem("favoritProducts",JSON.stringify(this.favoritProducts))},this.getFavoritesFromLS=()=>{const e=localStorage.getItem("favoritProducts");e&&(this.favoritProducts=JSON.parse(e))},this.loadFromLocalStorageAdress=()=>{const e=localStorage.getItem("user_adresses"),t=JSON.parse(e);null!==t&&(this.adresses=t)},this.addToAdresses=e=>{e.length>0&&(this.adresses=e),this.isAuthenticated&&localStorage.setItem("user_adresses",JSON.stringify(this.adresses))},this.removeAdresses=e=>{this.adresses=this.adresses.filter((t=>t.adressName!==e)),this.isAuthenticated&&localStorage.setItem("user_adresses",JSON.stringify(this.adresses))},this.userPromocodeNotUse=()=>{this.promocode40=!0,localStorage.setItem("userData",JSON.stringify(this))},Dr(this)}},ns=ts;const rs=new class{constructor(){this.products=[],this.promocode=!1,this.addProduct=e=>{let{preview:t,name:n,price:r,count:i,weight:s,id:o,ingredients:a,category:l}=e;const c=this.products.find((e=>e.id===o));if(c)c.count+=i,c.totalPrice=c.price*c.count;else{const e={preview:t,name:n,price:r,count:i,weight:s,id:o,ingredients:a,category:l};e.totalPrice=r*i,this.products.push(e)}localStorage.setItem("shoppingCart",JSON.stringify(this.products))},this.removeProduct=e=>{this.products=this.products.filter((t=>t.id!==e)),localStorage.setItem("shoppingCart",JSON.stringify(this.products))},this.updateCount=(e,t)=>{const n=this.products.find((t=>t.id===e));n&&(n.count=t,n.totalPrice=n.price*t,localStorage.setItem("shoppingCart",JSON.stringify(this.products)))},this.getCartProductsFromLS=()=>{const e=localStorage.getItem("shoppingCart");e&&(this.products=JSON.parse(e))},this.cartPromocode=()=>{this.promocode=!0},Dr(this)}clearCart(){this.products=[],localStorage.removeItem("shoppingCart")}},is=rs;const ss=new class{constructor(){this.currentAction="",this.setActions=e=>{this.currentAction=e},Dr(this)}},os=ss;var as=n(184);const ls=e=>{let{children:t}=e;return(0,as.jsx)("div",{className:"container",children:t})},cs=e=>{let{children:t}=e;return(0,as.jsx)("div",{className:"grid_layout",children:t})};var us=n(418),ds=n.n(us);function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hs.apply(this,arguments)}function fs(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ps=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const ms=s.startTransition;Ri.flushSync;function gs(e){let{basename:t,children:n,future:r,window:s}=e,o=i.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),m((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,a)));let l=o.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},p=i.useCallback((e=>{d&&ms?ms((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(p)),[l,p]),i.createElement(me,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const vs="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ys=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bs=i.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:o,replace:a,state:l,target:u,to:d,preventScrollReset:h,unstable_viewTransition:p}=e,m=fs(e,ps),{basename:g}=i.useContext(G),v=!1;if("string"===typeof d&&ys.test(d)&&(n=d,vs))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=j(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(w){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;J()||c(!1);let{basename:r,navigator:s}=i.useContext(G),{hash:o,pathname:a,search:l}=te(e,{relative:n}),u=a;return"/"!==r&&(u="/"===a?r:M([r,a])),s.createHref({pathname:u,search:l,hash:o})}(d,{relative:s}),b=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===t?{}:t,c=X(),u=$(),d=te(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:f(u)===f(d);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[u,c,d,r,s,n,e,o,a,l])}(d,{replace:a,state:l,target:u,preventScrollReset:h,relative:s,unstable_viewTransition:p});return i.createElement("a",hs({},m,{href:n||y,onClick:v||o?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:u}))}));var ws,_s;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ws||(ws={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(_s||(_s={}));const xs=n.p+"static/media/arrow-left.5e864e3fbecea962ed39880526d5b9c8.svg",Cs=e=>{let{children:t,index:n,pathlink:r,handleSidebar:i}=e;const s=["info","favourite","addresses","history","bonuses","signout"];return(0,as.jsxs)("li",{className:"profile_sidebar--nav__item sidebar-mobile__item--mobile",children:[(0,as.jsx)(bs,{to:"/profile/".concat(s[n]),onClick:i,className:ds()("profile_sidebar--nav__link sidebar-mobile__link",{sign_out:"\u0412\u0438\u0445\u0456\u0434"===t},{active:r===s[n]}),children:t}),(0,as.jsx)("img",{className:"sidebar-mobile__item--arrow",src:xs,alt:"left"})]})},Ss=e=>{let{pathlink:t}=e;return(0,as.jsxs)("aside",{className:"grid_layout--side profile_sidebar",children:[(0,as.jsx)("h3",{className:"profile_sidebar--header",children:"\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0438\u0439 \u043a\u0430\u0431\u0456\u043d\u0435\u0442"}),(0,as.jsx)("ul",{className:"profile_sidebar--nav",children:["\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f","\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0456 \u0431\u043b\u044e\u0434\u0430","\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0430\u0434\u0440\u0435\u0441\u0438","\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c","\u0411\u043e\u043d\u0443\u0441\u0438","\u0412\u0438\u0445\u0456\u0434"].map(((e,n)=>(0,as.jsx)(Cs,{pathlink:t,index:n,children:e},n)))})]})};const Es=n.p+"static/media/Vector.46709a669661462dfb9a0e45d6d89617.svg",ks=e=>{let{children:t,handleSidebar:n}=e;return(0,as.jsxs)("div",{className:"profile_link--mobile",children:[(0,as.jsx)("h3",{className:"profile_sidebar--header profile_link--mobile--title",children:t}),(0,as.jsx)(bs,{to:"/profile/",className:"profile_link--mobile--button",onClick:n,children:(0,as.jsx)("img",{src:Es,alt:"cross"})})]})};function Is(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ts}=Object.prototype,{getPrototypeOf:Ns}=Object,Ls=(e=>t=>{const n=Ts.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),js=e=>(e=e.toLowerCase(),t=>Ls(t)===e),As=e=>t=>typeof t===e,{isArray:Os}=Array,Ps=As("undefined");const Ds=js("ArrayBuffer");const Ms=As("string"),Rs=As("function"),Fs=As("number"),Vs=e=>null!==e&&"object"===typeof e,Us=e=>{if("object"!==Ls(e))return!1;const t=Ns(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Bs=js("Date"),zs=js("File"),qs=js("Blob"),Hs=js("FileList"),Ws=js("URLSearchParams");function Gs(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Os(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(n=0;n<s;n++)o=r[n],t.call(null,e[o],o,e)}}function Ks(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Qs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Zs=e=>!Ps(e)&&e!==Qs;const Js=($s="undefined"!==typeof Uint8Array&&Ns(Uint8Array),e=>$s&&e instanceof $s);var $s;const Ys=js("HTMLFormElement"),Xs=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),eo=js("RegExp"),to=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Gs(n,((n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)})),Object.defineProperties(e,r)},no="abcdefghijklmnopqrstuvwxyz",ro="0123456789",io={DIGIT:ro,ALPHA:no,ALPHA_DIGIT:no+no.toUpperCase()+ro};const so=js("AsyncFunction"),oo={isArray:Os,isArrayBuffer:Ds,isBuffer:function(e){return null!==e&&!Ps(e)&&null!==e.constructor&&!Ps(e.constructor)&&Rs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Rs(e.append)&&("formdata"===(t=Ls(e))||"object"===t&&Rs(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ds(e.buffer),t},isString:Ms,isNumber:Fs,isBoolean:e=>!0===e||!1===e,isObject:Vs,isPlainObject:Us,isUndefined:Ps,isDate:Bs,isFile:zs,isBlob:qs,isRegExp:eo,isFunction:Rs,isStream:e=>Vs(e)&&Rs(e.pipe),isURLSearchParams:Ws,isTypedArray:Js,isFileList:Hs,forEach:Gs,merge:function e(){const{caseless:t}=Zs(this)&&this||{},n={},r=(r,i)=>{const s=t&&Ks(n,i)||i;Us(n[s])&&Us(r)?n[s]=e(n[s],r):Us(r)?n[s]=e({},r):Os(r)?n[s]=r.slice():n[s]=r};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Gs(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Gs(t,((t,r)=>{n&&Rs(t)?e[r]=Is(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],r&&!r(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&Ns(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Ls,kindOfTest:js,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Os(e))return e;let t=e.length;if(!Fs(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Ys,hasOwnProperty:Xs,hasOwnProp:Xs,reduceDescriptors:to,freezeMethods:e=>{to(e,((t,n)=>{if(Rs(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Rs(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Os(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:Ks,global:Qs,isContextDefined:Zs,ALPHABET:io,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:io.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Rs(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Vs(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=Os(e)?[]:{};return Gs(e,((e,t)=>{const s=n(e,r+1);!Ps(s)&&(i[t]=s)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:so,isThenable:e=>e&&(Vs(e)||Rs(e))&&Rs(e.then)&&Rs(e.catch)};function ao(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}oo.inherits(ao,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oo.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const lo=ao.prototype,co={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{co[e]={value:e}})),Object.defineProperties(ao,co),Object.defineProperty(lo,"isAxiosError",{value:!0}),ao.from=(e,t,n,r,i,s)=>{const o=Object.create(lo);return oo.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),ao.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const uo=ao;function ho(e){return oo.isPlainObject(e)||oo.isArray(e)}function fo(e){return oo.endsWith(e,"[]")?e.slice(0,-2):e}function po(e,t,n){return e?e.concat(t).map((function(e,t){return e=fo(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const mo=oo.toFlatObject(oo,{},null,(function(e){return/^is[A-Z]/.test(e)}));const go=function(e,t,n){if(!oo.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=oo.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!oo.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&oo.isSpecCompliantForm(t);if(!oo.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(oo.isDate(e))return e.toISOString();if(!a&&oo.isBlob(e))throw new uo("Blob is not supported. Use a Buffer instead.");return oo.isArrayBuffer(e)||oo.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(oo.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(oo.isArray(e)&&function(e){return oo.isArray(e)&&!e.some(ho)}(e)||(oo.isFileList(e)||oo.endsWith(n,"[]"))&&(a=oo.toArray(e)))return n=fo(n),a.forEach((function(e,r){!oo.isUndefined(e)&&null!==e&&t.append(!0===o?po([n],r,s):null===o?n:n+"[]",l(e))})),!1;return!!ho(e)||(t.append(po(i,n,s),l(e)),!1)}const u=[],d=Object.assign(mo,{defaultVisitor:c,convertValue:l,isVisitable:ho});if(!oo.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!oo.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),oo.forEach(n,(function(n,s){!0===(!(oo.isUndefined(n)||null===n)&&i.call(t,n,oo.isString(s)?s.trim():s,r,d))&&e(n,r?r.concat(s):[s])})),u.pop()}}(e),t};function vo(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function yo(e,t){this._pairs=[],e&&go(e,this,t)}const bo=yo.prototype;bo.append=function(e,t){this._pairs.push([e,t])},bo.toString=function(e){const t=e?function(t){return e.call(this,t,vo)}:vo;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const wo=yo;function _o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xo(e,t,n){if(!t)return e;const r=n&&n.encode||_o,i=n&&n.serialize;let s;if(s=i?i(t,n):oo.isURLSearchParams(t)?t.toString():new wo(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Co=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oo.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},So={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Eo={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:wo,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ko="undefined"!==typeof window&&"undefined"!==typeof document,Io=(To="undefined"!==typeof navigator&&navigator.product,ko&&["ReactNative","NativeScript","NS"].indexOf(To)<0);var To;const No="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Lo={...e,...Eo};const jo=function(e){function t(e,n,r,i){let s=e[i++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=i>=e.length;if(s=!s&&oo.isArray(r)?r.length:s,a)return oo.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o;r[s]&&oo.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&oo.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!o}if(oo.isFormData(e)&&oo.isFunction(e.entries)){const n={};return oo.forEachEntry(e,((e,r)=>{t(function(e){return oo.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Ao={transitional:So,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=oo.isObject(e);i&&oo.isHTMLForm(e)&&(e=new FormData(e));if(oo.isFormData(e))return r&&r?JSON.stringify(jo(e)):e;if(oo.isArrayBuffer(e)||oo.isBuffer(e)||oo.isStream(e)||oo.isFile(e)||oo.isBlob(e))return e;if(oo.isArrayBufferView(e))return e.buffer;if(oo.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return go(e,new Lo.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Lo.isNode&&oo.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=oo.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return go(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(oo.isString(e))try{return(t||JSON.parse)(e),oo.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ao.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&oo.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n){if("SyntaxError"===i.name)throw uo.from(i,uo.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lo.classes.FormData,Blob:Lo.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oo.forEach(["delete","get","head","post","put","patch"],(e=>{Ao.headers[e]={}}));const Oo=Ao,Po=oo.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Do=Symbol("internals");function Mo(e){return e&&String(e).trim().toLowerCase()}function Ro(e){return!1===e||null==e?e:oo.isArray(e)?e.map(Ro):String(e)}function Fo(e,t,n,r,i){return oo.isFunction(r)?r.call(this,t,n):(i&&(t=n),oo.isString(t)?oo.isString(r)?-1!==t.indexOf(r):oo.isRegExp(r)?r.test(t):void 0:void 0)}class Vo{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=Mo(t);if(!i)throw new Error("header name must be a non-empty string");const s=oo.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Ro(e))}const s=(e,t)=>oo.forEach(e,((e,n)=>i(e,n,t)));return oo.isPlainObject(e)||e instanceof this.constructor?s(e,t):oo.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Po[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=Mo(e)){const n=oo.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(oo.isFunction(t))return t.call(this,e,n);if(oo.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Mo(e)){const n=oo.findKey(this,e);return!(!n||void 0===this[n]||t&&!Fo(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=Mo(e)){const i=oo.findKey(n,e);!i||t&&!Fo(0,n[i],i,t)||(delete n[i],r=!0)}}return oo.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Fo(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return oo.forEach(this,((r,i)=>{const s=oo.findKey(n,i);if(s)return t[s]=Ro(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();o!==i&&delete t[i],t[o]=Ro(r),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return oo.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&oo.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Do]=this[Do]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Mo(e);t[r]||(!function(e,t){const n=oo.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return oo.isArray(e)?e.forEach(r):r(e),this}}Vo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),oo.reduceDescriptors(Vo.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),oo.freezeMethods(Vo);const Uo=Vo;function Bo(e,t){const n=this||Oo,r=t||n,i=Uo.from(r.headers);let s=r.data;return oo.forEach(e,(function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function zo(e){return!(!e||!e.__CANCEL__)}function qo(e,t,n){uo.call(this,null==e?"canceled":e,uo.ERR_CANCELED,t,n),this.name="CanceledError"}oo.inherits(qo,uo,{__CANCEL__:!0});const Ho=qo;const Wo=Lo.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];oo.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),oo.isString(r)&&o.push("path="+r),oo.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Go(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ko=Lo.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=oo.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const Qo=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,o=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[o];i||(i=l),n[s]=a,r[s]=l;let u=o,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};function Zo(e,t){let n=0;const r=Qo(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a);n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const Jo="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=Uo.from(e.headers).normalize();let s,o,{responseType:a,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}if(oo.isFormData(r))if(Lo.hasStandardBrowserEnv||Lo.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(o=i.getContentType())){const[e,...t]=o?o.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const d=Go(e.baseURL,e.url);function h(){if(!u)return;const r=Uo.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new uo("Request failed with status code "+n.status,[uo.ERR_BAD_REQUEST,uo.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),xo(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new uo("Request aborted",uo.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new uo("Network Error",uo.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||So;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new uo(t,r.clarifyTimeoutError?uo.ETIMEDOUT:uo.ECONNABORTED,e,u)),u=null},Lo.hasStandardBrowserEnv&&(l&&oo.isFunction(l)&&(l=l(e)),l||!1!==l&&Ko(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&Wo.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&oo.forEach(i.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),oo.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",Zo(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",Zo(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{u&&(n(!t||t.type?new Ho(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);f&&-1===Lo.protocols.indexOf(f)?n(new uo("Unsupported protocol "+f+":",uo.ERR_BAD_REQUEST,e)):u.send(r||null)}))},$o={http:null,xhr:Jo};oo.forEach($o,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const Yo=e=>"- ".concat(e),Xo=e=>oo.isFunction(e)||null===e||!1===e,ea=e=>{e=oo.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!Xo(n)&&(r=$o[(t=String(n)).toLowerCase()],void 0===r))throw new uo("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+s]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Yo).join("\n"):" "+Yo(e[0]):"as no adapter specified";throw new uo("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function ta(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ho(null,e)}function na(e){ta(e),e.headers=Uo.from(e.headers),e.data=Bo.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ea(e.adapter||Oo.adapter)(e).then((function(t){return ta(e),t.data=Bo.call(e,e.transformResponse,t),t.headers=Uo.from(t.headers),t}),(function(t){return zo(t)||(ta(e),t&&t.response&&(t.response.data=Bo.call(e,e.transformResponse,t.response),t.response.headers=Uo.from(t.response.headers))),Promise.reject(t)}))}const ra=e=>e instanceof Uo?e.toJSON():e;function ia(e,t){t=t||{};const n={};function r(e,t,n){return oo.isPlainObject(e)&&oo.isPlainObject(t)?oo.merge.call({caseless:n},e,t):oo.isPlainObject(t)?oo.merge({},t):oo.isArray(t)?t.slice():t}function i(e,t,n){return oo.isUndefined(t)?oo.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!oo.isUndefined(t))return r(void 0,t)}function o(e,t){return oo.isUndefined(t)?oo.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t)=>i(ra(e),ra(t),!0)};return oo.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=l[r]||i,o=s(e[r],t[r],r);oo.isUndefined(o)&&s!==a||(n[r]=o)})),n}const sa="1.6.5",oa={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{oa[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const aa={};oa.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.5] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new uo(r(i," has been removed"+(t?" in "+t:"")),uo.ERR_DEPRECATED);return t&&!aa[i]&&(aa[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}};const la={assertOptions:function(e,t,n){if("object"!==typeof e)throw new uo("options must be an object",uo.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new uo("option "+s+" must be "+n,uo.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new uo("Unknown option "+s,uo.ERR_BAD_OPTION)}},validators:oa},ca=la.validators;class ua{constructor(e){this.defaults=e,this.interceptors={request:new Co,response:new Co}}request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=ia(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&la.assertOptions(n,{silentJSONParsing:ca.transitional(ca.boolean),forcedJSONParsing:ca.transitional(ca.boolean),clarifyTimeoutError:ca.transitional(ca.boolean)},!1),null!=r&&(oo.isFunction(r)?t.paramsSerializer={serialize:r}:la.assertOptions(r,{encode:ca.function,serialize:ca.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&oo.merge(i.common,i[t.method]);i&&oo.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Uo.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[na.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let h=t;for(d=0;d<u;){const e=o[d++],t=o[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=na.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return xo(Go((e=ia(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}oo.forEach(["delete","get","head","options"],(function(e){ua.prototype[e]=function(t,n){return this.request(ia(n||{},{method:e,url:t,data:(n||{}).data}))}})),oo.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(ia(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ua.prototype[e]=t(),ua.prototype[e+"Form"]=t(!0)}));const da=ua;class ha{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Ho(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new ha((function(t){e=t})),cancel:e}}}const fa=ha;const pa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pa).forEach((e=>{let[t,n]=e;pa[n]=t}));const ma=pa;const ga=function e(t){const n=new da(t),r=Is(da.prototype.request,n);return oo.extend(r,da.prototype,n,{allOwnKeys:!0}),oo.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(ia(t,n))},r}(Oo);ga.Axios=da,ga.CanceledError=Ho,ga.CancelToken=fa,ga.isCancel=zo,ga.VERSION=sa,ga.toFormData=go,ga.AxiosError=uo,ga.Cancel=ga.CanceledError,ga.all=function(e){return Promise.all(e)},ga.spread=function(e){return function(t){return e.apply(null,t)}},ga.isAxiosError=function(e){return oo.isObject(e)&&!0===e.isAxiosError},ga.mergeConfig=ia,ga.AxiosHeaders=Uo,ga.formToJSON=e=>jo(oo.isHTMLForm(e)?new FormData(e):e),ga.getAdapter=ea,ga.HttpStatusCode=ma,ga.default=ga;const va=ga,ya="https://api.polarpelmeni.com.ua",ba=$i((e=>{let{handleSidebar:t,isSidebarClosed:n}=e;const[r,s]=(0,i.useState)({name:"",email:"",birth_date:"",city:""}),{name:o,phone:a}=ns,l=e=>{s({...r,[e.target.name]:e.target.value})},c=async e=>{e.preventDefault();try{await va.put("".concat(ya,"/api/upload/"),r)}catch(t){console.error(t)}};if(!n)return(0,as.jsxs)("section",{className:"grid_layout--main profile_info",children:[(0,as.jsxs)("div",{className:"profile_info--head",children:[(0,as.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:"profile",className:"mobile-menu__avatar",width:70}),(0,as.jsxs)("div",{className:"profile_info--head__contacts contacts",children:[(0,as.jsxs)("div",{className:"contacts_name",children:[o," "]}),(0,as.jsx)("div",{className:"contacts_phone",children:a})]}),(0,as.jsx)("div",{className:"profile_info--head__button button",children:(0,as.jsx)("a",{href:"#",className:"button_link",children:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u043d\u043e\u043c\u0435\u0440"})}),(0,as.jsx)("div",{className:"profile_info--head__button button",children:(0,as.jsx)("a",{href:"#",className:"button_link",children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0444\u043e\u0442\u043e"})})]}),(0,as.jsx)(ks,{handleSidebar:t,children:"\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f"}),(0,as.jsxs)("div",{className:"profile_info--head__mobile",children:[(0,as.jsx)("img",{src:"https://via.placeholder.com/70x70",alt:"profile",className:"profile_info--head__photo"}),(0,as.jsxs)("div",{className:"contacts",children:[(0,as.jsx)("div",{className:"contacts_name",children:o}),(0,as.jsxs)("div",{className:"contacts_phone",children:[a," ",(0,as.jsx)("a",{href:"#",className:"button_link",disabled:!0,children:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438"})]}),(0,as.jsx)("div",{className:"",children:(0,as.jsx)("a",{href:"#",className:"button_link",disabled:!0,children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0444\u043e\u0442\u043e"})})]})]}),(0,as.jsx)("div",{className:"profile_info--bonuses__mobile"}),(0,as.jsx)("div",{className:"profile_info--form",children:(0,as.jsxs)("form",{onSubmit:c,children:[(0,as.jsxs)("div",{className:"form",children:[(0,as.jsxs)("div",{className:"form_item",children:[(0,as.jsx)("p",{children:"\u0406\u043c'\u044f"}),(0,as.jsx)("label",{className:"form_item--label",children:(0,as.jsx)("input",{type:"text",placeholder:"\u0406\u043c'\u044f",name:"name",value:r.name,onChange:l})})]}),(0,as.jsxs)("div",{className:"form_item",children:[(0,as.jsx)("p",{children:"\u041f\u043e\u0448\u0442\u0430"}),(0,as.jsx)("label",{className:"form_item--label",children:(0,as.jsx)("input",{type:"text",placeholder:"xxx@gmail.com",name:"email",value:r.email,onChange:l})})]}),(0,as.jsxs)("div",{className:"form_item",children:[(0,as.jsx)("p",{children:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f"}),(0,as.jsx)("label",{className:"form_item--label",children:(0,as.jsx)("input",{type:"text",placeholder:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f",name:"birth_date",value:r.birth_date,onChange:l})})]}),(0,as.jsxs)("div",{className:"form_item",children:[(0,as.jsx)("p",{children:"\u041c\u0456\u0441\u0442\u043e"}),(0,as.jsx)("label",{className:"form_item--label",children:(0,as.jsxs)("select",{name:"city",value:r.city,onChange:l,children:[(0,as.jsx)("option",{value:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e",disabled:!0,children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e"}),(0,as.jsx)("option",{value:"\u041e\u0434\u0435\u0441\u0430",children:"\u041e\u0434\u0435\u0441\u0430"}),(0,as.jsx)("option",{value:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434",children:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434"})]})})]})]}),(0,as.jsx)("div",{className:"form-button",children:(0,as.jsx)("button",{className:"btn-main ",type:"submit",style:{justifyContent:"center"},children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"})})]})})]})}));var wa=e=>"checkbox"===e.type,_a=e=>e instanceof Date,xa=e=>null==e;const Ca=e=>"object"===typeof e;var Sa=e=>!xa(e)&&!Array.isArray(e)&&Ca(e)&&!_a(e),Ea=e=>Sa(e)&&e.target?wa(e.target)?e.target.checked:e.target.value:e,ka=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),Ia=e=>{const t=e.constructor&&e.constructor.prototype;return Sa(t)&&t.hasOwnProperty("isPrototypeOf")},Ta="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function Na(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(Ta&&(e instanceof Blob||e instanceof FileList)||!n&&!Sa(e))return e;if(t=n?[]:{},n||Ia(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=Na(e[n]));else t=e}return t}var La=e=>Array.isArray(e)?e.filter(Boolean):[],ja=e=>void 0===e,Aa=(e,t,n)=>{if(!t||!Sa(e))return n;const r=La(t.split(/[,[\].]+?/)).reduce(((e,t)=>xa(e)?e:e[t]),e);return ja(r)||r===e?ja(e[t])?n:e[t]:r},Oa=e=>"boolean"===typeof e;const Pa={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Da={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ma="max",Ra="min",Fa="maxLength",Va="minLength",Ua="pattern",Ba="required",za="validate";i.createContext(null);var qa=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const i=s;return t._proxyFormState[i]!==Da.all&&(t._proxyFormState[i]=!r||Da.all),n&&(n[i]=!0),e[i]}});return i},Ha=e=>Sa(e)&&!Object.keys(e).length,Wa=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return Ha(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find((e=>t[e]===(!r||Da.all)))},Ga=e=>Array.isArray(e)?e:[e];function Ka(e){const t=i.useRef(e);t.current=e,i.useEffect((()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}}),[e.disabled])}var Qa=e=>"string"===typeof e,Za=(e,t,n,r,i)=>Qa(e)?(r&&t.watch.add(e),Aa(n,e,i)):Array.isArray(e)?e.map((e=>(r&&t.watch.add(e),Aa(n,e)))):(r&&(t.watchAll=!0),n);var Ja=e=>/^\w*$/.test(e),$a=e=>La(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ya=(e,t,n)=>{let r=-1;const i=Ja(t)?[t]:$a(t),s=i.length,o=s-1;for(;++r<s;){const t=i[r];let s=n;if(r!==o){const n=e[t];s=Sa(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}e[t]=s,e=e[t]}return e};var Xa=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},el=e=>({isOnSubmit:!e||e===Da.onSubmit,isOnBlur:e===Da.onBlur,isOnChange:e===Da.onChange,isOnAll:e===Da.all,isOnTouch:e===Da.onTouched}),tl=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const nl=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=Aa(e,i);if(n){const{_f:e,...s}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)break;if(e.ref&&t(e.ref,e.name)&&!r)break;nl(s,t)}else Sa(s)&&nl(s,t)}}};var rl=(e,t,n)=>{const r=La(Aa(e,n));return Ya(r,"root",t[n]),Ya(e,n,r),e},il=e=>"file"===e.type,sl=e=>"function"===typeof e,ol=e=>{if(!Ta)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},al=e=>Qa(e),ll=e=>"radio"===e.type,cl=e=>e instanceof RegExp;const ul={value:!1,isValid:!1},dl={value:!0,isValid:!0};var hl=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ja(e[0].attributes.value)?ja(e[0].value)||""===e[0].value?dl:{value:e[0].value,isValid:!0}:dl:ul}return ul};const fl={isValid:!1,value:null};var pl=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),fl):fl;function ml(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(al(e)||Array.isArray(e)&&e.every(al)||Oa(e)&&!e)return{type:n,message:al(e)?e:"",ref:t}}var gl=e=>Sa(e)&&!cl(e)?e:{value:e,message:""},vl=async(e,t,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:u,max:d,pattern:h,validate:f,name:p,valueAsNumber:m,mount:g,disabled:v}=e._f,y=Aa(t,p);if(!g||v)return{};const b=o?o[0]:s,w=e=>{r&&b.reportValidity&&(b.setCustomValidity(Oa(e)?"":e||""),b.reportValidity())},_={},x=ll(s),C=wa(s),S=x||C,E=(m||il(s))&&ja(s.value)&&ja(y)||ol(s)&&""===s.value||""===y||Array.isArray(y)&&!y.length,k=Xa.bind(null,p,n,_),I=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Fa,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Va;const o=e?t:n;_[p]={type:e?r:i,message:o,ref:s,...k(e?r:i,o)}};if(i?!Array.isArray(y)||!y.length:a&&(!S&&(E||xa(y))||Oa(y)&&!y||C&&!hl(o).isValid||x&&!pl(o).isValid)){const{value:e,message:t}=al(a)?{value:!!a,message:a}:gl(a);if(e&&(_[p]={type:Ba,message:t,ref:b,...k(Ba,t)},!n))return w(t),_}if(!E&&(!xa(u)||!xa(d))){let e,t;const r=gl(d),i=gl(u);if(xa(y)||isNaN(y)){const n=s.valueAsDate||new Date(y),o=e=>new Date((new Date).toDateString()+" "+e),a="time"==s.type,l="week"==s.type;Qa(r.value)&&y&&(e=a?o(y)>o(r.value):l?y>r.value:n>new Date(r.value)),Qa(i.value)&&y&&(t=a?o(y)<o(i.value):l?y<i.value:n<new Date(i.value))}else{const n=s.valueAsNumber||(y?+y:y);xa(r.value)||(e=n>r.value),xa(i.value)||(t=n<i.value)}if((e||t)&&(I(!!e,r.message,i.message,Ma,Ra),!n))return w(_[p].message),_}if((l||c)&&!E&&(Qa(y)||i&&Array.isArray(y))){const e=gl(l),t=gl(c),r=!xa(e.value)&&y.length>+e.value,i=!xa(t.value)&&y.length<+t.value;if((r||i)&&(I(r,e.message,t.message),!n))return w(_[p].message),_}if(h&&!E&&Qa(y)){const{value:e,message:t}=gl(h);if(cl(e)&&!y.match(e)&&(_[p]={type:Ua,message:t,ref:s,...k(Ua,t)},!n))return w(t),_}if(f)if(sl(f)){const e=ml(await f(y,t),b);if(e&&(_[p]={...e,...k(za,e.message)},!n))return w(e.message),_}else if(Sa(f)){let e={};for(const r in f){if(!Ha(e)&&!n)break;const i=ml(await f[r](y,t),b,r);i&&(e={...i,...k(r,i.message)},w(i.message),n&&(_[p]=e))}if(!Ha(e)&&(_[p]={ref:b,...e},!n))return _}return w(!0),_};function yl(e,t){const n=Array.isArray(t)?t:Ja(t)?[t]:$a(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=ja(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,s=n[i];return r&&delete r[s],0!==i&&(Sa(r)&&Ha(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!ja(e[t]))return!1;return!0}(r))&&yl(e,n.slice(0,-1)),e}var bl=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},wl=e=>xa(e)||!Ca(e);function _l(e,t){if(wl(e)||wl(t))return e===t;if(_a(e)&&_a(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const n=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=t[i];if(_a(n)&&_a(e)||Sa(n)&&Sa(e)||Array.isArray(n)&&Array.isArray(e)?!_l(n,e):n!==e)return!1}}return!0}var xl=e=>"select-multiple"===e.type,Cl=e=>ll(e)||wa(e),Sl=e=>ol(e)&&e.isConnected,El=e=>{for(const t in e)if(sl(e[t]))return!0;return!1};function kl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e);if(Sa(e)||n)for(const r in e)Array.isArray(e[r])||Sa(e[r])&&!El(e[r])?(t[r]=Array.isArray(e[r])?[]:{},kl(e[r],t[r])):xa(e[r])||(t[r]=!0);return t}function Il(e,t,n){const r=Array.isArray(e);if(Sa(e)||r)for(const i in e)Array.isArray(e[i])||Sa(e[i])&&!El(e[i])?ja(t)||wl(n[i])?n[i]=Array.isArray(e[i])?kl(e[i],[]):{...kl(e[i])}:Il(e[i],xa(t)?{}:t[i],n[i]):n[i]=!_l(e[i],t[i]);return n}var Tl=(e,t)=>Il(e,t,kl(t)),Nl=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:i}=t;return ja(e)?e:n?""===e?NaN:e?+e:e:r&&Qa(e)?new Date(e):i?i(e):e};function Ll(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return il(t)?t.files:ll(t)?pl(e.refs).value:xl(t)?[...t.selectedOptions].map((e=>{let{value:t}=e;return t})):wa(t)?hl(e.refs).value:Nl(ja(t.value)?e.ref.value:t.value,e)}var jl=(e,t,n,r)=>{const i={};for(const s of e){const e=Aa(t,s);e&&Ya(i,s,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Al=e=>ja(e)?e:cl(e)?e.source:Sa(e)?cl(e.value)?e.value.source:e.value:e,Ol=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Pl(e,t,n){const r=Aa(e,n);if(r||Ja(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),s=Aa(t,r),o=Aa(e,r);if(s&&!Array.isArray(s)&&n!==r)return{name:n};if(o&&o.type)return{name:r,error:o};i.pop()}return{name:n}}var Dl=(e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e),Ml=(e,t)=>!La(Aa(e,t)).length&&yl(e,t);const Rl={mode:Da.onSubmit,reValidateMode:Da.onChange,shouldFocusError:!0};function Fl(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r={...Rl,...t},i={submitCount:0,isDirty:!1,isLoading:sl(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:r.errors||{},disabled:!1},s={},o=(Sa(r.defaultValues)||Sa(r.values))&&Na(r.defaultValues||r.values)||{},a=r.shouldUnregister?{}:Na(o),l={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:bl(),array:bl(),state:bl()},f=t.resetOptions&&t.resetOptions.keepDirtyValues,p=el(r.mode),m=el(r.reValidateMode),g=r.criteriaMode===Da.all,v=async e=>{if(d.isValid||e){const e=r.resolver?Ha((await x()).errors):await C(s,!0);e!==i.isValid&&h.state.next({isValid:e})}},y=e=>d.isValidating&&h.state.next({isValidating:e}),b=(e,t,n,r)=>{const i=Aa(s,e);if(i){const s=Aa(a,e,ja(n)?Aa(o,e):n);ja(s)||r&&r.defaultChecked||t?Ya(a,e,t?s:Ll(i._f)):k(e,s),l.mount&&v()}},w=(e,t,n,r,a)=>{let l=!1,c=!1;const u={name:e},f=!(!Aa(s,e)||!Aa(s,e)._f.disabled);if(!n||r){d.isDirty&&(c=i.isDirty,i.isDirty=u.isDirty=S(),l=c!==u.isDirty);const n=f||_l(Aa(o,e),t);c=!(f||!Aa(i.dirtyFields,e)),n||f?yl(i.dirtyFields,e):Ya(i.dirtyFields,e,!0),u.dirtyFields=i.dirtyFields,l=l||d.dirtyFields&&c!==!n}if(n){const t=Aa(i.touchedFields,e);t||(Ya(i.touchedFields,e,n),u.touchedFields=i.touchedFields,l=l||d.touchedFields&&t!==n)}return l&&a&&h.state.next(u),l?u:{}},_=(n,r,s,o)=>{const a=Aa(i.errors,n),l=d.isValid&&Oa(r)&&i.isValid!==r;var c;if(t.delayError&&s?(c=()=>((e,t)=>{Ya(i.errors,e,t),h.state.next({errors:i.errors})})(n,s),e=e=>{clearTimeout(u),u=setTimeout(c,e)},e(t.delayError)):(clearTimeout(u),e=null,s?Ya(i.errors,n,s):yl(i.errors,n)),(s?!_l(a,s):a)||!Ha(o)||l){const e={...o,...l&&Oa(r)?{isValid:r}:{},errors:i.errors,name:n};i={...i,...e},h.state.next(e)}y(!1)},x=async e=>r.resolver(a,r.context,jl(e||c.mount,s,r.criteriaMode,r.shouldUseNativeValidation)),C=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const s in e){const o=e[s];if(o){const{_f:e,...s}=o;if(e){const s=c.array.has(e.name),l=await vl(o,a,g,r.shouldUseNativeValidation&&!t,s);if(l[e.name]&&(n.valid=!1,t))break;!t&&(Aa(l,e.name)?s?rl(i.errors,l,e.name):Ya(i.errors,e.name,l[e.name]):yl(i.errors,e.name))}s&&await C(s,t,n)}}return n.valid},S=(e,t)=>(e&&t&&Ya(a,e,t),!_l(A(),o)),E=(e,t,n)=>Za(e,c,{...l.mount?a:ja(t)?o:Qa(e)?{[e]:t}:t},n,t),k=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Aa(s,e);let i=t;if(r){const n=r._f;n&&(!n.disabled&&Ya(a,e,Nl(t,n)),i=ol(n.ref)&&xa(t)?"":t,xl(n.ref)?[...n.ref.options].forEach((e=>e.selected=i.includes(e.value))):n.refs?wa(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((t=>t===e.value)):i===e.value))):n.refs[0]&&(n.refs[0].checked=!!i):n.refs.forEach((e=>e.checked=e.value===i)):il(n.ref)?n.ref.value="":(n.ref.value=i,n.ref.type||h.values.next({name:e,values:{...a}})))}(n.shouldDirty||n.shouldTouch)&&w(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&j(e)},I=(e,t,n)=>{for(const r in t){const i=t[r],o="".concat(e,".").concat(r),a=Aa(s,o);!c.array.has(e)&&wl(i)&&(!a||a._f)||_a(i)?k(o,i,n):I(o,i,n)}},T=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const u=Aa(s,e),f=c.array.has(e),p=Na(t);Ya(a,e,p),f?(h.array.next({name:e,values:{...a}}),(d.isDirty||d.dirtyFields)&&r.shouldDirty&&h.state.next({name:e,dirtyFields:Tl(o,a),isDirty:S(e,p)})):!u||u._f||xa(p)?k(e,p,r):I(e,p,r),tl(e,c)&&h.state.next({...i}),h.values.next({name:e,values:{...a}}),!l.mount&&n()},N=async t=>{const n=t.target;let o=n.name,l=!0;const u=Aa(s,o),f=e=>{l=Number.isNaN(e)||e===Aa(a,o,e)};if(u){let b,S;const E=n.type?Ll(u._f):Ea(t),k=t.type===Pa.BLUR||t.type===Pa.FOCUS_OUT,I=!Ol(u._f)&&!r.resolver&&!Aa(i.errors,o)&&!u._f.deps||Dl(k,Aa(i.touchedFields,o),i.isSubmitted,m,p),T=tl(o,c,k);Ya(a,o,E),k?(u._f.onBlur&&u._f.onBlur(t),e&&e(0)):u._f.onChange&&u._f.onChange(t);const N=w(o,E,k,!1),L=!Ha(N)||T;if(!k&&h.values.next({name:o,type:t.type,values:{...a}}),I)return d.isValid&&v(),L&&h.state.next({name:o,...T?{}:N});if(!k&&T&&h.state.next({...i}),y(!0),r.resolver){const{errors:e}=await x([o]);if(f(E),l){const t=Pl(i.errors,s,o),n=Pl(e,s,t.name||o);b=n.error,o=n.name,S=Ha(e)}}else b=(await vl(u,a,g,r.shouldUseNativeValidation))[o],f(E),l&&(b?S=!1:d.isValid&&(S=await C(s,!0)));l&&(u._f.deps&&j(u._f.deps),_(o,S,b,N))}},L=(e,t)=>{if(Aa(i.errors,t)&&e.focus)return e.focus(),1},j=async function(e){let t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=Ga(e);if(y(!0),r.resolver){const r=await(async e=>{const{errors:t}=await x(e);if(e)for(const n of e){const e=Aa(t,n);e?Ya(i.errors,n,e):yl(i.errors,n)}else i.errors=t;return t})(ja(e)?e:a);t=Ha(r),n=e?!a.some((e=>Aa(r,e))):t}else e?(n=(await Promise.all(a.map((async e=>{const t=Aa(s,e);return await C(t&&t._f?{[e]:t}:t)})))).every(Boolean),(n||i.isValid)&&v()):n=t=await C(s);return h.state.next({...!Qa(e)||d.isValid&&t!==i.isValid?{}:{name:e},...r.resolver||!e?{isValid:t}:{},errors:i.errors,isValidating:!1}),o.shouldFocus&&!n&&nl(s,L,e?a:c.mount),n},A=e=>{const t={...o,...l.mount?a:{}};return ja(e)?t:Qa(e)?Aa(t,e):e.map((e=>Aa(t,e)))},O=(e,t)=>({invalid:!!Aa((t||i).errors,e),isDirty:!!Aa((t||i).dirtyFields,e),isTouched:!!Aa((t||i).touchedFields,e),error:Aa((t||i).errors,e)}),P=(e,t,n)=>{const r=(Aa(s,e,{_f:{}})._f||{}).ref;Ya(i.errors,e,{...t,ref:r}),h.state.next({name:e,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&r&&r.focus&&r.focus()},D=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const n of e?Ga(e):c.mount)c.mount.delete(n),c.array.delete(n),t.keepValue||(yl(s,n),yl(a,n)),!t.keepError&&yl(i.errors,n),!t.keepDirty&&yl(i.dirtyFields,n),!t.keepTouched&&yl(i.touchedFields,n),!r.shouldUnregister&&!t.keepDefaultValue&&yl(o,n);h.values.next({values:{...a}}),h.state.next({...i,...t.keepDirty?{isDirty:S()}:{}}),!t.keepIsValid&&v()},M=e=>{let{disabled:t,name:n,field:r,fields:i,value:s}=e;if(Oa(t)){const e=t?void 0:ja(s)?Ll(r?r._f:Aa(i,n)._f):s;Ya(a,n,e),w(n,e,!1,!1,!0)}},R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Aa(s,e);const i=Oa(t.disabled);return Ya(s,e,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:!0,...t}}),c.mount.add(e),n?M({field:n,disabled:t.disabled,name:e,value:t.value}):b(e,!0,t.value),{...i?{disabled:t.disabled}:{},...r.progressive?{required:!!t.required,min:Al(t.min),max:Al(t.max),minLength:Al(t.minLength),maxLength:Al(t.maxLength),pattern:Al(t.pattern)}:{},name:e,onChange:N,onBlur:N,ref:i=>{if(i){R(e,t),n=Aa(s,e);const r=ja(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,a=Cl(r),l=n._f.refs||[];if(a?l.find((e=>e===r)):r===n._f.ref)return;Ya(s,e,{_f:{...n._f,...a?{refs:[...l.filter(Sl),r,...Array.isArray(Aa(o,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),b(e,!1,void 0,r)}else n=Aa(s,e,{}),n._f&&(n._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(!ka(c.array,e)||!l.action)&&c.unMount.add(e)}}},F=()=>r.shouldFocusError&&nl(s,L,c.mount),V=(e,t)=>async n=>{n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let o=Na(a);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:e,values:t}=await x();i.errors=e,o=t}else await C(s);yl(i.errors,"root"),Ha(i.errors)?(h.state.next({errors:{}}),await e(o,n)):(t&&await t({...i.errors},n),F(),setTimeout(F)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ha(i.errors),submitCount:i.submitCount+1,errors:i.errors})},U=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const u=e?Na(e):o,p=Na(u),m=e&&!Ha(e)?p:o;if(r.keepDefaultValues||(o=u),!r.keepValues){if(r.keepDirtyValues||f)for(const e of c.mount)Aa(i.dirtyFields,e)?Ya(m,e,Aa(a,e)):T(e,Aa(m,e));else{if(Ta&&ja(e))for(const e of c.mount){const t=Aa(s,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(ol(e)){const t=e.closest("form");if(t){t.reset();break}}}}s={}}a=t.shouldUnregister?r.keepDefaultValues?Na(o):{}:Na(m),h.array.next({values:{...m}}),h.values.next({values:{...m}})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&n(),l.mount=!d.isValid||!!r.keepIsValid,l.watch=!!t.shouldUnregister,h.state.next({submitCount:r.keepSubmitCount?i.submitCount:0,isDirty:r.keepDirty?i.isDirty:!(!r.keepDefaultValues||_l(e,o)),isSubmitted:!!r.keepIsSubmitted&&i.isSubmitted,dirtyFields:r.keepDirtyValues?i.dirtyFields:r.keepDefaultValues&&e?Tl(o,e):{},touchedFields:r.keepTouched?i.touchedFields:{},errors:r.keepErrors?i.errors:{},isSubmitSuccessful:!!r.keepIsSubmitSuccessful&&i.isSubmitSuccessful,isSubmitting:!1})},B=(e,t)=>U(sl(e)?e(a):e,t);return{control:{register:R,unregister:D,getFieldState:O,handleSubmit:V,setError:P,_executeSchema:x,_getWatch:E,_getDirty:S,_updateValid:v,_removeUnmounted:()=>{for(const e of c.unMount){const t=Aa(s,e);t&&(t._f.refs?t._f.refs.every((e=>!Sl(e))):!Sl(t._f.ref))&&D(e)}c.unMount=new Set},_updateFieldArray:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(r&&n){if(l.action=!0,u&&Array.isArray(Aa(s,e))){const t=n(Aa(s,e),r.argA,r.argB);c&&Ya(s,e,t)}if(u&&Array.isArray(Aa(i.errors,e))){const t=n(Aa(i.errors,e),r.argA,r.argB);c&&Ya(i.errors,e,t),Ml(i.errors,e)}if(d.touchedFields&&u&&Array.isArray(Aa(i.touchedFields,e))){const t=n(Aa(i.touchedFields,e),r.argA,r.argB);c&&Ya(i.touchedFields,e,t)}d.dirtyFields&&(i.dirtyFields=Tl(o,a)),h.state.next({name:e,isDirty:S(e,t),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else Ya(a,e,t)},_updateDisabledField:M,_getFieldArray:e=>La(Aa(l.mount?a:o,e,t.shouldUnregister?Aa(o,e,[]):[])),_reset:U,_resetDefaultValues:()=>sl(r.defaultValues)&&r.defaultValues().then((e=>{B(e,r.resetOptions),h.state.next({isLoading:!1})})),_updateFormState:e=>{i={...i,...e}},_disableForm:e=>{Oa(e)&&(h.state.next({disabled:e}),nl(s,((t,n)=>{let r=e;const i=Aa(s,n);i&&Oa(i._f.disabled)&&(r||(r=i._f.disabled)),t.disabled=r}),0,!1))},_subjects:h,_proxyFormState:d,_setErrors:e=>{i.errors=e,h.state.next({errors:i.errors,isValid:!1})},get _fields(){return s},get _formValues(){return a},get _state(){return l},set _state(e){l=e},get _defaultValues(){return o},get _names(){return c},set _names(e){c=e},get _formState(){return i},set _formState(e){i=e},get _options(){return r},set _options(e){r={...r,...e}}},trigger:j,register:R,handleSubmit:V,watch:(e,t)=>sl(e)?h.values.subscribe({next:n=>e(E(void 0,t),n)}):E(e,t,!0),setValue:T,getValues:A,reset:B,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Aa(s,e)&&(ja(t.defaultValue)?T(e,Aa(o,e)):(T(e,t.defaultValue),Ya(o,e,t.defaultValue)),t.keepTouched||yl(i.touchedFields,e),t.keepDirty||(yl(i.dirtyFields,e),i.isDirty=t.defaultValue?S(e,Aa(o,e)):S()),t.keepError||(yl(i.errors,e),d.isValid&&v()),h.state.next({...i}))},clearErrors:e=>{e&&Ga(e).forEach((e=>yl(i.errors,e))),h.state.next({errors:e?i.errors:{}})},unregister:D,setError:P,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Aa(s,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:O}}const Vl=e=>{let{children:t,closeModal:n,small:r}=e;return(0,as.jsx)("div",{className:"popup ".concat(r&&"popup-small"),children:(0,as.jsxs)("div",{className:"popup__content ".concat(r&&"popup__content-small"),children:[(0,as.jsx)("button",{className:"popup__close",onClick:()=>{console.log("clic"),n()},children:(0,as.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M6.0006 4.82166L10.1256 0.696655L11.3039 1.87499L7.17893 5.99999L11.3039 10.125L10.1256 11.3033L6.0006 7.17832L1.8756 11.3033L0.697266 10.125L4.82227 5.99999L0.697266 1.87499L1.8756 0.696655L6.0006 4.82166Z",fill:"#12130F"})})}),t]})})};const Ul=n.p+"static/media/hover.c0c6d8f5031719e9c62fd78c00ed8fd7.svg";const Bl=n.p+"static/media/selected.7efede4d2f4b8dc5371e558b9fdbe70d.svg",zl=$i((e=>{let{closeModal:t,isModalOpen:n,setIsAdressesUpdating:r}=e;const{token:s,addToAdresses:o}=ns,[a,l]=(0,i.useState)(""),{register:c,formState:{errors:u,isValid:d},handleSubmit:h,reset:f}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=i.useRef(),n=i.useRef(),[r,s]=i.useState({isDirty:!1,isValidating:!1,isLoading:sl(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:!1,defaultValues:sl(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Fl(e,(()=>s((e=>({...e}))))),formState:r});const o=t.current.control;return o._options=e,Ka({subject:o._subjects.state,next:e=>{Wa(e,o._proxyFormState,o._updateFormState,!0)&&s({...o._formState})}}),i.useEffect((()=>o._disableForm(e.disabled)),[o,e.disabled]),i.useEffect((()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();e!==r.isDirty&&o._subjects.state.next({isDirty:e})}}),[o,r.isDirty]),i.useEffect((()=>{e.values&&!_l(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values,s((e=>({...e})))):o._resetDefaultValues()}),[e.values,o]),i.useEffect((()=>{e.errors&&o._setErrors(e.errors)}),[e.errors,o]),i.useEffect((()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()})),t.current.formState=qa(r,o),t.current}({mode:"onBlur"}),p=e=>{l(e.target.value)},m=async(e,n)=>{n.preventDefault();try{const t=JSON.stringify({token:s,data:e});console.log(t),await va.post("".concat(ya,"/api/addresses"),t,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}),r(!0)}catch(i){console.log(i)}finally{f(),l(""),t()}};return(0,as.jsx)(as.Fragment,{children:n&&(0,as.jsx)(Vl,{closeModal:t,children:(0,as.jsxs)("div",{className:"modal-content",children:[(0,as.jsx)("h2",{className:"modal-content--title",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0430\u0434\u0440\u0435\u0441\u0443"}),(0,as.jsxs)("form",{onSubmit:h(((e,t)=>{o({address:e}),m(e,t)})),children:[(0,as.jsxs)("div",{className:"modal-grid",children:[(0,as.jsxs)("div",{className:"modal-grid--item-0 grid-item",children:[(0,as.jsx)("p",{className:"grid-item__text",children:"\u041d\u0430\u0437\u0432\u0430 \u0430\u0434\u0440\u0435\u0441\u0438"}),(0,as.jsx)("label",{className:"form_item--label",children:(0,as.jsx)("input",{type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430 \u0430\u0434\u0440\u0435\u0441\u0438",...c("adressName",{required:!0})})}),(null===u||void 0===u?void 0:u.address)&&(0,as.jsx)("p",{children:"Error!"})]}),(0,as.jsxs)("div",{className:"modal-grid--item-1 grid-item",children:[(0,as.jsx)("p",{className:"grid-item__text",children:"\u0412\u0443\u043b\u0438\u0446\u044f"}),(0,as.jsx)("label",{className:"form_item--label",children:(0,as.jsx)("input",{type:"text",placeholder:"\u0412\u0443\u043b\u0438\u0446\u044f",...c("streetName",{required:!0,pattern:/^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0457\u0407\u0456\u0406\u0454\u0404\u0451\u0401\u0491\u0490\s]*$/})})}),(0,as.jsx)("div",{height:40,children:(null===u||void 0===u?void 0:u.street)&&(0,as.jsx)("p",{children:"Error!"})})]}),(0,as.jsxs)("div",{className:"modal-grid--item-2 grid-item",children:[(0,as.jsx)("p",{className:"grid-item__text",children:"\u2116 \u0411\u0443\u0434\u0438\u043d\u043a\u0443"}),(0,as.jsx)("label",{className:"form_item--label",children:(0,as.jsx)("input",{type:"text",placeholder:"\u2116 \u0411\u0443\u0434\u0438\u043d\u043a\u0443",...c("homeNumber",{required:!0})})})]}),(0,as.jsx)("div",{className:"modal-grid--item-3 grid-item grid-radio",children:(0,as.jsxs)("label",{className:"radio",children:[(0,as.jsx)("div",{className:"radio-button",onClick:()=>p({target:{value:"flat"}}),children:"flat"===a?(0,as.jsx)("img",{src:Bl,alt:"flat"}):(0,as.jsx)("img",{src:Ul,alt:"house"})}),(0,as.jsx)("p",{children:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430"})]})}),(0,as.jsx)("div",{className:"modal-grid--item-4 grid-item grid-radio",children:(0,as.jsxs)("label",{className:"radio",children:[(0,as.jsx)("div",{className:"radio-button",onClick:()=>p({target:{value:"house"}}),children:"house"===a?(0,as.jsx)("img",{src:Bl,alt:"flat"}):(0,as.jsx)("img",{src:Ul,alt:"house"})}),(0,as.jsx)("p",{children:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a"})]})}),"flat"===a&&(0,as.jsxs)("div",{className:"modal-grid--item-5 flat-grid",children:[(0,as.jsxs)("div",{className:"flat-grid--item-0 grid-item",children:[(0,as.jsx)("p",{className:"grid-item__text",children:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430"}),(0,as.jsx)("label",{className:"form_item--label",children:(0,as.jsx)("input",{type:"text",placeholder:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430",...c("flatNumber",{required:!0})})})]}),(0,as.jsxs)("div",{className:"flat-grid--item-1 grid-item",children:[(0,as.jsx)("p",{className:"grid-item__text",children:"\u041f\u0430\u0440\u0430\u0434\u043d\u0430"}),(0,as.jsx)("label",{className:"form_item--label",children:(0,as.jsx)("input",{type:"text",placeholder:"\u041f\u0430\u0440\u0430\u0434\u043d\u0430",...c("entranceNumber",{required:!0})})})]}),(0,as.jsxs)("div",{className:"flat-grid--item-2 grid-item",children:[(0,as.jsx)("p",{className:"grid-item__text",children:"\u041a\u043e\u0434"}),(0,as.jsx)("label",{className:"form_item--label",children:(0,as.jsx)("input",{type:"text",placeholder:"\u041a\u043e\u0434",...c("entranceCode",{required:!0})})})]}),(0,as.jsxs)("div",{className:"flat-grid--item-3 grid-item",children:[(0,as.jsx)("p",{className:"grid-item__text",children:"\u041f\u043e\u0432\u0435\u0440\u0445"}),(0,as.jsx)("label",{className:"form_item--label",children:(0,as.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0432\u0435\u0440\u0445",...c("floar",{required:!0})})})]})]}),(0,as.jsxs)("div",{className:"modal-grid--item-9 grid-item",children:[(0,as.jsx)("p",{className:"grid-item__text",children:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"}),(0,as.jsx)("label",{className:"form_item--label",children:(0,as.jsx)("textarea",{placeholder:"\u041c\u043e\u0436\u0435\u0442\u0435 \u0442\u0443\u0442 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u0431\u0443\u0434\u044c-\u0449\u043e:)",rows:1,...c("comment")})})]})]}),(0,as.jsx)("div",{className:"form-button",children:(0,as.jsx)("button",{className:"btn-main ",type:"submit",disabled:!d,children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"})})]})]})})})})),ql=zl;const Hl=n.p+"static/media/add.9fe18f9cfb9097f3a7d3398bac711644.svg",Wl=e=>{let{openModal:t}=e;return(0,as.jsx)("div",{className:"addresses_new",children:(0,as.jsxs)("div",{className:"addresses_new__inner",children:[(0,as.jsx)("button",{onClick:t,children:(0,as.jsx)("img",{className:"addresses_new__inner--icon",src:Hl,alt:"add"})}),(0,as.jsx)("p",{className:"addresses_new__inner--text",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0430\u0434\u0440\u0435\u0441\u0443"})]})})},Gl=$i((e=>{let{key:t,adress:n,openModal:r,setIsAdressesUpdating:i}=e;const{token:s,removeAdresses:o}=ns,a=null!==n&&void 0!==n&&n.flatNumber?" , \u043a\u0432. ".concat(null===n||void 0===n?void 0:n.flatNumber):"",l="".concat(n.streetName,", ").concat(n.homeNumber+a);return(0,as.jsx)("div",{className:"addresses_created",children:(0,as.jsxs)("div",{className:"addresses_created__container",children:[(0,as.jsxs)("div",{className:"addresses_created__container--top",children:[(0,as.jsxs)("div",{className:"top-name",children:[(0,as.jsx)("h4",{children:n.adressName}),(0,as.jsx)("button",{onClick:()=>{o(n.adressName),(async(e,t,n)=>{try{const r=JSON.stringify({token:e,data:t});await va.post("".concat(ya,"/api/deleteAddress"),r,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}),n((e=>!e))}catch(r){console.log(r)}})(s,n,i)},children:(0,as.jsx)("img",{src:Es,alt:"cross"})})]}),(0,as.jsx)("div",{className:"top-street",children:(0,as.jsxs)("p",{children:[(0,as.jsx)("span",{children:"\u0412\u0443\u043b\u0438\u0446\u044f"})," ",l]})})]}),(0,as.jsxs)("div",{className:"addresses_created__container--bot",children:[(0,as.jsx)("span",{children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440:"}),(0,as.jsx)("p",{children:n.comment}),(0,as.jsx)("button",{onClick:r,children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"})]})]})},t)})),Kl=Gl,Ql=$i((e=>{let{handleSidebar:t}=e;const{token:n,adresses:r,addToAdresses:s}=ns,[o,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(async()=>{try{var e;const t=JSON.stringify({token:n}),r=await va.post("".concat(ya,"/api/auth"),t,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});if(null===(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.addresses))return;console.log(r.data.addresses),s(r.data.addresses)}catch(t){console.log(t)}finally{c(!1)}})()}),[n,l,s]);const u=()=>{a((e=>!e))};return(0,as.jsxs)("section",{className:"grid_layout--main addresses",children:[(0,as.jsx)(ks,{handleSidebar:t,children:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0430\u0434\u0440\u0435\u0441\u0438"}),(0,as.jsxs)("div",{className:"addresses_inner",children:[(0,as.jsx)(Wl,{openModal:u}),(0,as.jsx)(ql,{closeModal:u,isModalOpen:o,setIsAdressesUpdating:c}),null!==r&&r.map((e=>(0,as.jsx)(Kl,{adress:e,openModal:u,setIsAdressesUpdating:c},e.addressName)))]})]})})),Zl=Ql,Jl=e=>{let{closeConfirmModal:t}=e;return(0,as.jsx)(Vl,{closeModal:t,children:(0,as.jsxs)("div",{className:"modal-content",children:[(0,as.jsx)("h2",{className:"modal-content--title",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f?"}),(0,as.jsx)("p",{className:"confirm-text",children:"\u041c\u0438 \u043e\u0447\u0438\u0441\u0442\u0438\u043c\u043e \u043a\u043e\u0448\u0438\u043a \u0456 \u0437\u0430\u043c\u0456\u043d\u0438\u043c\u043e \u043f\u043e\u0442\u043e\u0447\u043d\u0456 \u043f\u043e\u0437\u0438\u0446\u0456\u0457 \u043d\u0430 \u043f\u043e\u0437\u0438\u0446\u0456\u0457 \u0437 \u0446\u044c\u043e\u0433\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,as.jsx)("button",{className:"modal-button confirm",type:"submit",children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"})]})})},$l=e=>{let{isMainModalOpen:t,closeMainModal:n,closeConfirmModal:r,isConfirmModalOpen:i,openConfirmModal:s}=e;return(0,as.jsxs)(as.Fragment,{children:[t&&(0,as.jsx)(Vl,{closeModal:n,children:(0,as.jsxs)("div",{className:"modal-content",children:[(0,as.jsx)("h2",{className:"modal-content--title",children:"\u0414\u0435\u0442\u0430\u043b\u0456 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,as.jsxs)("div",{className:"modal-content__info",children:[(0,as.jsxs)("div",{className:"title-line",children:[(0,as.jsx)("h4",{children:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u21166648"}),(0,as.jsx)("p",{className:"status",children:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u0435"})]}),(0,as.jsxs)("div",{className:"content-lines",children:[(0,as.jsxs)("div",{className:"content-line",children:[(0,as.jsx)("h5",{children:"\u0414\u0430\u0442\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,as.jsx)("p",{className:"info",children:"18.03.2023, 18:39"})]}),(0,as.jsxs)("div",{className:"content-line",children:[(0,as.jsx)("h5",{children:"\u0410\u0434\u0440\u0435\u0441\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),(0,as.jsx)("p",{className:"info",children:"\u0432\u0443\u043b. \u041c\u0430\u0447\u0442\u043e\u0432\u0430, 10"})]}),(0,as.jsxs)("div",{className:"content-line",children:[(0,as.jsx)("h5",{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d"}),(0,as.jsx)("p",{className:"info",children:"2"})]}),(0,as.jsxs)("div",{className:"content-line",children:[(0,as.jsx)("h5",{children:"\u0421\u043f\u043e\u0441\u0456\u0431 \u043e\u043f\u043b\u0430\u0442\u0438"}),(0,as.jsx)("p",{className:"info",children:"\u041e\u043d\u043b\u0430\u0439\u043d"})]}),(0,as.jsxs)("div",{className:"content-line__comment",children:[(0,as.jsx)("h5",{children:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440 \u0434\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f:"}),(0,as.jsx)("div",{className:"comment",children:(0,as.jsx)("p",{children:"\u041d\u0430\u0442\u0438\u0441\u043d\u0443\u0442\u0438 \u043d\u0430 \u0434\u043e\u043c\u043e\u0444\u043e\u043d\u0456 75\u0415"})})]})]})]}),(0,as.jsx)("div",{className:"modal-content__price",children:(0,as.jsxs)("div",{className:"content-lines",children:[(0,as.jsxs)("div",{className:"content-line",children:[(0,as.jsx)("h5",{children:"\u0421\u0443\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f:"}),(0,as.jsx)("h5",{className:"info",children:"870 \u20b4"})]}),(0,as.jsxs)("div",{className:"content-line",children:[(0,as.jsx)("h5",{children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:"}),(0,as.jsx)("h5",{className:"info",children:"70 \u20b4"})]}),(0,as.jsxs)("div",{className:"title-line bottom",children:[(0,as.jsx)("h4",{children:"\u0412\u0441\u044c\u043e\u0433\u043e \u0434\u043e \u0441\u043f\u043b\u0430\u0442\u0438:"}),(0,as.jsx)("h4",{children:"917 \u20b4"})]})]})}),(0,as.jsx)("button",{className:"modal-button",type:"submit",onClick:s,children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"})]})}),i&&(0,as.jsx)(Jl,{closeConfirmModal:r})]})},Yl=e=>{let{handleSidebar:t}=e;const[n,r]=(0,i.useState)(!1),[s,o]=(0,i.useState)(!1);(0,i.useEffect)((()=>{}),[]);return(0,as.jsx)(as.Fragment,{children:(0,as.jsxs)("section",{className:"grid_layout--main orders",children:[(0,as.jsx)(ks,{handleSidebar:t,children:"\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c"}),(0,as.jsx)("div",{className:"order",children:(0,as.jsxs)("div",{className:"order-container",children:[(0,as.jsxs)("div",{className:"order-info",children:[(0,as.jsxs)("div",{className:"order-info__number",children:[(0,as.jsx)("h4",{children:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u21162323"}),(0,as.jsx)("p",{className:"status",children:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u0435"})]}),(0,as.jsx)("div",{className:"order-info__datetime",children:"05.01.2023, 12:30"})]}),(0,as.jsxs)("div",{className:"order-details",children:[(0,as.jsx)("h4",{children:"496 \u20b4"}),(0,as.jsx)("button",{onClick:()=>{r(!0)},className:"order-details__modal-link",children:"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0456\u0448\u0435"})]})]})}),(0,as.jsx)($l,{isConfirmModalOpen:s,openConfirmModal:()=>{o(!0)},closeConfirmModal:()=>{o(!1)},closeMainModal:()=>{r(!1)},isMainModalOpen:n})]})})},Xl=$i((e=>{let{handleSidebar:t}=e;const{name:n,phone:r}=ns;return(0,as.jsx)(as.Fragment,{children:(0,as.jsxs)("section",{className:"sidebar-mobile animate",children:[(0,as.jsxs)("div",{className:"profile_info--head__mobile sidebar-mobile__header",children:[(0,as.jsxs)("div",{className:"mobile-inner",children:[(0,as.jsx)("img",{src:"https://via.placeholder.com/70x70",alt:"profile",className:"profile_info--head__photo"}),(0,as.jsxs)("div",{className:"contacts",children:[(0,as.jsx)("div",{className:"contacts_name",children:n}),(0,as.jsx)("div",{className:"contacts_phone mobile",children:r}),(0,as.jsx)("div",{className:"contacts_bonuses",children:(0,as.jsx)("p",{children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e 23 \u0431\u043e\u043d\u0443\u0441\u0438"})})]})]}),(0,as.jsx)("div",{className:"mobile-inner",children:(0,as.jsx)(bs,{to:"/",className:"profile_link--mobile--button mobile-inner__cross",onClick:t,children:(0,as.jsx)("img",{src:Es,alt:"cross"})})})]}),(0,as.jsx)("ul",{className:"sidebar-mobile__list",children:["\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f","\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0456 \u0431\u043b\u044e\u0434\u0430","\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0430\u0434\u0440\u0435\u0441\u0438","\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c","\u0411\u043e\u043d\u0443\u0441\u0438","\u0412\u0438\u0445\u0456\u0434"].map(((e,n)=>(0,as.jsx)(Cs,{index:n,handleSidebar:t,children:e},n)))}),(0,as.jsx)("div",{className:"sidebar-mobile__footer",children:(0,as.jsxs)("ul",{className:"sidebar-mobile__footer--list",children:[(0,as.jsx)(bs,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),(0,as.jsx)(bs,{to:"/",children:"\u041c\u0435\u043d\u044e"}),(0,as.jsx)(bs,{to:"/about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"}),(0,as.jsx)(bs,{to:"/contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})]})})]})})})),ec=Xl,tc=e=>{let{handleSidebar:t}=e;return(0,as.jsx)("div",{children:(0,as.jsx)(ks,{handleSidebar:t,children:"Coming soon"})})},nc=(e,t,n,r,i)=>{window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"add_to_cart",ecommerce:{items:[{item_name:e,item_id:t,price:n,item_brand:"Polar Pelmeni",item_category:r,quantity:i}]}})},rc=$i((e=>{const{token:t,favoritProducts:n,removeFromFavorit:r,addToFavorit:s}=ns,{addProduct:o}=is,{setActions:a}=os,[l,c]=(0,i.useState)(1),[u,d]=(0,i.useState)(!1),h=X(),f=()=>{const{id:i,name:o,price:l,count:c,preview:u,weight:d,ingredients:h}=e;n.some((e=>e.id===i))?r(i):(a("addToFavorit"),setTimeout((()=>{a("")}),2e3),s({name:o,price:l,count:c,preview:u,weight:d,id:i,ingredients:h}),(async(e,t)=>{try{const n=ya+"/api/updateFavorites",r=JSON.stringify({token:e,favorites:t}),i=await va.post(n,r,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});console.log(i)}catch(n){console.log(n)}})(t,n))};return(0,as.jsxs)("div",{className:"product",children:[(0,as.jsx)("div",{className:"product__cta",children:(0,as.jsx)("div",{className:ds()("product__like",{"product__like-active":!!n&&n.some((t=>t.id===e.id))}),onClick:()=>f(),children:(0,as.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"black",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M8.5097 3.13486L7.99967 3.68282L7.48964 3.13486C6.08123 1.62171 3.79773 1.62171 2.38932 3.13486C0.980904 4.648 0.980904 7.10129 2.38932 8.61444L6.97961 13.5461C7.54297 14.1513 8.45637 14.1513 9.01974 13.5461L13.61 8.61444C15.0184 7.10129 15.0184 4.648 13.61 3.13486C12.2016 1.62171 9.91812 1.62171 8.5097 3.13486Z",stroke:"white",strokeWidth:"1.5",strokeLinejoin:"round"})})})}),(0,as.jsxs)("div",{className:"product__preview",children:[(0,as.jsx)("img",{loading:"lazy",src:e.preview,alt:e.name,onClick:()=>h("/product/".concat(e.id))}),!0===u?(0,as.jsxs)("button",{children:[(0,as.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M6.66715 10.1138L12.7954 3.9856L13.7382 4.9284L6.66715 11.9994L2.4245 7.75685L3.36731 6.81405L6.66715 10.1138Z",fill:"#92939A"})}),(0,as.jsx)("p",{children:" \u0414\u043e\u0434\u0430\u043d\u043e \u0434\u043e \u043a\u043e\u0448\u0438\u043a\u0443"})]}):(0,as.jsx)("button",{className:"product__addToCard",onClick:()=>(console.log("addToCart"),a("addToCard"),o({name:e.name,price:e.price,count:l,preview:e.preview,weight:e.weight,id:e.id,ingredients:e.ingredients,category:e.category}),d(!0),nc(e.name,e.id,e.price,e.category,l),void setTimeout((()=>{d(!1),a("")}),2e3)),children:"\u0412 \u043a\u043e\u0448\u0438\u043a"})]}),(0,as.jsxs)("div",{className:"product__info",children:[(0,as.jsxs)("p",{className:"product__weight",children:[e.weight," \u0433"]}),(0,as.jsx)("h4",{className:"product__name",children:e.name}),(0,as.jsx)("p",{className:"product__composition",children:e.ingredients})]}),(0,as.jsxs)("div",{className:"product__order",children:[(0,as.jsx)("div",{className:"product__price",children:(0,as.jsxs)("div",{className:"product__total-price",children:[e.price*l," \u20b4"]})}),(0,as.jsxs)("div",{className:"counter",children:[(0,as.jsx)("div",{className:"counter__btn",onClick:()=>{l>1&&c(l-1)},children:"-"}),(0,as.jsx)("div",{className:"counter__value",children:l}),(0,as.jsx)("div",{className:"counter__btn",onClick:()=>c(l+1),children:"+"})]})]})]})})),ic=rc,sc=$i((e=>{let{handleSidebar:t}=e;const{favoritProducts:n}=ns;return(0,as.jsxs)("section",{className:"grid_layout--main favorites",children:[(0,as.jsx)(ks,{handleSidebar:t,children:"\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0456 \u0431\u043b\u044e\u0434\u0430"}),n&&n.map((e=>(0,as.jsx)(ic,{preview:e.preview,name:e.name,price:e.price,weight:e.weight,id:e.id,ingredients:e.ingredients},e.id)))]})})),oc=e=>{let{handleSidebar:t}=e;return(0,as.jsx)(as.Fragment,{children:(0,as.jsxs)("section",{className:"grid_layout--main orders",children:[(0,as.jsx)(ks,{handleSidebar:t,children:"\u0411\u043e\u043d\u0443\u0441\u0438"}),(0,as.jsx)("div",{className:"order",children:(0,as.jsx)("div",{className:"order-container",children:(0,as.jsx)("div",{className:"order-info",children:(0,as.jsxs)("div",{className:"order-info__number",children:[(0,as.jsx)("h4",{children:"\u041f\u0435\u0440\u0448\u0435 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f - 40% \u0437\u043d\u0438\u0436\u043a\u0430"}),(0,as.jsx)("p",{className:"status",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u0430"})]})})})})]})})},ac=e=>{let{pathlink:t,handleSidebar:n,isSidebarClosed:r}=e;return(0,as.jsx)(as.Fragment,{children:(()=>{switch(t){case"info":return(0,as.jsx)(ba,{handleSidebar:n,isSidebarClosed:r});case"addresses":return(0,as.jsx)(Zl,{handleSidebar:n});case"history":return(0,as.jsx)(Yl,{handleSidebar:n});case"":return(0,as.jsx)(ec,{handleSidebar:n});case"favourite":return(0,as.jsx)(sc,{handleSidebar:n});case"bonuses":return(0,as.jsx)(oc,{handleSidebar:n});default:return(0,as.jsx)(tc,{handleSidebar:n})}})()})},lc=()=>{const[e,t]=(0,i.useState)(!1),n=$().pathname.replace("/profile/","");return(0,as.jsx)(as.Fragment,{children:(0,as.jsx)(ls,{children:(0,as.jsxs)(cs,{children:[(0,as.jsx)(Ss,{pathlink:n}),(0,as.jsx)(ac,{pathlink:n,handleSidebar:()=>{t((e=>!e))},isSidebarClosed:e})]})})})},cc=()=>(0,as.jsx)("section",{className:"anim-inner",children:(0,as.jsx)("div",{className:"anim"})}),uc=e=>{let{direction:t}=e;return(0,as.jsx)("div",{className:"button-arrow button-arrow-".concat(t),children:(0,as.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M10.4763 7.83307L6.00634 12.3031L7.18467 13.4814L13.6663 6.99973L7.18467 0.518066L6.00634 1.6964L10.4763 6.1664L0.333008 6.1664L0.333008 7.83307L10.4763 7.83307Z",fill:"#12130F"})})})},dc=$i((()=>{const{id:e}=ee(),{addProduct:t,products:n}=is,{setActions:r}=os,[s,o]=(0,i.useState)(1),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(null);return(0,i.useEffect)((()=>{if(c){const e=c.product_production_description.split(".")[0].split(", ");h(e)}}),[c]),(0,i.useEffect)((()=>{const t={productId:e},n=JSON.stringify(t);va.post("".concat(ya,"/api/product"),n,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((e=>{u(e.data);const t=JSON.stringify({categoryId:e.data.menu_category_id});va.post("".concat(ya,"/api/products"),t,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((e=>{const t=e.data.response.map((e=>({key:e.product_id,photo:e.photo_origin,product_name:e.product_name,price:e.price,out:e.out,product_id:e.product_id,ingredients:e.product_production_description.split(".")[0].split(", ").join(", "),category_name:e.category_name})));p(t)}))})).catch((e=>console.error(e)))}),[e]),(0,i.useEffect)((()=>{n&&(n.some((t=>t.id===e))?l(!0):l(!1))}),[n,e]),null!==c&&!1!==c?(m=c.product_name,g=c.product_id,v=parseInt(c.price[1].slice(0,-2)),y=c.category_name.replace(/onlineOrder: /,""),window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"view_item",ecommerce:{items:[{item_name:m,item_id:g,price:v,item_brand:"Polar Pelmeni",item_category:y}]}}),(0,as.jsx)("div",{children:(0,as.jsx)("div",{className:"product-page",children:(0,as.jsxs)(ls,{children:[(0,as.jsxs)("div",{className:"product-page__content",children:[(0,as.jsx)("div",{className:"product-page__preview",children:(0,as.jsx)("img",{src:"https://polarpelmeni-api.work-set.eu/api/sendImage/".concat(e),alt:c.product_name})}),(0,as.jsxs)("div",{className:"product-page__info",children:[(0,as.jsxs)("p",{className:"product-page__weight text text__color--secondary",children:[c.out," \u0433"]}),(0,as.jsx)("h1",{className:"product-page__title text__color--secondary",children:c.product_name}),c.group_modifications&&(0,as.jsx)("p",{className:"product-page__desc text__color--secondary",children:c.group_modifications.map(((e,t)=>c.group_modifications.length===t+1?"".concat(e.name):"".concat(e.name,", ")))}),(0,as.jsxs)("p",{className:"product-page__price text-price text__color--secondary",children:[parseInt(c.price[1].slice(0,-2))," \u20b4"]}),(0,as.jsxs)("div",{className:"product-page__order",children:[!0===a?(0,as.jsxs)("button",{className:"btn btn-main",onClick:()=>{},disabled:!0,children:[(0,as.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:6},children:(0,as.jsx)("path",{d:"M6.66715 10.1138L12.7954 3.9856L13.7382 4.9284L6.66715 11.9994L2.4245 7.75685L3.36731 6.81405L6.66715 10.1138Z",fill:"#92939A"})}),"\u0414\u043e\u0434\u0430\u043d\u043e \u0434\u043e \u043a\u043e\u0448\u0438\u043a\u0443"]}):(0,as.jsxs)("button",{className:"btn btn-main",onClick:()=>{t({name:c.product_name,price:parseInt(c.price[1].slice(0,-2)),count:s,preview:ya+c.product_id,weight:c.cost,category:c.category_name,id:e}),nc(c.product_name,c.product_id,parseInt(c.price[1].slice(0,-2))*s,c.category_name,s),r("addToCard"),setTimeout((()=>{r("")}),2e3)},children:["\u0414\u043e\u0434\u0430\u0442\u0438 \u0432 \u043a\u043e\u0448\u0438\u043a (",parseInt(c.price[1].slice(0,-2))*s," \u20b4)"]}),(0,as.jsxs)("div",{className:"counter",children:[(0,as.jsx)("div",{className:"counter__btn counter__btn--transperent",onClick:()=>{s>1&&o(s-1)},children:"-"}),(0,as.jsx)("div",{className:"counter__value text__color--secondary",children:s}),(0,as.jsx)("div",{className:"counter__btn counter__btn--transperent",onClick:()=>o(s+1),children:"+"})]})]}),c.product_production_description&&(0,as.jsxs)(i.Fragment,{children:[(0,as.jsx)("h6",{className:"product-page__compile-title title__h6 text__color--secondary",children:"\u0421\u043a\u043b\u0430\u0434"}),(0,as.jsx)("ul",{className:"product-page__compile",children:d&&d.map((e=>(0,as.jsx)("li",{className:"product-page__compile-item",children:e})))})]})]})]}),(0,as.jsxs)("div",{className:"product-page__recommendations",children:[(0,as.jsxs)("div",{className:"product-page__recommendations-head",children:[(0,as.jsx)("h3",{className:"title__h3",children:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0454\u043c\u043e \u0441\u043f\u0440\u043e\u0431\u0443\u0432\u0430\u0442\u0438"}),(0,as.jsxs)("div",{className:"product-page__recommendations-arrows",children:[(0,as.jsx)(uc,{direction:"left"}),(0,as.jsx)(uc,{direction:"right"})]})]}),null!==f&&(0,as.jsx)("div",{className:"product-page__recommendations-track",children:(0,as.jsx)("div",{className:"product-page__recommendations-list",children:f.map((e=>(0,as.jsx)(ic,{preview:"https://polarpelmeni-api.work-set.eu/api/sendImage/"+e.product_id,name:e.product_name,price:parseInt(e.price[1].slice(0,-2)),ingredients:e.ingredients,weight:e.out,id:e.product_id,category:e.category_name},e.product_id)))})})]})]})})})):(0,as.jsx)("div",{className:"loader__wrapper",children:(0,as.jsx)(cc,{})});var m,g,v,y})),hc=dc,fc=n.p+"static/media/about-1-desc.91b817798bf8b5956683.png",pc=n.p+"static/media/about-2-desc.92d4c3085097a9bb8178.png",mc=n.p+"static/media/about-3-desc.b5bef9ba9ec67b6c4900.png",gc=n.p+"static/media/hero_preview.33f32bcff4c534ce22a3.png";const vc=n.p+"static/media/sprite.846e26b8e4d965e90cf93dc64c8476cc.svg",yc=()=>(0,as.jsxs)(ls,{children:[(0,as.jsx)("section",{className:"about__hero",children:(0,as.jsx)("div",{className:"about-container container",children:(0,as.jsxs)("div",{className:"about__hero-content",children:[(0,as.jsx)("h1",{className:"title__h1",children:"\u041d\u0430\u0448\u0430 \u0456\u0441\u0442\u043e\u0440\u0456\u044f"}),(0,as.jsx)("p",{className:"text",children:"\u041a\u043e\u043b\u0438 \u043b\u044e\u0434\u044f\u043c \u0445\u043e\u0447\u0435\u0442\u044c\u0441\u044f \u0448\u0432\u0438\u0434\u043a\u043e \u0456 \u0441\u043c\u0430\u0447\u043d\u043e, \u0432\u043e\u043d\u0438 \u043e\u0431\u0438\u0440\u0430\u044e\u0442\u044c Polar"}),(0,as.jsx)("div",{className:"about__hero-preview",children:(0,as.jsx)("img",{src:gc,alt:""})})]})})}),(0,as.jsx)("section",{className:"about-section",children:(0,as.jsxs)("div",{className:"about-container container",children:[(0,as.jsxs)("div",{className:"about-top-wrap",children:[(0,as.jsxs)("ul",{className:"about-top-list list",children:[(0,as.jsxs)("li",{className:"about-top-item",children:[(0,as.jsx)("p",{className:"about-top-subtitle",children:"\u041d\u0430\u0448\u0430 \u0456\u0441\u0442\u043e\u0440\u0456\u044f"}),(0,as.jsx)("h2",{className:"about-top-title title",children:"\u0417 \u0447\u043e\u0433\u043e \u0432\u0441\u0435 \u043f\u043e\u0447\u0430\u043b\u043e\u0441\u044f?"})]}),(0,as.jsx)("li",{className:"about-top-item",children:(0,as.jsx)("p",{className:"about-top-text text",children:"\u0417\u0430\u0441\u043d\u043e\u0432\u043d\u0438\u043a Polar \u2014 \u0454\u0432\u0440\u043e\u043f\u0435\u0454\u0446\u044c \u0437 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0438\u043c \u043a\u043e\u0440\u0456\u043d\u043d\u044f\u043c \u2014 \u043a\u0456\u043b\u044c\u043a\u0430 \u0440\u043e\u043a\u0456\u0432 \u0442\u043e\u043c\u0443 \u0432\u0456\u0434\u0432\u0456\u0434\u0430\u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0443. \u0410 \u041e\u0434\u0435\u0441\u0443, \u0439\u043e\u0433\u043e \u0436\u0438\u0442\u0435\u043b\u0456\u0432 \u0456 \u043a\u043e\u043b\u043e\u0440\u0438\u0442 \u0432\u0438 \u0437\u043d\u0430\u0454\u0442\u0435 \u2014 \u043d\u0435 \u0437\u0430\u043a\u043e\u0445\u0430\u0442\u0438\u0441\u044f \u043d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u043e."})}),(0,as.jsx)("li",{className:"about-top-item",children:(0,as.jsx)("p",{className:"about-top-text text",children:"\u0406\u0441\u043a\u0440\u0430, \u0431\u0443\u0440\u044f, \u0431\u043e\u0436\u0435\u0432\u0456\u043b\u043b\u044f, \u0456 \u043e\u0442 \u043d\u0430\u0448 \u041a\u043e\u0441\u0442\u044f \u0432\u0438\u0440\u0456\u0448\u0438\u0432 \u0437\u0430\u043b\u0438\u0448\u0438\u0442\u0438\u0441\u044f \u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0456, \u0430\u0431\u0438 \u0440\u0430\u0434\u0443\u0432\u0430\u0442\u0438 \u043b\u044e\u0434\u0435\u0439 \u0432\u0438\u0448\u0443\u043a\u0430\u043d\u0438\u043c\u0438 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u044f\u043c\u0438 \u0439 \u043f\u0456\u0434\u043d\u0456\u043c\u0430\u0442\u0438 \u0435\u043a\u043e\u043d\u043e\u043c\u0456\u043a\u0443 \u043d\u0430\u0448\u043e\u0457 \u043a\u0440\u0430\u0457\u043d\u0438."})}),(0,as.jsx)("li",{className:"about-top-item",children:(0,as.jsx)("p",{className:"about-top-text text",children:"\u041f\u0456\u0446\u0430, \u0441\u0443\u0448\u0456, \u0431\u0443\u0440\u0433\u0435\u0440\u0438, \u0440\u0430\u043c\u0435\u043d\u2026 \u0410 \u0434\u0435 \u0436 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456, \u044f\u043a\u0456 \u0442\u043e\u0447\u043d\u043e \u0437\u0430\u0439\u043c\u0430\u044e\u0442\u044c \u043e\u043a\u0440\u0435\u043c\u0435 \u043c\u0456\u0441\u0446\u0435 \u0432 \u0441\u0435\u0440\u0434\u0435\u0447\u043a\u0443 \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u0443\u043a\u0440\u0430\u0457\u043d\u0446\u044f?"})}),(0,as.jsx)("li",{className:"about-top-item",children:(0,as.jsx)("p",{className:"about-top-text text",children:"\u0426\u0435 \u043f\u0438\u0442\u0430\u043d\u043d\u044f \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0432 \u0441\u043e\u0431\u0456 \u0437\u0430\u0441\u043d\u043e\u0432\u043d\u0438\u043a Polar, \u044f\u043a\u0438\u0439 \u043d\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0432 \u043d\u0430 \u0440\u0438\u043d\u043a\u0443 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0446\u0456\u0454\u0457 \u0441\u0442\u0440\u0430\u0432\u0438 \u0456 \u0441\u043c\u0430\u0447\u043d\u0438\u0445 \u0441\u043e\u0443\u0441\u0456\u0432 \u0434\u043e \u043d\u0435\u0457. \u0406 \u043f\u043e\u043d\u0435\u0441\u043b\u0430\u0441\u044f\u2026"})})]}),(0,as.jsx)("img",{src:fc,alt:"women",className:"about-top-img first"})]}),(0,as.jsx)("svg",{className:"about-icon first",children:(0,as.jsx)("use",{href:"".concat(vc,"#icon-arrow-1")})}),(0,as.jsxs)("div",{className:"about-wrap",children:[(0,as.jsxs)("ul",{className:"about-list list",children:[(0,as.jsx)("li",{className:"about-item",children:(0,as.jsxs)("h2",{className:"about-title title",children:["\u042f\u043a \u0432\u0441\u0435",(0,as.jsx)("br",{}),"\u043f\u0440\u0438\u0437\u0443\u043f\u0438\u043d\u0438\u043b\u043e\u0441\u044f?"]})}),(0,as.jsx)("li",{className:"about-item",children:(0,as.jsx)("p",{className:"about-text text",children:"23 \u043b\u044e\u0442\u043e\u0433\u043e \u0431\u0443\u043b\u0430 \u043f\u0440\u0435-\u043f\u0430\u0442\u0456 \u0434\u0435\u0433\u0443\u0441\u0442\u0430\u0446\u0456\u044f \u0432 \u041e\u0434\u0435\u0441\u0456:\u043b\u044e\u0434\u0438 \u0433\u0456\u0434\u043d\u043e \u043e\u0446\u0456\u043d\u0438\u043b\u0438 \u043d\u0430\u0448\u0456 \u0441\u0442\u0430\u0440\u0430\u043d\u043d\u044f, \u0441\u043c\u0430\u043a \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432, \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0456\u0441\u0442\u044c \u0432\u0438\u0431\u043e\u0440\u0443 \u0456 \u0448\u0432\u0438\u0434\u043a\u0456\u0441\u0442\u044c \u043f\u0440\u0438\u0433\u043e\u0442\u0443\u0432\u0430\u043d\u043d\u044f."})}),(0,as.jsx)("li",{className:"about-item",children:(0,as.jsx)("p",{className:"about-text text",children:"\u041d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e \u0434\u043d\u044f \u043f\u043e\u0447\u0430\u043b\u0430\u0441\u044f \u0432\u0456\u0439\u043d\u0430."})}),(0,as.jsx)("li",{className:"about-item",children:(0,as.jsx)("p",{className:"about-text text",children:"\u041c\u0438, \u044f\u043a \u0456 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u0431\u0456\u0437\u043d\u0435\u0441 \u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0456, \u043d\u0435 \u043c\u043e\u0433\u043b\u0438 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u044f\u043a \u0440\u0430\u043d\u0456\u0448\u0435."})}),(0,as.jsx)("li",{className:"about-item",children:(0,as.jsx)("p",{className:"about-text text",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 Polar \u043d\u0435 \u0437\u0434\u0430\u043b\u0430\u0441\u044f \u0456 \u043f\u0440\u0438\u0439\u043d\u044f\u043b\u0430 \u0440\u0456\u0448\u0435\u043d\u043d\u044f \u0432\u0456\u0434\u0447\u0438\u043d\u0438\u0442\u0438\u0441\u044f \u0432 \u0431\u0456\u043b\u044c\u0448 \u0431\u0435\u0437\u043f\u0435\u0447\u043d\u043e\u043c\u0443 \u043c\u0456\u0441\u0442\u0456 \u0423\u043a\u0440\u0430\u0457\u043d\u0438 \u2014 \u0423\u0436\u0433\u043e\u0440\u043e\u0434\u0456."})}),(0,as.jsx)("li",{className:"about-item",children:(0,as.jsx)("p",{className:"about-text text",children:"\u0421\u0442\u0432\u043e\u0440\u0438\u043b\u0438 \u0446\u0435\u0445 \u0443 \u0417\u0430\u043a\u0430\u0440\u043f\u0430\u0442\u0442\u0456, \u043f\u043e\u043b\u0456\u043f\u0448\u0438\u043b\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0443\u0440\u0443 \u0456 \u0437\u0440\u043e\u0431\u0438\u043b\u0438 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456 \u0449\u0435 \u043a\u0440\u0430\u0449\u0438\u043c\u0438 \u0437 \u0456\u0434\u0435\u0430\u043b\u044c\u043d\u0438\u043c \u0442\u0456\u0441\u0442\u043e\u043c \u0456 \u043d\u0430\u0447\u0438\u043d\u043a\u0430\u043c\u0438!"})})]}),(0,as.jsx)("img",{src:pc,alt:"dishes",className:"about-img second"})]}),(0,as.jsx)("svg",{className:"about-icon second",children:(0,as.jsx)("use",{href:"".concat(vc,"#icon-arrow-2")})}),(0,as.jsxs)("div",{className:"about-bottom-wrap",children:[(0,as.jsxs)("ul",{className:"about-bottom-list list",children:[(0,as.jsx)("li",{className:"about-bottom-item",children:(0,as.jsxs)("h2",{className:"about-bottom-title title",children:["\u041c\u0438 \u043f\u0440\u043e\u0434\u0443\u043c\u0430\u043b\u0438 \u0432\u0441\u0435",(0,as.jsx)("br",{}),"\u0434\u043e \u0434\u0440\u0456\u0431\u043d\u0438\u0446\u044c"]})}),(0,as.jsx)("li",{className:"about-bottom-item",children:(0,as.jsx)("p",{className:"about-bottom-text text",children:"\u0423 \u0442\u0435\u0440\u043c\u0456\u043d\u043e\u0432\u043e\u043c\u0443 \u043f\u043e\u0440\u044f\u0434\u043a\u0443 (\u043c\u043e\u0432\u0430 \u0436 \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0440\u043e \u0457\u0436\u0443, \u0430 \u043f\u0440\u043e \u041f\u0415\u041b\u042c\u041c\u0415\u041d\u0406) \u0437\u0456\u0431\u0440\u0430\u043b\u0430\u0441\u044f \u0441\u0438\u043b\u044c\u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u043d\u0430 \u0447\u043e\u043b\u0456 \u0456\u0437 \u0448\u0435\u0444-\u043a\u0443\u0445\u0430\u0440\u0435\u043c."})}),(0,as.jsx)("li",{className:"about-bottom-item",children:(0,as.jsx)("p",{className:"about-bottom-text text",children:"\u0414\u043d\u044f\u043c\u0438 \u0439 \u043d\u043e\u0447\u0430\u043c\u0438 \u043c\u0438 \u0440\u043e\u0437\u0440\u043e\u0431\u043b\u044f\u043b\u0438 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0456\u044e, \u043e\u0441\u043e\u0431\u043b\u0438\u0432\u0443 \u0440\u0435\u0446\u0435\u043f\u0442\u0443\u0440\u0443, \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0456\u044e \u043c\u0435\u043d\u044e \u0437 \u043f\u0440\u043e\u0444\u0435\u0441\u0456\u043e\u043d\u0430\u043b\u0430\u043c\u0438, \u0449\u043e\u0431\u0438 \u043d\u0430\u0441\u043e\u043b\u043e\u0434\u0436\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u044f\u043c\u0438 \u043c\u0456\u0433 \u043a\u043e\u0436\u0435\u043d."})}),(0,as.jsx)("li",{className:"about-bottom-item",children:(0,as.jsx)("p",{className:"about-bottom-text text",children:"\u041d\u0435 \u0437\u0430\u043b\u0438\u0448\u0438\u043b\u0438 \u0431\u0435\u0437 \u0443\u0432\u0430\u0433\u0438 \u043d\u0456\u043a\u043e\u0433\u043e."})}),(0,as.jsx)("li",{className:"about-bottom-item",children:(0,as.jsx)("p",{className:"about-bottom-text text",children:"\u0406 \u0432\u0435\u0433\u0435\u0442\u0430\u0440\u0456\u0430\u043d\u0446\u0456, \u0456 \u0432\u0435\u0433\u0430\u043d\u0438, \u0456 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u043d\u0456 \u043c\u2019\u044f\u0441\u043e\u0457\u0434\u0438, \u0456 \u043b\u044e\u0431\u0438\u0442\u0435\u043b\u0456 \u0440\u0438\u0431\u043a\u0438, \u043e\u0432\u043e\u0447\u0456\u0432, \u043d\u0430\u0432\u0456\u0442\u044c \u0441\u043e\u043b\u043e\u0434\u043e\u0449\u0456\u0432 \u0442\u043e\u0447\u043d\u043e \u0437\u043d\u0430\u0439\u0434\u0443\u0442\u044c \u043f\u043e\u0440\u0446\u0456\u044e \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u0445 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432 \u0434\u043b\u044f \u0441\u0435\u0431\u0435 \u0432 Polar"})})]}),(0,as.jsx)("img",{src:mc,alt:"women",className:"about-bottom-img"})]})]})}),(0,as.jsx)("section",{className:"facts-section",children:(0,as.jsxs)("div",{className:"facts-container container",children:[(0,as.jsx)("h2",{className:"facts-main-title title",children:"\u0412\u0430\u0436\u043b\u0438\u0432\u0456 \u0444\u0430\u043a\u0442\u0438 \u043f\u0440\u043e Polar"}),(0,as.jsx)("div",{className:"facts-list-wrap",children:(0,as.jsxs)("ul",{className:"facts-list list",children:[(0,as.jsxs)("li",{className:"facts-item",children:[(0,as.jsx)("div",{className:"facts-icon-wrap",children:(0,as.jsx)("svg",{className:"facts-icon",children:(0,as.jsx)("use",{href:"".concat(vc,"#icon-facts-1")})})}),(0,as.jsx)("h3",{className:"facts-title",children:"\u041c\u0438 \u0441\u0430\u043c\u0456 \u0432\u0438\u0440\u043e\u0431\u043b\u044f\u0454\u043c\u043e \u0432\u0441\u0435"}),(0,as.jsx)("p",{className:"facts-text",children:"\u0444\u0430\u0440\u0448, \u0431\u0443\u043b\u044c\u0439\u043e\u043d\u0438, \u0441\u043e\u0443\u0441\u0438. \u0406 \u0446\u0435 \u0437 \u043d\u0430\u0439\u044f\u043a\u0456\u0441\u043d\u0456\u0448\u0438\u0445 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432 \u0432\u0456\u0434 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u0438\u0445 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0456\u0432. \u0422\u043e\u043c\u0443 \u0449\u043e, \u0445\u043e\u0440\u043e\u0448\u0456 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456 \u043f\u043e\u0447\u0438\u043d\u0430\u044e\u0442\u044c\u0441\u044f \u0437\u0456 \u0441\u0432\u0456\u0436\u0438\u0445 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432"})]}),(0,as.jsxs)("li",{className:"facts-item",children:[(0,as.jsx)("div",{className:"facts-icon-wrap",children:(0,as.jsx)("svg",{className:"facts-icon",children:(0,as.jsx)("use",{href:"".concat(vc,"#icon-facts-2")})})}),(0,as.jsx)("h3",{className:"facts-title",children:"10 \u0432\u0438\u0434\u0456\u0432 \u0440\u0456\u0437\u043d\u0438\u0445 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432"}),(0,as.jsx)("p",{className:"facts-text",children:"\u0406 \u0432\u0435\u0433\u0435\u0442\u0430\u0440\u0456\u0430\u043d\u0446\u0456, \u0456 \u0432\u0435\u0433\u0430\u043d\u0438, \u0456 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u043d\u0456 \u043c\u2019\u044f\u0441\u043e\u0457\u0434\u0438, \u0456 \u043b\u044e\u0431\u0438\u0442\u0435\u043b\u0456 \u0440\u0438\u0431\u043a\u0438, \u043e\u0432\u043e\u0447\u0456\u0432, \u043d\u0430\u0432\u0456\u0442\u044c \u0441\u043e\u043b\u043e\u0434\u043e\u0449\u0456\u0432 \u0442\u043e\u0447\u043d\u043e \u0437\u043d\u0430\u0439\u0434\u0443\u0442\u044c \u043f\u043e\u0440\u0446\u0456\u044e \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u0445 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432"})]}),(0,as.jsxs)("li",{className:"facts-item",children:[(0,as.jsx)("div",{className:"facts-icon-wrap",children:(0,as.jsx)("svg",{className:"facts-icon",children:(0,as.jsx)("use",{href:"".concat(vc,"#icon-facts-3")})})}),(0,as.jsx)("h3",{className:"facts-title",children:"4 \u0445\u0432\u0438\u043b\u0438\u043d\u0438"}),(0,as.jsx)("p",{className:"facts-text",children:"\u041c\u0430\u043b\u043e \u0449\u043e \u043c\u043e\u0436\u043d\u0430 \u0432\u0441\u0442\u0438\u0433\u043d\u0443\u0442\u0438 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0437\u0430 \u0446\u0435\u0439 \u0447\u0430\u0441, \u0430\u043b\u0435 \u043c\u0438 \u0442\u043e\u0447\u043d\u043e \u0437\u043d\u0430\u0454\u043c\u043e, \u0449\u043e \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456 \u0432\u0456\u0434 Polar \u0432\u0436\u0435 \u0431\u0443\u0434\u0443\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u0456"})]}),(0,as.jsxs)("li",{className:"facts-item",children:[(0,as.jsx)("div",{className:"facts-icon-wrap",children:(0,as.jsx)("svg",{className:"facts-icon",children:(0,as.jsx)("use",{href:"".concat(vc,"#icon-facts-4")})})}),(0,as.jsx)("h3",{className:"facts-title",children:"Polar \u0437 \u0435\u043a\u043e\u043b\u043e\u0433\u0456\u0454\u044e"}),(0,as.jsx)("p",{className:"facts-text",children:"\u041d\u0430 \u0432\u0441\u0456\u0445 \u0435\u0442\u0430\u043f\u0430\u0445 \u0432\u0438\u0440\u043e\u0431\u043d\u0438\u0446\u0442\u0432\u0430 \u0439 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u043c\u0438 \u043d\u0430\u043c\u0430\u0433\u0430\u0454\u043c\u043e\u0441\u044f \u043c\u0456\u043d\u0456\u043c\u0456\u0437\u0443\u0432\u0430\u0442\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u043f\u043b\u0430\u0441\u0442\u0438\u043a\u0443"})]})]})})]})}),(0,as.jsx)("section",{className:"gallery-section",children:(0,as.jsxs)("div",{className:"gallery-container container",children:[(0,as.jsxs)("picture",{children:[(0,as.jsx)("source",{srcSet:"./images/about/about-8-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,as.jsx)("img",{src:"./images/about/about-8-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,as.jsxs)("div",{className:"gallery-img-wrap",children:[(0,as.jsxs)("picture",{children:[(0,as.jsx)("source",{srcSet:"./images/about/about-7-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,as.jsx)("img",{src:"./images/about/about-7-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,as.jsxs)("picture",{children:[(0,as.jsx)("source",{srcSet:"./images/about/about-13-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,as.jsx)("img",{src:"./images/about/about-13-mobile.jpg",alt:"",className:"gallery-img"})]})]}),(0,as.jsxs)("div",{className:"gallery-img-wrap",children:[(0,as.jsxs)("picture",{children:[(0,as.jsx)("source",{srcSet:"./images/about/about-9-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,as.jsx)("img",{src:"./images/about/about-9-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,as.jsxs)("picture",{children:[(0,as.jsx)("source",{srcSet:"./images/about/about-15-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,as.jsx)("img",{src:"./images/about/about-15-mobile.jpg",alt:"",className:"gallery-img"})]})]}),(0,as.jsxs)("div",{className:"gallery-img-wrap",children:[(0,as.jsxs)("picture",{children:[(0,as.jsx)("source",{srcSet:"./images/about/about-12-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,as.jsx)("img",{src:"./images/about/about-12-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,as.jsxs)("picture",{children:[(0,as.jsx)("source",{srcSet:"./images/about/about-14-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,as.jsx)("img",{src:"./images/about/about-14-mobile.jpg",alt:"",className:"gallery-img"})]})]}),(0,as.jsxs)("div",{className:"gallery-img-wrap",children:[(0,as.jsxs)("picture",{children:[(0,as.jsx)("source",{srcSet:"./images/about/about-11-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,as.jsx)("img",{src:"./images/about/about-11-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,as.jsxs)("picture",{children:[(0,as.jsx)("source",{srcSet:"./images/about/about-10-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,as.jsx)("img",{src:"./images/about/about-10-mobile.jpg",alt:"",className:"gallery-img"})]})]})]})})]}),bc=e=>{var t=new Date;return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)+" "+e.split(" - ")[0]+":00"},wc=e=>{let t=0;return e.forEach((e=>{t+=e.totalPrice})),t};const _c=e=>(0,as.jsxs)("label",{className:"inputText",children:[(0,as.jsx)("span",{children:e.name}),(0,as.jsx)("input",{type:"text",placeholder:e.placeholder,value:e.inputValue&&e.inputValue,onChange:t=>e.onChange(t.target.value)})]});var xc=n(504),Cc=n.n(xc);const Sc=e=>(0,as.jsxs)("label",{className:"inputNumber",htmlFor:"inputNumber",children:[(0,as.jsx)("span",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,as.jsx)(Cc(),{value:e.inputValue&&e.inputValue,mask:"+380 (99) 999 99 99",id:"inputNumber",placeholder:"+380 (__) ___ __ __",onChange:t=>e.onChange(t.target.value)})]}),Ec=e=>{let{name:t,placeholder:n,onChange:r,data:i}=e;return(0,as.jsxs)("label",{className:"inputText",children:[(0,as.jsx)("span",{children:t}),(0,as.jsx)("select",{type:"selector",placeholder:n,onChange:e=>r(e.target.value),children:i.map((e=>(0,as.jsx)("option",{value:e.value,children:e.label},e.id)))})]})},kc=e=>{let{data:t,selectedOption:n,onOptionChange:r,column:i}=e;return(0,as.jsx)("div",{className:"radio-button ".concat(i&&"radio-button-column"),children:t.map((e=>(0,as.jsxs)("label",{children:[(0,as.jsxs)("div",{className:"radio-button__flex-content",children:[(0,as.jsx)("input",{type:"radio",value:e.value,checked:n===e.value,onChange:r}),(0,as.jsx)("span",{}),e.label]}),e.info&&(0,as.jsx)("p",{className:"radio-button__info",children:e.info})]},e.id)))})},Ic=e=>(0,as.jsxs)("button",{className:"btn btn-main ".concat(!0===e.fullWide&&"btn-main-fw"," "),onClick:e.onClick,disabled:e.disabled,children:[e.name,e.arrow&&(0,as.jsx)("svg",{width:"17",height:"20",viewBox:"0 0 17 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M9.16645 11.7814L12.7425 8.20535L13.6851 9.14802L8.49979 14.3334L3.31445 9.14802L4.25712 8.20535L7.83312 11.7814V3.66669H9.16645V11.7814Z",fill:"#12130F"})})]}),Tc=e=>(0,as.jsxs)("label",{className:"inputTextArea",children:[(0,as.jsx)("span",{children:e.name}),(0,as.jsx)("textarea",{type:"textarea",placeholder:e.placeholder,onChange:t=>e.onChange(t.target.value)})]}),Nc=e=>{let{isChecked:t,onCheckboxChange:n,label:r}=e;return(0,as.jsxs)("label",{className:"checkbox-container",children:[(0,as.jsx)("input",{type:"checkbox",checked:t,onChange:()=>{n(!t)}}),(0,as.jsx)("span",{className:"checkmark"}),(0,as.jsx)("span",{className:"checkbox-label",children:r})]})},Lc=e=>(0,as.jsxs)("button",{className:"btn btn-secondary ".concat(!0===e.fullWide&&"btn-secondary-fw"," "),onClick:e.onClick,disabled:e.disabled,children:[e.name,e.arrow&&(0,as.jsx)("svg",{width:"17",height:"20",viewBox:"0 0 17 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M9.16645 11.7814L12.7425 8.20535L13.6851 9.14802L8.49979 14.3334L3.31445 9.14802L4.25712 8.20535L7.83312 11.7814V3.66669H9.16645V11.7814Z",fill:"#12130F"})})]}),jc=e=>{let{orderId:t,deliveryTime:n}=e;const r=X();return(0,as.jsx)("div",{children:(0,as.jsx)("div",{className:"thanks",children:(0,as.jsxs)("div",{className:"thanks__content",children:[(0,as.jsx)("div",{className:"thanks__ico",children:(0,as.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M11.602 13.7599L13.014 15.1719L21.4795 6.7063L22.8938 8.12051L13.014 18.0003L6.65 11.6363L8.06421 10.2221L10.189 12.3469L11.602 13.7599ZM11.6037 10.9322L16.5563 5.97949L17.9666 7.38977L13.014 12.3424L11.6037 10.9322ZM8.77698 16.5873L7.36396 18.0003L1 11.6363L2.41421 10.2221L3.82723 11.6352L3.82604 11.6363L8.77698 16.5873Z",fill:"#DF643A"})})}),(0,as.jsx)("h4",{className:"title__h4",children:"\u0414\u044f\u043a\u0443\u0454\u043c\u043e"}),(0,as.jsxs)("p",{className:"thanks__text",children:["\u041d\u043e\u043c\u0435\u0440 \u0432\u0430\u0448\u043e\u0433\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u2116",t]}),(0,as.jsx)("div",{className:"thanks__delivery-time",children:(0,as.jsxs)("p",{children:["\u041e\u0440\u0456\u0454\u043d\u0442\u043e\u0432\u043d\u0438\u0439 \u0447\u0430\u0441 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f: ",(0,as.jsx)("b",{children:n})]})}),(0,as.jsx)(Lc,{name:"\u0417\u0432\u2019\u044f\u0437\u0430\u0442\u0438\u0441\u044f \u0437 \u043d\u0430\u043c\u0438",onClick:()=>r("/contact"),fullWide:!0})]})})})},Ac=$i((e=>{let{action:t,error:n,onClick:r}=e;const{setActions:i}=os;return(0,as.jsx)(bs,{to:"\u0411\u043b\u044e\u0434\u043e \u0434\u043e\u0434\u0430\u043d\u043e \u0443 \u043a\u043e\u0448\u0438\u043a"===t?"/order":"",className:"popup-actions",children:(0,as.jsxs)("div",{className:"popup-actions__content",onClick:r,children:[(0,as.jsx)("div",{className:"popup-actions__ico",children:n?(0,as.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,as.jsx)("circle",{cx:"12",cy:"12",r:"12",fill:"#F55D66"}),(0,as.jsx)("path",{d:"M12.0007 18.6666C8.31875 18.6666 5.33398 15.6818 5.33398 11.9999C5.33398 8.31802 8.31875 5.33325 12.0007 5.33325C15.6825 5.33325 18.6673 8.31802 18.6673 11.9999C18.6673 15.6818 15.6825 18.6666 12.0007 18.6666ZM12.0007 17.3333C14.9462 17.3333 17.334 14.9455 17.334 11.9999C17.334 9.0544 14.9462 6.66659 12.0007 6.66659C9.05513 6.66659 6.66732 9.0544 6.66732 11.9999C6.66732 14.9455 9.05513 17.3333 12.0007 17.3333ZM11.334 13.9999H12.6673V15.3333H11.334V13.9999ZM11.334 8.66659H12.6673V12.6666H11.334V8.66659Z",fill:"black"})]}):(0,as.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,as.jsx)("circle",{cx:"12",cy:"12",r:"12",fill:"#55CB99"}),(0,as.jsx)("g",{clipPath:"url(#clip0_390_8333)",children:(0,as.jsx)("path",{d:"M10.6665 14.1148L16.7945 7.98608L17.7378 8.92875L10.6665 16.0001L6.42383 11.7574L7.36649 10.8148L10.6665 14.1148Z",fill:"#12130F"})}),(0,as.jsx)("defs",{children:(0,as.jsx)("clipPath",{id:"clip0_390_8333",children:(0,as.jsx)("rect",{width:"16",height:"16",fill:"white",transform:"translate(4 4)"})})})]})}),(0,as.jsx)("p",{children:t}),(0,as.jsx)("div",{className:"popup-actions__close",onClick:()=>i(""),children:(0,as.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M5.00048 4.05732L8.30048 0.757324L9.24315 1.69999L5.94315 4.99999L9.24315 8.29999L8.30048 9.24266L5.00048 5.94266L1.70048 9.24266L0.757812 8.29999L4.05781 4.99999L0.757812 1.69999L1.70048 0.757324L5.00048 4.05732Z",fill:"white"})})})]})})})),Oc=Ac;const Pc=new class{constructor(){this.paymentData=null,this.orderData=null,this.posterOrder=null,this.promocode=!1,this.setPaymentData=e=>{this.paymentData=e,localStorage.setItem("user_payment_data",JSON.stringify(e))},this.setOrderData=e=>{this.orderData=e,localStorage.setItem("user_order_data",JSON.stringify(e))},this.setPosterResponse=e=>{this.posterOrder=e,localStorage.setItem("poster_order",JSON.stringify(e))},this.usedPromocode=()=>{this.promocode=!this.promocode},Dr(this)}},Dc=[{id:1,label:"12:00 - 12:30",value:"12:00 - 12:30"},{id:2,label:"12:30 - 13:00",value:"12:30 - 13:00"},{id:3,label:"13:00 - 13:30",value:"13:00 - 13:30"},{id:4,label:"13:30 - 14:00",value:"13:30 - 14:00"},{id:5,label:"14:00 - 14:30",value:"14:00 - 14:30"},{id:6,label:"14:30 - 15:00",value:"14:30 - 15:00"},{id:7,label:"15:00 - 15:30",value:"15:00 - 15:30"},{id:8,label:"15:30 - 16:00",value:"15:30 - 16:00"},{id:9,label:"16:00 - 16:30",value:"16:00 - 16:30"},{id:10,label:"16:30 - 17:00",value:"16:30 - 17:00"},{id:11,label:"17:00 - 17:30",value:"17:00 - 17:30"},{id:12,label:"17:30 - 18:00",value:"17:30 - 18:00"},{id:13,label:"18:00 - 18:30",value:"18:00 - 18:30"},{id:14,label:"18:30 - 19:00",value:"18:30 - 19:00"},{id:15,label:"19:00 - 19:30",value:"19:00 - 19:30"},{id:16,label:"19:30 - 20:00",value:"19:30 - 20:00"},{id:17,label:"22:00 - 22:30",value:"22:00 - 22:30"},{id:16,label:"23:00 - 23:30",value:"23:00 - 23:30"}],Mc=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),s=String(e.getMinutes()+5).padStart(2,"0"),o=String(e.getSeconds()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r," ").concat(i,":").concat(s,":").concat(o)},Rc=$i((()=>{const e=(0,i.useMemo)((()=>({"Access-Control-Allow-Origin":"*","Content-Type":"application/json"})),[]),[t,n]=(0,i.useState)(!0),[r,s]=(0,i.useState)(!1),[o,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)([{label:"\u041d\u0435\u043c\u0430\u0454",value:null,id:0}]),[h,f]=(0,i.useState)({status:!1,currentError:""}),[p,m]=(0,i.useState)(!1),g=$(),v=X(),{setOrderData:y,setPaymentData:b,setPosterResponsea:w}=Pc,{products:_,clearCart:x}=is,{token:C,name:S,phone:E,adresses:k,isAuthenticated:I,promocode40:T,userPromocode:N,userPromocodeNotUse:L}=ns,{thanksModal:j,thanksModalHandler:A}=es,O=_.map((e=>({product_id:e.id,count:e.count}))),P=_.map((e=>({id:"2",involved_products:[{id:e.id,count:e.count}]})));(0,i.useEffect)((()=>{if(!k)return;const e=k.map(((e,t)=>({id:t+1,label:e.addressName,value:"\u0412\u0443\u043b\u0438\u0446\u044f: ".concat(e.streetName,", ").concat(e.homeNumber,", ").concat(e.entranceNumber?"\u043f\u0430\u0440\u0430\u0434\u043d\u0430: ".concat(e.entranceNumber):""," ").concat(e.entranceCode?"\u043a\u043e\u0434: ".concat(e.entranceCode," "):""," ").concat(e.floar?"\u043f\u043e\u0432\u0435\u0440\u0445: ".concat(e.floar," "):""," ").concat(e.entranceNumber?"\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0430: ".concat(e.entranceNumber," "):""," ").concat(e.comment?"\u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440: ".concat(e.comment," "):""," ")})));d([{label:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0443",value:null,id:0},...e])}),[]);const D=function(e){const t=new Date,n=t.getHours(),r=t.getMinutes(),i="".concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"));return e.filter((e=>e.label.split(" - ")[0]>=i))}(Dc),[M,R]=(0,i.useState)({spot_id:1,name:"",number:"",selectedAddress:"",street:"",houseNumber:"",deliveryTime:"",howToReciveOrder:"",entrance:"",apartment:"",buildingCode:"",floor:"",selectedTime:Mc(),promoCode:"",bonus:"",paymentMethod:1,change:"",withoutDevices:!1,personCount:1,comment:"",doNotCall:!1}),F={spot_id:1,first_name:M.name,phone:M.number,products:O,client_address:{address1:"".concat("\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0443"!==M.selectedAddress?M.selectedAddress:" \u0412\u0443\u043b\u0438\u0446\u044f: ".concat(M.street," ,  \u0412\u0443\u043b\u0438\u0446\u044f: ").concat(M.street,",\n                \u0414\u0456\u043c: ").concat(M.houseNumber)),address2:"\n                \u041f\u0430\u0440\u0430\u0434\u043d\u0430\u044f: ".concat(M.entrance,",\n                \u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430: ").concat(M.apartment,",\n                \u041a\u043e\u0434: ").concat(M.buildingCode,",\n                \u041f\u043e\u0432\u0435\u0440\u0445: ").concat(M.floor,",")},service_mode:"\u0421\u0430\u043c\u043e\u0432\u0438\u0432\u0456\u0437"===M.howToReciveOrder?2:3,delivery_time:"".concat("\u041d\u0430 \u0437\u0430\u0440\u0430\u0437"===M.deliveryTime?Mc():bc(M.selectedTime)),payment:{type:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430"===M.paymentMethod?0:1,sum:t?0:wc(_),currency:"UAH"},promotion:t?P:"",comment:"\n            \u041a\u043e\u043b - \u0432\u043e\n            \u043f\u0435\u0440\u0441\u043e\u043d: ".concat(M.personCount,",\n            ").concat(M.comment&&" ".concat(M.comment,"\n            "),", ").concat(M.withoutDevices&&"\u0411\u0435\u0437 \u043f\u0440\u0438\u0431\u043e\u0440\u043e\u0432",",").concat(M.doNotCall&&"\u041d\u0435 \u043f\u0435\u0440\u0435\u0437\u0432\u0430\u043d\u0438\u0432\u0430\u0442\u044c",", ").concat(2===M.howToReciveOrder&&"\u0421\u0410\u041c\u041e\u0412\u042b\u0412\u041e\u0417"," ").concat(t&&"\u0421\u041a\u0418\u0414\u041a\u0410 40%")},V=(e,t)=>{R((n=>({...n,[e]:t})))},U=(0,i.useCallback)((()=>{va.post(ya+"/api/promocode",{token:C},{headers:e}).then((e=>{const t=e.data;console.log("usagePromotion:",t)})).catch((e=>console.error(e)))}),[e,C]),B=(0,i.useCallback)((()=>{va.post("".concat(ya,"/api/auth"),{token:C},{headers:{headers:e}}).then((e=>{const t=e.data;200===e.status&&(console.log("checkCurrentUserPromo",t.promocode40),!0===t.promocode40?L():N())})).catch((e=>console.error(e)))}),[C,N,L]);(0,i.useEffect)((()=>{B()}),[B,I]);const z=(0,i.useCallback)((()=>{const t={order_id:JSON.parse(localStorage.getItem("user_payment_data")).order_id};va.post(ya+"/api/getStatus",t,{headers:e}).then((e=>{const t=e.data;console.log("checkTransactionStatus:",t),"success"===t?a(!0):"unpaid"===t&&(L(),f({status:!0,currentError:"\u041e\u043f\u043b\u0430\u0442\u0430 \u043d\u0435 \u0432\u0434\u0430\u043b\u0430"}),localStorage.removeItem("posterOrder"),localStorage.removeItem("user_payment_data"),localStorage.removeItem("user_order_data"),setTimeout((()=>{v("/order")}),2e3))})).catch((e=>console.error(e)))}),[e,v,L]),q=(0,i.useCallback)((()=>{const n=JSON.parse(localStorage.getItem("user_payment_data")),r=JSON.parse(localStorage.getItem("user_order_data")),i=n?n.order_id:null;va.post(ya+"/api/createOrder",{order_id:i,data:r},{headers:e}).then((e=>{const n=e.data;n.error||(console.log("createOrder:",n),w({posterOrder:n.response}),m(!0),(t||""!==n.promotion)&&U())})).catch((e=>console.error(e)))}),[e,t,w,U]),H=()=>{""===F.phone?f({status:!0,currentError:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0443 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443"}):""===M.howToReciveOrder?f({status:!0,currentError:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u043e\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u043f\u043e\u0441\u0456\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}):wc(_)<=200?(f({status:!0,currentError:"\u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u0441\u0443\u043c\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f 200 \u20b4"}),setTimeout((()=>{f({status:!1,currentError:""})}),3e3)):(y({orderData:F}),1===F.payment.type&&(t=>{const n={amount:t};va.post(ya+"/api/pay",n,{headers:e}).then((e=>{const t=e.data,n="https://liqpay.ua/api/3/checkout?data=".concat(t.data,"&signature=").concat(t.signature);b(t),console.log("createTransaction:",t,n),window.location.replace(n)})).catch((e=>console.error(e)))})(t?.6*wc(_):wc(_)),0===F.payment.type&&(q(),console.log("cash")))};return(0,i.useEffect)((()=>{t&&(s(!0),setTimeout((()=>{s(!1)}),3e3))}),[t]),(0,i.useEffect)((()=>{"checkout"===new URLSearchParams(g.search).get("status")&&z()}),[z,g.search]),(0,i.useEffect)((()=>{o&&q()}),[q,o]),(0,i.useEffect)((()=>{if(p){const r=JSON.parse(localStorage.getItem("user_order_data")),i=JSON.parse(localStorage.getItem("shoppingCart"));c(JSON.parse(localStorage.getItem("poster_order"))),console.log("order data",JSON.parse(localStorage.getItem("poster_order"))),e=JSON.parse(localStorage.getItem("poster_order")).incoming_order_id,t=r.payment.sum,n=i,window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"purchase",ecommerce:{transaction_id:e,affiliation:"cart",value:t,tax:"0",shipping:"0",currency:"UAH",items:n.map((e=>({item_name:e.name,item_id:e.id,price:e.price,item_brand:"Polar Pelmeni",item_category:e.category,quantity:e.count})))}}),setTimeout((()=>{localStorage.removeItem("posterOrder"),localStorage.removeItem("poster_order"),localStorage.removeItem("user_payment_data"),localStorage.removeItem("user_order_data"),x(),A(!1)}),5e3)}var e,t,n}),[x,p,A]),(0,i.useEffect)((()=>{null!==l&&(console.log("posterOrder",l),A(!0))}),[l,A]),(0,i.useEffect)((()=>{I&&(V("name",S),V("number",E),M.name=S,M.number=E)}),[I,S,E]),(0,i.useEffect)((()=>{console.log(M)}),[M]),(0,as.jsxs)(as.Fragment,{children:[j&&(0,as.jsx)(Vl,{closeModal:()=>{A(!1)},children:(0,as.jsx)(jc,{orderId:l.incoming_order_id,deliveryTime:l.delivery_time})}),!0===h.status&&(0,as.jsx)(Oc,{action:h.currentError,onClick:()=>f({status:!1,currentError:""}),error:!0}),!0===r&&(0,as.jsx)(Oc,{action:"\u0412\u0430\u0448 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434 \u0437\u0430\u0441\u0442\u043e\u0441\u043e\u0432\u0430\u043d",onClick:()=>{s(!1)}}),(0,as.jsxs)("section",{className:"order-page__form",children:[(0,as.jsxs)("section",{className:"order-page__section",children:[(0,as.jsx)("h3",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"}),(0,as.jsxs)("div",{className:"order-page__section-inputs",children:[(0,as.jsx)(_c,{name:"\u0412\u0430\u0448\u0435 \u0456\u043c\u2019\u044f",placeholder:"\u0412\u0430\u0448\u0435 \u0456\u043c\u2019\u044f",inputValue:M.name,value:M.name,onChange:e=>V("name",e)}),(0,as.jsx)(Sc,{value:M.number,inputValue:M.number,onChange:e=>V("number",e)})]})]}),(0,as.jsxs)("section",{className:"order-page__section",children:[(0,as.jsx)("h3",{children:"\u0421\u043f\u043e\u0441\u0456\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,as.jsx)("section",{className:"order-page__section-inputs",children:(0,as.jsx)(Ec,{name:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0430\u0434\u0440\u0435\u0441\u0438",data:u,placeholder:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0443",value:M.selectedAddress,onChange:e=>V("selectedAddress",e)})}),(0,as.jsxs)("section",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,as.jsx)(_c,{name:"\u0412\u0443\u043b\u0438\u0446\u044f",placeholder:"\u0412\u0443\u043b\u0438\u0446\u044f",value:M.street,onChange:e=>V("street",e)}),(0,as.jsx)(_c,{name:"\u2116 \u0411\u0443\u0434\u0438\u043d\u043a\u0443",placeholder:"\u2116 \u0411\u0443\u0434\u0438\u043d\u043a\u0443",value:M.houseNumber,onChange:e=>V("houseNumber",e)})]}),(0,as.jsx)("section",{className:"order-page__section-inputs",children:(0,as.jsx)(kc,{data:[{id:1,value:"\u0414\u043e \u0434\u0432\u0435\u0440\u0435\u0439",label:"\u0414\u043e \u0434\u0432\u0435\u0440\u0435\u0439"},{id:2,value:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a",label:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a"},{id:4,value:"\u0412\u0438\u0439\u0434\u0443 \u0434\u043e \u043c\u0430\u0448\u0438\u043d\u0438",label:"\u0412\u0438\u0439\u0434\u0443 \u0434\u043e \u043c\u0430\u0448\u0438\u043d\u0438"},{id:3,value:"\u0421\u0430\u043c\u043e\u0432\u0438\u0432\u0456\u0437",label:"\u0421\u0430\u043c\u043e\u0432\u0438\u0432\u0456\u0437",info:"(\u041e\u0434\u0435\u0441\u0430, \u0432\u0443\u043b. \u041b\u0435\u0439\u0442\u0435\u043d\u0430\u043d\u0442\u0430 \u0428\u043c\u0456\u0434\u0442\u0430 25)"}],selectedOption:M.howToReciveOrder,onOptionChange:e=>V("howToReciveOrder",e.target.value)})}),"\u0414\u043e \u0434\u0432\u0435\u0440\u0435\u0439"===M.howToReciveOrder&&(0,as.jsxs)("section",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,as.jsx)(_c,{name:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430",placeholder:"\u2116 \u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0438",value:M.apartment,onChange:e=>V("apartment",e)}),(0,as.jsx)(_c,{name:"\u041f\u0430\u0440\u0430\u0434\u043d\u0430",placeholder:"\u2116 \u041f\u0430\u0440\u0430\u0434\u043d\u043e\u0457",value:M.entrance,onChange:e=>V("entrance",e)}),(0,as.jsx)(_c,{name:"\u041a\u043e\u0434",placeholder:"\u041a\u043e\u0434",value:M.buildingCode,onChange:e=>V("buildingCode",e)}),(0,as.jsx)(_c,{name:"\u041f\u043e\u0432\u0435\u0440\u0445",placeholder:"\u041f\u043e\u0432\u0435\u0440\u0445",value:M.floor,onChange:e=>V("floor",e)})]})]}),(0,as.jsxs)("section",{className:"order-page__section",children:[(0,as.jsx)("h3",{children:"\u0427\u0430\u0441 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f"}),(0,as.jsxs)("section",{className:"order-page__section-inputs",children:[(0,as.jsx)(kc,{data:[{id:1,value:"\u041d\u0430 \u0437\u0430\u0440\u0430\u0437",label:"\u041d\u0430 \u0437\u0430\u0440\u0430\u0437"},{id:2,value:"\u0412\u043a\u0430\u0437\u0430\u0442\u0438 \u0442\u043e\u0447\u043d\u0438\u0439 \u0447\u0430\u0441",label:"\u0412\u043a\u0430\u0437\u0430\u0442\u0438 \u0442\u043e\u0447\u043d\u0438\u0439 \u0447\u0430\u0441"}],selectedOption:M.deliveryTime,onOptionChange:e=>V("deliveryTime",e.target.value),column:!0}),"\u0412\u043a\u0430\u0437\u0430\u0442\u0438 \u0442\u043e\u0447\u043d\u0438\u0439 \u0447\u0430\u0441"===M.deliveryTime&&(0,as.jsx)(Ec,{name:"\u0427\u0430\u0441",placeholder:"\u0427\u0430\u0441",data:D,value:M.selectedTime,onChange:e=>V("selectedTime",e)})]})]}),(0,as.jsxs)("section",{className:"order-page__section",children:[(0,as.jsx)("h3",{children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434"}),(0,as.jsxs)("section",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,as.jsx)(Ec,{name:"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434",placeholder:"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434",data:I&&T?[{id:0,label:"40%",value:"40%"}]:[],value:M.paymentMethod,onChange:e=>V("promoCode",e)}),(0,as.jsx)(Ic,{name:"\u0417\u0430\u0441\u0442\u043e\u0441\u0443\u0432\u0430\u0442\u0438",onClick:()=>{.6*wc(_)<=200?(f({status:!0,currentError:"\u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u0441\u0443\u043c\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f 200 \u20b4"}),setTimeout((()=>{f({status:!1,currentError:""})}),2e3)):(console.log("usage"),n(!0))},disabled:!T})]}),I&&T&&t&&(0,as.jsxs)("div",{className:"order-page__have-promocode",children:[(0,as.jsx)("span",{children:"\u0423 \u0412\u0410\u0421 \u0404 \u041f\u0420\u041e\u041c\u041e\u041a\u041e\u0414 \u041d\u0410 \u0417\u041d\u0418\u0416\u041a\u0423 40%"}),(0,as.jsx)("div",{className:"order-page__arrow",children:(0,as.jsx)("svg",{width:"17",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M9.16645 11.7814L12.7425 8.20535L13.6851 9.14802L8.49979 14.3334L3.31445 9.14802L4.25712 8.20535L7.83312 11.7814V3.66669H9.16645V11.7814Z",fill:"#12130F"})})})]})]}),(0,as.jsxs)("section",{className:"order-page__section",children:[(0,as.jsx)("h3",{children:"\u0421\u043f\u043e\u0441\u0456\u0431 \u043e\u043f\u043b\u0430\u0442\u0438"}),(0,as.jsx)("div",{className:"order-page__section-inputs",children:(0,as.jsx)(_c,{name:"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0442\u0438 \u0431\u043e\u043d\u0443\u0441\u0438",placeholder:"0",value:M.bonus,onChange:e=>V("bonus",e)})}),(0,as.jsxs)("div",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,as.jsx)(Ec,{name:"\u041e\u043f\u043b\u0430\u0442\u0430",placeholder:"\u041e\u043d\u043b\u0430\u0439\u043d",data:[{id:0,label:"\u041e\u043d\u043b\u0430\u0439\u043d",value:"\u041e\u043d\u043b\u0430\u0439\u043d"},{id:1,label:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430",value:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430"}],value:M.paymentMethod,onChange:e=>V("paymentMethod",e)}),(0,as.jsx)(_c,{name:"\u0421\u0434\u0430\u0447\u0430 \u0441",placeholder:"500",value:M.change,onChange:e=>V("change",e)})]})]}),(0,as.jsxs)("section",{className:"order-page__section",children:[(0,as.jsx)("h3",{children:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u043e"}),(0,as.jsxs)("section",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,as.jsxs)("div",{className:"order-page__block",children:[(0,as.jsx)("span",{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d:"}),(0,as.jsx)(Nc,{isChecked:M.withoutDevices,onCheckboxChange:()=>V("withoutDevices",!M.withoutDevices),label:"\u0411\u0435\u0437 \u043f\u0440\u0438\u0431\u043e\u0440\u0456\u0432"})]}),(0,as.jsxs)("div",{className:"order-page__block",children:[(0,as.jsx)("span",{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d:"}),(0,as.jsxs)("div",{className:"counter",children:[(0,as.jsx)("div",{className:"counter__btn",onClick:()=>{M.personCount>1&&V("personCount",M.personCount-1)},children:"-"}),(0,as.jsx)("div",{className:"counter__value",children:M.personCount}),(0,as.jsx)("div",{className:"counter__btn",onClick:()=>V("personCount",M.personCount+1),children:"+"})]})]})]}),(0,as.jsx)("section",{className:"order-page__section-inputs",children:(0,as.jsx)(Tc,{name:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440 \u0434\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f",placeholder:"\u041c\u043e\u0436\u0435\u0442\u0435 \u0442\u0443\u0442 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u0431\u0443\u0434\u044c-\u0449\u043e:)",value:M.comment,onChange:e=>V("comment",e)})}),(0,as.jsx)("section",{className:"order-page__section-inputs",children:(0,as.jsx)("div",{className:"order-page__block",children:(0,as.jsx)(Nc,{isChecked:M.doNotCall,onCheckboxChange:()=>V("doNotCall",!M.doNotCall),label:"\u041d\u0435 \u043f\u0435\u0440\u0435\u0434\u0437\u0432\u043e\u043d\u044e\u0432\u0430\u0442\u0438 \u043c\u0435\u043d\u0456"})})})]}),(0,as.jsx)(Ic,{name:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f",fullWide:!0,onClick:()=>H()})]})]})})),Fc=Rc,Vc=()=>{const{products:e,promocode:t}=is,{promocode40:n}=ns,r=e=>{let t=0;return e.forEach((e=>{t+=e.totalPrice})),t};return(0,i.useEffect)((()=>{console.log(t)}),[t]),(0,as.jsx)(as.Fragment,{children:(0,as.jsx)(ls,{children:(0,as.jsx)("div",{className:"order-page",children:(0,as.jsxs)("div",{className:"order-page__content",children:[(0,as.jsx)(Fc,{}),(0,as.jsx)("div",{className:"checkout",children:(0,as.jsxs)("div",{className:"checkout__content",children:[(0,as.jsx)("h3",{className:"title__h3 text__color--secondary",children:"\u0412\u0430\u0448\u0435 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,as.jsx)("ul",{className:"checkout__list",children:e.map((e=>(0,as.jsxs)("li",{className:"checkout__item",children:[(0,as.jsxs)("div",{className:"checkout__row",children:[(0,as.jsxs)("p",{className:"checkout__item-name",children:[" ",e.name]}),(0,as.jsxs)("p",{className:"checkout__item-count",children:[" x",e.count]})]}),(0,as.jsxs)("div",{className:"checkout__row",children:[(0,as.jsxs)("p",{className:"checkout__item-weight",children:[e.weight,"\u0433"]}),(0,as.jsxs)("p",{className:"checkout__item-price",children:[e.totalPrice," \u20b4"]})]})]},e.name)))}),(0,as.jsxs)("div",{className:"checkout__total",children:[(0,as.jsxs)("div",{className:"checkout__row",children:[(0,as.jsx)("p",{className:"checkout__text",children:"\u0421\u0443\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f:"}),(0,as.jsxs)("p",{className:"checkout__text",children:[r(e)," \u20b4"]})]}),(0,as.jsxs)("div",{className:"checkout__row checkout__row-delivery",children:[(0,as.jsx)("p",{className:"checkout__text",children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:"}),(0,as.jsx)("p",{className:"checkout__text",children:e.reduce(((e,t)=>e+t.totalPrice),0)<500?"\u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0442\u0430\u043a\u0441\u0456 (\u043e\u043f\u043b\u0430\u0447\u0443\u0454\u0442\u044c\u0441\u044f \u043e\u043a\u0440\u0435\u043c\u043e)":"\u0411\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0430"})]}),!n&&(0,as.jsxs)("div",{className:"checkout__row",children:[(0,as.jsx)("p",{className:"checkout__text",children:"\u0421\u043a\u0438\u0434\u043a\u0430:"}),(0,as.jsxs)("p",{className:"checkout__text",children:[(r(e)-.6*r(e)).toFixed(2)," ","\u20b4"]})]}),(0,as.jsxs)("div",{className:"checkout__row",children:[(0,as.jsx)("p",{className:"checkout__text checkout__text-bold",children:"\u0412\u0441\u044c\u043e\u0433\u043e \u0434\u043e \u0441\u043f\u043b\u0430\u0442\u0438:"}),(0,as.jsxs)("p",{className:"checkout__text-bold",children:[n?r(e):.6*r(e)," ","\u20b4"]})]})]})]})})]})})})})};var Uc=Object.defineProperty,Bc=(e,t,n)=>(((e,t,n)=>{t in e?Uc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n),zc=new Map,qc=new WeakMap,Hc=0,Wc=void 0;function Gc(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>"".concat(t,"_").concat("root"===t?function(e){return e?(qc.has(e)||(Hc+=1,qc.set(e,Hc.toString())),qc.get(e)):"0"}(e.root):e[t]))).toString()}function Kc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Wc;if("undefined"===typeof window.IntersectionObserver&&void 0!==r){const i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),()=>{}}const{id:i,observer:s,elements:o}=function(e){let t=Gc(e),n=zc.get(t);if(!n){const r=new Map;let i;const s=new IntersectionObserver((t=>{t.forEach((t=>{var n;const s=t.isIntersecting&&i.some((e=>t.intersectionRatio>=e));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=s),null==(n=r.get(t.target))||n.forEach((e=>{e(s,t)}))}))}),e);i=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:s,elements:r},zc.set(t,n)}return n}(n);let a=o.get(e)||[];return o.has(e)||o.set(e,a),a.push(t),s.observe(e),function(){a.splice(a.indexOf(t),1),0===a.length&&(o.delete(e),s.unobserve(e)),0===o.size&&(s.disconnect(),zc.delete(i))}}var Qc=class extends i.Component{constructor(e){super(e),Bc(this,"node",null),Bc(this,"_unobserveCb",null),Bc(this,"handleNode",(e=>{this.node&&(this.unobserve(),e||this.props.triggerOnce||this.props.skip||this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=e||null,this.observeNode()})),Bc(this,"handleChange",((e,t)=>{e&&this.props.triggerOnce&&this.unobserve(),function(e){return"function"!==typeof e.children}(this.props)||this.setState({inView:e,entry:t}),this.props.onChange&&this.props.onChange(e,t)})),this.state={inView:!!e.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;const{threshold:e,root:t,rootMargin:n,trackVisibility:r,delay:i,fallbackInView:s}=this.props;this._unobserveCb=Kc(this.node,this.handleChange,{threshold:e,root:t,rootMargin:n,trackVisibility:r,delay:i},s)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){const{children:e}=this.props;if("function"===typeof e){const{inView:t,entry:n}=this.state;return e({inView:t,entry:n,ref:this.handleNode})}const{as:t,triggerOnce:n,threshold:r,root:s,rootMargin:o,onChange:a,skip:l,trackVisibility:c,delay:u,initialInView:d,fallbackInView:h,...f}=this.props;return i.createElement(t||"div",{ref:this.handleNode,...f},e)}};const Zc=e=>{let{title:t,desc:n,image_mob:r,image_desktop:i,index:s}=e;return(0,as.jsx)("div",{className:"banner","data-index":s,children:(0,as.jsxs)("div",{className:"banner__content",children:[(0,as.jsxs)("div",{className:"banner__info",children:[(0,as.jsx)("div",{className:"banner__logo",children:(0,as.jsxs)("svg",{width:"47",height:"47",viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,as.jsx)("path",{d:"M45.5628 5.14991C45.025 3.9572 44.0271 2.99915 42.7844 2.48232C42.1377 2.21378 41.426 2.06299 40.6777 2.06299C39.9294 2.06299 39.2173 2.21378 38.571 2.48232C37.395 2.97105 36.4428 3.85846 35.8881 4.96359C34.5981 4.02661 33.1898 3.23298 31.6867 2.60832C29.2083 1.57756 26.4815 1 23.614 1C20.7461 1 18.0189 1.57756 15.5417 2.60667C13.9738 3.25859 12.5103 4.09725 11.1751 5.08794C10.6308 3.92415 9.64888 2.98964 8.42857 2.48232C7.78227 2.21378 7.07014 2.06299 6.32186 2.06299C5.57358 2.06299 4.86188 2.21378 4.21515 2.48232C2.97246 2.99915 1.97461 3.9572 1.43675 5.14991C1.15706 5.77085 1 6.45417 1 7.17302C1 7.89146 1.15663 8.57478 1.43675 9.19571C1.97461 10.3888 2.97246 11.3469 4.21515 11.8633C4.5327 11.9955 4.86704 12.098 5.21299 12.1694C5.10456 12.3872 4.99699 12.6053 4.89673 12.8271C3.82315 15.2072 3.2216 17.8256 3.2216 20.5792V46C3.77281 45.6546 4.32702 45.3138 4.89673 44.9957C10.4075 41.9273 16.7991 40.1604 23.6153 40.1604C26.4815 40.1604 29.2096 39.5824 31.6867 38.5529C36.4479 36.574 40.2715 32.9029 42.3326 28.3316C43.4066 25.9519 44.0069 23.3339 44.0069 20.5808C44.0069 17.8273 43.4049 15.2089 42.3326 12.8288C42.2246 12.5888 42.1084 12.3529 41.9905 12.1178C42.2633 12.0505 42.5301 11.9691 42.7844 11.8633C44.0271 11.3469 45.025 10.3888 45.5628 9.19571C45.8429 8.57478 46 7.89146 46 7.17302C46 6.45417 45.8425 5.77085 45.5628 5.14991Z",fill:"white"}),(0,as.jsx)("path",{d:"M45.5628 5.14991C45.025 3.9572 44.0271 2.99915 42.7844 2.48232C42.1377 2.21378 41.426 2.06299 40.6777 2.06299C39.9294 2.06299 39.2173 2.21378 38.571 2.48232C37.395 2.97105 36.4428 3.85846 35.8881 4.96359C34.5981 4.02661 33.1898 3.23298 31.6867 2.60832C29.2083 1.57756 26.4815 1 23.614 1C20.7461 1 18.0189 1.57756 15.5417 2.60667C13.9738 3.25859 12.5103 4.09725 11.1751 5.08794C10.6308 3.92415 9.64888 2.98964 8.42857 2.48232C7.78227 2.21378 7.07014 2.06299 6.32186 2.06299C5.57358 2.06299 4.86188 2.21378 4.21515 2.48232C2.97246 2.99915 1.97461 3.9572 1.43675 5.14991C1.15706 5.77085 1 6.45417 1 7.17302C1 7.89146 1.15663 8.57478 1.43675 9.19571C1.97461 10.3888 2.97246 11.3469 4.21515 11.8633C4.5327 11.9955 4.86704 12.098 5.21299 12.1694C5.10456 12.3872 4.99699 12.6053 4.89673 12.8271C3.82315 15.2072 3.2216 17.8256 3.2216 20.5792V46C3.77281 45.6546 4.32702 45.3138 4.89673 44.9957C10.4075 41.9273 16.7991 40.1604 23.6153 40.1604C26.4815 40.1604 29.2096 39.5824 31.6867 38.5529C36.4479 36.574 40.2715 32.9029 42.3326 28.3316C43.4066 25.9519 44.0069 23.3339 44.0069 20.5808C44.0069 17.8273 43.4049 15.2089 42.3326 12.8288C42.2246 12.5888 42.1084 12.3529 41.9905 12.1178C42.2633 12.0505 42.5301 11.9691 42.7844 11.8633C44.0271 11.3469 45.025 10.3888 45.5628 9.19571C45.8429 8.57478 46 7.89146 46 7.17302C46 6.45417 45.8425 5.77085 45.5628 5.14991Z",stroke:"#12130F",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,as.jsx)("path",{d:"M13.1195 16.6365C13.1195 15.6334 12.2727 14.8204 11.2279 14.8204C10.1828 14.8204 9.33594 15.6334 9.33594 16.6365C9.33594 17.6396 10.1828 18.4526 11.2279 18.4526C12.2727 18.4526 13.1195 17.6396 13.1195 16.6365Z",fill:"#12130F"}),(0,as.jsx)("path",{d:"M38.0687 16.6365C38.0687 15.6334 37.2219 14.8204 36.1772 14.8204C35.132 14.8204 34.2852 15.6334 34.2852 16.6365C34.2852 17.6396 35.132 18.4526 36.1772 18.4526C37.2219 18.4526 38.0687 17.6396 38.0687 16.6365Z",fill:"#12130F"}),(0,as.jsx)("path",{d:"M22.6825 28.3741C23.2298 29.0285 24.2672 29.0285 24.8146 28.3741L26.5693 26.2754L27.6059 25.0351C28.3236 24.1762 27.6868 22.9013 26.5396 22.9013H23.7487H20.9574C19.8103 22.9013 19.1734 24.1762 19.8912 25.0351L20.9277 26.2754L22.6825 28.3741Z",fill:"#12130F"}),(0,as.jsx)("path",{d:"M23.3232 31.7015H24.0702V27.1769H23.3232V31.7015Z",fill:"#12130F"}),(0,as.jsx)("path",{d:"M21.5324 30.7709C21.9554 31.0547 22.3241 31.2109 22.6701 31.2997C23.0152 31.3873 23.3392 31.4121 23.6968 31.4158C24.0543 31.4104 24.3779 31.3857 24.7226 31.2985C25.0677 31.2097 25.4369 31.0539 25.8611 30.7709C25.9283 31.2762 25.6645 31.788 25.2407 32.1363C24.8134 32.4883 24.232 32.6569 23.6968 32.6548C23.1615 32.6552 22.581 32.4867 22.1537 32.1351C21.7303 31.7864 21.467 31.2753 21.5324 30.7709Z",fill:"#12130F"})]})}),(0,as.jsx)("h3",{className:"title__h1 text__color--secondary",children:t}),(0,as.jsx)("p",{className:"text",children:n}),(0,as.jsx)(Ic,{name:"\u0414\u0438\u0432\u0438\u0442\u0438\u0441\u044c \u043c\u0435\u043d\u044e",arrow:!0,onClick:()=>{document.querySelector("#menu").scrollIntoView({behavior:"smooth"})}})]}),(0,as.jsxs)("picture",{className:"banner__preview",children:[(0,as.jsx)("source",{media:"(max-width: 786px)",srcSet:r}),(0,as.jsx)("source",{media:"(min-width: 787px)",srcSet:i}),(0,as.jsx)("img",{src:r,alt:""})]})]})})},Jc=n.p+"static/media/banner1.064356126c1cf74c9bdc.png",$c=n.p+"static/media/banner2.a9ab2dc965221294a1c7.png",Yc=n.p+"static/media/banner3.a47a41a33ceb6c6cc6b7.png",Xc=n.p+"static/media/banner1_mob.2149d7a6dd26c621b389.png",eu=n.p+"static/media/banner2_mob.e8e3a6d22f1998b2ef13.png",tu=n.p+"static/media/banner3_mob.fe14d85da03d6c38dea5.png",nu=()=>{const[e,t]=(0,i.useState)(0),[n,r]=(0,i.useState)("right"),s=(0,i.useRef)(null);return(0,i.useEffect)((()=>{if(s.current){if("right"===n){const e=setInterval((()=>{s.current.scrollBy({left:100,behavior:"smooth"})}),7e3);return()=>{clearInterval(e)}}if("left"===n){const e=setInterval((()=>{s.current.scrollBy({left:-100,behavior:"smooth"})}),7e3);return()=>{clearInterval(e)}}}}),[n]),(0,as.jsx)("div",{className:"slider",children:(0,as.jsxs)("div",{className:"slider__wrapper",children:[(0,as.jsxs)("div",{className:"slider__track",ref:s,children:[(0,as.jsx)(Qc,{threshold:.2,as:"div",onChange:(e,n)=>{e&&(t(n.target.firstChild.dataset.index),r("right"))},style:{flexShrink:0},children:(0,as.jsx)(Zc,{title:"Polar \u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430",desc:"\u041d\u0435\u043e\u0431\u043e\u0432\u2019\u044f\u0437\u043a\u043e\u0432\u043e \u043f\u043e\u043a\u0438\u0434\u0430\u0442\u0438 \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0435 \u043b\u0456\u0436\u043a\u043e \u0430\u0431\u043e \u0436 \u0432\u0437\u0430\u0433\u0430\u043b\u0456 \u0432\u0438\u0445\u043e\u0434\u0438\u0442\u0438 \u0437 \u0434\u043e\u043c\u0443, \u0430\u0431\u0438 \u043f\u043e\u043b\u0430\u0441\u0443\u0432\u0430\u0442\u0438 \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u043c\u0438 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u044f\u043c\u0438!",image_mob:Xc,image_desktop:Jc,index:0})}),(0,as.jsx)(Qc,{threshold:.2,style:{flexShrink:0},as:"div",onChange:(e,n)=>{e&&t(n.target.firstChild.dataset.index)},children:(0,as.jsx)(Zc,{title:"\u041b\u044e\u0431\u043e\u0432 \u0437 \u043f\u0435\u0440\u0448\u043e\u0433\u043e \u043f\u043e\u0433\u043b\u044f\u0434\u0443 \u0456\u0441\u043d\u0443\u0454... ",desc:"\u041d\u0430\u0441\u043e\u043b\u043e\u0434\u0436\u0443\u0439\u0442\u0435\u0441\u044c \u0441\u043c\u0430\u0447\u043d\u043e\u044e \u0457\u0436\u0435\u044e \u0442\u0430 \u0431\u0443\u0434\u044c\u0442\u0435 \u043a\u043e\u0445\u0430\u043d\u0438\u043c\u0438 \u0432 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",image_mob:eu,image_desktop:$c,index:1})}),(0,as.jsx)(Qc,{threshold:.2,style:{flexShrink:0},as:"div",onChange:(e,n)=>{e&&(t(n.target.firstChild.dataset.index),r("left"))},children:(0,as.jsx)(Zc,{title:"\u0417\u0430\u043c\u043e\u0432\u043b\u044f\u0439 \u0441\u043c\u0430\u043a\u043e\u043b\u0438\u043a\u0438 \u0432\u0456\u0434 \u041f\u043e\u043b\u0430\u0440 \u0434\u043e\u0434\u043e\u043c\u0443",desc:"\u0428\u0432\u0438\u0434\u043a\u043e, \u044f\u043a\u0441\u0456\u043d\u043e \u0456 \u0441\u043c\u0430\u0447\u043d\u043e",image_mob:tu,image_desktop:Yc,index:2})})]}),(0,as.jsxs)("div",{className:"slider__dots",children:[(0,as.jsx)("div",{className:"slider__dot ".concat(0===e&&"slider__dot-active")}),(0,as.jsx)("div",{className:"slider__dot ".concat(1===e&&"slider__dot-active")}),(0,as.jsx)("div",{className:"slider__dot ".concat(2===e&&"slider__dot-active")})]})]})})};var ru=n(327);let iu=null;Symbol.for("react-redux-context"),"undefined"!==typeof globalThis&&globalThis;let su=null;n(110),n(900);!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?i.useLayoutEffect:i.useEffect;let ou=null;var au;(e=>{su=e})(ru.useSyncExternalStoreWithSelector),(e=>{ou=e})(Hi.useSyncExternalStore),au=Mi.unstable_batchedUpdates,iu=au;const lu=()=>{const{id:e}=ee(),[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)([]),[o,a]=(0,i.useState)(null),[l,c]=(0,i.useState)([]),u=localStorage.getItem("favoritProducts");return(0,i.useEffect)((()=>{va.get("".concat(ya,"/api/menu"),{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((e=>{const t=e.data.response.filter((e=>e.category_name.startsWith("onlineOrder:"))).map(((e,t)=>({category_name:e.category_name.replace(/onlineOrder: /,""),category_id:e.category_id,category_position_index:t})));t[12].category_position_index=1,t[11].category_position_index=2,t[8].category_position_index=3,t[10].category_position_index=4,t[9].category_position_index=5,t[2].category_position_index=6,t[3].category_position_index=7,t[0].category_position_index=8,t[6].category_position_index=9,t[4].category_position_index=10,t[7].category_position_index=11,t[1].category_position_index=12,t[5].category_position_index=13,t.sort(((e,t)=>e.category_position_index-t.category_position_index)),n(t[0].category_id),s(t)})).catch((e=>console.error(e)))}),[]),(0,i.useEffect)((()=>{(e=>{const t=JSON.stringify({categoryId:e});va.post("".concat(ya,"/api/products"),t,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((e=>{const t=e.data.response.map((e=>({photo:e.photo_origin,product_name:e.product_name,price:e.price,out:e.out,product_id:e.product_id,ingredients:e.product_production_description.split(".")[0].split(", ").join(", "),category:e.category_name})));a(t)})).catch((e=>console.error(e)))})(t)}),[t]),(0,i.useEffect)((()=>{c(JSON.parse(u))}),[u]),(0,i.useEffect)((()=>{e&&n(e)}),[e]),(0,as.jsxs)(as.Fragment,{children:[(0,as.jsxs)("div",{className:"categories",id:"menu",children:[(0,as.jsx)("h1",{className:"title__h1",children:"\u041a\u0443\u0448\u0442\u0443\u0439 \u0442\u0456\u043b\u044c\u043a\u0438 \u043d\u0430\u0439\u0441\u043c\u0430\u0447\u043d\u0456\u0448\u0435"}),o&&(0,as.jsx)("div",{className:"categories__list",children:r.map((e=>(0,as.jsx)("button",{className:"categories__btn ".concat(t===e.category_id?"categories__btn-active":""),onClick:()=>n(e.category_id),children:e.category_name},e.category_id)))})]}),o&&(0,as.jsx)("div",{className:"menu__products",children:o.map((e=>(0,as.jsx)(ic,{preview:"https://polarpelmeni-api.work-set.eu/api/sendImage/".concat(e.product_id),name:e.product_name,price:parseInt(e.price[1].slice(0,-2)),ingredients:e.ingredients,weight:e.out,id:e.product_id,category:e.category},e.product_id)))})]})},cu=()=>(0,as.jsxs)(as.Fragment,{children:[(0,as.jsx)("div",{className:"slider__container",children:(0,as.jsx)(nu,{})}),(0,as.jsx)(ls,{children:(0,as.jsx)(lu,{})}),(0,as.jsxs)(ls,{children:[(0,as.jsx)("section",{className:"about-section",style:{marginTop:120},children:(0,as.jsxs)("div",{className:"about-container container",children:[(0,as.jsxs)("div",{className:"about-top-wrap",children:[(0,as.jsxs)("ul",{className:"about-top-list list",children:[(0,as.jsxs)("li",{className:"about-top-item",children:[(0,as.jsx)("p",{className:"about-top-subtitle",children:"\u041d\u0430\u0448\u0430 \u0456\u0441\u0442\u043e\u0440\u0456\u044f"}),(0,as.jsx)("h2",{className:"about-top-title title",children:"\u0417 \u0447\u043e\u0433\u043e \u0432\u0441\u0435 \u043f\u043e\u0447\u0430\u043b\u043e\u0441\u044f?"})]}),(0,as.jsx)("li",{className:"about-top-item",children:(0,as.jsx)("p",{className:"about-top-text text",children:"\u0417\u0430\u0441\u043d\u043e\u0432\u043d\u0438\u043a Polar \u2014 \u0454\u0432\u0440\u043e\u043f\u0435\u0454\u0446\u044c \u0437 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0438\u043c \u043a\u043e\u0440\u0456\u043d\u043d\u044f\u043c \u2014 \u043a\u0456\u043b\u044c\u043a\u0430 \u0440\u043e\u043a\u0456\u0432 \u0442\u043e\u043c\u0443 \u0432\u0456\u0434\u0432\u0456\u0434\u0430\u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0443. \u0410 \u041e\u0434\u0435\u0441\u0443, \u0439\u043e\u0433\u043e \u0436\u0438\u0442\u0435\u043b\u0456\u0432 \u0456 \u043a\u043e\u043b\u043e\u0440\u0438\u0442 \u0432\u0438 \u0437\u043d\u0430\u0454\u0442\u0435 \u2014 \u043d\u0435 \u0437\u0430\u043a\u043e\u0445\u0430\u0442\u0438\u0441\u044f \u043d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u043e."})}),(0,as.jsx)("li",{className:"about-top-item",children:(0,as.jsx)("p",{className:"about-top-text text",children:"\u0406\u0441\u043a\u0440\u0430, \u0431\u0443\u0440\u044f, \u0431\u043e\u0436\u0435\u0432\u0456\u043b\u043b\u044f, \u0456 \u043e\u0442 \u043d\u0430\u0448 \u041a\u043e\u0441\u0442\u044f \u0432\u0438\u0440\u0456\u0448\u0438\u0432 \u0437\u0430\u043b\u0438\u0448\u0438\u0442\u0438\u0441\u044f \u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0456, \u0430\u0431\u0438 \u0440\u0430\u0434\u0443\u0432\u0430\u0442\u0438 \u043b\u044e\u0434\u0435\u0439 \u0432\u0438\u0448\u0443\u043a\u0430\u043d\u0438\u043c\u0438 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u044f\u043c\u0438 \u0439 \u043f\u0456\u0434\u043d\u0456\u043c\u0430\u0442\u0438 \u0435\u043a\u043e\u043d\u043e\u043c\u0456\u043a\u0443 \u043d\u0430\u0448\u043e\u0457 \u043a\u0440\u0430\u0457\u043d\u0438."})}),(0,as.jsx)("li",{className:"about-top-item",children:(0,as.jsx)("p",{className:"about-top-text text",children:"\u041f\u0456\u0446\u0430, \u0441\u0443\u0448\u0456, \u0431\u0443\u0440\u0433\u0435\u0440\u0438, \u0440\u0430\u043c\u0435\u043d\u2026 \u0410 \u0434\u0435 \u0436 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456, \u044f\u043a\u0456 \u0442\u043e\u0447\u043d\u043e \u0437\u0430\u0439\u043c\u0430\u044e\u0442\u044c \u043e\u043a\u0440\u0435\u043c\u0435 \u043c\u0456\u0441\u0446\u0435 \u0432 \u0441\u0435\u0440\u0434\u0435\u0447\u043a\u0443 \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u0443\u043a\u0440\u0430\u0457\u043d\u0446\u044f?"})}),(0,as.jsx)("li",{className:"about-top-item",children:(0,as.jsx)("p",{className:"about-top-text text",children:"\u0426\u0435 \u043f\u0438\u0442\u0430\u043d\u043d\u044f \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0432 \u0441\u043e\u0431\u0456 \u0437\u0430\u0441\u043d\u043e\u0432\u043d\u0438\u043a Polar, \u044f\u043a\u0438\u0439 \u043d\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0432 \u043d\u0430 \u0440\u0438\u043d\u043a\u0443 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0446\u0456\u0454\u0457 \u0441\u0442\u0440\u0430\u0432\u0438 \u0456 \u0441\u043c\u0430\u0447\u043d\u0438\u0445 \u0441\u043e\u0443\u0441\u0456\u0432 \u0434\u043e \u043d\u0435\u0457. \u0406 \u043f\u043e\u043d\u0435\u0441\u043b\u0430\u0441\u044f\u2026"})})]}),(0,as.jsx)("img",{src:fc,alt:"women",className:"about-top-img first"})]}),(0,as.jsx)("svg",{className:"about-icon first",children:(0,as.jsx)("use",{href:"".concat(vc,"#icon-arrow-1")})}),(0,as.jsxs)("div",{className:"about-wrap",children:[(0,as.jsxs)("ul",{className:"about-list list",children:[(0,as.jsx)("li",{className:"about-item",children:(0,as.jsxs)("h2",{className:"about-title title",children:["\u042f\u043a \u0432\u0441\u0435",(0,as.jsx)("br",{}),"\u043f\u0440\u0438\u0437\u0443\u043f\u0438\u043d\u0438\u043b\u043e\u0441\u044f?"]})}),(0,as.jsx)("li",{className:"about-item",children:(0,as.jsx)("p",{className:"about-text text",children:"23 \u043b\u044e\u0442\u043e\u0433\u043e \u0431\u0443\u043b\u0430 \u043f\u0440\u0435-\u043f\u0430\u0442\u0456 \u0434\u0435\u0433\u0443\u0441\u0442\u0430\u0446\u0456\u044f \u0432 \u041e\u0434\u0435\u0441\u0456:\u043b\u044e\u0434\u0438 \u0433\u0456\u0434\u043d\u043e \u043e\u0446\u0456\u043d\u0438\u043b\u0438 \u043d\u0430\u0448\u0456 \u0441\u0442\u0430\u0440\u0430\u043d\u043d\u044f, \u0441\u043c\u0430\u043a \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432, \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0456\u0441\u0442\u044c \u0432\u0438\u0431\u043e\u0440\u0443 \u0456 \u0448\u0432\u0438\u0434\u043a\u0456\u0441\u0442\u044c \u043f\u0440\u0438\u0433\u043e\u0442\u0443\u0432\u0430\u043d\u043d\u044f."})}),(0,as.jsx)("li",{className:"about-item",children:(0,as.jsx)("p",{className:"about-text text",children:"\u041d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e \u0434\u043d\u044f \u043f\u043e\u0447\u0430\u043b\u0430\u0441\u044f \u0432\u0456\u0439\u043d\u0430."})}),(0,as.jsx)("li",{className:"about-item",children:(0,as.jsx)("p",{className:"about-text text",children:"\u041c\u0438, \u044f\u043a \u0456 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u0431\u0456\u0437\u043d\u0435\u0441 \u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0456, \u043d\u0435 \u043c\u043e\u0433\u043b\u0438 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u044f\u043a \u0440\u0430\u043d\u0456\u0448\u0435."})}),(0,as.jsx)("li",{className:"about-item",children:(0,as.jsx)("p",{className:"about-text text",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 Polar \u043d\u0435 \u0437\u0434\u0430\u043b\u0430\u0441\u044f \u0456 \u043f\u0440\u0438\u0439\u043d\u044f\u043b\u0430 \u0440\u0456\u0448\u0435\u043d\u043d\u044f \u0432\u0456\u0434\u0447\u0438\u043d\u0438\u0442\u0438\u0441\u044f \u0432 \u0431\u0456\u043b\u044c\u0448 \u0431\u0435\u0437\u043f\u0435\u0447\u043d\u043e\u043c\u0443 \u043c\u0456\u0441\u0442\u0456 \u0423\u043a\u0440\u0430\u0457\u043d\u0438 \u2014 \u0423\u0436\u0433\u043e\u0440\u043e\u0434\u0456."})}),(0,as.jsx)("li",{className:"about-item",children:(0,as.jsx)("p",{className:"about-text text",children:"\u0421\u0442\u0432\u043e\u0440\u0438\u043b\u0438 \u0446\u0435\u0445 \u0443 \u0417\u0430\u043a\u0430\u0440\u043f\u0430\u0442\u0442\u0456, \u043f\u043e\u043b\u0456\u043f\u0448\u0438\u043b\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0443\u0440\u0443 \u0456 \u0437\u0440\u043e\u0431\u0438\u043b\u0438 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456 \u0449\u0435 \u043a\u0440\u0430\u0449\u0438\u043c\u0438 \u0437 \u0456\u0434\u0435\u0430\u043b\u044c\u043d\u0438\u043c \u0442\u0456\u0441\u0442\u043e\u043c \u0456 \u043d\u0430\u0447\u0438\u043d\u043a\u0430\u043c\u0438!"})})]}),(0,as.jsx)("img",{src:pc,alt:"dishes",className:"about-img second"})]}),(0,as.jsx)("svg",{className:"about-icon second",children:(0,as.jsx)("use",{href:"".concat(vc,"#icon-arrow-2")})}),(0,as.jsxs)("div",{className:"about-bottom-wrap",children:[(0,as.jsxs)("ul",{className:"about-bottom-list list",children:[(0,as.jsx)("li",{className:"about-bottom-item",children:(0,as.jsxs)("h2",{className:"about-bottom-title title",children:["\u041c\u0438 \u043f\u0440\u043e\u0434\u0443\u043c\u0430\u043b\u0438 \u0432\u0441\u0435",(0,as.jsx)("br",{}),"\u0434\u043e \u0434\u0440\u0456\u0431\u043d\u0438\u0446\u044c"]})}),(0,as.jsx)("li",{className:"about-bottom-item",children:(0,as.jsx)("p",{className:"about-bottom-text text",children:"\u0423 \u0442\u0435\u0440\u043c\u0456\u043d\u043e\u0432\u043e\u043c\u0443 \u043f\u043e\u0440\u044f\u0434\u043a\u0443 (\u043c\u043e\u0432\u0430 \u0436 \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0440\u043e \u0457\u0436\u0443, \u0430 \u043f\u0440\u043e \u041f\u0415\u041b\u042c\u041c\u0415\u041d\u0406) \u0437\u0456\u0431\u0440\u0430\u043b\u0430\u0441\u044f \u0441\u0438\u043b\u044c\u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u043d\u0430 \u0447\u043e\u043b\u0456 \u0456\u0437 \u0448\u0435\u0444-\u043a\u0443\u0445\u0430\u0440\u0435\u043c."})}),(0,as.jsx)("li",{className:"about-bottom-item",children:(0,as.jsx)("p",{className:"about-bottom-text text",children:"\u0414\u043d\u044f\u043c\u0438 \u0439 \u043d\u043e\u0447\u0430\u043c\u0438 \u043c\u0438 \u0440\u043e\u0437\u0440\u043e\u0431\u043b\u044f\u043b\u0438 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0456\u044e, \u043e\u0441\u043e\u0431\u043b\u0438\u0432\u0443 \u0440\u0435\u0446\u0435\u043f\u0442\u0443\u0440\u0443, \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0456\u044e \u043c\u0435\u043d\u044e \u0437 \u043f\u0440\u043e\u0444\u0435\u0441\u0456\u043e\u043d\u0430\u043b\u0430\u043c\u0438, \u0449\u043e\u0431\u0438 \u043d\u0430\u0441\u043e\u043b\u043e\u0434\u0436\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u044f\u043c\u0438 \u043c\u0456\u0433 \u043a\u043e\u0436\u0435\u043d."})}),(0,as.jsx)("li",{className:"about-bottom-item",children:(0,as.jsx)("p",{className:"about-bottom-text text",children:"\u041d\u0435 \u0437\u0430\u043b\u0438\u0448\u0438\u043b\u0438 \u0431\u0435\u0437 \u0443\u0432\u0430\u0433\u0438 \u043d\u0456\u043a\u043e\u0433\u043e."})}),(0,as.jsx)("li",{className:"about-bottom-item",children:(0,as.jsx)("p",{className:"about-bottom-text text",children:"\u0406 \u0432\u0435\u0433\u0435\u0442\u0430\u0440\u0456\u0430\u043d\u0446\u0456, \u0456 \u0432\u0435\u0433\u0430\u043d\u0438, \u0456 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u043d\u0456 \u043c\u2019\u044f\u0441\u043e\u0457\u0434\u0438, \u0456 \u043b\u044e\u0431\u0438\u0442\u0435\u043b\u0456 \u0440\u0438\u0431\u043a\u0438, \u043e\u0432\u043e\u0447\u0456\u0432, \u043d\u0430\u0432\u0456\u0442\u044c \u0441\u043e\u043b\u043e\u0434\u043e\u0449\u0456\u0432 \u0442\u043e\u0447\u043d\u043e \u0437\u043d\u0430\u0439\u0434\u0443\u0442\u044c \u043f\u043e\u0440\u0446\u0456\u044e \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u0445 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432 \u0434\u043b\u044f \u0441\u0435\u0431\u0435 \u0432 Polar"})})]}),(0,as.jsx)("img",{src:mc,alt:"women",className:"about-bottom-img"})]})]})}),(0,as.jsx)("section",{className:"facts-section",children:(0,as.jsxs)("div",{className:"facts-container container",children:[(0,as.jsx)("h2",{className:"facts-main-title title",children:"\u0412\u0430\u0436\u043b\u0438\u0432\u0456 \u0444\u0430\u043a\u0442\u0438 \u043f\u0440\u043e Polar"}),(0,as.jsx)("div",{className:"facts-list-wrap",children:(0,as.jsxs)("ul",{className:"facts-list list",children:[(0,as.jsxs)("li",{className:"facts-item",children:[(0,as.jsx)("div",{className:"facts-icon-wrap",children:(0,as.jsx)("svg",{className:"facts-icon",children:(0,as.jsx)("use",{href:"".concat(vc,"#icon-facts-1")})})}),(0,as.jsx)("h3",{className:"facts-title",children:"\u041c\u0438 \u0441\u0430\u043c\u0456 \u0432\u0438\u0440\u043e\u0431\u043b\u044f\u0454\u043c\u043e \u0432\u0441\u0435"}),(0,as.jsx)("p",{className:"facts-text",children:"\u0444\u0430\u0440\u0448, \u0431\u0443\u043b\u044c\u0439\u043e\u043d\u0438, \u0441\u043e\u0443\u0441\u0438. \u0406 \u0446\u0435 \u0437 \u043d\u0430\u0439\u044f\u043a\u0456\u0441\u043d\u0456\u0448\u0438\u0445 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432 \u0432\u0456\u0434 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u0438\u0445 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0456\u0432. \u0422\u043e\u043c\u0443 \u0449\u043e, \u0445\u043e\u0440\u043e\u0448\u0456 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456 \u043f\u043e\u0447\u0438\u043d\u0430\u044e\u0442\u044c\u0441\u044f \u0437\u0456 \u0441\u0432\u0456\u0436\u0438\u0445 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432"})]}),(0,as.jsxs)("li",{className:"facts-item",children:[(0,as.jsx)("div",{className:"facts-icon-wrap",children:(0,as.jsx)("svg",{className:"facts-icon",children:(0,as.jsx)("use",{href:"".concat(vc,"#icon-facts-2")})})}),(0,as.jsx)("h3",{className:"facts-title",children:"10 \u0432\u0438\u0434\u0456\u0432 \u0440\u0456\u0437\u043d\u0438\u0445 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432"}),(0,as.jsx)("p",{className:"facts-text",children:"\u0406 \u0432\u0435\u0433\u0435\u0442\u0430\u0440\u0456\u0430\u043d\u0446\u0456, \u0456 \u0432\u0435\u0433\u0430\u043d\u0438, \u0456 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u043d\u0456 \u043c\u2019\u044f\u0441\u043e\u0457\u0434\u0438, \u0456 \u043b\u044e\u0431\u0438\u0442\u0435\u043b\u0456 \u0440\u0438\u0431\u043a\u0438, \u043e\u0432\u043e\u0447\u0456\u0432, \u043d\u0430\u0432\u0456\u0442\u044c \u0441\u043e\u043b\u043e\u0434\u043e\u0449\u0456\u0432 \u0442\u043e\u0447\u043d\u043e \u0437\u043d\u0430\u0439\u0434\u0443\u0442\u044c \u043f\u043e\u0440\u0446\u0456\u044e \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u0445 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432"})]}),(0,as.jsxs)("li",{className:"facts-item",children:[(0,as.jsx)("div",{className:"facts-icon-wrap",children:(0,as.jsx)("svg",{className:"facts-icon",children:(0,as.jsx)("use",{href:"".concat(vc,"#icon-facts-3")})})}),(0,as.jsx)("h3",{className:"facts-title",children:"4 \u0445\u0432\u0438\u043b\u0438\u043d\u0438"}),(0,as.jsx)("p",{className:"facts-text",children:"\u041c\u0430\u043b\u043e \u0449\u043e \u043c\u043e\u0436\u043d\u0430 \u0432\u0441\u0442\u0438\u0433\u043d\u0443\u0442\u0438 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0437\u0430 \u0446\u0435\u0439 \u0447\u0430\u0441, \u0430\u043b\u0435 \u043c\u0438 \u0442\u043e\u0447\u043d\u043e \u0437\u043d\u0430\u0454\u043c\u043e, \u0449\u043e \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456 \u0432\u0456\u0434 Polar \u0432\u0436\u0435 \u0431\u0443\u0434\u0443\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u0456"})]}),(0,as.jsxs)("li",{className:"facts-item",children:[(0,as.jsx)("div",{className:"facts-icon-wrap",children:(0,as.jsx)("svg",{className:"facts-icon",children:(0,as.jsx)("use",{href:"".concat(vc,"#icon-facts-4")})})}),(0,as.jsx)("h3",{className:"facts-title",children:"Polar \u0437 \u0435\u043a\u043e\u043b\u043e\u0433\u0456\u0454\u044e"}),(0,as.jsx)("p",{className:"facts-text",children:"\u041d\u0430 \u0432\u0441\u0456\u0445 \u0435\u0442\u0430\u043f\u0430\u0445 \u0432\u0438\u0440\u043e\u0431\u043d\u0438\u0446\u0442\u0432\u0430 \u0439 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u043c\u0438 \u043d\u0430\u043c\u0430\u0433\u0430\u0454\u043c\u043e\u0441\u044f \u043c\u0456\u043d\u0456\u043c\u0456\u0437\u0443\u0432\u0430\u0442\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u043f\u043b\u0430\u0441\u0442\u0438\u043a\u0443"})]})]})})]})}),(0,as.jsx)("section",{className:"gallery-section",children:(0,as.jsxs)("div",{className:"gallery-container container",children:[(0,as.jsxs)("picture",{children:[(0,as.jsx)("source",{srcSet:"./images/about/about-8-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,as.jsx)("img",{src:"./images/about/about-8-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,as.jsxs)("div",{className:"gallery-img-wrap",children:[(0,as.jsxs)("picture",{children:[(0,as.jsx)("source",{srcSet:"./images/about/about-7-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,as.jsx)("img",{src:"./images/about/about-7-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,as.jsxs)("picture",{children:[(0,as.jsx)("source",{srcSet:"./images/about/about-13-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,as.jsx)("img",{src:"./images/about/about-13-mobile.jpg",alt:"",className:"gallery-img"})]})]}),(0,as.jsxs)("div",{className:"gallery-img-wrap",children:[(0,as.jsxs)("picture",{children:[(0,as.jsx)("source",{srcSet:"./images/about/about-9-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,as.jsx)("img",{src:"./images/about/about-9-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,as.jsxs)("picture",{children:[(0,as.jsx)("source",{srcSet:"./images/about/about-15-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,as.jsx)("img",{src:"./images/about/about-15-mobile.jpg",alt:"",className:"gallery-img"})]})]}),(0,as.jsxs)("div",{className:"gallery-img-wrap",children:[(0,as.jsxs)("picture",{children:[(0,as.jsx)("source",{srcSet:"./images/about/about-12-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,as.jsx)("img",{src:"./images/about/about-12-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,as.jsxs)("picture",{children:[(0,as.jsx)("source",{srcSet:"./images/about/about-14-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,as.jsx)("img",{src:"./images/about/about-14-mobile.jpg",alt:"",className:"gallery-img"})]})]}),(0,as.jsxs)("div",{className:"gallery-img-wrap",children:[(0,as.jsxs)("picture",{children:[(0,as.jsx)("source",{srcSet:"./images/about/about-11-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,as.jsx)("img",{src:"./images/about/about-11-mobile.jpg",alt:"",className:"gallery-img"})]}),(0,as.jsxs)("picture",{children:[(0,as.jsx)("source",{srcSet:"./images/about/about-10-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,as.jsx)("img",{src:"./images/about/about-10-mobile.jpg",alt:"",className:"gallery-img"})]})]})]})})]})]}),uu=()=>(0,as.jsx)(ls,{children:(0,as.jsx)(lu,{})});var du=function(e,t){return du=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},du(e,t)};function hu(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}du(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var fu=function(){return fu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fu.apply(this,arguments)};function pu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function mu(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}function gu(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function vu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yu=function(e,t,n,r,i,s,o,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}},bu=vu(yu),wu=(0,i.createContext)(null);function _u(e,t,n,r){var i={};return function(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}(e,(function(e,s){var o=n[s];o!==t[s]&&(i[s]=o,e(r,o))})),i}function xu(e,t,n){var r=function(e,t,n){return Object.keys(e).reduce((function(n,r){return t(n,e[r],r)}),n)}(n,(function(n,r,i){return"function"===typeof e[i]&&n.push(google.maps.event.addListener(t,r,e[i])),n}),[]);return r}function Cu(e){google.maps.event.removeListener(e)}function Su(e){void 0===e&&(e=[]),e.forEach(Cu)}function Eu(e){var t=e.updaterMap,n=e.eventMap,r=e.prevProps,i=e.nextProps,s=e.instance,o=xu(i,s,n);return _u(t,r,i,s),o}var ku={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},Iu={extraMapTypes:function(e,t){t.forEach((function(t,n){e.mapTypes.set(String(n),t)}))},center:function(e,t){e.setCenter(t)},clickableIcons:function(e,t){e.setClickableIcons(t)},heading:function(e,t){e.setHeading(t)},mapTypeId:function(e,t){e.setMapTypeId(t)},options:function(e,t){e.setOptions(t)},streetView:function(e,t){e.setStreetView(t)},tilt:function(e,t){e.setTilt(t)},zoom:function(e,t){e.setZoom(t)}};(0,i.memo)((function(e){var t=e.children,n=e.options,r=e.id,s=e.mapContainerStyle,o=e.mapContainerClassName,a=e.center,l=e.onClick,c=e.onDblClick,u=e.onDrag,d=e.onDragEnd,h=e.onDragStart,f=e.onMouseMove,p=e.onMouseOut,m=e.onMouseOver,g=e.onMouseDown,v=e.onMouseUp,y=e.onRightClick,b=e.onCenterChanged,w=e.onLoad,_=e.onUnmount,x=(0,i.useState)(null),C=x[0],S=x[1],E=(0,i.useRef)(null),k=(0,i.useState)(null),I=k[0],T=k[1],N=(0,i.useState)(null),L=N[0],j=N[1],A=(0,i.useState)(null),O=A[0],P=A[1],D=(0,i.useState)(null),M=D[0],R=D[1],F=(0,i.useState)(null),V=F[0],U=F[1],B=(0,i.useState)(null),z=B[0],q=B[1],H=(0,i.useState)(null),W=H[0],G=H[1],K=(0,i.useState)(null),Q=K[0],Z=K[1],J=(0,i.useState)(null),$=J[0],Y=J[1],X=(0,i.useState)(null),ee=X[0],te=X[1],ne=(0,i.useState)(null),re=ne[0],ie=ne[1],se=(0,i.useState)(null),oe=se[0],ae=se[1];return(0,i.useEffect)((function(){n&&null!==C&&C.setOptions(n)}),[C,n]),(0,i.useEffect)((function(){null!==C&&"undefined"!==typeof a&&C.setCenter(a)}),[C,a]),(0,i.useEffect)((function(){C&&c&&(null!==L&&google.maps.event.removeListener(L),j(google.maps.event.addListener(C,"dblclick",c)))}),[c]),(0,i.useEffect)((function(){C&&d&&(null!==O&&google.maps.event.removeListener(O),P(google.maps.event.addListener(C,"dragend",d)))}),[d]),(0,i.useEffect)((function(){C&&h&&(null!==M&&google.maps.event.removeListener(M),R(google.maps.event.addListener(C,"dragstart",h)))}),[h]),(0,i.useEffect)((function(){C&&g&&(null!==V&&google.maps.event.removeListener(V),U(google.maps.event.addListener(C,"mousedown",g)))}),[g]),(0,i.useEffect)((function(){C&&f&&(null!==z&&google.maps.event.removeListener(z),q(google.maps.event.addListener(C,"mousemove",f)))}),[f]),(0,i.useEffect)((function(){C&&p&&(null!==W&&google.maps.event.removeListener(W),G(google.maps.event.addListener(C,"mouseout",p)))}),[p]),(0,i.useEffect)((function(){C&&m&&(null!==Q&&google.maps.event.removeListener(Q),Z(google.maps.event.addListener(C,"mouseover",m)))}),[m]),(0,i.useEffect)((function(){C&&v&&(null!==$&&google.maps.event.removeListener($),Y(google.maps.event.addListener(C,"mouseup",v)))}),[v]),(0,i.useEffect)((function(){C&&y&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(C,"rightclick",y)))}),[y]),(0,i.useEffect)((function(){C&&l&&(null!==re&&google.maps.event.removeListener(re),ie(google.maps.event.addListener(C,"click",l)))}),[l]),(0,i.useEffect)((function(){C&&u&&(null!==oe&&google.maps.event.removeListener(oe),ae(google.maps.event.addListener(C,"drag",u)))}),[u]),(0,i.useEffect)((function(){C&&b&&(null!==I&&google.maps.event.removeListener(I),T(google.maps.event.addListener(C,"center_changed",b)))}),[l]),(0,i.useEffect)((function(){var e=null===E.current?null:new google.maps.Map(E.current,n);return S(e),null!==e&&w&&w(e),function(){null!==e&&_&&_(e)}}),[]),(0,as.jsx)("div",{id:r,ref:E,style:s,className:o,children:(0,as.jsx)(wu.Provider,{value:C,children:null!==C?t:(0,as.jsx)(as.Fragment,{})})})}));var Tu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={map:null},t.registeredEvents=[],t.mapRef=null,t.getInstance=function(){return null===t.mapRef?null:new google.maps.Map(t.mapRef,t.props.options)},t.panTo=function(e){var n=t.getInstance();n&&n.panTo(e)},t.setMapCallback=function(){null!==t.state.map&&t.props.onLoad&&t.props.onLoad(t.state.map)},t.getRef=function(e){t.mapRef=e},t}return hu(t,e),t.prototype.componentDidMount=function(){var e=this.getInstance();this.registeredEvents=Eu({updaterMap:Iu,eventMap:ku,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{map:e}}),this.setMapCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.map&&(Su(this.registeredEvents),this.registeredEvents=Eu({updaterMap:Iu,eventMap:ku,prevProps:e,nextProps:this.props,instance:this.state.map}))},t.prototype.componentWillUnmount=function(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Su(this.registeredEvents))},t.prototype.render=function(){return(0,as.jsx)("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:(0,as.jsx)(wu.Provider,{value:this.state.map,children:null!==this.state.map?this.props.children:(0,as.jsx)(as.Fragment,{})})})},t}(i.PureComponent),Nu="undefined"!==typeof document;function Lu(e){var t=e.url,n=e.id,r=e.nonce;return Nu?new Promise((function(e,i){var s=document.getElementById(n),o=window;if(s){var a=s.getAttribute("data-state");if(s.src===t&&"error"!==a){if("ready"===a)return e(n);var l=o.initMap,c=s.onerror;return o.initMap=function(){l&&l(),e(n)},void(s.onerror=function(e){c&&c(e),i(e)})}s.remove()}var u=document.createElement("script");u.type="text/javascript",u.src=t,u.id=n,u.async=!0,u.nonce=r||"",u.onerror=function(e){u.setAttribute("data-state","error"),i(e)},o.initMap=function(){u.setAttribute("data-state","ready"),e(n)},document.head.appendChild(u)})).catch((function(e){throw console.error("injectScript error: ",e),e})):Promise.reject(new Error("document is undefined"))}function ju(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function Au(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(n,r){return ju(n)||Reflect.apply(t,e,[n,r]),n};var n=e.appendChild.bind(e);e.appendChild=function(t){return ju(t)||Reflect.apply(n,e,[t]),t}}}function Ou(e){var t=e.googleMapsApiKey,n=e.googleMapsClientId,r=e.version,i=void 0===r?"weekly":r,s=e.language,o=e.region,a=e.libraries,l=e.channel,c=e.mapIds,u=e.authReferrerPolicy,d=[];return bu(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?d.push("key=".concat(t)):n&&d.push("client=".concat(n)),i&&d.push("v=".concat(i)),s&&d.push("language=".concat(s)),o&&d.push("region=".concat(o)),a&&a.length&&d.push("libraries=".concat(a.sort().join(","))),l&&d.push("channel=".concat(l)),c&&c.length&&d.push("map_ids=".concat(c.join(","))),u&&d.push("auth_referrer_policy=".concat(u)),d.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(d.join("&"))}var Pu=!1;function Du(){return(0,as.jsx)("div",{children:"Loading..."})}var Mu,Ru={id:"script-loader",version:"weekly"},Fu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.check=(0,i.createRef)(),t.state={loaded:!1},t.cleanupCallback=function(){delete window.google.maps,t.injectScript()},t.isCleaningUp=function(){return mu(t,void 0,void 0,(function(){function e(e){if(Pu){if(Nu)var t=window.setInterval((function(){Pu||(window.clearInterval(t),e())}),1)}else e()}return gu(this,(function(t){return[2,new Promise(e)]}))}))},t.cleanup=function(){Pu=!0;var e=document.getElementById(t.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter((function(e){return"string"===typeof e.src&&e.src.includes("maps.googleapis")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("link")).filter((function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("style")).filter((function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},t.injectScript=function(){t.props.preventGoogleFontsLoading&&Au(),bu(!!t.props.id,'LoadScript requires "id" prop to be a string: %s',t.props.id),Lu({id:t.props.id,nonce:t.props.nonce,url:Ou(t.props)}).then((function(){t.props.onLoad&&t.props.onLoad(),t.setState((function(){return{loaded:!0}}))})).catch((function(e){t.props.onError&&t.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(t.props.googleMapsApiKey||"-",") or Client ID (").concat(t.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))}))},t}return hu(t,e),t.prototype.componentDidMount=function(){if(Nu){if(window.google&&window.google.maps&&!Pu)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch((function(e){console.error("Error at injecting script after cleaning up: ",e)}))}},t.prototype.componentDidUpdate=function(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Nu&&e.language!==this.props.language&&(this.cleanup(),this.setState((function(){return{loaded:!1}}),this.cleanupCallback))},t.prototype.componentWillUnmount=function(){var e=this;if(Nu){this.cleanup();window.setTimeout((function(){e.check.current||(delete window.google,Pu=!1)}),1),this.props.onUnmount&&this.props.onUnmount()}},t.prototype.render=function(){return(0,as.jsxs)(as.Fragment,{children:[(0,as.jsx)("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||(0,as.jsx)(Du,{})]})},t.defaultProps=Ru,t}(i.PureComponent);var Vu=(0,as.jsx)(Du,{});(0,i.memo)((function(e){var t=e.loadingElement,n=e.onLoad,r=e.onError,s=e.onUnmount,o=e.children,a=function(e){var t=e.id,n=void 0===t?Ru.id:t,r=e.version,s=void 0===r?Ru.version:r,o=e.nonce,a=e.googleMapsApiKey,l=e.googleMapsClientId,c=e.language,u=e.region,d=e.libraries,h=e.preventGoogleFontsLoading,f=e.channel,p=e.mapIds,m=e.authReferrerPolicy,g=(0,i.useRef)(!1),v=(0,i.useState)(!1),y=v[0],b=v[1],w=(0,i.useState)(void 0),_=w[0],x=w[1];(0,i.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]),(0,i.useEffect)((function(){Nu&&h&&Au()}),[h]),(0,i.useEffect)((function(){y&&bu(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")}),[y]);var C=Ou({version:s,googleMapsApiKey:a,googleMapsClientId:l,language:c,region:u,libraries:d,channel:f,mapIds:p,authReferrerPolicy:m});(0,i.useEffect)((function(){function e(){g.current&&(b(!0),Mu=C)}Nu&&(window.google&&window.google.maps&&Mu===C?e():Lu({id:n,url:C,nonce:o}).then(e).catch((function(e){g.current&&x(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(a||"-",") or Client ID (").concat(l||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)})))}),[n,C,o]);var S=(0,i.useRef)();return(0,i.useEffect)((function(){S.current&&d!==S.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),S.current=d}),[d]),{isLoaded:y,loadError:_,url:C}}(pu(e,["loadingElement","onLoad","onError","onUnmount","children"])),l=a.isLoaded,c=a.loadError;return(0,i.useEffect)((function(){l&&"function"===typeof n&&n()}),[l,n]),(0,i.useEffect)((function(){c&&"function"===typeof r&&r(c)}),[c,r]),(0,i.useEffect)((function(){return function(){s&&s()}}),[s]),l?o:t||Vu}));var Uu;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(Uu||(Uu={}));var Bu={},zu={options:function(e,t){e.setOptions(t)}};(0,i.memo)((function(e){var t=e.options,n=e.onLoad,r=e.onUnmount,s=(0,i.useContext)(wu),o=(0,i.useState)(null),a=o[0],l=o[1];return(0,i.useEffect)((function(){null!==a&&a.setMap(s)}),[s]),(0,i.useEffect)((function(){t&&null!==a&&a.setOptions(t)}),[a,t]),(0,i.useEffect)((function(){var e=new google.maps.TrafficLayer(fu(fu({},t||{}),{map:s}));return l(e),n&&n(e),function(){null!==a&&(r&&r(a),a.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={trafficLayer:null},t.setTrafficLayerCallback=function(){null!==t.state.trafficLayer&&t.props.onLoad&&t.props.onLoad(t.state.trafficLayer)},t.registeredEvents=[],t}hu(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.TrafficLayer(fu(fu({},this.props.options||{}),{map:this.context}));this.registeredEvents=Eu({updaterMap:zu,eventMap:Bu,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{trafficLayer:e}}),this.setTrafficLayerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.trafficLayer&&(Su(this.registeredEvents),this.registeredEvents=Eu({updaterMap:zu,eventMap:Bu,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))},t.prototype.componentWillUnmount=function(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Su(this.registeredEvents),this.state.trafficLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=wu}(i.PureComponent);(0,i.memo)((function(e){var t=e.onLoad,n=e.onUnmount,r=(0,i.useContext)(wu),s=(0,i.useState)(null),o=s[0],a=s[1];return(0,i.useEffect)((function(){null!==o&&o.setMap(r)}),[r]),(0,i.useEffect)((function(){var e=new google.maps.BicyclingLayer;return a(e),e.setMap(r),t&&t(e),function(){null!==e&&(n&&n(e),e.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={bicyclingLayer:null},t.setBicyclingLayerCallback=function(){null!==t.state.bicyclingLayer&&(t.state.bicyclingLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.bicyclingLayer))},t}hu(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.BicyclingLayer;this.setState((function(){return{bicyclingLayer:e}}),this.setBicyclingLayerCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=wu}(i.PureComponent);(0,i.memo)((function(e){var t=e.onLoad,n=e.onUnmount,r=(0,i.useContext)(wu),s=(0,i.useState)(null),o=s[0],a=s[1];return(0,i.useEffect)((function(){null!==o&&o.setMap(r)}),[r]),(0,i.useEffect)((function(){var e=new google.maps.TransitLayer;return a(e),e.setMap(r),t&&t(e),function(){null!==o&&(n&&n(o),o.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={transitLayer:null},t.setTransitLayerCallback=function(){null!==t.state.transitLayer&&(t.state.transitLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.transitLayer))},t}hu(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.TransitLayer;this.setState((function(){return{transitLayer:e}}),this.setTransitLayerCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=wu}(i.PureComponent);var qu={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Hu={drawingMode:function(e,t){e.setDrawingMode(t)},options:function(e,t){e.setOptions(t)}};(0,i.memo)((function(e){var t=e.options,n=e.drawingMode,r=e.onCircleComplete,s=e.onMarkerComplete,o=e.onOverlayComplete,a=e.onPolygonComplete,l=e.onPolylineComplete,c=e.onRectangleComplete,u=e.onLoad,d=e.onUnmount,h=(0,i.useContext)(wu),f=(0,i.useState)(null),p=f[0],m=f[1],g=(0,i.useState)(null),v=g[0],y=g[1],b=(0,i.useState)(null),w=b[0],_=b[1],x=(0,i.useState)(null),C=x[0],S=x[1],E=(0,i.useState)(null),k=E[0],I=E[1],T=(0,i.useState)(null),N=T[0],L=T[1],j=(0,i.useState)(null),A=j[0],O=j[1];return(0,i.useEffect)((function(){null!==p&&p.setMap(h)}),[h]),(0,i.useEffect)((function(){t&&null!==p&&p.setOptions(t)}),[p,t]),(0,i.useEffect)((function(){n&&null!==p&&p.setDrawingMode(n)}),[p,n]),(0,i.useEffect)((function(){p&&r&&(null!==v&&google.maps.event.removeListener(v),y(google.maps.event.addListener(p,"circlecomplete",r)))}),[p,r]),(0,i.useEffect)((function(){p&&s&&(null!==w&&google.maps.event.removeListener(w),_(google.maps.event.addListener(p,"markercomplete",s)))}),[p,s]),(0,i.useEffect)((function(){p&&o&&(null!==C&&google.maps.event.removeListener(C),S(google.maps.event.addListener(p,"overlaycomplete",o)))}),[p,o]),(0,i.useEffect)((function(){p&&a&&(null!==k&&google.maps.event.removeListener(k),I(google.maps.event.addListener(p,"polygoncomplete",a)))}),[p,a]),(0,i.useEffect)((function(){p&&l&&(null!==N&&google.maps.event.removeListener(N),L(google.maps.event.addListener(p,"polylinecomplete",l)))}),[p,l]),(0,i.useEffect)((function(){p&&c&&(null!==A&&google.maps.event.removeListener(A),O(google.maps.event.addListener(p,"rectanglecomplete",c)))}),[p,c]),(0,i.useEffect)((function(){bu(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(fu(fu({},t||{}),{map:h}));return n&&e.setDrawingMode(n),r&&y(google.maps.event.addListener(e,"circlecomplete",r)),s&&_(google.maps.event.addListener(e,"markercomplete",s)),o&&S(google.maps.event.addListener(e,"overlaycomplete",o)),a&&I(google.maps.event.addListener(e,"polygoncomplete",a)),l&&L(google.maps.event.addListener(e,"polylinecomplete",l)),c&&O(google.maps.event.addListener(e,"rectanglecomplete",c)),m(e),u&&u(e),function(){null!==p&&(v&&google.maps.event.removeListener(v),w&&google.maps.event.removeListener(w),C&&google.maps.event.removeListener(C),k&&google.maps.event.removeListener(k),N&&google.maps.event.removeListener(N),A&&google.maps.event.removeListener(A),d&&d(p),p.setMap(null))}}),[]),null})),function(e){function t(t){var n=e.call(this,t)||this;return n.registeredEvents=[],n.state={drawingManager:null},n.setDrawingManagerCallback=function(){null!==n.state.drawingManager&&n.props.onLoad&&n.props.onLoad(n.state.drawingManager)},bu(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),n}hu(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.drawing.DrawingManager(fu(fu({},this.props.options||{}),{map:this.context}));this.registeredEvents=Eu({updaterMap:Hu,eventMap:qu,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{drawingManager:e}}),this.setDrawingManagerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.drawingManager&&(Su(this.registeredEvents),this.registeredEvents=Eu({updaterMap:Hu,eventMap:qu,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))},t.prototype.componentWillUnmount=function(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Su(this.registeredEvents),this.state.drawingManager.setMap(null))},t.prototype.render=function(){return null},t.contextType=wu}(i.PureComponent);var Wu={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Gu={animation:function(e,t){e.setAnimation(t)},clickable:function(e,t){e.setClickable(t)},cursor:function(e,t){e.setCursor(t)},draggable:function(e,t){e.setDraggable(t)},icon:function(e,t){e.setIcon(t)},label:function(e,t){e.setLabel(t)},map:function(e,t){e.setMap(t)},opacity:function(e,t){e.setOpacity(t)},options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},shape:function(e,t){e.setShape(t)},title:function(e,t){e.setTitle(t)},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},Ku={};var Qu=(0,i.memo)((function(e){var t=e.position,n=e.options,r=e.clusterer,s=e.noClustererRedraw,o=e.children,a=e.draggable,l=e.visible,c=e.animation,u=e.clickable,d=e.cursor,h=e.icon,f=e.label,p=e.opacity,m=e.shape,g=e.title,v=e.zIndex,y=e.onClick,b=e.onDblClick,w=e.onDrag,_=e.onDragEnd,x=e.onDragStart,C=e.onMouseOut,S=e.onMouseOver,E=e.onMouseUp,k=e.onMouseDown,I=e.onRightClick,T=e.onClickableChanged,N=e.onCursorChanged,L=e.onAnimationChanged,j=e.onDraggableChanged,A=e.onFlatChanged,O=e.onIconChanged,P=e.onPositionChanged,D=e.onShapeChanged,M=e.onTitleChanged,R=e.onVisibleChanged,F=e.onZindexChanged,V=e.onLoad,U=e.onUnmount,B=(0,i.useContext)(wu),z=(0,i.useState)(null),q=z[0],H=z[1],W=(0,i.useState)(null),G=W[0],K=W[1],Q=(0,i.useState)(null),Z=Q[0],J=Q[1],$=(0,i.useState)(null),Y=$[0],X=$[1],ee=(0,i.useState)(null),te=ee[0],ne=ee[1],re=(0,i.useState)(null),ie=re[0],se=re[1],oe=(0,i.useState)(null),ae=oe[0],le=oe[1],ce=(0,i.useState)(null),ue=ce[0],de=ce[1],he=(0,i.useState)(null),fe=he[0],pe=he[1],me=(0,i.useState)(null),ge=me[0],ve=me[1],ye=(0,i.useState)(null),be=ye[0],we=ye[1],_e=(0,i.useState)(null),xe=_e[0],Ce=_e[1],Se=(0,i.useState)(null),Ee=Se[0],ke=Se[1],Ie=(0,i.useState)(null),Te=Ie[0],Ne=Ie[1],Le=(0,i.useState)(null),je=Le[0],Ae=Le[1],Oe=(0,i.useState)(null),Pe=Oe[0],De=Oe[1],Me=(0,i.useState)(null),Re=Me[0],Fe=Me[1],Ve=(0,i.useState)(null),Ue=Ve[0],Be=Ve[1],ze=(0,i.useState)(null),qe=ze[0],He=ze[1],We=(0,i.useState)(null),Ge=We[0],Ke=We[1],Qe=(0,i.useState)(null),Ze=Qe[0],Je=Qe[1],$e=(0,i.useState)(null),Ye=$e[0],Xe=$e[1];(0,i.useEffect)((function(){null!==q&&q.setMap(B)}),[B]),(0,i.useEffect)((function(){"undefined"!==typeof n&&null!==q&&q.setOptions(n)}),[q,n]),(0,i.useEffect)((function(){"undefined"!==typeof a&&null!==q&&q.setDraggable(a)}),[q,a]),(0,i.useEffect)((function(){t&&null!==q&&q.setPosition(t)}),[q,t]),(0,i.useEffect)((function(){"undefined"!==typeof l&&null!==q&&q.setVisible(l)}),[q,l]),(0,i.useEffect)((function(){null===q||void 0===q||q.setAnimation(c)}),[q,c]),(0,i.useEffect)((function(){q&&b&&(null!==G&&google.maps.event.removeListener(G),K(google.maps.event.addListener(q,"dblclick",b)))}),[b]),(0,i.useEffect)((function(){q&&_&&(null!==Z&&google.maps.event.removeListener(Z),J(google.maps.event.addListener(q,"dragend",_)))}),[_]),(0,i.useEffect)((function(){q&&x&&(null!==Y&&google.maps.event.removeListener(Y),X(google.maps.event.addListener(q,"dragstart",x)))}),[x]),(0,i.useEffect)((function(){q&&k&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(q,"mousedown",k)))}),[k]),(0,i.useEffect)((function(){q&&C&&(null!==ie&&google.maps.event.removeListener(ie),se(google.maps.event.addListener(q,"mouseout",C)))}),[C]),(0,i.useEffect)((function(){q&&S&&(null!==ae&&google.maps.event.removeListener(ae),le(google.maps.event.addListener(q,"mouseover",S)))}),[S]),(0,i.useEffect)((function(){q&&E&&(null!==ue&&google.maps.event.removeListener(ue),de(google.maps.event.addListener(q,"mouseup",E)))}),[E]),(0,i.useEffect)((function(){q&&I&&(null!==fe&&google.maps.event.removeListener(fe),pe(google.maps.event.addListener(q,"rightclick",I)))}),[I]),(0,i.useEffect)((function(){q&&y&&(null!==ge&&google.maps.event.removeListener(ge),ve(google.maps.event.addListener(q,"click",y)))}),[y]),(0,i.useEffect)((function(){q&&w&&(null!==be&&google.maps.event.removeListener(be),we(google.maps.event.addListener(q,"drag",w)))}),[w]),(0,i.useEffect)((function(){q&&T&&(null!==xe&&google.maps.event.removeListener(xe),Ce(google.maps.event.addListener(q,"clickable_changed",T)))}),[T]),(0,i.useEffect)((function(){q&&N&&(null!==Ee&&google.maps.event.removeListener(Ee),ke(google.maps.event.addListener(q,"cursor_changed",N)))}),[N]),(0,i.useEffect)((function(){q&&L&&(null!==Te&&google.maps.event.removeListener(Te),Ne(google.maps.event.addListener(q,"animation_changed",L)))}),[L]),(0,i.useEffect)((function(){q&&j&&(null!==je&&google.maps.event.removeListener(je),Ae(google.maps.event.addListener(q,"draggable_changed",j)))}),[j]),(0,i.useEffect)((function(){q&&A&&(null!==Pe&&google.maps.event.removeListener(Pe),De(google.maps.event.addListener(q,"flat_changed",A)))}),[A]),(0,i.useEffect)((function(){q&&O&&(null!==Re&&google.maps.event.removeListener(Re),Fe(google.maps.event.addListener(q,"icon_changed",O)))}),[O]),(0,i.useEffect)((function(){q&&P&&(null!==Ue&&google.maps.event.removeListener(Ue),Be(google.maps.event.addListener(q,"position_changed",P)))}),[P]),(0,i.useEffect)((function(){q&&D&&(null!==qe&&google.maps.event.removeListener(qe),He(google.maps.event.addListener(q,"shape_changed",D)))}),[D]),(0,i.useEffect)((function(){q&&M&&(null!==Ge&&google.maps.event.removeListener(Ge),Ke(google.maps.event.addListener(q,"title_changed",M)))}),[M]),(0,i.useEffect)((function(){q&&R&&(null!==Ze&&google.maps.event.removeListener(Ze),Je(google.maps.event.addListener(q,"visible_changed",R)))}),[R]),(0,i.useEffect)((function(){q&&F&&(null!==Ye&&google.maps.event.removeListener(Ye),Xe(google.maps.event.addListener(q,"zindex_changed",F)))}),[F]),(0,i.useEffect)((function(){var e=fu(fu(fu({},n||Ku),r?Ku:{map:B}),{position:t}),i=new google.maps.Marker(e);return r?r.addMarker(i,!!s):i.setMap(B),t&&i.setPosition(t),"undefined"!==typeof l&&i.setVisible(l),"undefined"!==typeof a&&i.setDraggable(a),"undefined"!==typeof u&&i.setClickable(u),"string"===typeof d&&i.setCursor(d),h&&i.setIcon(h),"undefined"!==typeof f&&i.setLabel(f),"undefined"!==typeof p&&i.setOpacity(p),m&&i.setShape(m),"string"===typeof g&&i.setTitle(g),"number"===typeof v&&i.setZIndex(v),b&&K(google.maps.event.addListener(i,"dblclick",b)),_&&J(google.maps.event.addListener(i,"dragend",_)),x&&X(google.maps.event.addListener(i,"dragstart",x)),k&&ne(google.maps.event.addListener(i,"mousedown",k)),C&&se(google.maps.event.addListener(i,"mouseout",C)),S&&le(google.maps.event.addListener(i,"mouseover",S)),E&&de(google.maps.event.addListener(i,"mouseup",E)),I&&pe(google.maps.event.addListener(i,"rightclick",I)),y&&ve(google.maps.event.addListener(i,"click",y)),w&&we(google.maps.event.addListener(i,"drag",w)),T&&Ce(google.maps.event.addListener(i,"clickable_changed",T)),N&&ke(google.maps.event.addListener(i,"cursor_changed",N)),L&&Ne(google.maps.event.addListener(i,"animation_changed",L)),j&&Ae(google.maps.event.addListener(i,"draggable_changed",j)),A&&De(google.maps.event.addListener(i,"flat_changed",A)),O&&Fe(google.maps.event.addListener(i,"icon_changed",O)),P&&Be(google.maps.event.addListener(i,"position_changed",P)),D&&He(google.maps.event.addListener(i,"shape_changed",D)),M&&Ke(google.maps.event.addListener(i,"title_changed",M)),R&&Je(google.maps.event.addListener(i,"visible_changed",R)),F&&Xe(google.maps.event.addListener(i,"zindex_changed",F)),H(i),V&&V(i),function(){null!==G&&google.maps.event.removeListener(G),null!==Z&&google.maps.event.removeListener(Z),null!==Y&&google.maps.event.removeListener(Y),null!==te&&google.maps.event.removeListener(te),null!==ie&&google.maps.event.removeListener(ie),null!==ae&&google.maps.event.removeListener(ae),null!==ue&&google.maps.event.removeListener(ue),null!==fe&&google.maps.event.removeListener(fe),null!==ge&&google.maps.event.removeListener(ge),null!==xe&&google.maps.event.removeListener(xe),null!==Ee&&google.maps.event.removeListener(Ee),null!==Te&&google.maps.event.removeListener(Te),null!==je&&google.maps.event.removeListener(je),null!==Pe&&google.maps.event.removeListener(Pe),null!==Re&&google.maps.event.removeListener(Re),null!==Ue&&google.maps.event.removeListener(Ue),null!==Ge&&google.maps.event.removeListener(Ge),null!==Ze&&google.maps.event.removeListener(Ze),null!==Ye&&google.maps.event.removeListener(Ye),U&&U(i),r?r.removeMarker(i,!!s):i&&i.setMap(null)}}),[]);var et=(0,i.useMemo)((function(){return o?i.Children.map(o,(function(e){if(!(0,i.isValidElement)(e))return e;var t=e;return(0,i.cloneElement)(t,{anchor:q})})):null}),[o,q]);return(0,as.jsx)(as.Fragment,{children:et})||null})),Zu=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t}hu(t,e),t.prototype.componentDidMount=function(){var e=fu(fu(fu({},this.props.options||Ku),this.props.clusterer?Ku:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(e),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=Eu({updaterMap:Gu,eventMap:Wu,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)},t.prototype.componentDidUpdate=function(e){this.marker&&(Su(this.registeredEvents),this.registeredEvents=Eu({updaterMap:Gu,eventMap:Wu,prevProps:e,nextProps:this.props,instance:this.marker}))},t.prototype.componentWillUnmount=function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Su(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))},t.prototype.render=function(){var e=this,t=null;return this.props.children&&(t=i.Children.map(this.props.children,(function(t){if(!(0,i.isValidElement)(t))return t;var n=t;return(0,i.cloneElement)(n,{anchor:e.marker})}))),t||null},t.contextType=wu}(i.PureComponent),function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),r=this.cluster.getBounds(),i=t.getMap();null!==i&&"fitBounds"in i&&i.fitBounds(r),this.timeOut=window.setTimeout((function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(r);var i=e.getZoom()||0;null!==n&&i>n&&e.setZoom(n+1)}}),100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,n,r,i,s;if(this.div&&this.center){var o=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,a=this.backgroundPosition.split(" "),l=parseInt((null===(e=a[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),c=parseInt((null===(t=a[1])||void 0===t?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),u=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==u?"".concat(u.y,"px"):"0","; left: ").concat(null!==u?"".concat(u.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var d=document.createElement("img");d.alt=o,d.src=this.url,d.width=this.width,d.height=this.height,d.setAttribute("style","position: absolute; top: ".concat(c,"px; left: ").concat(l,"px")),this.cluster.getClusterer().enableRetinaIcons||(d.style.clip="rect(-".concat(c,"px, -").concat(l+this.width,"px, -").concat(c+this.height,", -").concat(l,")"));var h=document.createElement("div");h.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(n=this.sums)||void 0===n?void 0:n.text)&&(h.innerText="".concat(null===(r=this.sums)||void 0===r?void 0:r.text)),(null===(i=this.sums)||void 0===i?void 0:i.html)&&(h.innerHTML="".concat(null===(s=this.sums)||void 0===s?void 0:s.html)),this.div.innerHTML="",this.div.appendChild(d),this.div.appendChild(h),this.div.title=o,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}()),Ju=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Zu(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=0,n=this.getMarkers();t<n.length;t++){var r=n[t].getPosition();r&&e.extend(r)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(n=e.getPosition())){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+n.lat())/r,(this.center.lng()*(r-1)+n.lng())/r),this.calculateBounds()}}else(n=e.getPosition())&&(this.center=n,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var i=this.markers.length,s=this.markerClusterer.getMaxZoom(),o=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==s&&"undefined"!==typeof o&&o>s)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var a=0,l=this.markers;a<l.length;a++){l[a].setMap(null)}else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),r=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==n&&"undefined"!==typeof r&&r>n||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function $u(e,t){var n=e.length,r=n.toString().length,i=Math.min(r,t);return{text:n.toString(),index:i,title:""}}var Yu=[53,56,66,78,90],Xu=function(){function e(t,n,r){void 0===n&&(n=[]),void 0===r&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,void 0!==r.zoomOnClick&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,void 0!==r.averageCenter&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,void 0!==r.ignoreHidden&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,void 0!==r.enableRetinaIcons&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=r.imageExtension||"png",this.imageSizes=r.imageSizes||Yu,this.calculator=r.calculator||$u,this.batchSize=r.batchSize||2e3,this.batchSizeIE=r.batchSizeIE||500,this.clusterClass=r.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var r=0,i=this.clusters;r<i.length;r++){i[r].remove()}this.clusters=[];for(var s=0,o=this.listeners;s<o.length;s++){var a=o[s];google.maps.event.removeListener(a)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,r=e;n<r.length;n++){var i=r[n].getPosition();i&&t.extend(i)}var s=this.getMap();null!==s&&"fitBounds"in s&&s.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];r&&this.pushMarkerTo(r)}t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",(function(){t.ready&&(e.isAdded=!1,t.repaint())})),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},e.prototype.removeMarkers=function(e,t){for(var n=!1,r=0,i=e;r<i.length;r++){var s=i[r];n=n||this.removeMarker_(s)}return!t&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout((function(){for(var t=0,n=e;t<n.length;t++){n[t].remove()}}),0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==n&&(n.x+=this.gridSize,n.y-=this.gridSize);var r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==r&&(r.x-=this.gridSize,r.y+=this.gridSize),null!==n){var i=t.fromDivPixelToLatLng(n);null!==i&&e.extend(i)}if(null!==r){var s=t.fromDivPixelToLatLng(r);null!==s&&e.extend(s)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){n[t].remove()}this.clusters=[];for(var r=0,i=this.markers;r<i.length;r++){var s=i[r];s.isAdded=!1,e&&s.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,r=(t.lng()-e.lng())*Math.PI/180,i=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371},e.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return!!n&&t.contains(n)},e.prototype.addToClosestCluster=function(e){for(var t,n=4e4,r=null,i=0,s=this.clusters;i<s.length;i++){var o=(t=s[i]).getCenter(),a=e.getPosition();if(o&&a){var l=this.distanceBetweenPoints(o,a);l<n&&(n=l,r=t)}}r&&r.isMarkerInClusterBounds(e)?r.addMarker(e):((t=new Ju(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),r=(null!==n&&"getBounds"in n?n.getBounds():null),i=((null===n||void 0===n?void 0:n.getZoom())||0)>3?new google.maps.LatLngBounds(null===r||void 0===r?void 0:r.getSouthWest(),null===r||void 0===r?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),s=this.getExtendedBounds(i),o=Math.min(e+this.batchSize,this.markers.length),a=e;a<o;a++){var l=this.markers[a];l&&!l.isAdded&&this.isMarkerInBounds(l,s)&&(!this.ignoreHidden||this.ignoreHidden&&l.getVisible())&&this.addToClosestCluster(l)}if(o<this.markers.length)this.timerRefStatic=window.setTimeout((function(){t.createClusters(o)}),0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var c=0,u=this.clusters;c<u.length;c++){u[c].updateIcon()}}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){var n=t;this.prototype[n]=e.prototype[n]}return this}.apply(e,[t])},e}(),ed={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},td={averageCenter:function(e,t){e.setAverageCenter(t)},batchSizeIE:function(e,t){e.setBatchSizeIE(t)},calculator:function(e,t){e.setCalculator(t)},clusterClass:function(e,t){e.setClusterClass(t)},enableRetinaIcons:function(e,t){e.setEnableRetinaIcons(t)},gridSize:function(e,t){e.setGridSize(t)},ignoreHidden:function(e,t){e.setIgnoreHidden(t)},imageExtension:function(e,t){e.setImageExtension(t)},imagePath:function(e,t){e.setImagePath(t)},imageSizes:function(e,t){e.setImageSizes(t)},maxZoom:function(e,t){e.setMaxZoom(t)},minimumClusterSize:function(e,t){e.setMinimumClusterSize(t)},styles:function(e,t){e.setStyles(t)},title:function(e,t){e.setTitle(t)},zoomOnClick:function(e,t){e.setZoomOnClick(t)}},nd={};(0,i.memo)((function(e){var t=e.children,n=e.options,r=e.averageCenter,s=e.batchSizeIE,o=e.calculator,a=e.clusterClass,l=e.enableRetinaIcons,c=e.gridSize,u=e.ignoreHidden,d=e.imageExtension,h=e.imagePath,f=e.imageSizes,p=e.maxZoom,m=e.minimumClusterSize,g=e.styles,v=e.title,y=e.zoomOnClick,b=e.onClick,w=e.onClusteringBegin,_=e.onClusteringEnd,x=e.onMouseOver,C=e.onMouseOut,S=e.onLoad,E=e.onUnmount,k=(0,i.useState)(null),I=k[0],T=k[1],N=(0,i.useContext)(wu),L=(0,i.useState)(null),j=L[0],A=L[1],O=(0,i.useState)(null),P=O[0],D=O[1],M=(0,i.useState)(null),R=M[0],F=M[1],V=(0,i.useState)(null),U=V[0],B=V[1],z=(0,i.useState)(null),q=z[0],H=z[1];return(0,i.useEffect)((function(){I&&C&&(null!==U&&google.maps.event.removeListener(U),B(google.maps.event.addListener(I,ed.onMouseOut,C)))}),[C]),(0,i.useEffect)((function(){I&&x&&(null!==q&&google.maps.event.removeListener(q),H(google.maps.event.addListener(I,ed.onMouseOver,x)))}),[x]),(0,i.useEffect)((function(){I&&b&&(null!==j&&google.maps.event.removeListener(j),A(google.maps.event.addListener(I,ed.onClick,b)))}),[b]),(0,i.useEffect)((function(){I&&w&&(null!==P&&google.maps.event.removeListener(P),D(google.maps.event.addListener(I,ed.onClusteringBegin,w)))}),[w]),(0,i.useEffect)((function(){I&&_&&(null!==R&&google.maps.event.removeListener(R),D(google.maps.event.addListener(I,ed.onClusteringEnd,_)))}),[_]),(0,i.useEffect)((function(){"undefined"!==typeof r&&null!==I&&td.averageCenter(I,r)}),[I,r]),(0,i.useEffect)((function(){"undefined"!==typeof s&&null!==I&&td.batchSizeIE(I,s)}),[I,s]),(0,i.useEffect)((function(){"undefined"!==typeof o&&null!==I&&td.calculator(I,o)}),[I,o]),(0,i.useEffect)((function(){"undefined"!==typeof a&&null!==I&&td.clusterClass(I,a)}),[I,a]),(0,i.useEffect)((function(){"undefined"!==typeof l&&null!==I&&td.enableRetinaIcons(I,l)}),[I,l]),(0,i.useEffect)((function(){"undefined"!==typeof c&&null!==I&&td.gridSize(I,c)}),[I,c]),(0,i.useEffect)((function(){"undefined"!==typeof u&&null!==I&&td.ignoreHidden(I,u)}),[I,u]),(0,i.useEffect)((function(){"undefined"!==typeof d&&null!==I&&td.imageExtension(I,d)}),[I,d]),(0,i.useEffect)((function(){"undefined"!==typeof h&&null!==I&&td.imagePath(I,h)}),[I,h]),(0,i.useEffect)((function(){"undefined"!==typeof f&&null!==I&&td.imageSizes(I,f)}),[I,f]),(0,i.useEffect)((function(){"undefined"!==typeof p&&null!==I&&td.maxZoom(I,p)}),[I,p]),(0,i.useEffect)((function(){"undefined"!==typeof m&&null!==I&&td.minimumClusterSize(I,m)}),[I,m]),(0,i.useEffect)((function(){"undefined"!==typeof g&&null!==I&&td.styles(I,g)}),[I,g]),(0,i.useEffect)((function(){"undefined"!==typeof v&&null!==I&&td.title(I,v)}),[I,v]),(0,i.useEffect)((function(){"undefined"!==typeof y&&null!==I&&td.zoomOnClick(I,y)}),[I,y]),(0,i.useEffect)((function(){if(N){var e=fu({},n||nd),t=new Xu(N,[],e);return r&&td.averageCenter(t,r),s&&td.batchSizeIE(t,s),o&&td.calculator(t,o),a&&td.clusterClass(t,a),l&&td.enableRetinaIcons(t,l),c&&td.gridSize(t,c),u&&td.ignoreHidden(t,u),d&&td.imageExtension(t,d),h&&td.imagePath(t,h),f&&td.imageSizes(t,f),p&&td.maxZoom(t,p),m&&td.minimumClusterSize(t,m),g&&td.styles(t,g),v&&td.title(t,v),y&&td.zoomOnClick(t,y),C&&B(google.maps.event.addListener(t,ed.onMouseOut,C)),x&&H(google.maps.event.addListener(t,ed.onMouseOver,x)),b&&A(google.maps.event.addListener(t,ed.onClick,b)),w&&D(google.maps.event.addListener(t,ed.onClusteringBegin,w)),_&&F(google.maps.event.addListener(t,ed.onClusteringEnd,_)),T(t),S&&S(t),function(){null!==U&&google.maps.event.removeListener(U),null!==q&&google.maps.event.removeListener(q),null!==j&&google.maps.event.removeListener(j),null!==P&&google.maps.event.removeListener(P),null!==R&&google.maps.event.removeListener(R),E&&E(t)}}}),[]),null!==I&&t(I)||null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={markerClusterer:null},t.setClustererCallback=function(){null!==t.state.markerClusterer&&t.props.onLoad&&t.props.onLoad(t.state.markerClusterer)},t}hu(t,e),t.prototype.componentDidMount=function(){if(this.context){var e=new Xu(this.context,[],this.props.options);this.registeredEvents=Eu({updaterMap:td,eventMap:ed,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{markerClusterer:e}}),this.setClustererCallback)}},t.prototype.componentDidUpdate=function(e){this.state.markerClusterer&&(Su(this.registeredEvents),this.registeredEvents=Eu({updaterMap:td,eventMap:ed,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))},t.prototype.componentWillUnmount=function(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Su(this.registeredEvents),this.state.markerClusterer.setMap(null))},t.prototype.render=function(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null},t.contextType=wu}(i.PureComponent);function rd(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}var id=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof t.visible&&("undefined"===typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var r=0,i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];r<i.length;r++){var s=i[r];this.eventListeners.push(google.maps.event.addListener(this.div,s,rd))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",(function(){e.div&&(e.div.style.cursor="default")})))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",(function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||rd(t)})),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,r=0,i=t.getBounds();i&&!i.contains(this.position)&&t.setCenter(this.position);var s=t.getDiv(),o=s.offsetWidth,a=s.offsetHeight,l=this.pixelOffset.width,c=this.pixelOffset.height,u=this.div.offsetWidth,d=this.div.offsetHeight,h=this.infoBoxClearance.width,f=this.infoBoxClearance.height,p=this.getProjection().fromLatLngToContainerPixel(this.position);null!==p&&(p.x<-l+h?n=p.x+l-h:p.x+u+l+h>o&&(n=p.x+u+l+h-o),this.alignBottom?p.y<-c+f+d?r=p.y+c-f-d:p.y+c+f>a&&(r=p.y+c+f-a):p.y<-c+f?r=p.y+c-f:p.y+d+c+f>a&&(r=p.y+d+c+f-a)),0===n&&0===r||t.panBy(n,r)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*n+')"',this.div.style.filter="alpha(opacity="+100*n+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),"undefined"!==typeof e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),"undefined"!==typeof e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),"undefined"!==typeof e.content&&this.setContent(e.content),"undefined"!==typeof e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),"undefined"!==typeof e.maxWidth&&(this.maxWidth=e.maxWidth),"undefined"!==typeof e.pixelOffset&&(this.pixelOffset=e.pixelOffset),"undefined"!==typeof e.alignBottom&&(this.alignBottom=e.alignBottom),"undefined"!==typeof e.position&&this.setPosition(e.position),"undefined"!==typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!==typeof e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),"undefined"!==typeof e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),"undefined"!==typeof e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),"undefined"!==typeof e.isHidden&&(this.isHidden=e.isHidden),"undefined"!==typeof e.visible&&(this.isHidden=!e.visible),"undefined"!==typeof e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return"undefined"!==typeof e&&null!==e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",(function(){var e=t.getPosition();n.setPosition(e)})),this.mapListener=google.maps.event.addListener(t,"map_changed",(function(){n.setMap(t.map)}))),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),sd={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},od={options:function(e,t){e.setOptions(t)},position:function(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},ad={};(0,i.memo)((function(e){var t=e.children,n=e.anchor,r=e.options,s=e.position,o=e.zIndex,a=e.onCloseClick,l=e.onDomReady,c=e.onContentChanged,u=e.onPositionChanged,d=e.onZindexChanged,h=e.onLoad,f=e.onUnmount,p=(0,i.useContext)(wu),m=(0,i.useState)(null),g=m[0],v=m[1],y=(0,i.useState)(null),b=y[0],w=y[1],_=(0,i.useState)(null),x=_[0],C=_[1],S=(0,i.useState)(null),E=S[0],k=S[1],I=(0,i.useState)(null),T=I[0],N=I[1],L=(0,i.useState)(null),j=L[0],A=L[1],O=(0,i.useRef)(null);return(0,i.useEffect)((function(){p&&null!==g&&(g.close(),n?g.open(p,n):g.getPosition()&&g.open(p))}),[p,g,n]),(0,i.useEffect)((function(){r&&null!==g&&g.setOptions(r)}),[g,r]),(0,i.useEffect)((function(){if(s&&null!==g){var e=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);g.setPosition(e)}}),[s]),(0,i.useEffect)((function(){"number"===typeof o&&null!==g&&g.setZIndex(o)}),[o]),(0,i.useEffect)((function(){g&&a&&(null!==b&&google.maps.event.removeListener(b),w(google.maps.event.addListener(g,"closeclick",a)))}),[a]),(0,i.useEffect)((function(){g&&l&&(null!==x&&google.maps.event.removeListener(x),C(google.maps.event.addListener(g,"domready",l)))}),[l]),(0,i.useEffect)((function(){g&&c&&(null!==E&&google.maps.event.removeListener(E),k(google.maps.event.addListener(g,"content_changed",c)))}),[c]),(0,i.useEffect)((function(){g&&u&&(null!==T&&google.maps.event.removeListener(T),N(google.maps.event.addListener(g,"position_changed",u)))}),[u]),(0,i.useEffect)((function(){g&&d&&(null!==j&&google.maps.event.removeListener(j),A(google.maps.event.addListener(g,"zindex_changed",d)))}),[d]),(0,i.useEffect)((function(){if(p){var e=r||ad,t=e.position,i=pu(e,["position"]),s=void 0;!t||t instanceof google.maps.LatLng||(s=new google.maps.LatLng(t.lat,t.lng));var o=new id(fu(fu({},i),s?{position:s}:{}));O.current=document.createElement("div"),v(o),a&&w(google.maps.event.addListener(o,"closeclick",a)),l&&C(google.maps.event.addListener(o,"domready",l)),c&&k(google.maps.event.addListener(o,"content_changed",c)),u&&N(google.maps.event.addListener(o,"position_changed",u)),d&&A(google.maps.event.addListener(o,"zindex_changed",d)),o.setContent(O.current),n?o.open(p,n):o.getPosition()?o.open(p):bu(!1,"You must provide either an anchor or a position prop for <InfoBox>."),h&&h(o)}return function(){null!==g&&(b&&google.maps.event.removeListener(b),E&&google.maps.event.removeListener(E),x&&google.maps.event.removeListener(x),T&&google.maps.event.removeListener(T),j&&google.maps.event.removeListener(j),f&&f(g),g.close())}}),[]),O.current?(0,Mi.createPortal)(i.Children.only(t),O.current):null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=null,t.state={infoBox:null},t.open=function(e,n){n?null!==t.context&&e.open(t.context,n):e.getPosition()?null!==t.context&&e.open(t.context):bu(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},t.setInfoBoxCallback=function(){null!==t.state.infoBox&&null!==t.containerElement&&(t.state.infoBox.setContent(t.containerElement),t.open(t.state.infoBox,t.props.anchor),t.props.onLoad&&t.props.onLoad(t.state.infoBox))},t}hu(t,e),t.prototype.componentDidMount=function(){var e,t=this.props.options||{},n=t.position,r=pu(t,["position"]);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var i=new id(fu(fu({},r),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Eu({updaterMap:od,eventMap:sd,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)},t.prototype.componentDidUpdate=function(e){var t=this.state.infoBox;null!==t&&(Su(this.registeredEvents),this.registeredEvents=Eu({updaterMap:od,eventMap:sd,prevProps:e,nextProps:this.props,instance:t}))},t.prototype.componentWillUnmount=function(){var e=this.props.onUnmount,t=this.state.infoBox;null!==t&&(e&&e(t),Su(this.registeredEvents),t.close())},t.prototype.render=function(){return this.containerElement?(0,Mi.createPortal)(i.Children.only(this.props.children),this.containerElement):null},t.contextType=wu}(i.PureComponent);var ld=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;0!==i--;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n},cd=vu(ld);const ud=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class dd{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");const r=n>>4;if(1!==r)throw new Error("Got v".concat(r," data when expected v").concat(1,"."));const i=ud[15&n];if(!i)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(e,2,1),[o]=new Uint32Array(e,4,1);return new dd(o,s,i,e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const i=ud.indexOf(this.ArrayType),s=2*e*this.ArrayType.BYTES_PER_ELEMENT,o=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-o%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(n,"."));r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+o+a,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+s+o+a),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+o+a,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+i]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return hd(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:s,nodeSize:o}=this,a=[0,i.length-1,0],l=[];for(;a.length;){const c=a.pop()||0,u=a.pop()||0,d=a.pop()||0;if(u-d<=o){for(let o=d;o<=u;o++){const a=s[2*o],c=s[2*o+1];a>=e&&a<=n&&c>=t&&c<=r&&l.push(i[o])}continue}const h=d+u>>1,f=s[2*h],p=s[2*h+1];f>=e&&f<=n&&p>=t&&p<=r&&l.push(i[h]),(0===c?e<=f:t<=p)&&(a.push(d),a.push(h-1),a.push(1-c)),(0===c?n>=f:r>=p)&&(a.push(h+1),a.push(u),a.push(1-c))}return l}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:i,nodeSize:s}=this,o=[0,r.length-1,0],a=[],l=n*n;for(;o.length;){const c=o.pop()||0,u=o.pop()||0,d=o.pop()||0;if(u-d<=s){for(let n=d;n<=u;n++)gd(i[2*n],i[2*n+1],e,t)<=l&&a.push(r[n]);continue}const h=d+u>>1,f=i[2*h],p=i[2*h+1];gd(f,p,e,t)<=l&&a.push(r[h]),(0===c?e-n<=f:t-n<=p)&&(o.push(d),o.push(h-1),o.push(1-c)),(0===c?e+n>=f:t+n>=p)&&(o.push(h+1),o.push(u),o.push(1-c))}return a}}function hd(e,t,n,r,i,s){if(i-r<=n)return;const o=r+i>>1;fd(e,t,o,r,i,s),hd(e,t,n,r,o-1,1-s),hd(e,t,n,o+1,i,1-s)}function fd(e,t,n,r,i,s){for(;i>r;){if(i-r>600){const o=i-r+1,a=n-r+1,l=Math.log(o),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(o-c)/o)*(a-o/2<0?-1:1);fd(e,t,n,Math.max(r,Math.floor(n-a*c/o+u)),Math.min(i,Math.floor(n+(o-a)*c/o+u)),s)}const o=t[2*n+s];let a=r,l=i;for(pd(e,t,r,n),t[2*i+s]>o&&pd(e,t,r,i);a<l;){for(pd(e,t,a,l),a++,l--;t[2*a+s]<o;)a++;for(;t[2*l+s]>o;)l--}t[2*r+s]===o?pd(e,t,r,l):(l++,pd(e,t,l,i)),l<=n&&(r=l+1),n<=l&&(i=l-1)}}function pd(e,t,n,r){md(e,n,r),md(t,2*n,2*r),md(t,2*n+1,2*r+1)}function md(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function gd(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}const vd={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},yd=Math.fround||(bd=new Float32Array(1),e=>(bd[0]=+e,bd[0]));var bd;const wd=3,_d=5,xd=6;class Cd{constructor(e){this.options=Object.assign(Object.create(vd),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:t,minZoom:n,maxZoom:r}=this.options;t&&console.time("total time");const i="prepare ".concat(e.length," points");t&&console.time(i),this.points=e;const s=[];for(let a=0;a<e.length;a++){const t=e[a];if(!t.geometry)continue;const[n,r]=t.geometry.coordinates,i=yd(kd(n)),o=yd(Id(r));s.push(i,o,1/0,a,-1,1),this.options.reduce&&s.push(0)}let o=this.trees[r+1]=this._createTree(s);t&&console.timeEnd(i);for(let a=r;a>=n;a--){const e=+Date.now();o=this.trees[a]=this._createTree(this._cluster(o,a)),t&&console.log("z%d: %d clusters in %dms",a,o.numItems,+Date.now()-e)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,e[1]));let i=180===e[2]?180:((e[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){const e=this.getClusters([n,r,180,s],t),o=this.getClusters([-180,r,i,s],t);return e.concat(o)}const o=this.trees[this._limitZoom(t)],a=o.range(kd(n),Id(s),kd(i),Id(r)),l=o.data,c=[];for(const u of a){const e=this.stride*u;c.push(l[e+_d]>1?Sd(l,e,this.clusterProps):this.points[l[e+wd]])}return c}getChildren(e){const t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);const s=i.data;if(t*this.stride>=s.length)throw new Error(r);const o=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=s[t*this.stride],l=s[t*this.stride+1],c=i.within(a,l,o),u=[];for(const d of c){const t=d*this.stride;s[t+4]===e&&u.push(s[t+_d]>1?Sd(s,t,this.clusterProps):this.points[s[t+wd]])}if(0===u.length)throw new Error(r);return u}getLeaves(e,t,n){t=t||10,n=n||0;const r=[];return this._appendLeaves(r,e,t,n,0),r}getTile(e,t,n){const r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:s,radius:o}=this.options,a=o/s,l=(n-a)/i,c=(n+1+a)/i,u={features:[]};return this._addTileFeatures(r.range((t-a)/i,l,(t+1+a)/i,c),r.data,t,n,i,u),0===t&&this._addTileFeatures(r.range(1-a/i,l,1,c),r.data,i,n,i,u),t===i-1&&this._addTileFeatures(r.range(0,l,a/i,c),r.data,-1,n,i,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,r,i){const s=this.getChildren(t);for(const o of s){const t=o.properties;if(t&&t.cluster?i+t.point_count<=r?i+=t.point_count:i=this._appendLeaves(e,t.cluster_id,n,r,i):i<r?i++:e.push(o),e.length===n)break}return i}_createTree(e){const t=new dd(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,r,i,s){for(const o of e){const e=o*this.stride,a=t[e+_d]>1;let l,c,u;if(a)l=Ed(t,e,this.clusterProps),c=t[e],u=t[e+1];else{const n=this.points[t[e+wd]];l=n.properties;const[r,i]=n.geometry.coordinates;c=kd(r),u=Id(i)}const d={type:1,geometry:[[Math.round(this.options.extent*(c*i-n)),Math.round(this.options.extent*(u*i-r))]],tags:l};let h;h=a||this.options.generateId?t[e+wd]:this.points[t[e+wd]].id,void 0!==h&&(d.id=h),s.features.push(d)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:n,extent:r,reduce:i,minPoints:s}=this.options,o=n/(r*Math.pow(2,t)),a=e.data,l=[],c=this.stride;for(let u=0;u<a.length;u+=c){if(a[u+2]<=t)continue;a[u+2]=t;const n=a[u],r=a[u+1],d=e.within(a[u],a[u+1],o),h=a[u+_d];let f=h;for(const e of d){const n=e*c;a[n+2]>t&&(f+=a[n+_d])}if(f>h&&f>=s){let e,s=n*h,o=r*h,p=-1;const m=((u/c|0)<<5)+(t+1)+this.points.length;for(const n of d){const r=n*c;if(a[r+2]<=t)continue;a[r+2]=t;const l=a[r+_d];s+=a[r]*l,o+=a[r+1]*l,a[r+4]=m,i&&(e||(e=this._map(a,u,!0),p=this.clusterProps.length,this.clusterProps.push(e)),i(e,this._map(a,r)))}a[u+4]=m,l.push(s/f,o/f,1/0,m,-1,f),i&&l.push(p)}else{for(let e=0;e<c;e++)l.push(a[u+e]);if(f>1)for(const e of d){const n=e*c;if(!(a[n+2]<=t)){a[n+2]=t;for(let e=0;e<c;e++)l.push(a[n+e])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+_d]>1){const r=this.clusterProps[e[t+xd]];return n?Object.assign({},r):r}const r=this.points[e[t+wd]].properties,i=this.options.map(r);return n&&i===r?Object.assign({},i):i}}function Sd(e,t,n){return{type:"Feature",id:e[t+wd],properties:Ed(e,t,n),geometry:{type:"Point",coordinates:[Td(e[t]),Nd(e[t+1])]}}}function Ed(e,t,n){const r=e[t+_d],i=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,s=e[t+xd],o=-1===s?{}:Object.assign({},n[s]);return Object.assign(o,{cluster:!0,cluster_id:e[t+wd],point_count:r,point_count_abbreviated:i})}function kd(e){return e/360+.5}function Id(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Td(e){return 360*(e-.5)}function Nd(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function Ld(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}class jd{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class Ad{constructor(e){let{markers:t,position:n}=e;this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(0===this.markers.length&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const t of this.markers)e.extend(jd.getPosition(t));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter((e=>jd.getVisible(e))).length}push(e){this.markers.push(e)}delete(){this.marker&&(jd.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Od{constructor(e){let{maxZoom:t=16}=e;this.maxZoom=t}noop(e){let{markers:t}=e;return Pd(t)}}const Pd=e=>e.map((e=>new Ad({position:jd.getPosition(e),markers:[e]})));class Dd extends Od{constructor(e){var{maxZoom:t,radius:n=60}=e,r=Ld(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new Cd(Object.assign({maxZoom:this.maxZoom,radius:n},r))}calculate(e){let t=!1;const n={zoom:e.map.getZoom()};if(!cd(e.markers,this.markers)){t=!0,this.markers=[...e.markers];const n=this.markers.map((e=>{const t=jd.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}}));this.superCluster.load(n)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!cd(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){let{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map((e=>this.transformCluster(e)))}transformCluster(e){let{geometry:{coordinates:[t,n]},properties:r}=e;if(r.cluster)return new Ad({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map((e=>e.properties.marker)),position:{lat:n,lng:t}});const i=r.marker;return new Ad({markers:[i],position:jd.getPosition(i)})}}class Md{constructor(e,t){this.markers={sum:e.length};const n=t.map((e=>e.count)),r=n.reduce(((e,t)=>e+t),0);this.clusters={count:t.length,markers:{mean:r/t.length,sum:r,min:Math.min(...n),max:Math.max(...n)}}}}class Rd{render(e,t,n){let{count:r,position:i}=e;const s=r>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",o='<svg fill="'.concat(s,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(r,"</text>\n</svg>"),a="Cluster of ".concat(r," markers"),l=Number(google.maps.Marker.MAX_ZINDEX)+r;if(jd.isAdvancedMarkerAvailable(n)){const e=document.createElement("div");e.innerHTML=o;const t=e.firstElementChild;t.setAttribute("transform","translate(0 25)");const r={map:n,position:i,zIndex:l,title:a,content:t};return new google.maps.marker.AdvancedMarkerElement(r)}const c={position:i,zIndex:l,title:a,icon:{url:"data:image/svg+xml;base64,".concat(btoa(o)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(c)}}class Fd{constructor(){!function(e,t){for(let n in t.prototype)e.prototype[n]=t.prototype[n]}(Fd,google.maps.OverlayView)}}var Vd;!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(Vd||(Vd={}));const Ud=(e,t,n)=>{n.fitBounds(t.bounds)};class Bd extends Fd{constructor(e){let{map:t,markers:n=[],algorithmOptions:r={},algorithm:i=new Dd(r),renderer:s=new Rd,onClusterClick:o=Ud}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=i,this.renderer=s,this.onClusterClick=o,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach((e=>{this.addMarker(e,!0)})),t||this.render()}removeMarker(e,t){const n=this.markers.indexOf(e);return-1!==n&&(jd.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){let n=!1;return e.forEach((e=>{n=this.removeMarker(e,!0)||n})),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Vd.CLUSTERING_BEGIN,this);const{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||void 0==n){const e=new Set;for(const r of t)1==r.markers.length&&e.add(r.markers[0]);const n=[];for(const t of this.clusters)null!=t.marker&&(1==t.markers.length?e.has(t.marker)||jd.setMap(t.marker,null):n.push(t.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame((()=>n.forEach((e=>jd.setMap(e,null)))))}google.maps.event.trigger(this,Vd.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach((e=>jd.setMap(e,null))),this.clusters.forEach((e=>e.delete())),this.clusters=[]}renderClusters(){const e=new Md(this.markers,this.clusters),t=this.getMap();this.clusters.forEach((n=>{1===n.markers.length?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach((e=>jd.setMap(e,null))),this.onClusterClick&&n.marker.addListener("click",(e=>{google.maps.event.trigger(this,Vd.CLUSTER_CLICK,n),this.onClusterClick(e,n,t)}))),jd.setMap(n.marker,t)}))}}function zd(e){var t=function(){bu(!!i.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=(0,i.useContext)(wu);return bu(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}(),n=(0,i.useState)(null),r=n[0],s=n[1];return(0,i.useEffect)((function(){if(t&&null===r){var n=new Bd(fu(fu({},e),{map:t}));s(n)}}),[t]),r}(0,i.memo)((function(e){var t=e.children,n=zd(e.options);return null!==n?t(n):null}));var qd={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Hd={options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},zIndex:function(e,t){e.setZIndex(t)}};(0,i.memo)((function(e){var t=e.children,n=e.anchor,r=e.options,s=e.position,o=e.zIndex,a=e.onCloseClick,l=e.onDomReady,c=e.onContentChanged,u=e.onPositionChanged,d=e.onZindexChanged,h=e.onLoad,f=e.onUnmount,p=(0,i.useContext)(wu),m=(0,i.useState)(null),g=m[0],v=m[1],y=(0,i.useState)(null),b=y[0],w=y[1],_=(0,i.useState)(null),x=_[0],C=_[1],S=(0,i.useState)(null),E=S[0],k=S[1],I=(0,i.useState)(null),T=I[0],N=I[1],L=(0,i.useState)(null),j=L[0],A=L[1],O=(0,i.useRef)(null);return(0,i.useEffect)((function(){null!==g&&(g.close(),n?g.open(p,n):g.getPosition()&&g.open(p))}),[p,g,n]),(0,i.useEffect)((function(){r&&null!==g&&g.setOptions(r)}),[g,r]),(0,i.useEffect)((function(){s&&null!==g&&g.setPosition(s)}),[s]),(0,i.useEffect)((function(){"number"===typeof o&&null!==g&&g.setZIndex(o)}),[o]),(0,i.useEffect)((function(){g&&a&&(null!==b&&google.maps.event.removeListener(b),w(google.maps.event.addListener(g,"closeclick",a)))}),[a]),(0,i.useEffect)((function(){g&&l&&(null!==x&&google.maps.event.removeListener(x),C(google.maps.event.addListener(g,"domready",l)))}),[l]),(0,i.useEffect)((function(){g&&c&&(null!==E&&google.maps.event.removeListener(E),k(google.maps.event.addListener(g,"content_changed",c)))}),[c]),(0,i.useEffect)((function(){g&&u&&(null!==T&&google.maps.event.removeListener(T),N(google.maps.event.addListener(g,"position_changed",u)))}),[u]),(0,i.useEffect)((function(){g&&d&&(null!==j&&google.maps.event.removeListener(j),A(google.maps.event.addListener(g,"zindex_changed",d)))}),[d]),(0,i.useEffect)((function(){var e=new google.maps.InfoWindow(fu({},r||{}));return v(e),O.current=document.createElement("div"),a&&w(google.maps.event.addListener(e,"closeclick",a)),l&&C(google.maps.event.addListener(e,"domready",l)),c&&k(google.maps.event.addListener(e,"content_changed",c)),u&&N(google.maps.event.addListener(e,"position_changed",u)),d&&A(google.maps.event.addListener(e,"zindex_changed",d)),e.setContent(O.current),s&&e.setPosition(s),o&&e.setZIndex(o),n?e.open(p,n):e.getPosition()?e.open(p):bu(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),h&&h(e),function(){b&&google.maps.event.removeListener(b),E&&google.maps.event.removeListener(E),x&&google.maps.event.removeListener(x),T&&google.maps.event.removeListener(T),j&&google.maps.event.removeListener(j),f&&f(e),e.close()}}),[]),O.current?(0,Mi.createPortal)(i.Children.only(t),O.current):null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=null,t.state={infoWindow:null},t.open=function(e,n){n?e.open(t.context,n):e.getPosition()?e.open(t.context):bu(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},t.setInfoWindowCallback=function(){null!==t.state.infoWindow&&null!==t.containerElement&&(t.state.infoWindow.setContent(t.containerElement),t.open(t.state.infoWindow,t.props.anchor),t.props.onLoad&&t.props.onLoad(t.state.infoWindow))},t}hu(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.InfoWindow(fu({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=Eu({updaterMap:Hd,eventMap:qd,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{infoWindow:e}}),this.setInfoWindowCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.infoWindow&&(Su(this.registeredEvents),this.registeredEvents=Eu({updaterMap:Hd,eventMap:qd,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))},t.prototype.componentWillUnmount=function(){null!==this.state.infoWindow&&(Su(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())},t.prototype.render=function(){return this.containerElement?(0,Mi.createPortal)(i.Children.only(this.props.children),this.containerElement):null},t.contextType=wu}(i.PureComponent);var Wd={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Gd={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},visible:function(e,t){e.setVisible(t)}},Kd={};(0,i.memo)((function(e){var t=e.options,n=e.draggable,r=e.editable,s=e.visible,o=e.path,a=e.onDblClick,l=e.onDragEnd,c=e.onDragStart,u=e.onMouseDown,d=e.onMouseMove,h=e.onMouseOut,f=e.onMouseOver,p=e.onMouseUp,m=e.onRightClick,g=e.onClick,v=e.onDrag,y=e.onLoad,b=e.onUnmount,w=(0,i.useContext)(wu),_=(0,i.useState)(null),x=_[0],C=_[1],S=(0,i.useState)(null),E=S[0],k=S[1],I=(0,i.useState)(null),T=I[0],N=I[1],L=(0,i.useState)(null),j=L[0],A=L[1],O=(0,i.useState)(null),P=O[0],D=O[1],M=(0,i.useState)(null),R=M[0],F=M[1],V=(0,i.useState)(null),U=V[0],B=V[1],z=(0,i.useState)(null),q=z[0],H=z[1],W=(0,i.useState)(null),G=W[0],K=W[1],Q=(0,i.useState)(null),Z=Q[0],J=Q[1],$=(0,i.useState)(null),Y=$[0],X=$[1],ee=(0,i.useState)(null),te=ee[0],ne=ee[1];return(0,i.useEffect)((function(){null!==x&&x.setMap(w)}),[w]),(0,i.useEffect)((function(){"undefined"!==typeof t&&null!==x&&x.setOptions(t)}),[x,t]),(0,i.useEffect)((function(){"undefined"!==typeof n&&null!==x&&x.setDraggable(n)}),[x,n]),(0,i.useEffect)((function(){"undefined"!==typeof r&&null!==x&&x.setEditable(r)}),[x,r]),(0,i.useEffect)((function(){"undefined"!==typeof s&&null!==x&&x.setVisible(s)}),[x,s]),(0,i.useEffect)((function(){"undefined"!==typeof o&&null!==x&&x.setPath(o)}),[x,o]),(0,i.useEffect)((function(){x&&a&&(null!==E&&google.maps.event.removeListener(E),k(google.maps.event.addListener(x,"dblclick",a)))}),[a]),(0,i.useEffect)((function(){x&&l&&(null!==T&&google.maps.event.removeListener(T),N(google.maps.event.addListener(x,"dragend",l)))}),[l]),(0,i.useEffect)((function(){x&&c&&(null!==j&&google.maps.event.removeListener(j),A(google.maps.event.addListener(x,"dragstart",c)))}),[c]),(0,i.useEffect)((function(){x&&u&&(null!==P&&google.maps.event.removeListener(P),D(google.maps.event.addListener(x,"mousedown",u)))}),[u]),(0,i.useEffect)((function(){x&&d&&(null!==R&&google.maps.event.removeListener(R),F(google.maps.event.addListener(x,"mousemove",d)))}),[d]),(0,i.useEffect)((function(){x&&h&&(null!==U&&google.maps.event.removeListener(U),B(google.maps.event.addListener(x,"mouseout",h)))}),[h]),(0,i.useEffect)((function(){x&&f&&(null!==q&&google.maps.event.removeListener(q),H(google.maps.event.addListener(x,"mouseover",f)))}),[f]),(0,i.useEffect)((function(){x&&p&&(null!==G&&google.maps.event.removeListener(G),K(google.maps.event.addListener(x,"mouseup",p)))}),[p]),(0,i.useEffect)((function(){x&&m&&(null!==Z&&google.maps.event.removeListener(Z),J(google.maps.event.addListener(x,"rightclick",m)))}),[m]),(0,i.useEffect)((function(){x&&g&&(null!==Y&&google.maps.event.removeListener(Y),X(google.maps.event.addListener(x,"click",g)))}),[g]),(0,i.useEffect)((function(){x&&v&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(x,"drag",v)))}),[v]),(0,i.useEffect)((function(){var e=new google.maps.Polyline(fu(fu({},t||Kd),{map:w}));return o&&e.setPath(o),"undefined"!==typeof s&&e.setVisible(s),"undefined"!==typeof r&&e.setEditable(r),"undefined"!==typeof n&&e.setDraggable(n),a&&k(google.maps.event.addListener(e,"dblclick",a)),l&&N(google.maps.event.addListener(e,"dragend",l)),c&&A(google.maps.event.addListener(e,"dragstart",c)),u&&D(google.maps.event.addListener(e,"mousedown",u)),d&&F(google.maps.event.addListener(e,"mousemove",d)),h&&B(google.maps.event.addListener(e,"mouseout",h)),f&&H(google.maps.event.addListener(e,"mouseover",f)),p&&K(google.maps.event.addListener(e,"mouseup",p)),m&&J(google.maps.event.addListener(e,"rightclick",m)),g&&X(google.maps.event.addListener(e,"click",g)),v&&ne(google.maps.event.addListener(e,"drag",v)),C(e),y&&y(e),function(){null!==E&&google.maps.event.removeListener(E),null!==T&&google.maps.event.removeListener(T),null!==j&&google.maps.event.removeListener(j),null!==P&&google.maps.event.removeListener(P),null!==R&&google.maps.event.removeListener(R),null!==U&&google.maps.event.removeListener(U),null!==q&&google.maps.event.removeListener(q),null!==G&&google.maps.event.removeListener(G),null!==Z&&google.maps.event.removeListener(Z),null!==Y&&google.maps.event.removeListener(Y),b&&b(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polyline:null},t.setPolylineCallback=function(){null!==t.state.polyline&&t.props.onLoad&&t.props.onLoad(t.state.polyline)},t}hu(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Polyline(fu(fu({},this.props.options||{}),{map:this.context}));this.registeredEvents=Eu({updaterMap:Gd,eventMap:Wd,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polyline:e}}),this.setPolylineCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.polyline&&(Su(this.registeredEvents),this.registeredEvents=Eu({updaterMap:Gd,eventMap:Wd,prevProps:e,nextProps:this.props,instance:this.state.polyline}))},t.prototype.componentWillUnmount=function(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Su(this.registeredEvents),this.state.polyline.setMap(null))},t.prototype.render=function(){return null},t.contextType=wu}(i.PureComponent);var Qd={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Zd={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},paths:function(e,t){e.setPaths(t)},visible:function(e,t){e.setVisible(t)}};(0,i.memo)((function(e){var t=e.options,n=e.draggable,r=e.editable,s=e.visible,o=e.path,a=e.paths,l=e.onDblClick,c=e.onDragEnd,u=e.onDragStart,d=e.onMouseDown,h=e.onMouseMove,f=e.onMouseOut,p=e.onMouseOver,m=e.onMouseUp,g=e.onRightClick,v=e.onClick,y=e.onDrag,b=e.onLoad,w=e.onUnmount,_=(0,i.useContext)(wu),x=(0,i.useState)(null),C=x[0],S=x[1],E=(0,i.useState)(null),k=E[0],I=E[1],T=(0,i.useState)(null),N=T[0],L=T[1],j=(0,i.useState)(null),A=j[0],O=j[1],P=(0,i.useState)(null),D=P[0],M=P[1],R=(0,i.useState)(null),F=R[0],V=R[1],U=(0,i.useState)(null),B=U[0],z=U[1],q=(0,i.useState)(null),H=q[0],W=q[1],G=(0,i.useState)(null),K=G[0],Q=G[1],Z=(0,i.useState)(null),J=Z[0],$=Z[1],Y=(0,i.useState)(null),X=Y[0],ee=Y[1],te=(0,i.useState)(null),ne=te[0],re=te[1];return(0,i.useEffect)((function(){null!==C&&C.setMap(_)}),[_]),(0,i.useEffect)((function(){"undefined"!==typeof t&&null!==C&&C.setOptions(t)}),[C,t]),(0,i.useEffect)((function(){"undefined"!==typeof n&&null!==C&&C.setDraggable(n)}),[C,n]),(0,i.useEffect)((function(){"undefined"!==typeof r&&null!==C&&C.setEditable(r)}),[C,r]),(0,i.useEffect)((function(){"undefined"!==typeof s&&null!==C&&C.setVisible(s)}),[C,s]),(0,i.useEffect)((function(){"undefined"!==typeof o&&null!==C&&C.setPath(o)}),[C,o]),(0,i.useEffect)((function(){"undefined"!==typeof a&&null!==C&&C.setPaths(a)}),[C,a]),(0,i.useEffect)((function(){C&&l&&(null!==k&&google.maps.event.removeListener(k),I(google.maps.event.addListener(C,"dblclick",l)))}),[l]),(0,i.useEffect)((function(){C&&c&&(null!==N&&google.maps.event.removeListener(N),L(google.maps.event.addListener(C,"dragend",c)))}),[c]),(0,i.useEffect)((function(){C&&u&&(null!==A&&google.maps.event.removeListener(A),O(google.maps.event.addListener(C,"dragstart",u)))}),[u]),(0,i.useEffect)((function(){C&&d&&(null!==D&&google.maps.event.removeListener(D),M(google.maps.event.addListener(C,"mousedown",d)))}),[d]),(0,i.useEffect)((function(){C&&h&&(null!==F&&google.maps.event.removeListener(F),V(google.maps.event.addListener(C,"mousemove",h)))}),[h]),(0,i.useEffect)((function(){C&&f&&(null!==B&&google.maps.event.removeListener(B),z(google.maps.event.addListener(C,"mouseout",f)))}),[f]),(0,i.useEffect)((function(){C&&p&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(C,"mouseover",p)))}),[p]),(0,i.useEffect)((function(){C&&m&&(null!==K&&google.maps.event.removeListener(K),Q(google.maps.event.addListener(C,"mouseup",m)))}),[m]),(0,i.useEffect)((function(){C&&g&&(null!==J&&google.maps.event.removeListener(J),$(google.maps.event.addListener(C,"rightclick",g)))}),[g]),(0,i.useEffect)((function(){C&&v&&(null!==X&&google.maps.event.removeListener(X),ee(google.maps.event.addListener(C,"click",v)))}),[v]),(0,i.useEffect)((function(){C&&y&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(C,"drag",y)))}),[y]),(0,i.useEffect)((function(){var e=new google.maps.Polygon(fu(fu({},t||{}),{map:_}));return o&&e.setPath(o),a&&e.setPaths(a),"undefined"!==typeof s&&e.setVisible(s),"undefined"!==typeof r&&e.setEditable(r),"undefined"!==typeof n&&e.setDraggable(n),l&&I(google.maps.event.addListener(e,"dblclick",l)),c&&L(google.maps.event.addListener(e,"dragend",c)),u&&O(google.maps.event.addListener(e,"dragstart",u)),d&&M(google.maps.event.addListener(e,"mousedown",d)),h&&V(google.maps.event.addListener(e,"mousemove",h)),f&&z(google.maps.event.addListener(e,"mouseout",f)),p&&W(google.maps.event.addListener(e,"mouseover",p)),m&&Q(google.maps.event.addListener(e,"mouseup",m)),g&&$(google.maps.event.addListener(e,"rightclick",g)),v&&ee(google.maps.event.addListener(e,"click",v)),y&&re(google.maps.event.addListener(e,"drag",y)),S(e),b&&b(e),function(){null!==k&&google.maps.event.removeListener(k),null!==N&&google.maps.event.removeListener(N),null!==A&&google.maps.event.removeListener(A),null!==D&&google.maps.event.removeListener(D),null!==F&&google.maps.event.removeListener(F),null!==B&&google.maps.event.removeListener(B),null!==H&&google.maps.event.removeListener(H),null!==K&&google.maps.event.removeListener(K),null!==J&&google.maps.event.removeListener(J),null!==X&&google.maps.event.removeListener(X),w&&w(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polygon:null},t.setPolygonCallback=function(){null!==t.state.polygon&&t.props.onLoad&&t.props.onLoad(t.state.polygon)},t}hu(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Polygon(fu(fu({},this.props.options||{}),{map:this.context}));this.registeredEvents=Eu({updaterMap:Zd,eventMap:Qd,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polygon:e}}),this.setPolygonCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.polygon&&(Su(this.registeredEvents),this.registeredEvents=Eu({updaterMap:Zd,eventMap:Qd,prevProps:e,nextProps:this.props,instance:this.state.polygon}))},t.prototype.componentWillUnmount=function(){null!==this.state.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),Su(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))},t.prototype.render=function(){return null},t.contextType=wu}(i.PureComponent);var Jd={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},$d={bounds:function(e,t){e.setBounds(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},visible:function(e,t){e.setVisible(t)}};(0,i.memo)((function(e){var t=e.options,n=e.bounds,r=e.draggable,s=e.editable,o=e.visible,a=e.onDblClick,l=e.onDragEnd,c=e.onDragStart,u=e.onMouseDown,d=e.onMouseMove,h=e.onMouseOut,f=e.onMouseOver,p=e.onMouseUp,m=e.onRightClick,g=e.onClick,v=e.onDrag,y=e.onBoundsChanged,b=e.onLoad,w=e.onUnmount,_=(0,i.useContext)(wu),x=(0,i.useState)(null),C=x[0],S=x[1],E=(0,i.useState)(null),k=E[0],I=E[1],T=(0,i.useState)(null),N=T[0],L=T[1],j=(0,i.useState)(null),A=j[0],O=j[1],P=(0,i.useState)(null),D=P[0],M=P[1],R=(0,i.useState)(null),F=R[0],V=R[1],U=(0,i.useState)(null),B=U[0],z=U[1],q=(0,i.useState)(null),H=q[0],W=q[1],G=(0,i.useState)(null),K=G[0],Q=G[1],Z=(0,i.useState)(null),J=Z[0],$=Z[1],Y=(0,i.useState)(null),X=Y[0],ee=Y[1],te=(0,i.useState)(null),ne=te[0],re=te[1],ie=(0,i.useState)(null),se=ie[0],oe=ie[1];return(0,i.useEffect)((function(){null!==C&&C.setMap(_)}),[_]),(0,i.useEffect)((function(){"undefined"!==typeof t&&null!==C&&C.setOptions(t)}),[C,t]),(0,i.useEffect)((function(){"undefined"!==typeof r&&null!==C&&C.setDraggable(r)}),[C,r]),(0,i.useEffect)((function(){"undefined"!==typeof s&&null!==C&&C.setEditable(s)}),[C,s]),(0,i.useEffect)((function(){"undefined"!==typeof o&&null!==C&&C.setVisible(o)}),[C,o]),(0,i.useEffect)((function(){"undefined"!==typeof n&&null!==C&&C.setBounds(n)}),[C,n]),(0,i.useEffect)((function(){C&&a&&(null!==k&&google.maps.event.removeListener(k),I(google.maps.event.addListener(C,"dblclick",a)))}),[a]),(0,i.useEffect)((function(){C&&l&&(null!==N&&google.maps.event.removeListener(N),L(google.maps.event.addListener(C,"dragend",l)))}),[l]),(0,i.useEffect)((function(){C&&c&&(null!==A&&google.maps.event.removeListener(A),O(google.maps.event.addListener(C,"dragstart",c)))}),[c]),(0,i.useEffect)((function(){C&&u&&(null!==D&&google.maps.event.removeListener(D),M(google.maps.event.addListener(C,"mousedown",u)))}),[u]),(0,i.useEffect)((function(){C&&d&&(null!==F&&google.maps.event.removeListener(F),V(google.maps.event.addListener(C,"mousemove",d)))}),[d]),(0,i.useEffect)((function(){C&&h&&(null!==B&&google.maps.event.removeListener(B),z(google.maps.event.addListener(C,"mouseout",h)))}),[h]),(0,i.useEffect)((function(){C&&f&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(C,"mouseover",f)))}),[f]),(0,i.useEffect)((function(){C&&p&&(null!==K&&google.maps.event.removeListener(K),Q(google.maps.event.addListener(C,"mouseup",p)))}),[p]),(0,i.useEffect)((function(){C&&m&&(null!==J&&google.maps.event.removeListener(J),$(google.maps.event.addListener(C,"rightclick",m)))}),[m]),(0,i.useEffect)((function(){C&&g&&(null!==X&&google.maps.event.removeListener(X),ee(google.maps.event.addListener(C,"click",g)))}),[g]),(0,i.useEffect)((function(){C&&v&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(C,"drag",v)))}),[v]),(0,i.useEffect)((function(){C&&y&&(null!==se&&google.maps.event.removeListener(se),oe(google.maps.event.addListener(C,"bounds_changed",y)))}),[y]),(0,i.useEffect)((function(){var e=new google.maps.Rectangle(fu(fu({},t||{}),{map:_}));return"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof s&&e.setEditable(s),"undefined"!==typeof r&&e.setDraggable(r),"undefined"!==typeof n&&e.setBounds(n),a&&I(google.maps.event.addListener(e,"dblclick",a)),l&&L(google.maps.event.addListener(e,"dragend",l)),c&&O(google.maps.event.addListener(e,"dragstart",c)),u&&M(google.maps.event.addListener(e,"mousedown",u)),d&&V(google.maps.event.addListener(e,"mousemove",d)),h&&z(google.maps.event.addListener(e,"mouseout",h)),f&&W(google.maps.event.addListener(e,"mouseover",f)),p&&Q(google.maps.event.addListener(e,"mouseup",p)),m&&$(google.maps.event.addListener(e,"rightclick",m)),g&&ee(google.maps.event.addListener(e,"click",g)),v&&re(google.maps.event.addListener(e,"drag",v)),y&&oe(google.maps.event.addListener(e,"bounds_changed",y)),S(e),b&&b(e),function(){null!==k&&google.maps.event.removeListener(k),null!==N&&google.maps.event.removeListener(N),null!==A&&google.maps.event.removeListener(A),null!==D&&google.maps.event.removeListener(D),null!==F&&google.maps.event.removeListener(F),null!==B&&google.maps.event.removeListener(B),null!==H&&google.maps.event.removeListener(H),null!==K&&google.maps.event.removeListener(K),null!==J&&google.maps.event.removeListener(J),null!==X&&google.maps.event.removeListener(X),null!==ne&&google.maps.event.removeListener(ne),null!==se&&google.maps.event.removeListener(se),w&&w(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={rectangle:null},t.setRectangleCallback=function(){null!==t.state.rectangle&&t.props.onLoad&&t.props.onLoad(t.state.rectangle)},t}hu(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Rectangle(fu(fu({},this.props.options||{}),{map:this.context}));this.registeredEvents=Eu({updaterMap:$d,eventMap:Jd,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{rectangle:e}}),this.setRectangleCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.rectangle&&(Su(this.registeredEvents),this.registeredEvents=Eu({updaterMap:$d,eventMap:Jd,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))},t.prototype.componentWillUnmount=function(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Su(this.registeredEvents),this.state.rectangle.setMap(null))},t.prototype.render=function(){return null},t.contextType=wu}(i.PureComponent);var Yd={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Xd={center:function(e,t){e.setCenter(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},radius:function(e,t){e.setRadius(t)},visible:function(e,t){e.setVisible(t)}},eh={};(0,i.memo)((function(e){var t=e.options,n=e.center,r=e.radius,s=e.draggable,o=e.editable,a=e.visible,l=e.onDblClick,c=e.onDragEnd,u=e.onDragStart,d=e.onMouseDown,h=e.onMouseMove,f=e.onMouseOut,p=e.onMouseOver,m=e.onMouseUp,g=e.onRightClick,v=e.onClick,y=e.onDrag,b=e.onCenterChanged,w=e.onRadiusChanged,_=e.onLoad,x=e.onUnmount,C=(0,i.useContext)(wu),S=(0,i.useState)(null),E=S[0],k=S[1],I=(0,i.useState)(null),T=I[0],N=I[1],L=(0,i.useState)(null),j=L[0],A=L[1],O=(0,i.useState)(null),P=O[0],D=O[1],M=(0,i.useState)(null),R=M[0],F=M[1],V=(0,i.useState)(null),U=V[0],B=V[1],z=(0,i.useState)(null),q=z[0],H=z[1],W=(0,i.useState)(null),G=W[0],K=W[1],Q=(0,i.useState)(null),Z=Q[0],J=Q[1],$=(0,i.useState)(null),Y=$[0],X=$[1],ee=(0,i.useState)(null),te=ee[0],ne=ee[1],re=(0,i.useState)(null),ie=re[0],se=re[1],oe=(0,i.useState)(null),ae=oe[0],le=oe[1],ce=(0,i.useState)(null),ue=ce[0],de=ce[1];return(0,i.useEffect)((function(){null!==E&&E.setMap(C)}),[C]),(0,i.useEffect)((function(){"undefined"!==typeof t&&null!==E&&E.setOptions(t)}),[E,t]),(0,i.useEffect)((function(){"undefined"!==typeof s&&null!==E&&E.setDraggable(s)}),[E,s]),(0,i.useEffect)((function(){"undefined"!==typeof o&&null!==E&&E.setEditable(o)}),[E,o]),(0,i.useEffect)((function(){"undefined"!==typeof a&&null!==E&&E.setVisible(a)}),[E,a]),(0,i.useEffect)((function(){"number"===typeof r&&null!==E&&E.setRadius(r)}),[E,r]),(0,i.useEffect)((function(){"undefined"!==typeof n&&null!==E&&E.setCenter(n)}),[E,n]),(0,i.useEffect)((function(){E&&l&&(null!==T&&google.maps.event.removeListener(T),N(google.maps.event.addListener(E,"dblclick",l)))}),[l]),(0,i.useEffect)((function(){E&&c&&(null!==j&&google.maps.event.removeListener(j),A(google.maps.event.addListener(E,"dragend",c)))}),[c]),(0,i.useEffect)((function(){E&&u&&(null!==P&&google.maps.event.removeListener(P),D(google.maps.event.addListener(E,"dragstart",u)))}),[u]),(0,i.useEffect)((function(){E&&d&&(null!==R&&google.maps.event.removeListener(R),F(google.maps.event.addListener(E,"mousedown",d)))}),[d]),(0,i.useEffect)((function(){E&&h&&(null!==U&&google.maps.event.removeListener(U),B(google.maps.event.addListener(E,"mousemove",h)))}),[h]),(0,i.useEffect)((function(){E&&f&&(null!==q&&google.maps.event.removeListener(q),H(google.maps.event.addListener(E,"mouseout",f)))}),[f]),(0,i.useEffect)((function(){E&&p&&(null!==G&&google.maps.event.removeListener(G),K(google.maps.event.addListener(E,"mouseover",p)))}),[p]),(0,i.useEffect)((function(){E&&m&&(null!==Z&&google.maps.event.removeListener(Z),J(google.maps.event.addListener(E,"mouseup",m)))}),[m]),(0,i.useEffect)((function(){E&&g&&(null!==Y&&google.maps.event.removeListener(Y),X(google.maps.event.addListener(E,"rightclick",g)))}),[g]),(0,i.useEffect)((function(){E&&v&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(E,"click",v)))}),[v]),(0,i.useEffect)((function(){E&&y&&(null!==ie&&google.maps.event.removeListener(ie),se(google.maps.event.addListener(E,"drag",y)))}),[y]),(0,i.useEffect)((function(){E&&b&&(null!==ae&&google.maps.event.removeListener(ae),le(google.maps.event.addListener(E,"center_changed",b)))}),[v]),(0,i.useEffect)((function(){E&&w&&(null!==ue&&google.maps.event.removeListener(ue),de(google.maps.event.addListener(E,"radius_changed",w)))}),[w]),(0,i.useEffect)((function(){var e=new google.maps.Circle(fu(fu({},t||eh),{map:C}));return"number"===typeof r&&e.setRadius(r),"undefined"!==typeof n&&e.setCenter(n),"number"===typeof r&&e.setRadius(r),"undefined"!==typeof a&&e.setVisible(a),"undefined"!==typeof o&&e.setEditable(o),"undefined"!==typeof s&&e.setDraggable(s),l&&N(google.maps.event.addListener(e,"dblclick",l)),c&&A(google.maps.event.addListener(e,"dragend",c)),u&&D(google.maps.event.addListener(e,"dragstart",u)),d&&F(google.maps.event.addListener(e,"mousedown",d)),h&&B(google.maps.event.addListener(e,"mousemove",h)),f&&H(google.maps.event.addListener(e,"mouseout",f)),p&&K(google.maps.event.addListener(e,"mouseover",p)),m&&J(google.maps.event.addListener(e,"mouseup",m)),g&&X(google.maps.event.addListener(e,"rightclick",g)),v&&ne(google.maps.event.addListener(e,"click",v)),y&&se(google.maps.event.addListener(e,"drag",y)),b&&le(google.maps.event.addListener(e,"center_changed",b)),w&&de(google.maps.event.addListener(e,"radius_changed",w)),k(e),_&&_(e),function(){null!==T&&google.maps.event.removeListener(T),null!==j&&google.maps.event.removeListener(j),null!==P&&google.maps.event.removeListener(P),null!==R&&google.maps.event.removeListener(R),null!==U&&google.maps.event.removeListener(U),null!==q&&google.maps.event.removeListener(q),null!==G&&google.maps.event.removeListener(G),null!==Z&&google.maps.event.removeListener(Z),null!==Y&&google.maps.event.removeListener(Y),null!==te&&google.maps.event.removeListener(te),null!==ae&&google.maps.event.removeListener(ae),null!==ue&&google.maps.event.removeListener(ue),x&&x(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={circle:null},t.setCircleCallback=function(){null!==t.state.circle&&t.props.onLoad&&t.props.onLoad(t.state.circle)},t}hu(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Circle(fu(fu({},this.props.options||{}),{map:this.context}));this.registeredEvents=Eu({updaterMap:Xd,eventMap:Yd,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{circle:e}}),this.setCircleCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.circle&&(Su(this.registeredEvents),this.registeredEvents=Eu({updaterMap:Xd,eventMap:Yd,prevProps:e,nextProps:this.props,instance:this.state.circle}))},t.prototype.componentWillUnmount=function(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),Su(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))},t.prototype.render=function(){return null},t.contextType=wu}(i.PureComponent);var th={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},nh={add:function(e,t){e.add(t)},addgeojson:function(e,t,n){e.addGeoJson(t,n)},contains:function(e,t){e.contains(t)},foreach:function(e,t){e.forEach(t)},loadgeojson:function(e,t,n,r){e.loadGeoJson(t,n,r)},overridestyle:function(e,t,n){e.overrideStyle(t,n)},remove:function(e,t){e.remove(t)},revertstyle:function(e,t){e.revertStyle(t)},controlposition:function(e,t){e.setControlPosition(t)},controls:function(e,t){e.setControls(t)},drawingmode:function(e,t){e.setDrawingMode(t)},map:function(e,t){e.setMap(t)},style:function(e,t){e.setStyle(t)},togeojson:function(e,t){e.toGeoJson(t)}};(0,i.memo)((function(e){var t=e.options,n=e.onClick,r=e.onDblClick,s=e.onMouseDown,o=e.onMouseMove,a=e.onMouseOut,l=e.onMouseOver,c=e.onMouseUp,u=e.onRightClick,d=e.onAddFeature,h=e.onRemoveFeature,f=e.onRemoveProperty,p=e.onSetGeometry,m=e.onSetProperty,g=e.onLoad,v=e.onUnmount,y=(0,i.useContext)(wu),b=(0,i.useState)(null),w=b[0],_=b[1],x=(0,i.useState)(null),C=x[0],S=x[1],E=(0,i.useState)(null),k=E[0],I=E[1],T=(0,i.useState)(null),N=T[0],L=T[1],j=(0,i.useState)(null),A=j[0],O=j[1],P=(0,i.useState)(null),D=P[0],M=P[1],R=(0,i.useState)(null),F=R[0],V=R[1],U=(0,i.useState)(null),B=U[0],z=U[1],q=(0,i.useState)(null),H=q[0],W=q[1],G=(0,i.useState)(null),K=G[0],Q=G[1],Z=(0,i.useState)(null),J=Z[0],$=Z[1],Y=(0,i.useState)(null),X=Y[0],ee=Y[1],te=(0,i.useState)(null),ne=te[0],re=te[1],ie=(0,i.useState)(null),se=ie[0],oe=ie[1];return(0,i.useEffect)((function(){null!==w&&w.setMap(y)}),[y]),(0,i.useEffect)((function(){w&&r&&(null!==C&&google.maps.event.removeListener(C),S(google.maps.event.addListener(w,"dblclick",r)))}),[r]),(0,i.useEffect)((function(){w&&s&&(null!==k&&google.maps.event.removeListener(k),I(google.maps.event.addListener(w,"mousedown",s)))}),[s]),(0,i.useEffect)((function(){w&&o&&(null!==N&&google.maps.event.removeListener(N),L(google.maps.event.addListener(w,"mousemove",o)))}),[o]),(0,i.useEffect)((function(){w&&a&&(null!==A&&google.maps.event.removeListener(A),O(google.maps.event.addListener(w,"mouseout",a)))}),[a]),(0,i.useEffect)((function(){w&&l&&(null!==D&&google.maps.event.removeListener(D),M(google.maps.event.addListener(w,"mouseover",l)))}),[l]),(0,i.useEffect)((function(){w&&c&&(null!==F&&google.maps.event.removeListener(F),V(google.maps.event.addListener(w,"mouseup",c)))}),[c]),(0,i.useEffect)((function(){w&&u&&(null!==B&&google.maps.event.removeListener(B),z(google.maps.event.addListener(w,"rightclick",u)))}),[u]),(0,i.useEffect)((function(){w&&n&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(w,"click",n)))}),[n]),(0,i.useEffect)((function(){w&&d&&(null!==K&&google.maps.event.removeListener(K),Q(google.maps.event.addListener(w,"addfeature",d)))}),[d]),(0,i.useEffect)((function(){w&&h&&(null!==J&&google.maps.event.removeListener(J),$(google.maps.event.addListener(w,"removefeature",h)))}),[h]),(0,i.useEffect)((function(){w&&f&&(null!==X&&google.maps.event.removeListener(X),ee(google.maps.event.addListener(w,"removeproperty",f)))}),[f]),(0,i.useEffect)((function(){w&&p&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(w,"setgeometry",p)))}),[p]),(0,i.useEffect)((function(){w&&m&&(null!==se&&google.maps.event.removeListener(se),oe(google.maps.event.addListener(w,"setproperty",m)))}),[m]),(0,i.useEffect)((function(){if(null!==y){var e=new google.maps.Data(fu(fu({},t||{}),{map:y}));r&&S(google.maps.event.addListener(e,"dblclick",r)),s&&I(google.maps.event.addListener(e,"mousedown",s)),o&&L(google.maps.event.addListener(e,"mousemove",o)),a&&O(google.maps.event.addListener(e,"mouseout",a)),l&&M(google.maps.event.addListener(e,"mouseover",l)),c&&V(google.maps.event.addListener(e,"mouseup",c)),u&&z(google.maps.event.addListener(e,"rightclick",u)),n&&W(google.maps.event.addListener(e,"click",n)),d&&Q(google.maps.event.addListener(e,"addfeature",d)),h&&$(google.maps.event.addListener(e,"removefeature",h)),f&&ee(google.maps.event.addListener(e,"removeproperty",f)),p&&re(google.maps.event.addListener(e,"setgeometry",p)),m&&oe(google.maps.event.addListener(e,"setproperty",m)),_(e),g&&g(e)}return function(){w&&(null!==C&&google.maps.event.removeListener(C),null!==k&&google.maps.event.removeListener(k),null!==N&&google.maps.event.removeListener(N),null!==A&&google.maps.event.removeListener(A),null!==D&&google.maps.event.removeListener(D),null!==F&&google.maps.event.removeListener(F),null!==B&&google.maps.event.removeListener(B),null!==H&&google.maps.event.removeListener(H),null!==K&&google.maps.event.removeListener(K),null!==J&&google.maps.event.removeListener(J),null!==X&&google.maps.event.removeListener(X),null!==ne&&google.maps.event.removeListener(ne),null!==se&&google.maps.event.removeListener(se),v&&v(w),w.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={data:null},t.setDataCallback=function(){null!==t.state.data&&t.props.onLoad&&t.props.onLoad(t.state.data)},t}hu(t,e),t.prototype.componentDidMount=function(){if(null!==this.context){var e=new google.maps.Data(fu(fu({},this.props.options||{}),{map:this.context}));this.registeredEvents=Eu({updaterMap:nh,eventMap:th,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{data:e}}),this.setDataCallback)}},t.prototype.componentDidUpdate=function(e){null!==this.state.data&&(Su(this.registeredEvents),this.registeredEvents=Eu({updaterMap:nh,eventMap:th,prevProps:e,nextProps:this.props,instance:this.state.data}))},t.prototype.componentWillUnmount=function(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Su(this.registeredEvents),this.state.data&&this.state.data.setMap(null))},t.prototype.render=function(){return null},t.contextType=wu}(i.PureComponent);var rh={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},ih={options:function(e,t){e.setOptions(t)},url:function(e,t){e.setUrl(t)},zIndex:function(e,t){e.setZIndex(t)}};!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={kmlLayer:null},t.setKmlLayerCallback=function(){null!==t.state.kmlLayer&&t.props.onLoad&&t.props.onLoad(t.state.kmlLayer)},t}hu(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.KmlLayer(fu(fu({},this.props.options),{map:this.context}));this.registeredEvents=Eu({updaterMap:ih,eventMap:rh,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{kmlLayer:e}}),this.setKmlLayerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.kmlLayer&&(Su(this.registeredEvents),this.registeredEvents=Eu({updaterMap:ih,eventMap:rh,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))},t.prototype.componentWillUnmount=function(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Su(this.registeredEvents),this.state.kmlLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=wu}(i.PureComponent);function sh(e,t){return"function"===typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function oh(e,t){return new t(e.lat,e.lng)}function ah(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function lh(e,t,n,r){return void 0!==n?function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n.getNorthEast()),i=e&&e.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+t.x,"px"),top:"".concat(r.y+t.y,"px"),width:"".concat(r.x-i.x-t.x,"px"),height:"".concat(i.y-r.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,(i=n,s=google.maps.LatLngBounds,o=ah,i instanceof s?i:o(i,s))):function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n);if(r){var i=r.x,s=r.y;return{left:"".concat(i+t.x,"px"),top:"".concat(s+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(r,google.maps.LatLng,oh));var i,s,o}function ch(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function uh(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}(0,i.memo)((function(e){var t=e.position,n=e.bounds,r=e.mapPaneName,s=e.zIndex,o=e.onLoad,a=e.onUnmount,l=e.getPixelPositionOffset,c=e.children,u=(0,i.useContext)(wu),d=(0,i.useMemo)((function(){var e=document.createElement("div");return e.style.position="absolute",e}),[]),h=(0,i.useMemo)((function(){return function(e,t,n,r,i){var s=function(e){function t(t,n,r,i){var s=e.call(this)||this;return s.container=t,s.pane=n,s.position=r,s.bounds=i,s}return hu(t,e),t.prototype.onAdd=function(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null===t||void 0===t||t.appendChild(this.container)},t.prototype.draw=function(){for(var e=lh(this.getProjection(),fu({},this.container?sh(this.container,i):{x:0,y:0}),this.bounds,this.position),t=0,n=Object.entries(e);t<n.length;t++){var r=n[t],s=r[0],o=r[1];this.container.style[s]=o}},t.prototype.onRemove=function(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)},t}(google.maps.OverlayView);return new s(e,t,n,r)}(d,r,t,n,l)}),[d,r,t,n]);return(0,i.useEffect)((function(){return null===o||void 0===o||o(h),null===h||void 0===h||h.setMap(u),function(){null===a||void 0===a||a(h),null===h||void 0===h||h.setMap(null)}}),[u,h]),(0,i.useEffect)((function(){d.style.zIndex="".concat(s)}),[s,d]),Mi.createPortal(c,d)})),function(e){function t(t){var n=e.call(this,t)||this;n.state={paneEl:null,containerStyle:{position:"absolute"}},n.updatePane=function(){var e=n.props.mapPaneName,t=n.overlayView.getPanes();bu(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?n.setState({paneEl:t[e]}):n.setState({paneEl:null})},n.onAdd=function(){var e,t;n.updatePane(),null===(t=(e=n.props).onLoad)||void 0===t||t.call(e,n.overlayView)},n.onPositionElement=function(){var e,t,r,i=lh(n.overlayView.getProjection(),fu({x:0,y:0},n.containerRef.current?sh(n.containerRef.current,n.props.getPixelPositionOffset):{}),n.props.bounds,n.props.position),s=(e=n.state.containerStyle).left,o=e.top,a=e.width,l=e.height;r={left:s,top:o,width:a,height:l},((t=i).left!==r.left||t.top!==r.top||t.width!==r.height||t.height!==r.height)&&n.setState({containerStyle:{top:i.top||0,left:i.left||0,width:i.width||0,height:i.height||0,position:"absolute"}})},n.draw=function(){n.onPositionElement()},n.onRemove=function(){var e,t;n.setState((function(){return{paneEl:null}})),null===(t=(e=n.props).onUnmount)||void 0===t||t.call(e,n.overlayView)},n.containerRef=(0,i.createRef)();var r=new google.maps.OverlayView;return r.onAdd=n.onAdd,r.draw=n.draw,r.onRemove=n.onRemove,n.overlayView=r,n}hu(t,e),t.prototype.componentDidMount=function(){this.overlayView.setMap(this.context)},t.prototype.componentDidUpdate=function(e){var t=ch(e.position),n=ch(this.props.position),r=uh(e.bounds),i=uh(this.props.bounds);t===n&&r===i||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()},t.prototype.componentWillUnmount=function(){this.overlayView.setMap(null)},t.prototype.render=function(){var e=this.state.paneEl;return e?Mi.createPortal((0,as.jsx)("div",{ref:this.containerRef,style:this.state.containerStyle,children:i.Children.only(this.props.children)}),e):null},t.FLOAT_PANE="floatPane",t.MAP_PANE="mapPane",t.MARKER_LAYER="markerLayer",t.OVERLAY_LAYER="overlayLayer",t.OVERLAY_MOUSE_TARGET="overlayMouseTarget",t.contextType=wu}(i.PureComponent);function dh(){}var hh={onDblClick:"dblclick",onClick:"click"},fh={opacity:function(e,t){e.setOpacity(t)}};(0,i.memo)((function(e){var t=e.url,n=e.bounds,r=e.options,s=e.visible,o=(0,i.useContext)(wu),a=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),l=(0,i.useMemo)((function(){return new google.maps.GroundOverlay(t,a,fu({},r))}),[]);return(0,i.useEffect)((function(){null!==l&&l.setMap(o)}),[o]),(0,i.useEffect)((function(){"undefined"!==typeof t&&null!==l&&(l.set("url",t),l.setMap(o))}),[l,t]),(0,i.useEffect)((function(){"undefined"!==typeof s&&null!==l&&l.setOpacity(s?1:0)}),[l,s]),(0,i.useEffect)((function(){var e=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));"undefined"!==typeof n&&null!==l&&(l.set("bounds",e),l.setMap(o))}),[l,n]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={groundOverlay:null},t.setGroundOverlayCallback=function(){null!==t.state.groundOverlay&&t.props.onLoad&&t.props.onLoad(t.state.groundOverlay)},t}hu(t,e),t.prototype.componentDidMount=function(){bu(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,fu(fu({},this.props.options),{map:this.context}));this.registeredEvents=Eu({updaterMap:fh,eventMap:hh,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{groundOverlay:e}}),this.setGroundOverlayCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.groundOverlay&&(Su(this.registeredEvents),this.registeredEvents=Eu({updaterMap:fh,eventMap:hh,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))},t.prototype.componentWillUnmount=function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))},t.prototype.render=function(){return null},t.defaultProps={onLoad:dh},t.contextType=wu}(i.PureComponent);var ph={},mh={data:function(e,t){e.setData(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)}};(0,i.memo)((function(e){var t=e.data,n=e.onLoad,r=e.onUnmount,s=e.options,o=(0,i.useContext)(wu),a=(0,i.useState)(null),l=a[0],c=a[1];return(0,i.useEffect)((function(){google.maps.visualization||bu(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)}),[]),(0,i.useEffect)((function(){bu(!!t,"data property is required in HeatmapLayer %s",t)}),[t]),(0,i.useEffect)((function(){null!==l&&l.setMap(o)}),[o]),(0,i.useEffect)((function(){s&&null!==l&&l.setOptions(s)}),[l,s]),(0,i.useEffect)((function(){var e=new google.maps.visualization.HeatmapLayer(fu(fu({},s||{}),{data:t,map:o}));return c(e),n&&n(e),function(){null!==l&&(r&&r(l),l.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={heatmapLayer:null},t.setHeatmapLayerCallback=function(){null!==t.state.heatmapLayer&&t.props.onLoad&&t.props.onLoad(t.state.heatmapLayer)},t}hu(t,e),t.prototype.componentDidMount=function(){bu(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),bu(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(fu(fu({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=Eu({updaterMap:mh,eventMap:ph,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{heatmapLayer:e}}),this.setHeatmapLayerCallback)},t.prototype.componentDidUpdate=function(e){Su(this.registeredEvents),this.registeredEvents=Eu({updaterMap:mh,eventMap:ph,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})},t.prototype.componentWillUnmount=function(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Su(this.registeredEvents),this.state.heatmapLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=wu}(i.PureComponent);var gh={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},vh={register:function(e,t,n){e.registerPanoProvider(t,n)},links:function(e,t){e.setLinks(t)},motionTracking:function(e,t){e.setMotionTracking(t)},options:function(e,t){e.setOptions(t)},pano:function(e,t){e.setPano(t)},position:function(e,t){e.setPosition(t)},pov:function(e,t){e.setPov(t)},visible:function(e,t){e.setVisible(t)},zoom:function(e,t){e.setZoom(t)}},yh=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={streetViewPanorama:null},t.setStreetViewPanoramaCallback=function(){null!==t.state.streetViewPanorama&&t.props.onLoad&&t.props.onLoad(t.state.streetViewPanorama)},t}hu(t,e),t.prototype.componentDidMount=function(){var e,t,n=null!==(t=null===(e=this.context)||void 0===e?void 0:e.getStreetView())&&void 0!==t?t:null;this.registeredEvents=Eu({updaterMap:vh,eventMap:gh,prevProps:{},nextProps:this.props,instance:n}),this.setState((function(){return{streetViewPanorama:n}}),this.setStreetViewPanoramaCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.streetViewPanorama&&(Su(this.registeredEvents),this.registeredEvents=Eu({updaterMap:vh,eventMap:gh,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))},t.prototype.componentWillUnmount=function(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Su(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))},t.prototype.render=function(){return null},t.contextType=wu}(i.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={streetViewService:null},t.setStreetViewServiceCallback=function(){null!==t.state.streetViewService&&t.props.onLoad&&t.props.onLoad(t.state.streetViewService)},t}hu(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.StreetViewService;this.setState((function(){return{streetViewService:e}}),this.setStreetViewServiceCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)},t.prototype.render=function(){return null},t.contextType=wu}(i.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={directionsService:null},t.setDirectionsServiceCallback=function(){null!==t.state.directionsService&&t.props.onLoad&&t.props.onLoad(t.state.directionsService)},t}hu(t,e),t.prototype.componentDidMount=function(){bu(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var e=new google.maps.DirectionsService;this.setState((function(){return{directionsService:e}}),this.setDirectionsServiceCallback)},t.prototype.componentDidUpdate=function(){null!==this.state.directionsService&&this.state.directionsService.route(this.props.options,this.props.callback)},t.prototype.componentWillUnmount=function(){null!==this.state.directionsService&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)},t.prototype.render=function(){return null}}(i.PureComponent),{onDirectionsChanged:"directions_changed"}),bh={directions:function(e,t){e.setDirections(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},panel:function(e,t){e.setPanel(t)},routeIndex:function(e,t){e.setRouteIndex(t)}},wh=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={directionsRenderer:null},t.setDirectionsRendererCallback=function(){null!==t.state.directionsRenderer&&(t.state.directionsRenderer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.directionsRenderer))},t}hu(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Eu({updaterMap:bh,eventMap:yh,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{directionsRenderer:e}}),this.setDirectionsRendererCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.directionsRenderer&&(Su(this.registeredEvents),this.registeredEvents=Eu({updaterMap:bh,eventMap:yh,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))},t.prototype.componentWillUnmount=function(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Su(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))},t.prototype.render=function(){return(0,as.jsx)(as.Fragment,{})},t.contextType=wu}(i.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={distanceMatrixService:null},t.setDistanceMatrixServiceCallback=function(){null!==t.state.distanceMatrixService&&t.props.onLoad&&t.props.onLoad(t.state.distanceMatrixService)},t}hu(t,e),t.prototype.componentDidMount=function(){bu(!!this.props.options,"DistanceMatrixService expected options object as parameter, but go %s",this.props.options);var e=new google.maps.DistanceMatrixService;this.setState((function(){return{distanceMatrixService:e}}),this.setDistanceMatrixServiceCallback)},t.prototype.componentDidUpdate=function(){null!==this.state.distanceMatrixService&&this.state.distanceMatrixService.getDistanceMatrix(this.props.options,this.props.callback)},t.prototype.componentWillUnmount=function(){null!==this.state.distanceMatrixService&&this.props.onUnmount&&this.props.onUnmount(this.state.distanceMatrixService)},t.prototype.render=function(){return null}}(i.PureComponent),{onPlacesChanged:"places_changed"}),_h={bounds:function(e,t){e.setBounds(t)}},xh=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=(0,i.createRef)(),t.state={searchBox:null},t.setSearchBoxCallback=function(){null!==t.state.searchBox&&t.props.onLoad&&t.props.onLoad(t.state.searchBox)},t}hu(t,e),t.prototype.componentDidMount=function(){if(bu(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Eu({updaterMap:_h,eventMap:wh,prevProps:{},nextProps:this.props,instance:t}),this.setState((function(){return{searchBox:t}}),this.setSearchBoxCallback)}}},t.prototype.componentDidUpdate=function(e){null!==this.state.searchBox&&(Su(this.registeredEvents),this.registeredEvents=Eu({updaterMap:_h,eventMap:wh,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))},t.prototype.componentWillUnmount=function(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Su(this.registeredEvents))},t.prototype.render=function(){return(0,as.jsx)("div",{ref:this.containerElement,children:i.Children.only(this.props.children)})},t.contextType=wu}(i.PureComponent),{onPlaceChanged:"place_changed"}),Ch={bounds:function(e,t){e.setBounds(t)},restrictions:function(e,t){e.setComponentRestrictions(t)},fields:function(e,t){e.setFields(t)},options:function(e,t){e.setOptions(t)},types:function(e,t){e.setTypes(t)}};!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=(0,i.createRef)(),t.state={autocomplete:null},t.setAutocompleteCallback=function(){null!==t.state.autocomplete&&t.props.onLoad&&t.props.onLoad(t.state.autocomplete)},t}hu(t,e),t.prototype.componentDidMount=function(){var e;bu(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=Eu({updaterMap:Ch,eventMap:xh,prevProps:{},nextProps:this.props,instance:n}),this.setState((function(){return{autocomplete:n}}),this.setAutocompleteCallback)}},t.prototype.componentDidUpdate=function(e){Su(this.registeredEvents),this.registeredEvents=Eu({updaterMap:Ch,eventMap:xh,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})},t.prototype.componentWillUnmount=function(){null!==this.state.autocomplete&&Su(this.registeredEvents)},t.prototype.render=function(){return(0,as.jsx)("div",{ref:this.containerElement,className:this.props.className,children:i.Children.only(this.props.children)})},t.defaultProps={className:""},t.contextType=wu}(i.PureComponent);const Sh=()=>{const e={lat:46.44037226802607,lng:30.721339215781278};return(0,as.jsx)("div",{className:"contact",children:(0,as.jsx)(ls,{children:(0,as.jsxs)("div",{className:"contact__content",children:[(0,as.jsxs)("div",{className:"contact__column",children:[(0,as.jsx)("h1",{className:"title__h1",children:"\u0417\u0432\u2019\u044f\u0437\u0430\u0442\u0438\u0441\u044f \u0437 \u043d\u0430\u043c\u0438"}),(0,as.jsxs)("div",{className:"contact__section",children:[(0,as.jsx)("span",{className:"contact__text",children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e:"}),(0,as.jsxs)("div",{className:"contact__btns",children:[(0,as.jsx)("button",{className:"contact__btn contact__btn-active",children:"\u041e\u0434\u0435\u0441\u0430"}),(0,as.jsx)("button",{className:"contact__btn ",disabled:!0,children:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434"})]})]}),(0,as.jsxs)("ul",{className:"contact__list",children:[(0,as.jsxs)("li",{className:"contact__item",children:[(0,as.jsx)("span",{className:"contact__item-title",children:"\u0410\u0434\u0440\u0435\u0441\u0430"}),(0,as.jsx)("span",{className:"contact__item-link",children:"\u0432\u0443\u043b. \u041c\u0430\u0440\u0448\u0430\u043b\u0430 \u041c\u0430\u043b\u0438\u043d\u043e\u0432\u0441\u043a\u044c\u043e\u0433\u043e 18"})]}),(0,as.jsxs)("li",{className:"contact__item",children:[(0,as.jsx)("span",{className:"contact__item-title",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,as.jsx)("a",{href:"tel:+390987271991",className:"contact__item-link",children:"+39 (098) 727 19 91"})]}),(0,as.jsxs)("li",{className:"contact__item",children:[(0,as.jsx)("span",{className:"contact__item-title",children:"\u0413\u0440\u0430\u0444\u0456\u043a \u0440\u043e\u0431\u043e\u0442\u0438"}),(0,as.jsx)("span",{className:"contact__item-link",children:"\u041d\u0435\u0434\u0456\u043b\u044f - \u0427\u0435\u0442\u0432\u0435\u0440: 9:00 - 21:00"}),(0,as.jsx)("span",{className:"contact__item-link",children:"\u041f\u2019\u044f\u0442\u043d\u0438\u0446\u044f - \u0421\u0443\u0431\u043e\u0442\u0430: 10:00 - 22:00"})]}),(0,as.jsxs)("li",{className:"contact__item",children:[(0,as.jsx)("span",{className:"contact__item-title",children:"Email"}),(0,as.jsx)("a",{href:"mailto:support@polarpelmeni.com",className:"contact__item-link",children:"support@polarpelmeni.com"})]})]})]}),(0,as.jsx)("div",{className:"contact__column",children:(0,as.jsx)("div",{className:"contact__map",children:(0,as.jsx)(Fu,{googleMapsApiKey:"AIzaSyCFu2436NGhyXMBwq8mLiAhsl_SSYYRhvI",children:(0,as.jsx)(Tu,{mapContainerStyle:{height:"100%"},center:e,zoom:16,options:{streetViewControl:!1,mapTypeControl:!1,zoomControl:!1,styles:[{featureType:"all",elementType:"all",stylers:[{saturation:-100},{lightness:20},{gamma:1.2}]}]},children:(0,as.jsx)(Qu,{position:e})})})})})]})})})};const Eh=n.p+"static/media/logo.4c66c0436de3e3728ef3931cb8bd0914.svg",kh=e=>{let{onData:t}=e;const[n,r]=(0,i.useState)(""),s=(0,i.useRef)([]);(0,i.useEffect)((()=>{t(n)}),[n]);return(0,as.jsx)("div",{className:"inputCode",children:Array.from({length:6}).map(((e,t)=>(0,as.jsx)("input",{"auto\u0421omplete":"one-time-code",ref:e=>s.current[t]=e,type:"text",value:n[t]||"",maxLength:1,className:"inputCode__item",onChange:e=>((e,t)=>{const n=e.target.value,i=t+1;r((e=>{const r=e.split("");return r[t]=n,n&&s.current[i]&&s.current[i].focus(),r.join("")}))})(e,t),onKeyDown:e=>((e,t)=>{const n=t-1,r=t+1;"Backspace"===e.key&&n>=0?s.current[n].focus():"Delete"===e.key&&r<s.current.length&&s.current[r].focus()})(e,t)},t)))})},Ih=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Th={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ih(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Nh;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Nh extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lh=function(e){return function(e){const t=Ih(e);return Th.encodeByteArray(t,!0)}(e).replace(/\./g,"")},jh=function(e){try{return Th.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ah(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ah(e[n],t[n]));return e}const Oh=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ph=()=>{try{return Oh()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&jh(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Dh=()=>{var e;return null===(e=Ph())||void 0===e?void 0:e.config};class Mh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Rh(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Fh(){var e;const t=null===(e=Ph())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Vh(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Uh(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Bh(){const e=Rh();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function zh(){try{return"object"===typeof indexedDB}catch(e){return!1}}class qh extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,qh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hh.prototype.create)}}class Hh{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Wh,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new qh(n,s,t)}}const Wh=/\{\$([^}]+)}/g;function Gh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Kh(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Qh(n)&&Qh(s)){if(!Kh(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Qh(e){return null!==e&&"object"===typeof e}function Zh(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Jh(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function $h(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Yh(e,t){const n=new Xh(e,t);return n.subscribe.bind(n)}class Xh{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ef),void 0===r.error&&(r.error=ef),void 0===r.complete&&(r.complete=ef);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ef(){}function tf(e){return e&&e._delegate?e._delegate:e}class nf{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const rf="[DEFAULT]";class sf{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Mh;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:rf})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rf;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rf;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rf;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(Xi){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===rf?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(Xi){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rf;return this.component?this.component.multipleInstances?e:rf:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class of{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sf(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const af=[];var lf;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(lf||(lf={}));const cf={debug:lf.DEBUG,verbose:lf.VERBOSE,info:lf.INFO,warn:lf.WARN,error:lf.ERROR,silent:lf.SILENT},uf=lf.INFO,df={[lf.DEBUG]:"log",[lf.VERBOSE]:"log",[lf.INFO]:"info",[lf.WARN]:"warn",[lf.ERROR]:"error"},hf=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=df[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class ff{constructor(e){this.name=e,this._logLevel=uf,this._logHandler=hf,this._userLogHandler=null,af.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lf))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?cf[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lf.DEBUG,...t),this._logHandler(this,lf.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lf.VERBOSE,...t),this._logHandler(this,lf.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lf.INFO,...t),this._logHandler(this,lf.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lf.WARN,...t),this._logHandler(this,lf.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lf.ERROR,...t),this._logHandler(this,lf.ERROR,...t)}}const pf=(e,t)=>t.some((t=>e instanceof t));let mf,gf;const vf=new WeakMap,yf=new WeakMap,bf=new WeakMap,wf=new WeakMap,_f=new WeakMap;let xf={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return yf.get(e);if("objectStoreNames"===t)return e.objectStoreNames||bf.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ef(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Cf(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(gf||(gf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(kf(this),n),Ef(vf.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ef(e.apply(kf(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(kf(this),t,...r);return bf.set(s,t.sort?t.sort():[t]),Ef(s)}}function Sf(e){return"function"===typeof e?Cf(e):(e instanceof IDBTransaction&&function(e){if(yf.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));yf.set(e,t)}(e),pf(e,mf||(mf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,xf):e)}function Ef(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Ef(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&vf.set(t,e)})).catch((()=>{})),_f.set(t,e),t}(e);if(wf.has(e))return wf.get(e);const t=Sf(e);return t!==e&&(wf.set(e,t),_f.set(t,e)),t}const kf=e=>_f.get(e);const If=["get","getKey","getAll","getAllKeys","count"],Tf=["put","add","delete","clear"],Nf=new Map;function Lf(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Nf.get(t))return Nf.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Tf.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!If.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Nf.set(t,s),s}xf=(e=>({...e,get:(t,n,r)=>Lf(t,n)||e.get(t,n,r),has:(t,n)=>!!Lf(t,n)||e.has(t,n)}))(xf);class jf{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Af="@firebase/app",Of="0.9.13",Pf=new ff("@firebase/app"),Df="[DEFAULT]",Mf={[Af]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Rf=new Map,Ff=new Map;function Vf(e,t){try{e.container.addComponent(t)}catch(n){Pf.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Uf(e,t){e.container.addOrOverwriteComponent(t)}function Bf(e){const t=e.name;if(Ff.has(t))return Pf.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ff.set(t,e);for(const n of Rf.values())Vf(n,e);return!0}function zf(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Df;zf(e,t).clearInstance(n)}function Hf(){Ff.clear()}const Wf=new Hh("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gf{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new nf("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wf.create("app-deleted",{appName:this._name})}}const Kf="9.23.0";function Qf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Df,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Wf.create("bad-app-name",{appName:String(i)});if(n||(n=Dh()),!n)throw Wf.create("no-options");const s=Rf.get(i);if(s){if(Kh(n,s.options)&&Kh(r,s.config))return s;throw Wf.create("duplicate-app",{appName:i})}const o=new of(i);for(const l of Ff.values())o.addComponent(l);const a=new Gf(n,r,o);return Rf.set(i,a),a}function Zf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Df;const t=Rf.get(e);if(!t&&e===Df&&Dh())return Qf();if(!t)throw Wf.create("no-app",{appName:e});return t}function Jf(){return Array.from(Rf.values())}async function $f(e){const t=e.name;Rf.has(t)&&(Rf.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Yf(e,t,n){var r;let i=null!==(r=Mf[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Pf.warn(e.join(" "))}Bf(new nf("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Xf(e,t){if(null!==e&&"function"!==typeof e)throw Wf.create("invalid-log-argument");!function(e,t){for(const n of af){let r=null;t&&t.level&&(r=cf[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:lf[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function ep(e){var t;t=e,af.forEach((e=>{e.setLogLevel(t)}))}const tp="firebase-heartbeat-database",np=1,rp="firebase-heartbeat-store";let ip=null;function sp(){return ip||(ip=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Ef(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Ef(o.result),e.oldVersion,e.newVersion,Ef(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(tp,np,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(rp)}}).catch((e=>{throw Wf.create("idb-open",{originalErrorMessage:e.message})}))),ip}async function op(e,t){try{const n=(await sp()).transaction(rp,"readwrite"),r=n.objectStore(rp);await r.put(t,ap(e)),await n.done}catch(n){if(n instanceof qh)Pf.warn(n.message);else{const e=Wf.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Pf.warn(e.message)}}}function ap(e){return"".concat(e.name,"!").concat(e.options.appId)}class lp{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new up(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=cp();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=cp(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),dp(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dp(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Lh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function cp(){return(new Date).toISOString().substring(0,10)}class up{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!zh()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await sp();return await t.transaction(rp).objectStore(rp).get(ap(e))}catch(t){if(t instanceof qh)Pf.warn(t.message);else{const e=Wf.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Pf.warn(e.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return op(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return op(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function dp(e){return Lh(JSON.stringify({version:2,heartbeats:e})).length}var hp;hp="",Bf(new nf("platform-logger",(e=>new jf(e)),"PRIVATE")),Bf(new nf("heartbeat",(e=>new lp(e)),"PRIVATE")),Yf(Af,Of,hp),Yf(Af,Of,"esm2017"),Yf("fire-js","");class fp{constructor(e,t){this._delegate=e,this.firebase=t,Vf(e,new nf("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),$f(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Df;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Df;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Vf(this._delegate,e)}_addOrOverwriteComponent(e){Uf(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pp=new Hh("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const mp=function e(){const n=function(e){const n={},r={__esModule:!0,initializeApp:function(t){const i=Qf(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Gh(n,i.name))return n[i.name];const s=new e(i,r);return n[i.name]=s,s},app:i,registerVersion:Yf,setLogLevel:ep,onLog:Xf,apps:null,SDK_VERSION:Kf,INTERNAL:{registerComponent:function(t){const n=t.name,s=n.replace("-compat","");if(Bf(t)&&"PUBLIC"===t.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw pp.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==t.serviceProps&&Ah(o,t.serviceProps),r[s]=o,e.prototype[s]=function(){const e=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:t}};function i(e){if(!Gh(n,e=e||Df))throw pp.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=e,r}(fp);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Ah(n,e)},createSubscribe:Yh,ErrorFactory:Hh,deepExtend:Ah}),n}(),gp=new ff("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){gp.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&gp.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const vp=mp;!function(e){Yf("@firebase/app-compat","0.2.13",e)}();vp.registerVersion("firebase","9.23.0","app-compat");function yp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const bp={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},wp="EMAIL_SIGNIN",_p="PASSWORD_RESET",xp="RECOVER_EMAIL",Cp="REVERT_SECOND_FACTOR_ADDITION",Sp="VERIFY_AND_CHANGE_EMAIL",Ep="VERIFY_EMAIL";function kp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ip=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Tp=kp,Np=new Hh("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Lp=new ff("@firebase/auth");function jp(e){if(Lp.logLevel<=lf.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Lp.error("Auth (".concat(Kf,"): ").concat(e),...n)}}function Ap(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Mp(e,...n)}function Op(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Mp(e,...n)}function Pp(e,t,n){const r=Object.assign(Object.assign({},Tp()),{[t]:n});return new Hh("auth","Firebase",r).create(t,{appName:e.name})}function Dp(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ap(e,"argument-error"),Pp(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Mp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Np.create(e,...n)}function Rp(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Mp(t,...r)}}function Fp(e){const t="INTERNAL ASSERTION FAILED: "+e;throw jp(t),new Error(t)}function Vp(e,t){e||Fp(t)}function Up(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Bp(){return"http:"===zp()||"https:"===zp()}function zp(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class qp{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vp(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rh())||Uh()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Bp()||Vh()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Hp(e,t){Vp(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Wp{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Fp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Fp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Fp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Gp={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Kp=new qp(3e4,6e4);function Qp(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Zp(e,t,n,r){return Jp(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Zh(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Wp.fetch()(Yp(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Jp(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Gp),t);try{const t=new Xp(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw em(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw em(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw em(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw em(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Pp(e,a,o);Ap(e,a)}}catch(i){if(i instanceof qh)throw i;Ap(e,"network-request-failed",{message:String(i)})}}async function $p(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Zp(e,t,n,r,i);return"mfaPendingCredential"in s&&Ap(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Yp(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Hp(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class Xp{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Op(this.auth,"network-request-failed"))),Kp.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function em(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Op(e,t,r);return i.customData._tokenResponse=n,i}function tm(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function nm(e){return 1e3*Number(e)}function rm(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return jp("JWT malformed, contained fewer than 3 sections"),null;try{const e=jh(n);return e?JSON.parse(e):(jp("Failed to decode base64 JWT payload"),null)}catch(i){return jp("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function im(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof qh&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class sm{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class om{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tm(this.lastLoginAt),this.creationTime=tm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function am(e){var t;const n=e.auth,r=await e.getIdToken(),i=await im(e,async function(e,t){return Zp(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Rp(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=yp(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new om(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class lm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Rp(e.idToken,"internal-error"),Rp("undefined"!==typeof e.idToken,"internal-error"),Rp("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=rm(e);return Rp(t,"internal-error"),Rp("undefined"!==typeof t.exp,"internal-error"),Rp("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Rp(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Jp(e,{},(async()=>{const n=Zh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Yp(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Wp.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new lm;return n&&(Rp("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Rp("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Rp("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lm,this.toJSON())}_performRefresh(){return Fp("not implemented")}}function cm(e,t){Rp("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class um{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=yp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new om(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await im(this,this.stsTokenManager.getToken(this.auth,e));return Rp(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=tf(e),r=await n.getIdToken(t),i=rm(r);Rp(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:tm(nm(i.auth_time)),issuedAtTime:tm(nm(i.iat)),expirationTime:tm(nm(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=tf(e);await am(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Rp(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new um(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Rp(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await am(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await im(this,async function(e,t){return Zp(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:x}=t;Rp(y&&x,e,"internal-error");const C=lm.fromJSON(this.name,x);Rp("string"===typeof y,e,"internal-error"),cm(u,e.name),cm(d,e.name),Rp("boolean"===typeof b,e,"internal-error"),Rp("boolean"===typeof w,e,"internal-error"),cm(h,e.name),cm(f,e.name),cm(p,e.name),cm(m,e.name),cm(g,e.name),cm(v,e.name);const S=new um({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:C,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(S.providerData=_.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new lm;r.updateFromServerResponse(t);const i=new um({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await am(i),i}}const dm=new Map;function hm(e){Vp(e instanceof Function,"Expected a class definition");let t=dm.get(e);return t?(Vp(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,dm.set(e,t),t)}class fm{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fm.type="NONE";const pm=fm;function mm(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class gm{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=mm(this.userKey,r.apiKey,i),this.fullPersistenceKey=mm("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?um._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new gm(hm(pm),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||hm(pm);const s=mm(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=um._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(Xi){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(Xi){}}))),new gm(i,e,n)):new gm(i,e,n)}}function vm(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_m(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ym(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Cm(t))return"Blackberry";if(Sm(t))return"Webos";if(bm(t))return"Safari";if((t.includes("chrome/")||wm(t))&&!t.includes("edge/"))return"Chrome";if(xm(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ym(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rh();return/firefox\//i.test(e)}function bm(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rh()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rh();return/crios\//i.test(e)}function _m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rh();return/iemobile/i.test(e)}function xm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rh();return/android/i.test(e)}function Cm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rh();return/blackberry/i.test(e)}function Sm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rh();return/webos/i.test(e)}function Em(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rh();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function km(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rh();return Em(e)||xm(e)||Sm(e)||Cm(e)||/windows phone/i.test(e)||_m(e)}function Im(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=vm(Rh());break;case"Worker":t="".concat(vm(Rh()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Kf,"/").concat(r)}async function Tm(e,t){return Zp(e,"GET","/v2/recaptchaConfig",Qp(e,t))}function Nm(e){return void 0!==e&&void 0!==e.getResponse}function Lm(e){return void 0!==e&&void 0!==e.enterprise}class jm{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function Am(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Op("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Om(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Pm{constructor(e){this.type="recaptcha-enterprise",this.auth=Fm(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Lm(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Tm(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new jm(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Lm(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Am("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Dm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Pm(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class Mm{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Rm{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vm(this),this.idTokenSubscription=new Vm(this),this.beforeStateQueue=new Mm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Np,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hm(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await gm.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Rp(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await am(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?tf(e):null;return t&&Rp(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Rp(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(hm(e))}))}async initializeRecaptchaConfig(){const e=await Tm(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new jm(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Pm(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hh("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hm(e)||this._popupRedirectResolver;Rp(t,this,"argument-error"),this.redirectPersistenceManager=await gm.create(this,[hm(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Rp(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Rp(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Im(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Lp.logLevel<=lf.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Lp.warn("Auth (".concat(Kf,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Fm(e){return tf(e)}class Vm{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yh((e=>this.observer=e))}get next(){return Rp(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Um(e,t,n){const r=Fm(e);Rp(r._canInitEmulator,r,"emulator-config-failed"),Rp(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Bm(t),{host:o,port:a}=function(e){const t=Bm(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:zm(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:zm(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Bm(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function zm(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class qm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fp("not implemented")}_getIdTokenResponse(e){return Fp("not implemented")}_linkToIdToken(e,t){return Fp("not implemented")}_getReauthenticationResolver(e){return Fp("not implemented")}}async function Hm(e,t){return Zp(e,"POST","/v1/accounts:resetPassword",Qp(e,t))}async function Wm(e,t){return Zp(e,"POST","/v1/accounts:update",t)}async function Gm(e,t){return $p(e,"POST","/v1/accounts:signInWithPassword",Qp(e,t))}async function Km(e,t){return Zp(e,"POST","/v1/accounts:sendOobCode",Qp(e,t))}async function Qm(e,t){return Km(e,t)}async function Zm(e,t){return Km(e,t)}class Jm extends qm{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Jm(e,t,"password")}static _fromEmailAndCode(e,t){return new Jm(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Dm(e,n,"signInWithPassword");return Gm(e,t)}return Gm(e,n).catch((async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Dm(e,n,"signInWithPassword");return Gm(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return $p(e,"POST","/v1/accounts:signInWithEmailLink",Qp(e,t))}(e,{email:this._email,oobCode:this._password});default:Ap(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Wm(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return $p(e,"POST","/v1/accounts:signInWithEmailLink",Qp(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ap(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function $m(e,t){return $p(e,"POST","/v1/accounts:signInWithIdp",Qp(e,t))}class Ym extends qm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ym(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ap("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=yp(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Ym(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return $m(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,$m(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$m(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zh(t)}return e}}const Xm={USER_NOT_FOUND:"user-not-found"};class eg extends qm{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new eg({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new eg({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return $p(e,"POST","/v1/accounts:signInWithPhoneNumber",Qp(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await $p(e,"POST","/v1/accounts:signInWithPhoneNumber",Qp(e,t));if(n.temporaryProof)throw em(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return $p(e,"POST","/v1/accounts:signInWithPhoneNumber",Qp(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Xm)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new eg({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class tg{constructor(e){var t,n,r,i,s,o;const a=Jh($h(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Rp(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Jh($h(e)).link,n=t?Jh($h(t)).deep_link_id:null,r=Jh($h(e)).deep_link_id;return(r?Jh($h(r)).link:null)||r||n||t||e}(e);try{return new tg(t)}catch(Xi){return null}}}class ng{constructor(){this.providerId=ng.PROVIDER_ID}static credential(e,t){return Jm._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=tg.parseLink(t);return Rp(n,"argument-error"),Jm._fromEmailAndCode(e,n.code,n.tenantId)}}ng.PROVIDER_ID="password",ng.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ng.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class rg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ig extends rg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sg extends ig{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Rp("providerId"in t&&"signInMethod"in t,"argument-error"),Ym._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Rp(e.idToken||e.accessToken,"argument-error"),Ym._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return sg.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return sg.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=t;if(!r&&!i&&!n&&!s)return null;if(!a)return null;try{return new sg(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch(l){return null}}}class og extends ig{constructor(){super("facebook.com")}static credential(e){return Ym._fromParams({providerId:og.PROVIDER_ID,signInMethod:og.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return og.credentialFromTaggedObject(e)}static credentialFromError(e){return og.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return og.credential(t.oauthAccessToken)}catch(Xi){return null}}}og.FACEBOOK_SIGN_IN_METHOD="facebook.com",og.PROVIDER_ID="facebook.com";class ag extends ig{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ym._fromParams({providerId:ag.PROVIDER_ID,signInMethod:ag.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ag.credentialFromTaggedObject(e)}static credentialFromError(e){return ag.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ag.credential(n,r)}catch(Xi){return null}}}ag.GOOGLE_SIGN_IN_METHOD="google.com",ag.PROVIDER_ID="google.com";class lg extends ig{constructor(){super("github.com")}static credential(e){return Ym._fromParams({providerId:lg.PROVIDER_ID,signInMethod:lg.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lg.credentialFromTaggedObject(e)}static credentialFromError(e){return lg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return lg.credential(t.oauthAccessToken)}catch(Xi){return null}}}lg.GITHUB_SIGN_IN_METHOD="github.com",lg.PROVIDER_ID="github.com";class cg extends qm{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return $m(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,$m(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$m(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new cg(n,i):null}static _create(e,t){return new cg(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ug extends rg{constructor(e){Rp(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return ug.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return ug.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=cg.fromJSON(e);return Rp(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return cg._create(r,n)}catch(i){return null}}}class dg extends ig{constructor(){super("twitter.com")}static credential(e,t){return Ym._fromParams({providerId:dg.PROVIDER_ID,signInMethod:dg.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return dg.credentialFromTaggedObject(e)}static credentialFromError(e){return dg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return dg.credential(n,r)}catch(Xi){return null}}}async function hg(e,t){return $p(e,"POST","/v1/accounts:signUp",Qp(e,t))}dg.TWITTER_SIGN_IN_METHOD="twitter.com",dg.PROVIDER_ID="twitter.com";class fg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await um._fromIdTokenResponse(e,n,r),s=pg(n);return new fg({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=pg(n);return new fg({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function pg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class mg extends qh{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,mg.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new mg(e,t,n,r)}}function gg(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw mg._fromErrorAndOperation(e,n,t,r);throw n}))}function vg(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function yg(e,t){const n=tf(e);await wg(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Zp(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=vg(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function bg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await im(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return fg._forOperation(e,"link",r)}async function wg(e,t,n){await am(t);const r=!1===e?"provider-already-linked":"no-such-provider";Rp(vg(t.providerData).has(n)===e,t.auth,r)}async function _g(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await im(e,gg(r,i,t,e),n);Rp(s.idToken,r,"internal-error");const o=rm(s.idToken);Rp(o,r,"internal-error");const{sub:a}=o;return Rp(e.uid===a,r,"user-mismatch"),fg._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&Ap(r,"user-mismatch"),s}}async function xg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await gg(e,r,t),s=await fg._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Cg(e,t){return xg(Fm(e),t)}async function Sg(e,t){const n=tf(e);return await wg(!1,n,t.providerId),bg(n,t)}async function Eg(e,t){return _g(tf(e),t)}async function kg(e,t){const n=Fm(e),r=await async function(e,t){return $p(e,"POST","/v1/accounts:signInWithCustomToken",Qp(e,t))}(n,{token:t,returnSecureToken:!0}),i=await fg._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Ig{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Tg._fromServerResponse(e,t):"totpInfo"in t?Ng._fromServerResponse(e,t):Ap(e,"internal-error")}}class Tg extends Ig{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Tg(t)}}class Ng extends Ig{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Ng(t)}}function Lg(e,t,n){var r;Rp((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Rp("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Rp(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Rp(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function jg(e,t){await async function(e,t){return Zp(e,"POST","/v1/accounts:update",Qp(e,t))}(tf(e),{oobCode:t})}async function Ag(e,t){const n=tf(e),r=await Hm(n,{oobCode:t}),i=r.requestType;switch(Rp(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Rp(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Rp(r.mfaInfo,n,"internal-error");default:Rp(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Ig._fromServerResponse(Fm(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Og(e,t){const n={identifier:t,continueUri:Bp()?Up():"http://localhost"},{signinMethods:r}=await async function(e,t){return Zp(e,"POST","/v1/accounts:createAuthUri",Qp(e,t))}(tf(e),n);return r||[]}async function Pg(e,t){const n=tf(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Lg(n.auth,r,t);const{email:i}=await async function(e,t){return Km(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Dg(e,t,n){const r=tf(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Lg(r.auth,i,n);const{email:s}=await async function(e,t){return Km(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function Mg(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=tf(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await im(i,async function(e,t){return Zp(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function Rg(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await im(e,Wm(r,i));await e._updateTokensIfNecessary(s,!0)}class Fg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Vg extends Fg{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Ug extends Fg{constructor(e,t){super(e,"facebook.com",t)}}class Bg extends Vg{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class zg extends Fg{constructor(e,t){super(e,"google.com",t)}}class qg extends Vg{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Hg(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=rm(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Fg(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Ug(s,i);case"github.com":return new Bg(s,i);case"google.com":return new zg(s,i);case"twitter.com":return new qg(s,i,e.screenName||null);case"custom":case"anonymous":return new Fg(s,null);default:return new Fg(s,r,i)}}(n)}class Wg{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new Wg("enroll",e,t)}static _fromMfaPendingCredential(e){return new Wg("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Wg._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Wg._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Gg{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Fm(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Ig._fromServerResponse(n,e)));Rp(r.mfaPendingCredential,n,"internal-error");const s=Wg._fromMfaPendingCredential(r.mfaPendingCredential);return new Gg(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await fg._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Rp(t.user,n,"internal-error"),fg._forOperation(t.user,t.operationType,o);default:Ap(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Kg{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Ig._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Kg(e)}async getSession(){return Wg._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,r=await this.getSession(),i=await im(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await im(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},Zp(r,"POST","/v2/accounts/mfaEnrollment:withdraw",Qp(r,i))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(s){throw s}var r,i}}const Qg=new WeakMap;const Zg="__sak";class Jg{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zg,"1"),this.storage.removeItem(Zg),Promise.resolve(!0)):Promise.resolve(!1)}catch(Xi){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class $g extends Jg{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Rh();return bm(e)||Em(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=km(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Bh()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$g.type="LOCAL";const Yg=$g;class Xg extends Jg{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Xg.type="SESSION";const ev=Xg;class tv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new tv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function nv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}tv.receivers=[];class rv{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=nv("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function iv(){return window}function sv(){return"undefined"!==typeof iv().WorkerGlobalScope&&"function"===typeof iv().importScripts}const ov="firebaseLocalStorageDb",av="firebaseLocalStorage",lv="fbase_key";class cv{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function uv(e,t){return e.transaction([av],t?"readwrite":"readonly").objectStore(av)}function dv(){const e=indexedDB.open(ov,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(av,{keyPath:lv})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(av)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ov);return new cv(e).toPromise()}(),t(await dv()))}))}))}async function hv(e,t,n){const r=uv(e,!0).put({[lv]:t,value:n});return new cv(r).toPromise()}function fv(e,t){const n=uv(e,!0).delete(t);return new cv(n).toPromise()}class pv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await dv()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tv._getInstance(sv()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new rv(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(Xi){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dv();return await hv(e,Zg,"1"),await fv(e,Zg),!0}catch(Xi){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>hv(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=uv(e,!1).get(t),r=await new cv(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>fv(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=uv(e,!1).getAll();return new cv(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}pv.type="LOCAL";const mv=pv;const gv=1e12;class vv{constructor(e){this.auth=e,this.counter=gv,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new yv(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||gv;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||gv;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||gv;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class yv{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Rp(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bv=Om("rcb"),wv=new qp(3e4,6e4);class _v{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=iv().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Rp(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Nm(iv().grecaptcha)?Promise.resolve(iv().grecaptcha):new Promise(((n,r)=>{const i=iv().setTimeout((()=>{r(Op(e,"network-request-failed"))}),wv.get());iv()[bv]=()=>{iv().clearTimeout(i),delete iv()[bv];const s=iv().grecaptcha;if(!s||!Nm(s))return void r(Op(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};Am("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Zh({onload:bv,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Op(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=iv().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xv{async load(e){return new vv(e)}clearedOneInstance(){}}const Cv="recaptcha",Sv={theme:"light",type:"image"};class Ev{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Sv),n=arguments.length>2?arguments[2]:void 0;this.parameters=t,this.type=Cv,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fm(n),this.isInvisible="invisible"===this.parameters.size,Rp("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof e?document.getElementById(e):e;Rp(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xv:new _v,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Rp(!this.parameters.sitekey,this.auth,"argument-error"),Rp(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Rp("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=iv()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Rp(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Rp(Bp()&&!sv(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Zp(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Rp(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Rp(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class kv{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=eg._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Iv(e,t,n){var r;const i=await n.verify();try{let s;if(Rp("string"===typeof i,e,"argument-error"),Rp(n.type===Cv,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Rp("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Zp(e,"POST","/v2/accounts/mfaEnrollment:start",Qp(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Rp("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Rp(n,e,"missing-multi-factor-info");const o=await function(e,t){return Zp(e,"POST","/v2/accounts/mfaSignIn:start",Qp(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Zp(e,"POST","/v1/accounts:sendVerificationCode",Qp(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Tv{constructor(e){this.providerId=Tv.PROVIDER_ID,this.auth=Fm(e)}verifyPhoneNumber(e,t){return Iv(this.auth,e,tf(t))}static credential(e,t){return eg._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Tv.credentialFromTaggedObject(t)}static credentialFromError(e){return Tv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?eg._fromTokenResponse(n,r):null}}function Nv(e,t){return t?hm(t):(Rp(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Tv.PROVIDER_ID="phone",Tv.PHONE_SIGN_IN_METHOD="phone";class Lv extends qm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $m(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $m(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $m(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jv(e){return xg(e.auth,new Lv(e),e.bypassAuthState)}function Av(e){const{auth:t,user:n}=e;return Rp(n,t,"internal-error"),_g(n,new Lv(e),e.bypassAuthState)}async function Ov(e){const{auth:t,user:n}=e;return Rp(n,t,"internal-error"),bg(n,new Lv(e),e.bypassAuthState)}class Pv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jv;case"linkViaPopup":case"linkViaRedirect":return Ov;case"reauthViaPopup":case"reauthViaRedirect":return Av;default:Ap(this.auth,"internal-error")}}resolve(e){Vp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Dv=new qp(2e3,1e4);class Mv extends Pv{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Mv.currentPopupAction&&Mv.currentPopupAction.cancel(),Mv.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Rp(e,this.auth,"internal-error"),e}async onExecution(){Vp(1===this.filter.length,"Popup operations only handle one event");const e=nv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Op(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Op(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mv.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Op(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Dv.get())};e()}}Mv.currentPopupAction=null;const Rv="pendingRedirect",Fv=new Map;class Vv extends Pv{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Fv.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=qv(t),r=zv(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Fv.set(this.auth._key(),e)}return this.bypassAuthState||Fv.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Uv(e,t){return zv(e)._set(qv(t),"true")}function Bv(e,t){Fv.set(e._key(),t)}function zv(e){return hm(e._redirectPersistence)}function qv(e){return mm(Rv,e.config.apiKey,e.name)}function Hv(e,t,n){return async function(e,t,n){const r=Fm(e);Dp(e,t,rg),await r._initializationPromise;const i=Nv(r,n);return await Uv(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Wv(e,t,n){return async function(e,t,n){const r=tf(e);Dp(r.auth,t,rg),await r.auth._initializationPromise;const i=Nv(r.auth,n);await Uv(i,r.auth);const s=await Qv(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function Gv(e,t,n){return async function(e,t,n){const r=tf(e);Dp(r.auth,t,rg),await r.auth._initializationPromise;const i=Nv(r.auth,n);await wg(!1,r,t.providerId),await Uv(i,r.auth);const s=await Qv(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function Kv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Fm(e),i=Nv(r,t),s=new Vv(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function Qv(e){const t=nv("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Zv{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $v(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!$v(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Op(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jv(e))}saveEventToCache(e){this.cachedEventUids.add(Jv(e)),this.lastProcessedEventTime=Date.now()}}function Jv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function $v(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Yv(e){return Zp(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Xv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ey=/^https?/;function ty(e){const t=Up(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ey.test(n))return!1;if(Xv.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ny=new qp(3e4,6e4);function ry(){const e=iv().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let iy=null;function sy(e){return iy=iy||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){ry(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ry(),n(Op(e,"network-request-failed"))},timeout:ny.get()})}if(null===(i=null===(r=iv().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=iv().gapi)||void 0===s?void 0:s.load)){const t=Om("iframefcb");return iv()[t]=()=>{gapi.load?o():n(Op(e,"network-request-failed"))},Am("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw iy=null,e}))}(e),iy}const oy=new qp(5e3,15e3),ay="__/auth/iframe",ly="emulator/auth/iframe",cy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dy(e){const t=e.config;Rp(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Hp(t,ly):"https://".concat(e.config.authDomain,"/").concat(ay),r={apiKey:t.apiKey,appName:e.name,v:Kf},i=uy.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Zh(r).slice(1))}const hy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function py(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},hy),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Rh().toLowerCase();n&&(a=wm(c)?"_blank":n),ym(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Em(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rh())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new fy(null);const d=window.open(t||"",a,u);Rp(d,e,"popup-blocked");try{d.focus()}catch(h){}return new fy(d)}const my="__/auth/handler",gy="emulator/auth/handler",vy=encodeURIComponent("fac");async function yy(e,t,n,r,i,s){Rp(e.config.authDomain,e,"auth-domain-config-required"),Rp(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Kf,eventId:i};if(t instanceof rg){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof ig){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(vy,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(my);return Hp(t,gy)}(e),"?").concat(Zh(a).slice(1)).concat(c)}const by="webStorageSupport";const wy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ev,this._completeRedirectFn=Kv,this._overrideRedirectResult=Bv}async _openPopup(e,t,n,r){var i;Vp(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return py(e,await yy(e,t,n,Up(),r),nv())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){iv().location.href=e}(await yy(e,t,n,Up(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Vp(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await sy(e),n=iv().gapi;return Rp(n,e,"internal-error"),t.open({where:document.body,url:dy(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cy,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Op(e,"network-request-failed"),s=iv().setTimeout((()=>{r(i)}),oy.get());function o(){iv().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new Zv(e);return t.register("authEvent",(t=>{Rp(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(by,{type:by},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[by];void 0!==i&&t(!!i),Ap(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Yv(e);for(const n of t)try{if(ty(n))return}catch(Xi){}Ap(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return km()||bm()||Em()}};class _y{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Fp("unexpected MultiFactorSessionType")}}}class xy extends _y{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new xy(e)}_finalizeEnroll(e,t,n){return function(e,t){return Zp(e,"POST","/v2/accounts/mfaEnrollment:finalize",Qp(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Zp(e,"POST","/v2/accounts/mfaSignIn:finalize",Qp(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Cy{constructor(){}static assertion(e){return xy._fromCredential(e)}}Cy.FACTOR_ID="phone";var Sy="@firebase/auth",Ey="0.23.2";class ky{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Rp(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Ph())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var Iy;function Ty(){return window}Iy="Browser",Bf(new nf("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Rp(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Iy,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Im(Iy)},c=new Rm(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hm);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Bf(new nf("auth-internal",(e=>(e=>new ky(e))(Fm(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Yf(Sy,Ey,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Iy)),Yf(Sy,Ey,"esm2017");async function Ny(e,t,n){var r;const{BuildInfo:i}=Ty();Vp(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(Vp(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return Em()?o.ibi=i.packageName:xm()?o.apn=i.packageName:Ap(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,yy(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function Ly(e){const{cordova:t}=Ty();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rh();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const jy=20;class Ay extends Zv{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Oy(e){const t=await My()._get(Ry(e));return t&&await My()._remove(Ry(e)),t}function Py(e,t){var n,r;const i=function(e){const t=Fy(e),n=t.link?decodeURIComponent(t.link):void 0,r=Fy(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Fy(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Fy(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?Op(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Dy(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<jy;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function My(){return hm(Yg)}function Ry(e){return mm("authEvent",e.config.apiKey,e.name)}function Fy(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Jh(n.join("?"))}const Vy=class{constructor(){this._redirectPersistence=ev,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Kv,this._overrideRedirectResult=Bv}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Ay(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Ap(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,l,c,u;const d=Ty();Rp("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Rp("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Rp("function"===typeof(null===(s=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Rp("function"===typeof(null===(l=null===(a=null===(o=null===d||void 0===d?void 0:d.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Rp("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Fv.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Dy(),postBody:null,tenantId:e.tenantId,error:Op(e,"no-auth-event")}}(e,n,r);await function(e,t){return My()._set(Ry(e),t)}(e,s);const o=await Ny(e,s,t);return async function(e,t,n){const{cordova:r}=Ty();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{o(Op(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),xm()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await Ly(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Ty(),n={};Em()?n.iosBundleId=t.packageName:xm()?n.androidPackageName=t.packageName:Ap(e,"operation-not-supported-in-this-environment"),await Yv(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Ty(),s=setTimeout((async()=>{await Oy(e),t.onEvent(Uy())}),500),o=async n=>{clearTimeout(s);const r=await Oy(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Py(r,n.url)),t.onEvent(i||Uy())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,l="".concat(i.packageName.toLowerCase(),"://");Ty().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&o({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function Uy(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Op("no-auth-event")}}function By(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function zy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rh();return!("file:"!==By()&&"ionic:"!==By()&&"capacitor:"!==By()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function qy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rh();return Bh()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rh();return/Edge\/\d+/.test(e)}(e)}function Hy(){try{const e=self.localStorage,t=nv();if(e)return e.setItem(t,"1"),e.removeItem(t),!qy()||zh()}catch(e){return Wy()&&zh()}return!1}function Wy(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Gy(){return("http:"===By()||"https:"===By()||Vh()||zy())&&!(Uh()||Fh())&&Hy()&&!Wy()}function Ky(){return zy()&&"undefined"!==typeof document}const Qy={LOCAL:"local",NONE:"none",SESSION:"session"},Zy=Rp,Jy="persistence";async function $y(e){await e._initializationPromise;const t=Yy(),n=mm(Jy,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Yy(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Xy=Rp;class eb{constructor(){this.browserResolver=hm(wy),this.cordovaResolver=hm(Vy),this.underlyingResolver=null,this._redirectPersistence=ev,this._completeRedirectFn=Kv,this._overrideRedirectResult=Bv}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Ky()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xy(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Ky()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function tb(e){return e.unwrap()}function nb(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new ob(e,function(e,t){var n;const r=tf(e),i=t;return Rp(t.customData.operationType,r,"argument-error"),Rp(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Gg._fromError(r,i)}(e,t))}else if(r){const e=rb(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function rb(e){const{_tokenResponse:t}=e instanceof qh?e.customData:e;if(!t)return null;if(!(e instanceof qh)&&"temporaryProof"in t&&"phoneNumber"in t)return Tv.credentialFromResult(e);const n=t.providerId;if(!n||n===bp.PASSWORD)return null;let r;switch(n){case bp.GOOGLE:r=ag;break;case bp.FACEBOOK:r=og;break;case bp.GITHUB:r=lg;break;case bp.TWITTER:r=dg;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?cg._create(n,o):Ym._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new sg(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof qh?r.credentialFromError(e):r.credentialFromResult(e)}function ib(e,t){return t.catch((t=>{throw t instanceof qh&&nb(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,rb(r)),additionalUserInfo:Hg(e),user:ab.getOrCreate(n)};var r}))}async function sb(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>ib(e,n.confirm(t))}}class ob{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ib(tb(this.auth),this.resolver.resolveSignIn(e))}}class ab{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=tf(e);return Qg.has(t)||Qg.set(t,Kg._fromUser(t)),Qg.get(t)}(e)}static getOrCreate(e){return ab.USER_MAP.has(e)||ab.USER_MAP.set(e,new ab(e)),ab.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ib(this.auth,Sg(this._delegate,e))}async linkWithPhoneNumber(e,t){return sb(this.auth,async function(e,t,n){const r=tf(e);await wg(!1,r,"phone");const i=await Iv(r.auth,t,tf(n));return new kv(i,(e=>Sg(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return ib(this.auth,async function(e,t,n){const r=tf(e);Dp(r.auth,t,rg);const i=Nv(r.auth,n);return new Mv(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,eb))}async linkWithRedirect(e){return await $y(Fm(this.auth)),Gv(this._delegate,e,eb)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ib(this.auth,Eg(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return sb(this.auth,async function(e,t,n){const r=tf(e),i=await Iv(r.auth,t,tf(n));return new kv(i,(e=>Eg(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return ib(this.auth,async function(e,t,n){const r=tf(e);Dp(r.auth,t,rg);const i=Nv(r.auth,n);return new Mv(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,eb))}async reauthenticateWithRedirect(e){return await $y(Fm(this.auth)),Wv(this._delegate,e,eb)}sendEmailVerification(e){return Pg(this._delegate,e)}async unlink(e){return await yg(this._delegate,e),this}updateEmail(e){return function(e,t){return Rg(tf(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Rg(tf(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await bg(tf(e),t)}(this._delegate,e)}updateProfile(e){return Mg(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Dg(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ab.USER_MAP=new WeakMap;const lb=Rp;class cb{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;lb(n,"invalid-api-key",{appName:e.name}),lb(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?eb:void 0;this._delegate=t.initialize({options:{persistence:db(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Ip),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ab.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Um(this._delegate,e,t)}applyActionCode(e){return jg(this._delegate,e)}checkActionCode(e){return Ag(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Hm(tf(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ib(this._delegate,async function(e,t,n){var r;const i=Fm(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Dm(i,s,"signUpPassword");o=hg(i,e)}else o=hg(i,s).catch((async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Dm(i,s,"signUpPassword");return hg(i,e)}return Promise.reject(e)}));const a=await o.catch((e=>Promise.reject(e))),l=await fg._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Og(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=tg.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){lb(Gy(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Fm(e)._initializationPromise,Kv(e,t,!1)}(this._delegate,eb);return e?ib(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Fm(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=ub(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=ub(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){var r;const i=Fm(e),s={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function o(e,t){Rp(t.handleCodeInApp,i,"argument-error"),t&&Lg(i,e,t)}if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Dm(i,s,"getOobCode",!0);o(e,n),await Zm(i,e)}else o(s,n),await Zm(i,s).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await Dm(i,s,"getOobCode",!0);o(e,n),await Zm(i,e)}}))}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){var r;const i=Fm(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Dm(i,s,"getOobCode",!0);n&&Lg(i,e,n),await Qm(i,e)}else n&&Lg(i,s,n),await Qm(i,s).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await Dm(i,s,"getOobCode",!0);n&&Lg(i,e,n),await Qm(i,e)}}))}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Zy(Object.values(Qy).includes(t),e,"invalid-persistence-type"),Uh()?Zy(t!==Qy.SESSION,e,"unsupported-persistence-type"):Fh()?Zy(t===Qy.NONE,e,"unsupported-persistence-type"):Wy()?Zy(t===Qy.NONE||t===Qy.LOCAL&&zh(),e,"unsupported-persistence-type"):Zy(t===Qy.NONE||Hy(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Qy.SESSION:t=ev;break;case Qy.LOCAL:t=await hm(mv)._isAvailable()?mv:Yg;break;case Qy.NONE:t=pm;break;default:return Ap("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ib(this._delegate,async function(e){var t;const n=Fm(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new fg({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await hg(n,{returnSecureToken:!0}),i=await fg._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return ib(this._delegate,Cg(this._delegate,e))}signInWithCustomToken(e){return ib(this._delegate,kg(this._delegate,e))}signInWithEmailAndPassword(e,t){return ib(this._delegate,function(e,t,n){return Cg(tf(e),ng.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return ib(this._delegate,async function(e,t,n){const r=tf(e),i=ng.credentialWithLink(t,n||Up());return Rp(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Cg(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return sb(this._delegate,async function(e,t,n){const r=Fm(e),i=await Iv(r,t,tf(n));return new kv(i,(e=>Cg(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return lb(Gy(),this._delegate,"operation-not-supported-in-this-environment"),ib(this._delegate,async function(e,t,n){const r=Fm(e);Dp(e,t,rg);const i=Nv(r,n);return new Mv(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,eb))}async signInWithRedirect(e){return lb(Gy(),this._delegate,"operation-not-supported-in-this-environment"),await $y(this._delegate),Hv(this._delegate,e,eb)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Ag(tf(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function ub(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&ab.getOrCreate(e)),error:t,complete:n}}function db(e,t){const n=function(e,t){const n=Yy();if(!n)return[];const r=mm(Jy,e,t);switch(n.getItem(r)){case Qy.NONE:return[pm];case Qy.LOCAL:return[mv,ev];case Qy.SESSION:return[ev];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(mv)||n.push(mv),"undefined"!==typeof window)for(const r of[Yg,ev])n.includes(r)||n.push(r);return n.includes(pm)||n.push(pm),n}cb.Persistence=Qy;class hb{constructor(){this.providerId="phone",this._delegate=new Tv(tb(vp.auth()))}static credential(e,t){return Tv.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}hb.PHONE_SIGN_IN_METHOD=Tv.PHONE_SIGN_IN_METHOD,hb.PROVIDER_ID=Tv.PROVIDER_ID;const fb=Rp;class pb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vp.app();var r;fb(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Ev(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var mb;(mb=vp).INTERNAL.registerComponent(new nf("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new cb(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:wp,PASSWORD_RESET:_p,RECOVER_EMAIL:xp,REVERT_SECOND_FACTOR_ADDITION:Cp,VERIFY_AND_CHANGE_EMAIL:Sp,VERIFY_EMAIL:Ep}},EmailAuthProvider:ng,FacebookAuthProvider:og,GithubAuthProvider:lg,GoogleAuthProvider:ag,OAuthProvider:sg,SAMLAuthProvider:ug,PhoneAuthProvider:hb,PhoneMultiFactorGenerator:Cy,RecaptchaVerifier:pb,TwitterAuthProvider:dg,Auth:cb,AuthCredential:qm,Error:qh}).setInstantiationMode("LAZY").setMultipleInstances(!1)),mb.registerVersion("@firebase/auth-compat","0.4.2");var gb,vb="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},yb={},bb=bb||{},wb=vb||self;function _b(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function xb(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Cb="closure_uid_"+(1e9*Math.random()>>>0),Sb=0;function Eb(e,t,n){return e.call.apply(e.bind,arguments)}function kb(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ib(e,t,n){return(Ib=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Eb:kb).apply(null,arguments)}function Tb(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Nb(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Lb(){this.s=this.s,this.o=this.o}Lb.prototype.s=!1,Lb.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Cb)&&e[Cb]||(e[Cb]=++Sb))},Lb.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jb=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ab(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ob(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(_b(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Pb(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Pb.prototype.h=function(){this.defaultPrevented=!0};var Db=function(){if(!wb.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{wb.addEventListener("test",(()=>{}),t),wb.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function Mb(e){return/^[\s\xa0]*$/.test(e)}function Rb(){var e=wb.navigator;return e&&(e=e.userAgent)?e:""}function Fb(e){return-1!=Rb().indexOf(e)}function Vb(e){return Vb[" "](e),e}Vb[" "]=function(){};var Ub,Bb,zb=Fb("Opera"),qb=Fb("Trident")||Fb("MSIE"),Hb=Fb("Edge"),Wb=Hb||qb,Gb=Fb("Gecko")&&!(-1!=Rb().toLowerCase().indexOf("webkit")&&!Fb("Edge"))&&!(Fb("Trident")||Fb("MSIE"))&&!Fb("Edge"),Kb=-1!=Rb().toLowerCase().indexOf("webkit")&&!Fb("Edge");function Qb(){var e=wb.document;return e?e.documentMode:void 0}e:{var Zb="",Jb=function(){var e=Rb();return Gb?/rv:([^\);]+)(\)|;)/.exec(e):Hb?/Edge\/([\d\.]+)/.exec(e):qb?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Kb?/WebKit\/(\S+)/.exec(e):zb?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Jb&&(Zb=Jb?Jb[1]:""),qb){var $b=Qb();if(null!=$b&&$b>parseFloat(Zb)){Ub=String($b);break e}}Ub=Zb}if(wb.document&&qb){var Yb=Qb();Bb=Yb||(parseInt(Ub,10)||void 0)}else Bb=void 0;var Xb=Bb;function ew(e,t){if(Pb.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Gb){e:{try{Vb(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:tw[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ew.$.h.call(this)}}Nb(ew,Pb);var tw={2:"touch",3:"pen",4:"mouse"};ew.prototype.h=function(){ew.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var nw="closure_listenable_"+(1e6*Math.random()|0),rw=0;function iw(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++rw,this.fa=this.ia=!1}function sw(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ow(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function aw(e){const t={};for(const n in e)t[n]=e[n];return t}const lw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cw(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<lw.length;t++)n=lw[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function uw(e){this.src=e,this.g={},this.h=0}function dw(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=jb(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(sw(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function hw(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}uw.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=hw(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new iw(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var fw="closure_lm_"+(1e6*Math.random()|0),pw={};function mw(e,t,n,r,i){if(r&&r.once)return vw(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)mw(e,t[s],n,r,i);return null}return n=Sw(n),e&&e[nw]?e.O(t,n,xb(r)?!!r.capture:!!r,i):gw(e,t,n,!1,r,i)}function gw(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=xb(i)?!!i.capture:!!i,a=xw(e);if(a||(e[fw]=a=new uw(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=_w;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Db||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ww(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function vw(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)vw(e,t[s],n,r,i);return null}return n=Sw(n),e&&e[nw]?e.P(t,n,xb(r)?!!r.capture:!!r,i):gw(e,t,n,!0,r,i)}function yw(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)yw(e,t[s],n,r,i);else r=xb(r)?!!r.capture:!!r,n=Sw(n),e&&e[nw]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=hw(s=e.g[t],n,r,i))&&(sw(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=xw(e))&&(t=e.g[t.toString()],e=-1,t&&(e=hw(t,n,r,i)),(n=-1<e?t[e]:null)&&bw(n))}function bw(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[nw])dw(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ww(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xw(t))?(dw(n,e),0==n.h&&(n.src=null,t[fw]=null)):sw(e)}}}function ww(e){return e in pw?pw[e]:pw[e]="on"+e}function _w(e,t){if(e.fa)e=!0;else{t=new ew(t,this);var n=e.listener,r=e.la||e.src;e.ia&&bw(e),e=n.call(r,t)}return e}function xw(e){return(e=e[fw])instanceof uw?e:null}var Cw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sw(e){return"function"===typeof e?e:(e[Cw]||(e[Cw]=function(t){return e.handleEvent(t)}),e[Cw])}function Ew(){Lb.call(this),this.i=new uw(this),this.S=this,this.J=null}function kw(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Pb(t,e);else if(t instanceof Pb)t.target=t.target||e;else{var i=t;cw(t=new Pb(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Iw(o,r,!0,t)&&i}if(i=Iw(o=t.g=e,r,!0,t)&&i,i=Iw(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Iw(o=t.g=n[s],r,!1,t)&&i}function Iw(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&dw(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Nb(Ew,Lb),Ew.prototype[nw]=!0,Ew.prototype.removeEventListener=function(e,t,n,r){yw(this,e,t,n,r)},Ew.prototype.N=function(){if(Ew.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sw(n[r]);delete t.g[e],t.h--}}this.J=null},Ew.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ew.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Tw=wb.JSON.stringify;function Nw(){var e=Mw;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Lw=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new jw),(e=>e.reset()));class jw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Aw(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ow(e){wb.setTimeout((()=>{throw e}),0)}let Pw,Dw=!1,Mw=new class{constructor(){this.h=this.g=null}add(e,t){const n=Lw.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Rw=()=>{const e=wb.Promise.resolve(void 0);Pw=()=>{e.then(Fw)}};var Fw=()=>{for(var e;e=Nw();){try{e.h.call(e.g)}catch(n){Ow(n)}var t=Lw;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Dw=!1};function Vw(e,t){Ew.call(this),this.h=e||1,this.g=t||wb,this.j=Ib(this.qb,this),this.l=Date.now()}function Uw(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Bw(e,t,n){if("function"===typeof e)n&&(e=Ib(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ib(e.handleEvent,e)}return 2147483647<Number(t)?-1:wb.setTimeout(e,t||0)}function zw(e){e.g=Bw((()=>{e.g=null,e.i&&(e.i=!1,zw(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Nb(Vw,Ew),(gb=Vw.prototype).ga=!1,gb.T=null,gb.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),kw(this,"tick"),this.ga&&(Uw(this),this.start()))}},gb.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gb.N=function(){Vw.$.N.call(this),Uw(this),delete this.g};class qw extends Lb{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zw(this)}N(){super.N(),this.g&&(wb.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hw(e){Lb.call(this),this.h=e,this.g={}}Nb(Hw,Lb);var Ww=[];function Gw(e,t,n,r){Array.isArray(n)||(n&&(Ww[0]=n.toString()),n=Ww);for(var i=0;i<n.length;i++){var s=mw(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Kw(e){ow(e.g,(function(e,t){this.g.hasOwnProperty(t)&&bw(e)}),e),e.g={}}function Qw(){this.g=!0}function Zw(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Tw(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Hw.prototype.N=function(){Hw.$.N.call(this),Kw(this)},Hw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qw.prototype.Ea=function(){this.g=!1},Qw.prototype.info=function(){};var Jw={},$w=null;function Yw(){return $w=$w||new Ew}function Xw(e){Pb.call(this,Jw.Ta,e)}function e_(e){const t=Yw();kw(t,new Xw(t))}function t_(e,t){Pb.call(this,Jw.STAT_EVENT,e),this.stat=t}function n_(e){const t=Yw();kw(t,new t_(t,e))}function r_(e,t){Pb.call(this,Jw.Ua,e),this.size=t}function i_(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return wb.setTimeout((function(){e()}),t)}Jw.Ta="serverreachability",Nb(Xw,Pb),Jw.STAT_EVENT="statevent",Nb(t_,Pb),Jw.Ua="timingevent",Nb(r_,Pb);var s_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},o_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function a_(){}function l_(e){return e.h||(e.h=e.i())}function c_(){}a_.prototype.h=null;var u_,d_={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function h_(){Pb.call(this,"d")}function f_(){Pb.call(this,"c")}function p_(){}function m_(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Hw(this),this.P=v_,e=Wb?125:void 0,this.V=new Vw(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new g_}function g_(){this.i=null,this.g="",this.h=!1}Nb(h_,Pb),Nb(f_,Pb),Nb(p_,a_),p_.prototype.g=function(){return new XMLHttpRequest},p_.prototype.i=function(){return{}},u_=new p_;var v_=45e3,y_={},b_={};function w_(e,t,n){e.L=1,e.v=V_(P_(t)),e.s=n,e.S=!0,__(e,null)}function __(e,t){e.G=Date.now(),E_(e),e.A=P_(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Y_(n.i,"t",r),e.C=0,n=e.l.J,e.h=new g_,e.g=Xx(e.l,n?t:null,!e.s),0<e.O&&(e.M=new qw(Ib(e.Pa,e,e.g),e.O)),Gw(e.U,e.g,"readystatechange",e.nb),t=e.I?aw(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),e_(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function x_(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function C_(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=S_(e,n),r==b_){4==t&&(e.o=4,n_(14),i=!1),Zw(e.j,e.m,null,"[Incomplete Response]");break}if(r==y_){e.o=4,n_(15),Zw(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Zw(e.j,e.m,r,null),L_(e,r)}x_(e)&&r!=b_&&r!=y_&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,n_(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wx(t),t.M=!0,n_(11))):(Zw(e.j,e.m,n,"[Invalid Chunked Response]"),N_(e),T_(e))}function S_(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?b_:(n=Number(t.substring(n,r)),isNaN(n)?y_:(r+=1)+n>t.length?b_:(t=t.slice(r,r+n),e.C=r+n,t))}function E_(e){e.Y=Date.now()+e.P,k_(e,e.P)}function k_(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=i_(Ib(e.lb,e),t)}function I_(e){e.B&&(wb.clearTimeout(e.B),e.B=null)}function T_(e){0==e.l.H||e.J||Qx(e.l,e)}function N_(e){I_(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Uw(e.V),Kw(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function L_(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||sx(n.i,e)))if(!e.K&&sx(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Kx(n),Rx(n)}Hx(n),n_(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=i_(Ib(n.ib,n),6e3));if(1>=ix(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Jx(n,11)}else if((e.K||n.g==e)&&Kx(n),!Mb(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ox(s,s.h),s.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,F_(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=Yx(r,r.J?r.pa:null,r.Y),o.K){ax(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(I_(a),E_(a)),r.g=o}else qx(r);0<n.j.length&&Vx(n)}else"stop"!=c[0]&&"close"!=c[0]||Jx(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Jx(n,7):Mx(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}e_()}catch(c){}}function j_(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(_b(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(_b(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(_b(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(gb=m_.prototype).setTimeout=function(e){this.P=e},gb.nb=function(e){e=e.target;const t=this.M;t&&3==Lx(e)?t.l():this.Pa(e)},gb.Pa=function(e){try{if(e==this.g)e:{const u=Lx(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Wb||this.g&&(this.h.h||this.g.ja()||jx(this.g)))){this.J||4!=u||7==t||e_(),I_(this);var n=this.g.da();this.ca=n;t:if(x_(this)){var r=jx(this.g);e="";var i=r.length,s=4==Lx(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){N_(this),T_(this);var o="";break t}this.h.i=new wb.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mb(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,n_(12),N_(this),T_(this);break e}Zw(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,L_(this,n)}this.S?(C_(this,u,o),Wb&&this.i&&3==u&&(Gw(this.U,this.V,"tick",this.mb),this.V.start())):(Zw(this.j,this.m,o,null),L_(this,o)),4==u&&N_(this),this.i&&!this.J&&(4==u?Qx(this.l,this):(this.i=!1,E_(this)))}else(function(e){const t={};e=(e.g&&2<=Lx(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Mb(e[r]))continue;var n=Aw(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,n_(12)):(this.o=0,n_(13)),N_(this),T_(this)}}}catch(u){}},gb.mb=function(){if(this.g){var e=Lx(this.g),t=this.g.ja();this.C<t.length&&(I_(this),C_(this,e,t),this.i&&4!=e&&E_(this))}},gb.cancel=function(){this.J=!0,N_(this)},gb.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(e_(),n_(17)),N_(this),this.o=2,T_(this)):k_(this,this.Y-e)};var A_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function O_(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof O_){this.h=e.h,D_(this,e.j),this.s=e.s,this.g=e.g,M_(this,e.m),this.l=e.l;var t=e.i,n=new Q_;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),R_(this,n),this.o=e.o}else e&&(t=String(e).match(A_))?(this.h=!1,D_(this,t[1]||"",!0),this.s=U_(t[2]||""),this.g=U_(t[3]||"",!0),M_(this,t[4]),this.l=U_(t[5]||"",!0),R_(this,t[6]||"",!0),this.o=U_(t[7]||"")):(this.h=!1,this.i=new Q_(null,this.h))}function P_(e){return new O_(e)}function D_(e,t,n){e.j=n?U_(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function M_(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function R_(e,t,n){t instanceof Q_?(e.i=t,function(e,t){t&&!e.j&&(Z_(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(J_(this,t),Y_(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=B_(t,G_)),e.i=new Q_(t,e.h))}function F_(e,t,n){e.i.set(t,n)}function V_(e){return F_(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function U_(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function B_(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,z_),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function z_(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}O_.prototype.toString=function(){var e=[],t=this.j;t&&e.push(B_(t,q_,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(B_(t,q_,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(B_(n,"/"==n.charAt(0)?W_:H_,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",B_(n,K_)),e.join("")};var q_=/[#\/\?@]/g,H_=/[#\?:]/g,W_=/[#\?]/g,G_=/[#\?@]/g,K_=/#/g;function Q_(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Z_(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function J_(e,t){Z_(e),t=X_(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function $_(e,t){return Z_(e),t=X_(e,t),e.g.has(t)}function Y_(e,t,n){J_(e,t),0<n.length&&(e.i=null,e.g.set(X_(e,t),Ab(n)),e.h+=n.length)}function X_(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(gb=Q_.prototype).add=function(e,t){Z_(this),this.i=null,e=X_(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},gb.forEach=function(e,t){Z_(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},gb.ta=function(){Z_(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},gb.Z=function(e){Z_(this);let t=[];if("string"===typeof e)$_(this,e)&&(t=t.concat(this.g.get(X_(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},gb.set=function(e,t){return Z_(this),this.i=null,$_(this,e=X_(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},gb.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},gb.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var ex=class{constructor(e,t){this.g=e,this.map=t}};function tx(e){this.l=e||nx,wb.PerformanceNavigationTiming?e=0<(e=wb.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(wb.g&&wb.g.Ka&&wb.g.Ka()&&wb.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var nx=10;function rx(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ix(e){return e.h?1:e.g?e.g.size:0}function sx(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ox(e,t){e.g?e.g.add(t):e.h=t}function ax(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function lx(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Ab(e.i)}tx.prototype.cancel=function(){if(this.i=lx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var cx,ux=class{stringify(e){return wb.JSON.stringify(e,void 0)}parse(e){return wb.JSON.parse(e,void 0)}};function dx(){this.g=new ux}function hx(e,t,n){const r=n||"";try{j_(e,(function(e,n){let i=e;xb(e)&&(i=Tw(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function fx(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function px(e){this.l=e.fc||null,this.j=e.ob||!1}function mx(e,t){Ew.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=gx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nb(px,a_),px.prototype.g=function(){return new mx(this.l,this.j)},px.prototype.i=(cx={},function(){return cx}),Nb(mx,Ew);var gx=0;function vx(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function yx(e){e.readyState=4,e.l=null,e.j=null,e.A=null,bx(e)}function bx(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(gb=mx.prototype).open=function(e,t){if(this.readyState!=gx)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,bx(this)},gb.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||wb).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},gb.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yx(this)),this.readyState=gx},gb.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,bx(this)),this.g&&(this.readyState=3,bx(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof wb.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vx(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},gb.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?yx(this):bx(this),3==this.readyState&&vx(this)}},gb.Za=function(e){this.g&&(this.response=this.responseText=e,yx(this))},gb.Ya=function(e){this.g&&(this.response=e,yx(this))},gb.ka=function(){this.g&&yx(this)},gb.setRequestHeader=function(e,t){this.v.append(e,t)},gb.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},gb.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(mx.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var wx=wb.JSON.parse;function _x(e){Ew.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xx,this.L=this.M=!1}Nb(_x,Ew);var xx="",Cx=/^https?$/i,Sx=["POST","PUT"];function Ex(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,kx(e),Tx(e)}function kx(e){e.F||(e.F=!0,kw(e,"complete"),kw(e,"error"))}function Ix(e){if(e.h&&"undefined"!=typeof bb&&(!e.C[1]||4!=Lx(e)||2!=e.da()))if(e.v&&4==Lx(e))Bw(e.La,0,e);else if(kw(e,"readystatechange"),4==Lx(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(A_)[1]||null;!i&&wb.self&&wb.self.location&&(i=wb.self.location.protocol.slice(0,-1)),r=!Cx.test(i?i.toLowerCase():"")}n=r}if(n)kw(e,"complete"),kw(e,"success");else{e.m=6;try{var s=2<Lx(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",kx(e)}}finally{Tx(e)}}}function Tx(e,t){if(e.g){Nx(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||kw(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Nx(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(wb.clearTimeout(e.A),e.A=null)}function Lx(e){return e.g?e.g.readyState:0}function jx(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case xx:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(MC){return null}}function Ax(e){let t="";return ow(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ox(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ax(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):F_(e,t,n))}function Px(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Dx(e){this.Ga=0,this.j=[],this.l=new Qw,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Px("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Px("baseRetryDelayMs",5e3,e),this.hb=Px("retryDelaySeedMs",1e4,e),this.eb=Px("forwardChannelMaxRetries",2,e),this.xa=Px("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new tx(e&&e.concurrentRequestLimit),this.Ja=new dx,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Mx(e){if(Fx(e),3==e.H){var t=e.W++,n=P_(e.I);if(F_(n,"SID",e.K),F_(n,"RID",t),F_(n,"TYPE","terminate"),Bx(e,n),(t=new m_(e,e.l,t)).L=2,t.v=V_(P_(n)),n=!1,wb.navigator&&wb.navigator.sendBeacon)try{n=wb.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&wb.Image&&((new Image).src=t.v,n=!0),n||(t.g=Xx(t.l,null),t.g.ha(t.v)),t.G=Date.now(),E_(t)}$x(e)}function Rx(e){e.g&&(Wx(e),e.g.cancel(),e.g=null)}function Fx(e){Rx(e),e.u&&(wb.clearTimeout(e.u),e.u=null),Kx(e),e.i.cancel(),e.m&&("number"===typeof e.m&&wb.clearTimeout(e.m),e.m=null)}function Vx(e){if(!rx(e.i)&&!e.m){e.m=!0;var t=e.Na;Pw||Rw(),Dw||(Pw(),Dw=!0),Mw.add(t,e),e.C=0}}function Ux(e,t){var n;n=t?t.m:e.W++;const r=P_(e.I);F_(r,"SID",e.K),F_(r,"RID",n),F_(r,"AID",e.V),Bx(e,r),e.o&&e.s&&Ox(r,e.o,e.s),n=new m_(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=zx(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),ox(e.i,n),w_(n,r,t)}function Bx(e,t){e.na&&ow(e.na,(function(e,n){F_(t,n,e)})),e.h&&j_({},(function(e,n){F_(t,n,e)}))}function zx(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ib(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{hx(a,e,"req"+n+"_")}catch(KC){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function qx(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Pw||Rw(),Dw||(Pw(),Dw=!0),Mw.add(t,e),e.A=0}}function Hx(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=i_(Ib(e.Ma,e),Zx(e,e.A)),e.A++,!0)}function Wx(e){null!=e.B&&(wb.clearTimeout(e.B),e.B=null)}function Gx(e){e.g=new m_(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=P_(e.wa);F_(t,"RID","rpc"),F_(t,"SID",e.K),F_(t,"AID",e.V),F_(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&F_(t,"TO",e.qa),F_(t,"TYPE","xmlhttp"),Bx(e,t),e.o&&e.s&&Ox(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=V_(P_(t)),n.s=null,n.S=!0,__(n,e)}function Kx(e){null!=e.v&&(wb.clearTimeout(e.v),e.v=null)}function Qx(e,t){var n=null;if(e.g==t){Kx(e),Wx(e),e.g=null;var r=2}else{if(!sx(e.i,t))return;n=t.F,ax(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;kw(r=Yw(),new r_(r,n)),Vx(e)}else qx(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(ix(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=i_(Ib(e.Na,e,t),Zx(e,e.C)),e.C++,!0))}(e,t)||2==r&&Hx(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Jx(e,5);break;case 4:Jx(e,10);break;case 3:Jx(e,6);break;default:Jx(e,2)}}function Zx(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Jx(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ib(e.pb,e);n||(n=new O_("//www.google.com/images/cleardot.gif"),wb.location&&"http"==wb.location.protocol||D_(n,"https"),V_(n)),function(e,t){const n=new Qw;if(wb.Image){const r=new Image;r.onload=Tb(fx,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Tb(fx,n,r,"TestLoadImage: error",!1,t),r.onabort=Tb(fx,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Tb(fx,n,r,"TestLoadImage: timeout",!1,t),wb.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else n_(2);e.H=0,e.h&&e.h.za(t),$x(e),Fx(e)}function $x(e){if(e.H=0,e.ma=[],e.h){const t=lx(e.i);0==t.length&&0==e.j.length||(Ob(e.ma,t),Ob(e.ma,e.j),e.i.i.length=0,Ab(e.j),e.j.length=0),e.h.ya()}}function Yx(e,t,n){var r=n instanceof O_?P_(n):new O_(n);if(""!=r.g)t&&(r.g=t+"."+r.g),M_(r,r.m);else{var i=wb.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new O_(null);r&&D_(s,r),t&&(s.g=t),i&&M_(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&F_(r,n,t),F_(r,"VER",e.ra),Bx(e,r),r}function Xx(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new _x(new px({ob:!0})):new _x(e.va)).Oa(e.J),t}function eC(){}function tC(){if(qb&&!(10<=Number(Xb)))throw Error("Environmental error: no available transport.")}function nC(e,t){Ew.call(this),this.g=new Dx(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Mb(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Mb(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new sC(this)}function rC(e){h_.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function iC(){f_.call(this),this.status=1}function sC(e){this.g=e}function oC(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function aC(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function lC(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(gb=_x.prototype).Oa=function(e){this.M=e},gb.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():u_.g(),this.C=this.u?l_(this.u):l_(u_),this.g.onreadystatechange=Ib(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Ex(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=wb.FormData&&e instanceof wb.FormData,!(0<=jb(Sx,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Nx(this),0<this.B&&((this.L=function(e){return qb&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ib(this.ua,this)):this.A=Bw(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ex(this,s)}},gb.ua=function(){"undefined"!=typeof bb&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kw(this,"timeout"),this.abort(8))},gb.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,kw(this,"complete"),kw(this,"abort"),Tx(this))},gb.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tx(this,!0)),_x.$.N.call(this)},gb.La=function(){this.s||(this.G||this.v||this.l?Ix(this):this.kb())},gb.kb=function(){Ix(this)},gb.isActive=function(){return!!this.g},gb.da=function(){try{return 2<Lx(this)?this.g.status:-1}catch(cx){return-1}},gb.ja=function(){try{return this.g?this.g.responseText:""}catch(cx){return""}},gb.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),wx(t)}},gb.Ia=function(){return this.m},gb.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(gb=Dx.prototype).ra=8,gb.H=1,gb.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new m_(this,this.l,e);let s=this.s;if(this.U&&(s?(s=aw(s),cw(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=zx(this,i,t),F_(n=P_(this.I),"RID",e),F_(n,"CVER",22),this.F&&F_(n,"X-HTTP-Session-Id",this.F),Bx(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ax(s)))+"&"+t:this.o&&Ox(n,this.o,s)),ox(this.i,i),this.bb&&F_(n,"TYPE","init"),this.P?(F_(n,"$req",t),F_(n,"SID","null"),i.aa=!0,w_(i,n,null)):w_(i,n,t),this.H=2}}else 3==this.H&&(e?Ux(this,e):0==this.j.length||rx(this.i)||Ux(this))},gb.Ma=function(){if(this.u=null,Gx(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=i_(Ib(this.jb,this),e)}},gb.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,n_(10),Rx(this),Gx(this))},gb.ib=function(){null!=this.v&&(this.v=null,Rx(this),Hx(this),n_(19))},gb.pb=function(e){e?(this.l.info("Successfully pinged google.com"),n_(2)):(this.l.info("Failed to ping google.com"),n_(1))},gb.isActive=function(){return!!this.h&&this.h.isActive(this)},(gb=eC.prototype).Ba=function(){},gb.Aa=function(){},gb.za=function(){},gb.ya=function(){},gb.isActive=function(){return!0},gb.Va=function(){},tC.prototype.g=function(e,t){return new nC(e,t)},Nb(nC,Ew),nC.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;n_(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Yx(e,null,e.Y),Vx(e)},nC.prototype.close=function(){Mx(this.g)},nC.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Tw(e),e=n);t.j.push(new ex(t.fb++,e)),3==t.H&&Vx(t)},nC.prototype.N=function(){this.g.h=null,delete this.j,Mx(this.g),delete this.g,nC.$.N.call(this)},Nb(rC,h_),Nb(iC,f_),Nb(sC,eC),sC.prototype.Ba=function(){kw(this.g,"a")},sC.prototype.Aa=function(e){kw(this.g,new rC(e))},sC.prototype.za=function(e){kw(this.g,new iC)},sC.prototype.ya=function(){kw(this.g,"b")},Nb(oC,(function(){this.blockSize=-1})),oC.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},oC.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)aC(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){aC(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){aC(this,r),i=0;break}}this.h=i,this.i+=t},oC.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var cC={};function uC(e){return-128<=e&&128>e?function(e,t){var n=cC;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new lC([0|e],0>e?-1:0)})):new lC([0|e],0>e?-1:0)}function dC(e){if(isNaN(e)||!isFinite(e))return fC;if(0>e)return yC(dC(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=hC;return new lC(t,0)}var hC=4294967296,fC=uC(0),pC=uC(1),mC=uC(16777216);function gC(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function vC(e){return-1==e.h}function yC(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new lC(n,~e.h).add(pC)}function bC(e,t){return e.add(yC(t))}function wC(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function _C(e,t){this.g=e,this.h=t}function xC(e,t){if(gC(t))throw Error("division by zero");if(gC(e))return new _C(fC,fC);if(vC(e))return t=xC(yC(e),t),new _C(yC(t.g),yC(t.h));if(vC(t))return t=xC(e,yC(t)),new _C(yC(t.g),t.h);if(30<e.g.length){if(vC(e)||vC(t))throw Error("slowDivide_ only works with positive integers.");for(var n=pC,r=t;0>=r.X(e);)n=CC(n),r=CC(r);var i=SC(n,1),s=SC(r,1);for(r=SC(r,2),n=SC(n,2);!gC(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=SC(r,1),n=SC(n,1)}return t=bC(e,i.R(t)),new _C(i,t)}for(i=fC;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=dC(n)).R(t);vC(o)||0<o.X(e);)o=(s=dC(n-=r)).R(t);gC(s)&&(s=pC),i=i.add(s),e=bC(e,o)}return new _C(i,e)}function CC(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new lC(n,e.h)}function SC(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new lC(i,e.h)}(gb=lC.prototype).ea=function(){if(vC(this))return-yC(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:hC+r)*t,t*=hC}return e},gb.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(gC(this))return"0";if(vC(this))return"-"+yC(this).toString(e);for(var t=dC(Math.pow(e,6)),n=this,r="";;){var i=xC(n,t).g,s=((0<(n=bC(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(gC(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},gb.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},gb.X=function(e){return vC(e=bC(this,e))?-1:gC(e)?0:1},gb.abs=function(){return vC(this)?yC(this):this},gb.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new lC(n,-2147483648&n[n.length-1]?-1:0)},gb.R=function(e){if(gC(this)||gC(e))return fC;if(vC(this))return vC(e)?yC(this).R(yC(e)):yC(yC(this).R(e));if(vC(e))return yC(this.R(yC(e)));if(0>this.X(mC)&&0>e.X(mC))return dC(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,wC(n,2*r+2*i),n[2*r+2*i+1]+=s*l,wC(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,wC(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,wC(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new lC(n,0)},gb.gb=function(e){return xC(this,e).h},gb.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new lC(n,this.h&e.h)},gb.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new lC(n,this.h|e.h)},gb.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new lC(n,this.h^e.h)},tC.prototype.createWebChannel=tC.prototype.g,nC.prototype.send=nC.prototype.u,nC.prototype.open=nC.prototype.m,nC.prototype.close=nC.prototype.close,s_.NO_ERROR=0,s_.TIMEOUT=8,s_.HTTP_ERROR=6,o_.COMPLETE="complete",c_.EventType=d_,d_.OPEN="a",d_.CLOSE="b",d_.ERROR="c",d_.MESSAGE="d",Ew.prototype.listen=Ew.prototype.O,_x.prototype.listenOnce=_x.prototype.P,_x.prototype.getLastError=_x.prototype.Sa,_x.prototype.getLastErrorCode=_x.prototype.Ia,_x.prototype.getStatus=_x.prototype.da,_x.prototype.getResponseJson=_x.prototype.Wa,_x.prototype.getResponseText=_x.prototype.ja,_x.prototype.send=_x.prototype.ha,_x.prototype.setWithCredentials=_x.prototype.Oa,oC.prototype.digest=oC.prototype.l,oC.prototype.reset=oC.prototype.reset,oC.prototype.update=oC.prototype.j,lC.prototype.add=lC.prototype.add,lC.prototype.multiply=lC.prototype.R,lC.prototype.modulo=lC.prototype.gb,lC.prototype.compare=lC.prototype.X,lC.prototype.toNumber=lC.prototype.ea,lC.prototype.toString=lC.prototype.toString,lC.prototype.getBits=lC.prototype.D,lC.fromNumber=dC,lC.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return yC(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=dC(Math.pow(n,8)),i=fC,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=dC(Math.pow(n,o)),i=i.R(o).add(dC(a))):i=(i=i.R(r)).add(dC(a))}return i};var EC=yb.createWebChannelTransport=function(){return new tC},kC=yb.getStatEventTarget=function(){return Yw()},IC=yb.ErrorCode=s_,TC=yb.EventType=o_,NC=yb.Event=Jw,LC=yb.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jC=yb.FetchXmlHttpFactory=px,AC=yb.WebChannel=c_,OC=yb.XhrIo=_x,PC=yb.Md5=oC,DC=yb.Integer=lC;const MC="@firebase/firestore";class RC{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}RC.UNAUTHENTICATED=new RC(null),RC.GOOGLE_CREDENTIALS=new RC("google-credentials-uid"),RC.FIRST_PARTY=new RC("first-party-uid"),RC.MOCK_USER=new RC("mock-user");let FC="9.23.0";const VC=new ff("@firebase/firestore");function UC(){return VC.logLevel}function BC(e){if(VC.logLevel<=lf.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(HC);VC.debug("Firestore (".concat(FC,"): ").concat(e),...i)}}function zC(e){if(VC.logLevel<=lf.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(HC);VC.error("Firestore (".concat(FC,"): ").concat(e),...i)}}function qC(e){if(VC.logLevel<=lf.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(HC);VC.warn("Firestore (".concat(FC,"): ").concat(e),...i)}}function HC(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function WC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(FC,") INTERNAL ASSERTION FAILED: ")+e;throw zC(t),new Error(t)}function GC(e,t){e||WC()}function KC(e,t){return e}const QC={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ZC extends qh{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class JC{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class $C{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class YC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(RC.UNAUTHENTICATED)))}shutdown(){}}class XC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class eS{constructor(e){this.t=e,this.currentUser=RC.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new JC;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new JC,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{BC("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(BC("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new JC)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(BC("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(GC("string"==typeof t.accessToken),new $C(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return GC(null===e||"string"==typeof e),new RC(e)}}class tS{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=RC.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class nS{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new tS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(RC.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iS{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&BC("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,BC("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{BC("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):BC("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(GC("string"==typeof e.token),this.T=e.token,new rS(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function sS(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class oS{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=sS(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function aS(e,t){return e<t?-1:e>t?1:0}function lS(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function cS(e){return e+"\0"}class uS{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ZC(QC.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ZC(QC.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ZC(QC.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ZC(QC.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return uS.fromMillis(Date.now())}static fromDate(e){return uS.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new uS(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?aS(this.nanoseconds,e.nanoseconds):aS(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dS{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dS(e)}static min(){return new dS(new uS(0,0))}static max(){return new dS(new uS(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class hS{constructor(e,t,n){void 0===t?t=0:t>e.length&&WC(),void 0===n?n=e.length-t:n>e.length-t&&WC(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===hS.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hS?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fS extends hS{construct(e,t,n){return new fS(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ZC(QC.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new fS(e)}static emptyPath(){return new fS([])}}const pS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mS extends hS{construct(e,t,n){return new mS(e,t,n)}static isValidIdentifier(e){return pS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mS.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mS(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ZC(QC.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ZC(QC.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ZC(QC.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new ZC(QC.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mS(t)}static emptyPath(){return new mS([])}}class gS{constructor(e){this.path=e}static fromPath(e){return new gS(fS.fromString(e))}static fromName(e){return new gS(fS.fromString(e).popFirst(5))}static empty(){return new gS(fS.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fS.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fS.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gS(new fS(e.slice()))}}class vS{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function yS(e){return e.fields.find((e=>2===e.kind))}function bS(e){return e.fields.filter((e=>2!==e.kind))}vS.UNKNOWN_ID=-1;class wS{constructor(e,t){this.fieldPath=e,this.kind=t}}class _S{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new _S(0,SS.min())}}function xS(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=dS.fromTimestamp(1e9===r?new uS(n+1,0):new uS(n,r));return new SS(i,gS.empty(),t)}function CS(e){return new SS(e.readTime,e.key,-1)}class SS{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new SS(dS.min(),gS.empty(),-1)}static max(){return new SS(dS.max(),gS.empty(),-1)}}function ES(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=gS.comparator(e.documentKey,t.documentKey),0!==n?n:aS(e.largestBatchId,t.largestBatchId))}const kS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function TS(e){if(e.code!==QC.FAILED_PRECONDITION||e.message!==kS)throw e;BC("LocalStore","Unexpectedly lost primary lease")}class NS{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&WC(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new NS(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof NS?t:NS.resolve(t)}catch(e){return NS.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):NS.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):NS.reject(t)}static resolve(e){return new NS(((t,n)=>{t(e)}))}static reject(e){return new NS(((t,n)=>{n(e)}))}static waitFor(e){return new NS(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=NS.resolve(!1);for(const n of e)t=t.next((e=>e?NS.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new NS(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new NS(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class LS{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new JC,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new OS(e,t.error)):this.v.resolve()},this.transaction.onerror=t=>{const n=FS(t.target.error);this.v.reject(new OS(e,n))}}static open(e,t,n,r){try{return new LS(t,e.transaction(r,n))}catch(e){throw new OS(t,e)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(BC("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new DS(t)}}class jS{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===jS.S(Rh())&&zC("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return BC("SimpleDb","Removing database:",e),MS(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!zh())return!1;if(jS.C())return!0;const e=Rh(),t=jS.S(e),n=0<t&&t<10,r=jS.N(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(e){return this.db||(BC("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new OS(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new ZC(QC.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new ZC(QC.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new OS(e,r))},r.onupgradeneeded=e=>{BC("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.V.O(t,r.transaction,e.oldVersion,this.version).next((()=>{BC("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.F&&(this.db.onversionchange=e=>this.F(e)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.$(e);const t=LS.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.P(),e))).catch((e=>(t.abort(e),NS.reject(e)))).toPromise();return s.catch((()=>{})),await t.R,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(BC("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class AS{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return MS(this.L.delete())}}class OS extends ZC{constructor(e,t){super(QC.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function PS(e){return"IndexedDbTransactionError"===e.name}class DS{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(BC("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(BC("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),MS(n)}add(e){return BC("SimpleDb","ADD",this.store.name,e,e),MS(this.store.add(e))}get(e){return MS(this.store.get(e)).next((t=>(void 0===t&&(t=null),BC("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return BC("SimpleDb","DELETE",this.store.name,e),MS(this.store.delete(e))}count(){return BC("SimpleDb","COUNT",this.store.name),MS(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new NS(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new NS(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){BC("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}X(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Z(e){const t=this.cursor({});return new NS(((n,r)=>{t.onerror=e=>{const t=FS(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new NS(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new AS(i),o=t(i.primaryKey,i.value,s);if(o instanceof NS){const e=o.catch((e=>(s.done(),NS.reject(e))));n.push(e)}s.isDone?r():null===s.K?i.continue():i.continue(s.K)}})).next((()=>NS.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function MS(e){return new NS(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=FS(e.target.error);n(t)}}))}let RS=!1;function FS(e){const t=jS.S(Rh());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new ZC("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return RS||(RS=!0,setTimeout((()=>{throw e}),0)),e}}return e}class VS{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){BC("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{BC("IndexBackiller","Documents written: ".concat(await this.tt.nt()))}catch(e){PS(e)?BC("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await TS(e)}await this.et(6e4)}))}}class US{constructor(e,t){this.localStore=e,this.persistence=t}async nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.st(t,e)))}st(e,t){const n=new Set;let r=t,i=!0;return NS.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return BC("IndexBackiller","Processing collection: ".concat(t)),this.it(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.rt(r,n))).next((n=>(BC("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}rt(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=CS(t);ES(r,n)>0&&(n=r)})),new SS(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class BS{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function zS(e){return null==e}function qS(e){return 0===e&&1/e==-1/0}function HS(e){return"number"==typeof e&&Number.isInteger(e)&&!qS(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function WS(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=KS(t)),t=GS(e.get(n),t);return KS(t)}function GS(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function KS(e){return e+"\x01\x01"}function QS(e){const t=e.length;if(GC(t>=2),2===t)return GC("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),fS.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&WC(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:WC()}s=t+2}return new fS(r)}BS.ct=-1;const ZS=["userId","batchId"];function JS(e,t){return[e,WS(t)]}function $S(e,t,n){return[e,WS(t),n]}const YS={},XS=["prefixPath","collectionGroup","readTime","documentId"],eE=["prefixPath","collectionGroup","documentId"],tE=["collectionGroup","readTime","prefixPath","documentId"],nE=["canonicalId","targetId"],rE=["targetId","path"],iE=["path","targetId"],sE=["collectionId","parent"],oE=["indexId","uid"],aE=["uid","sequenceNumber"],lE=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cE=["indexId","uid","orderedDocumentKey"],uE=["userId","collectionPath","documentId"],dE=["userId","collectionPath","largestBatchId"],hE=["userId","collectionGroup","largestBatchId"],fE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pE=[...fE,"documentOverlays"],mE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gE=mE,vE=[...gE,"indexConfiguration","indexState","indexEntries"];class yE extends IS{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function bE(e,t){const n=KC(e);return jS.M(n.ht,t)}function wE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _E(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function xE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class CE{constructor(e,t){this.comparator=e,this.root=t||EE.EMPTY}insert(e,t){return new CE(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,EE.BLACK,null,null))}remove(e){return new CE(this.comparator,this.root.remove(e,this.comparator).copy(null,null,EE.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new SE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new SE(this.root,e,this.comparator,!1)}getReverseIterator(){return new SE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new SE(this.root,e,this.comparator,!0)}}class SE{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class EE{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:EE.RED,this.left=null!=r?r:EE.EMPTY,this.right=null!=i?i:EE.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new EE(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return EE.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return EE.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,EE.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,EE.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw WC();if(this.right.isRed())throw WC();const e=this.left.check();if(e!==this.right.check())throw WC();return e+(this.isRed()?0:1)}}EE.EMPTY=null,EE.RED=!0,EE.BLACK=!1,EE.EMPTY=new class{constructor(){this.size=0}get key(){throw WC()}get value(){throw WC()}get color(){throw WC()}get left(){throw WC()}get right(){throw WC()}copy(e,t,n,r,i){return this}insert(e,t,n){return new EE(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kE{constructor(e){this.comparator=e,this.data=new CE(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new IE(this.data.getIterator())}getIteratorFrom(e){return new IE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof kE))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new kE(this.comparator);return t.data=e,t}}class IE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function TE(e){return e.hasNext()?e.getNext():void 0}class NE{constructor(e){this.fields=e,e.sort(mS.comparator)}static empty(){return new NE([])}unionWith(e){let t=new kE(mS.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new NE(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lS(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class LE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jE{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new LE("Invalid base64 string: "+e):e}}(e);return new jE(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new jE(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return aS(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jE.EMPTY_BYTE_STRING=new jE("");const AE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function OE(e){if(GC(!!e),"string"==typeof e){let t=0;const n=AE.exec(e);if(GC(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:PE(e.seconds),nanos:PE(e.nanos)}}function PE(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function DE(e){return"string"==typeof e?jE.fromBase64String(e):jE.fromUint8Array(e)}function ME(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function RE(e){const t=e.mapValue.fields.__previous_value__;return ME(t)?RE(t):t}function FE(e){const t=OE(e.mapValue.fields.__local_write_time__.timestampValue);return new uS(t.seconds,t.nanos)}class VE{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class UE{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new UE("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof UE&&e.projectId===this.projectId&&e.database===this.database}}const BE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zE={nullValue:"NULL_VALUE"};function qE(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ME(e)?4:rk(e)?9007199254740991:10:WC()}function HE(e,t){if(e===t)return!0;const n=qE(e);if(n!==qE(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return FE(e).isEqual(FE(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=OE(e.timestampValue),r=OE(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return DE(e.bytesValue).isEqual(DE(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return PE(e.geoPointValue.latitude)===PE(t.geoPointValue.latitude)&&PE(e.geoPointValue.longitude)===PE(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return PE(e.integerValue)===PE(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=PE(e.doubleValue),r=PE(t.doubleValue);return n===r?qS(n)===qS(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return lS(e.arrayValue.values||[],t.arrayValue.values||[],HE);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(wE(n)!==wE(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!HE(n[i],r[i])))return!1;return!0}(e,t);default:return WC()}}function WE(e,t){return void 0!==(e.values||[]).find((e=>HE(e,t)))}function GE(e,t){if(e===t)return 0;const n=qE(e),r=qE(t);if(n!==r)return aS(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return aS(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=PE(e.integerValue||e.doubleValue),r=PE(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return KE(e.timestampValue,t.timestampValue);case 4:return KE(FE(e),FE(t));case 5:return aS(e.stringValue,t.stringValue);case 6:return function(e,t){const n=DE(e),r=DE(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=aS(n[i],r[i]);if(0!==e)return e}return aS(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=aS(PE(e.latitude),PE(t.latitude));return 0!==n?n:aS(PE(e.longitude),PE(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=GE(n[i],r[i]);if(e)return e}return aS(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===BE.mapValue&&t===BE.mapValue)return 0;if(e===BE.mapValue)return 1;if(t===BE.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=aS(r[o],s[o]);if(0!==e)return e;const t=GE(n[r[o]],i[s[o]]);if(0!==t)return t}return aS(r.length,s.length)}(e.mapValue,t.mapValue);default:throw WC()}}function KE(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return aS(e,t);const n=OE(e),r=OE(t),i=aS(n.seconds,r.seconds);return 0!==i?i:aS(n.nanos,r.nanos)}function QE(e){return ZE(e)}function ZE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=OE(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?DE(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,gS.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ZE(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(ZE(e.fields[i]));return n+"}"}(e.mapValue):WC();var t,n}function JE(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function $E(e){return!!e&&"integerValue"in e}function YE(e){return!!e&&"arrayValue"in e}function XE(e){return!!e&&"nullValue"in e}function ek(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tk(e){return!!e&&"mapValue"in e}function nk(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return _E(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=nk(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=nk(e.arrayValue.values[n]);return t}return Object.assign({},e)}function rk(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ik(e){return"nullValue"in e?zE:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?JE(UE.empty(),gS.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:WC()}function sk(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?JE(UE.empty(),gS.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?BE:WC()}function ok(e,t){const n=GE(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ak(e,t){const n=GE(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class lk{constructor(e){this.value=e}static empty(){return new lk({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!tk(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nk(t)}setAll(e){let t=mS.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=nk(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());tk(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return HE(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];tk(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){_E(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new lk(nk(this.value))}}function ck(e){const t=[];return _E(e.fields,((e,n)=>{const r=new mS([e]);if(tk(n)){const e=ck(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new NE(t)}class uk{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new uk(e,0,dS.min(),dS.min(),dS.min(),lk.empty(),0)}static newFoundDocument(e,t,n,r){return new uk(e,1,t,dS.min(),n,r,0)}static newNoDocument(e,t){return new uk(e,2,t,dS.min(),dS.min(),lk.empty(),0)}static newUnknownDocument(e,t){return new uk(e,3,t,dS.min(),dS.min(),lk.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(dS.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lk.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lk.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dS.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof uk&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new uk(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class dk{constructor(e,t){this.position=e,this.inclusive=t}}function hk(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?gS.comparator(gS.fromName(o.referenceValue),n.key):GE(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function fk(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!HE(e.position[n],t.position[n]))return!1;return!0}class pk{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function mk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class gk{}class vk extends gk{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ik(e,t,n):"array-contains"===t?new jk(e,n):"in"===t?new Ak(e,n):"not-in"===t?new Ok(e,n):"array-contains-any"===t?new Pk(e,n):new vk(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Tk(e,n):new Nk(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(GE(t,this.value)):null!==t&&qE(this.value)===qE(t)&&this.matchesComparison(GE(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return WC()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class yk extends gk{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new yk(e,t)}matches(e){return bk(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function bk(e){return"and"===e.op}function wk(e){return"or"===e.op}function _k(e){return xk(e)&&bk(e)}function xk(e){for(const t of e.filters)if(t instanceof yk)return!1;return!0}function Ck(e){if(e instanceof vk)return e.field.canonicalString()+e.op.toString()+QE(e.value);if(_k(e))return e.filters.map((e=>Ck(e))).join(",");{const t=e.filters.map((e=>Ck(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Sk(e,t){return e instanceof vk?function(e,t){return t instanceof vk&&e.op===t.op&&e.field.isEqual(t.field)&&HE(e.value,t.value)}(e,t):e instanceof yk?function(e,t){return t instanceof yk&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Sk(n,t.filters[r])),!0)}(e,t):void WC()}function Ek(e,t){const n=e.filters.concat(t);return yk.create(n,e.op)}function kk(e){return e instanceof vk?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(QE(e.value))}(e):e instanceof yk?function(e){return e.op.toString()+" {"+e.getFilters().map(kk).join(" ,")+"}"}(e):"Filter"}class Ik extends vk{constructor(e,t,n){super(e,t,n),this.key=gS.fromName(n.referenceValue)}matches(e){const t=gS.comparator(e.key,this.key);return this.matchesComparison(t)}}class Tk extends vk{constructor(e,t){super(e,"in",t),this.keys=Lk("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Nk extends vk{constructor(e,t){super(e,"not-in",t),this.keys=Lk("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Lk(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>gS.fromName(e.referenceValue)))}class jk extends vk{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return YE(t)&&WE(t.arrayValue,this.value)}}class Ak extends vk{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&WE(this.value.arrayValue,t)}}class Ok extends vk{constructor(e,t){super(e,"not-in",t)}matches(e){if(WE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!WE(this.value.arrayValue,t)}}class Pk extends vk{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!YE(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>WE(this.value.arrayValue,e)))}}class Dk{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.dt=null}}function Mk(e){return new Dk(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Rk(e){const t=KC(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Ck(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),zS(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>QE(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>QE(e))).join(",")),t.dt=e}return t.dt}function Fk(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!mk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Sk(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fk(e.startAt,t.startAt)&&fk(e.endAt,t.endAt)}function Vk(e){return gS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Uk(e,t){return e.filters.filter((e=>e instanceof vk&&e.field.isEqual(t)))}function Bk(e,t,n){let r=zE,i=!0;for(const s of Uk(e,t)){let e=zE,t=!0;switch(s.op){case"<":case"<=":e=ik(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=zE}ok({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];ok({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function zk(e,t,n){let r=BE,i=!0;for(const s of Uk(e,t)){let e=BE,t=!0;switch(s.op){case">=":case">":e=sk(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=BE}ak({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];ak({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class qk{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function Hk(e,t,n,r,i,s,o,a){return new qk(e,t,n,r,i,s,o,a)}function Wk(e){return new qk(e)}function Gk(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Kk(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Qk(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Zk(e){return null!==e.collectionGroup}function Jk(e){const t=KC(e);if(null===t.wt){t.wt=[];const e=Qk(t),n=Kk(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new pk(e)),t.wt.push(new pk(mS.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new pk(mS.keyField(),e))}}}return t.wt}function $k(e){const t=KC(e);if(!t._t)if("F"===t.limitType)t._t=Mk(t.path,t.collectionGroup,Jk(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Jk(t)){const t="desc"===i.dir?"asc":"desc";e.push(new pk(i.field,t))}const n=t.endAt?new dk(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dk(t.startAt.position,t.startAt.inclusive):null;t._t=Mk(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Yk(e,t){t.getFirstInequalityField(),Qk(e);const n=e.filters.concat([t]);return new qk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Xk(e,t,n){return new qk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function eI(e,t){return Fk($k(e),$k(t))&&e.limitType===t.limitType}function tI(e){return"".concat(Rk($k(e)),"|lt:").concat(e.limitType)}function nI(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>kk(e))).join(", "),"]")),zS(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>QE(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>QE(e))).join(",")),"Target(".concat(t,")")}($k(e)),"; limitType=").concat(e.limitType,")")}function rI(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):gS.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Jk(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=hk(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Jk(e),t))&&!(e.endAt&&!function(e,t,n){const r=hk(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Jk(e),t))}(e,t)}function iI(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function sI(e){return(t,n)=>{let r=!1;for(const i of Jk(e)){const e=oI(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function oI(e,t,n){const r=e.field.isKeyField()?gS.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?GE(r,i):WC()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return WC()}}class aI{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){_E(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return xE(this.inner)}size(){return this.innerSize}}const lI=new CE(gS.comparator);function cI(){return lI}const uI=new CE(gS.comparator);function dI(){let e=uI;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function hI(e){let t=uI;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function fI(){return mI()}function pI(){return mI()}function mI(){return new aI((e=>e.toString()),((e,t)=>e.isEqual(t)))}const gI=new CE(gS.comparator),vI=new kE(gS.comparator);function yI(){let e=vI;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const bI=new kE(aS);function wI(){return bI}function _I(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qS(t)?"-0":t}}function xI(e){return{integerValue:""+e}}function CI(e,t){return HS(t)?xI(t):_I(e,t)}class SI{constructor(){this._=void 0}}function EI(e,t,n){return e instanceof TI?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ME(t)&&(t=RE(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof NI?LI(e,t):e instanceof jI?AI(e,t):function(e,t){const n=II(e,t),r=PI(n)+PI(e.gt);return $E(n)&&$E(e.gt)?xI(r):_I(e.serializer,r)}(e,t)}function kI(e,t,n){return e instanceof NI?LI(e,t):e instanceof jI?AI(e,t):n}function II(e,t){return e instanceof OI?$E(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class TI extends SI{}class NI extends SI{constructor(e){super(),this.elements=e}}function LI(e,t){const n=DI(t);for(const r of e.elements)n.some((e=>HE(e,r)))||n.push(r);return{arrayValue:{values:n}}}class jI extends SI{constructor(e){super(),this.elements=e}}function AI(e,t){let n=DI(t);for(const r of e.elements)n=n.filter((e=>!HE(e,r)));return{arrayValue:{values:n}}}class OI extends SI{constructor(e,t){super(),this.serializer=e,this.gt=t}}function PI(e){return PE(e.integerValue||e.doubleValue)}function DI(e){return YE(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class MI{constructor(e,t){this.field=e,this.transform=t}}class RI{constructor(e,t){this.version=e,this.transformResults=t}}class FI{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new FI}static exists(e){return new FI(void 0,e)}static updateTime(e){return new FI(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function VI(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class UI{}function BI(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new $I(e.key,FI.none()):new GI(e.key,e.data,FI.none());{const n=e.data,r=lk.empty();let i=new kE(mS.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new KI(e.key,r,new NE(i.toArray()),FI.none())}}function zI(e,t,n){e instanceof GI?function(e,t,n){const r=e.value.clone(),i=ZI(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof KI?function(e,t,n){if(!VI(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ZI(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(QI(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function qI(e,t,n,r){return e instanceof GI?function(e,t,n,r){if(!VI(e.precondition,t))return n;const i=e.value.clone(),s=JI(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof KI?function(e,t,n,r){if(!VI(e.precondition,t))return n;const i=JI(e.fieldTransforms,r,t),s=t.data;return s.setAll(QI(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return VI(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function HI(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=II(r.transform,e||null);null!=i&&(null===n&&(n=lk.empty()),n.set(r.field,i))}return n||null}function WI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&lS(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof NI&&t instanceof NI||e instanceof jI&&t instanceof jI?lS(e.elements,t.elements,HE):e instanceof OI&&t instanceof OI?HE(e.gt,t.gt):e instanceof TI&&t instanceof TI}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class GI extends UI{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class KI extends UI{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function QI(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function ZI(e,t,n){const r=new Map;GC(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,kI(o,a,n[i]))}return r}function JI(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,EI(e,s,t))}return r}class $I extends UI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YI extends UI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class XI{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&zI(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=qI(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=qI(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=pI();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=BI(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(dS.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),yI())}isEqual(e){return this.batchId===e.batchId&&lS(this.mutations,e.mutations,((e,t)=>WI(e,t)))&&lS(this.baseMutations,e.baseMutations,((e,t)=>WI(e,t)))}}class eT{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){GC(e.mutations.length===n.length);let r=gI;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new eT(e,t,n,r)}}class tT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class nT{constructor(e,t){this.count=e,this.unchangedNames=t}}var rT,iT;function sT(e){switch(e){default:return WC();case QC.CANCELLED:case QC.UNKNOWN:case QC.DEADLINE_EXCEEDED:case QC.RESOURCE_EXHAUSTED:case QC.INTERNAL:case QC.UNAVAILABLE:case QC.UNAUTHENTICATED:return!1;case QC.INVALID_ARGUMENT:case QC.NOT_FOUND:case QC.ALREADY_EXISTS:case QC.PERMISSION_DENIED:case QC.FAILED_PRECONDITION:case QC.ABORTED:case QC.OUT_OF_RANGE:case QC.UNIMPLEMENTED:case QC.DATA_LOSS:return!0}}function oT(e){if(void 0===e)return zC("GRPC error has no .code"),QC.UNKNOWN;switch(e){case rT.OK:return QC.OK;case rT.CANCELLED:return QC.CANCELLED;case rT.UNKNOWN:return QC.UNKNOWN;case rT.DEADLINE_EXCEEDED:return QC.DEADLINE_EXCEEDED;case rT.RESOURCE_EXHAUSTED:return QC.RESOURCE_EXHAUSTED;case rT.INTERNAL:return QC.INTERNAL;case rT.UNAVAILABLE:return QC.UNAVAILABLE;case rT.UNAUTHENTICATED:return QC.UNAUTHENTICATED;case rT.INVALID_ARGUMENT:return QC.INVALID_ARGUMENT;case rT.NOT_FOUND:return QC.NOT_FOUND;case rT.ALREADY_EXISTS:return QC.ALREADY_EXISTS;case rT.PERMISSION_DENIED:return QC.PERMISSION_DENIED;case rT.FAILED_PRECONDITION:return QC.FAILED_PRECONDITION;case rT.ABORTED:return QC.ABORTED;case rT.OUT_OF_RANGE:return QC.OUT_OF_RANGE;case rT.UNIMPLEMENTED:return QC.UNIMPLEMENTED;case rT.DATA_LOSS:return QC.DATA_LOSS;default:return WC()}}(iT=rT||(rT={}))[iT.OK=0]="OK",iT[iT.CANCELLED=1]="CANCELLED",iT[iT.UNKNOWN=2]="UNKNOWN",iT[iT.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",iT[iT.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",iT[iT.NOT_FOUND=5]="NOT_FOUND",iT[iT.ALREADY_EXISTS=6]="ALREADY_EXISTS",iT[iT.PERMISSION_DENIED=7]="PERMISSION_DENIED",iT[iT.UNAUTHENTICATED=16]="UNAUTHENTICATED",iT[iT.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",iT[iT.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",iT[iT.ABORTED=10]="ABORTED",iT[iT.OUT_OF_RANGE=11]="OUT_OF_RANGE",iT[iT.UNIMPLEMENTED=12]="UNIMPLEMENTED",iT[iT.INTERNAL=13]="INTERNAL",iT[iT.UNAVAILABLE=14]="UNAVAILABLE",iT[iT.DATA_LOSS=15]="DATA_LOSS";class aT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return lT}static getOrCreateInstance(){return null===lT&&(lT=new aT),lT}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let lT=null;function cT(){return new TextEncoder}const uT=new DC([4294967295,4294967295],0);function dT(e){const t=cT().encode(e),n=new PC;return n.update(t),new Uint8Array(n.digest())}function hT(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new DC([n,r],0),new DC([i,s],0)]}class fT{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new pT("Invalid padding: ".concat(t));if(n<0)throw new pT("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new pT("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new pT("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=DC.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(DC.fromNumber(n)));return 1===r.compare(uT)&&(r=new DC([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=dT(e),[n,r]=hT(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new fT(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.It)return;const t=dT(e),[n,r]=hT(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class pT extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mT{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,gT.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new mT(dS.min(),r,new CE(aS),cI(),yI())}}class gT{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new gT(n,t,yI(),yI(),yI())}}class vT{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class yT{constructor(e,t){this.targetId=e,this.Vt=t}}class bT{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jE.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class wT{constructor(){this.St=0,this.Dt=CT(),this.Ct=jE.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=yI(),t=yI(),n=yI();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:WC()}})),new gT(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=CT()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class _T{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=cI(),this.zt=xT(),this.Wt=new CE(aS)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:WC()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(Vk(s))if(0===r){const e=new gS(s.path);this.Yt(n,e,uk.newNoDocument(e,dS.min()))}else GC(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=aT.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,o,a,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(s=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===(a=null==u?void 0:u.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=DE(i).toUint8Array()}catch(e){if(e instanceof LE)return qC("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new fT(a,s,o)}catch(e){return qC(e instanceof pT?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(s)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&Vk(i.target)){const t=new gS(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,uk.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=yI();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new mT(e,t,this.Wt,this.jt,n);return this.jt=cI(),this.zt=xT(),this.Wt=new CE(aS),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new wT,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new kE(aS),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||BC("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new wT),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function xT(){return new CE(gS.comparator)}function CT(){return new CE(gS.comparator)}const ST={asc:"ASCENDING",desc:"DESCENDING"},ET={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kT={and:"AND",or:"OR"};class IT{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function TT(e,t){return e.useProto3Json||zS(t)?t:{value:t}}function NT(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function LT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function jT(e,t){return NT(e,t.toTimestamp())}function AT(e){return GC(!!e),dS.fromTimestamp(function(e){const t=OE(e);return new uS(t.seconds,t.nanos)}(e))}function OT(e,t){return function(e){return new fS(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function PT(e){const t=fS.fromString(e);return GC(nN(t)),t}function DT(e,t){return OT(e.databaseId,t.path)}function MT(e,t){const n=PT(t);if(n.get(1)!==e.databaseId.projectId)throw new ZC(QC.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ZC(QC.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new gS(UT(n))}function RT(e,t){return OT(e.databaseId,t)}function FT(e){const t=PT(e);return 4===t.length?fS.emptyPath():UT(t)}function VT(e){return new fS(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function UT(e){return GC(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function BT(e,t,n){return{name:DT(e,t),fields:n.value.mapValue.fields}}function zT(e,t,n){const r=MT(e,t.name),i=AT(t.updateTime),s=t.createTime?AT(t.createTime):dS.min(),o=new lk({mapValue:{fields:t.fields}}),a=uk.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function qT(e,t){let n;if(t instanceof GI)n={update:BT(e,t.key,t.value)};else if(t instanceof $I)n={delete:DT(e,t.key)};else if(t instanceof KI)n={update:BT(e,t.key,t.data),updateMask:tN(t.fieldMask)};else{if(!(t instanceof YI))return WC();n={verify:DT(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof TI)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof NI)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jI)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof OI)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw WC()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:jT(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:WC()}(e,t.precondition)),n}function HT(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?FI.updateTime(AT(e.updateTime)):void 0!==e.exists?FI.exists(e.exists):FI.none()}(t.currentDocument):FI.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)GC("REQUEST_TIME"===t.setToServerValue),n=new TI;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new NI(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new jI(e)}else"increment"in t?n=new OI(e,t.increment):WC();const r=mS.fromServerFormat(t.fieldPath);return new MI(r,n)}(e,t))):[];if(t.update){t.update.name;const i=MT(e,t.update.name),s=new lk({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new NE(t.map((e=>mS.fromServerFormat(e))))}(t.updateMask);return new KI(i,s,e,n,r)}return new GI(i,s,n,r)}if(t.delete){const r=MT(e,t.delete);return new $I(r,n)}if(t.verify){const r=MT(e,t.verify);return new YI(r,n)}return WC()}function WT(e,t){return{documents:[RT(e,t.path)]}}function GT(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=RT(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=RT(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return eN(yk.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:YT(e.field),direction:ZT(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=TT(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function KT(e){let t=FT(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){GC(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=QT(e);return t instanceof yk&&_k(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new pk(XT(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,zS(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new dk(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new dk(n,t)}(n.endAt)),Hk(t,i,o,s,a,"F",l,c)}function QT(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=XT(e.unaryFilter.field);return vk.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=XT(e.unaryFilter.field);return vk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=XT(e.unaryFilter.field);return vk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=XT(e.unaryFilter.field);return vk.create(i,"!=",{nullValue:"NULL_VALUE"});default:return WC()}}(e):void 0!==e.fieldFilter?function(e){return vk.create(XT(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return WC()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return yk.create(e.compositeFilter.filters.map((e=>QT(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return WC()}}(e.compositeFilter.op))}(e):WC()}function ZT(e){return ST[e]}function JT(e){return ET[e]}function $T(e){return kT[e]}function YT(e){return{fieldPath:e.canonicalString()}}function XT(e){return mS.fromServerFormat(e.fieldPath)}function eN(e){return e instanceof vk?function(e){if("=="===e.op){if(ek(e.value))return{unaryFilter:{field:YT(e.field),op:"IS_NAN"}};if(XE(e.value))return{unaryFilter:{field:YT(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ek(e.value))return{unaryFilter:{field:YT(e.field),op:"IS_NOT_NAN"}};if(XE(e.value))return{unaryFilter:{field:YT(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:YT(e.field),op:JT(e.op),value:e.value}}}(e):e instanceof yk?function(e){const t=e.getFilters().map((e=>eN(e)));return 1===t.length?t[0]:{compositeFilter:{op:$T(e.op),filters:t}}}(e):WC()}function tN(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function nN(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class rN{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:dS.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:dS.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:jE.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new rN(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new rN(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rN(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rN(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iN{constructor(e){this.fe=e}}function sN(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:oN(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:DT(e,t.key),fields:t.data.value.mapValue.fields,updateTime:NT(e,t.version.toTimestamp()),createTime:NT(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:aN(t.version)};else{if(!t.isUnknownDocument())return WC();r.unknownDocument={path:n.path.toArray(),version:aN(t.version)}}return r}function oN(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function aN(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function lN(e){const t=new uS(e.seconds,e.nanoseconds);return dS.fromTimestamp(t)}function cN(e,t){const n=(t.baseMutations||[]).map((t=>HT(e.fe,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>HT(e.fe,t))),i=uS.fromMillis(t.localWriteTimeMs);return new XI(t.batchId,i,n,r)}function uN(e){const t=lN(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?lN(e.lastLimboFreeSnapshotVersion):dS.min();let r;var i;return void 0!==e.query.documents?(GC(1===(i=e.query).documents.length),r=$k(Wk(FT(i.documents[0])))):r=function(e){return $k(KT(e))}(e.query),new rN(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,jE.fromBase64String(e.resumeToken))}function dN(e,t){const n=aN(t.snapshotVersion),r=aN(t.lastLimboFreeSnapshotVersion);let i;i=Vk(t.target)?WT(e.fe,t.target):GT(e.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Rk(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function hN(e){const t=KT({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Xk(t,t.limit,"L"):t}function fN(e,t){return new tT(t.largestBatchId,HT(e.fe,t.overlayMutation))}function pN(e,t){const n=t.path.lastSegment();return[e,WS(t.path.popLast()),n]}function mN(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:aN(r.readTime),documentKey:WS(r.documentKey.path),largestBatchId:r.largestBatchId}}class gN{getBundleMetadata(e,t){return vN(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:lN(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return vN(e).put({bundleId:(n=t).id,createTime:aN(AT(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return yN(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:hN(t.bundledQuery),readTime:lN(t.readTime)};var t}))}saveNamedQuery(e,t){return yN(e).put(function(e){return{name:e.name,readTime:aN(AT(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function vN(e){return bE(e,"bundles")}function yN(e){return bE(e,"namedQueries")}class bN{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const n=t.uid||"";return new bN(e,n)}getOverlay(e,t){return wN(e).get(pN(this.userId,t)).next((e=>e?fN(this.serializer,e):null))}getOverlays(e,t){const n=fI();return NS.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new tT(t,i);r.push(this.we(e,s))})),NS.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(WS(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(wN(e).J("collectionPathOverlayIndex",r))})),NS.waitFor(i)}getOverlaysForCollection(e,t,n){const r=fI(),i=WS(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return wN(e).j("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=fN(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=fI();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return wN(e).X({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=fN(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}we(e,t){return wN(e).put(function(e,t,n){const[r,i,s]=pN(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:qT(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}function wN(e){return bE(e,"documentOverlays")}class _N{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(PE(e.integerValue));else if("doubleValue"in e){const n=PE(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),qS(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(DE(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?rk(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):WC()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),gS.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function xN(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function CN(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=xN(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}_N.Ve=new _N;class SN{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.De(e);else if(e<2048)this.De(960|e>>>6),this.De(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.De(480|e>>>12),this.De(128|63&e>>>6),this.De(128|63&e);else{const e=t.codePointAt(0);this.De(240|e>>>18),this.De(128|63&e>>>12),this.De(128|63&e>>>6),this.De(128|63&e)}}this.Ce()}$e(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ne(e);else if(e<2048)this.Ne(960|e>>>6),this.Ne(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e);else{const e=t.codePointAt(0);this.Ne(240|e>>>18),this.Ne(128|63&e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e)}}this.ke()}Oe(e){const t=this.Fe(e),n=CN(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),n=CN(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class EN{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class kN{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class IN{constructor(){this.je=new SN,this.ze=new EN(this.je),this.We=new kN(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class TN{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new TN(this.indexId,this.documentKey,this.arrayValue,n)}}function NN(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=LN(e.arrayValue,t.arrayValue),0!==n?n:(n=LN(e.directionalValue,t.directionalValue),0!==n?n:gS.comparator(e.documentKey,t.documentKey)))}function LN(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class jN{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const e=t;e.isInequality()?this.Ze=e:this.Xe.push(e)}}tn(e){GC(e.collectionGroup===this.collectionId);const t=yS(e);if(void 0!==t&&!this.en(t))return!1;const n=bS(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const e=n[i];if(!this.nn(this.Ze,e)||!this.sn(this.Ye[s++],e))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Ye.length||!this.sn(this.Ye[s++],e))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function AN(e){var t,n;if(GC(e instanceof vk||e instanceof yk),e instanceof vk){if(e instanceof Ak){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>vk.create(e.field,"==",t))))||[];return yk.create(r,"or")}return e}const r=e.filters.map((e=>AN(e)));return yk.create(r,e.op)}function ON(e){if(0===e.getFilters().length)return[];const t=RN(AN(e));return GC(MN(t)),PN(t)||DN(t)?[t]:t.getFilters()}function PN(e){return e instanceof vk}function DN(e){return e instanceof yk&&_k(e)}function MN(e){return PN(e)||DN(e)||function(e){if(e instanceof yk&&wk(e)){for(const t of e.getFilters())if(!PN(t)&&!DN(t))return!1;return!0}return!1}(e)}function RN(e){if(GC(e instanceof vk||e instanceof yk),e instanceof vk)return e;if(1===e.filters.length)return RN(e.filters[0]);const t=e.filters.map((e=>RN(e)));let n=yk.create(t,e.op);return n=UN(n),MN(n)?n:(GC(n instanceof yk),GC(bk(n)),GC(n.filters.length>1),n.filters.reduce(((e,t)=>FN(e,t))))}function FN(e,t){let n;return GC(e instanceof vk||e instanceof yk),GC(t instanceof vk||t instanceof yk),n=e instanceof vk?t instanceof vk?function(e,t){return yk.create([e,t],"and")}(e,t):VN(e,t):t instanceof vk?VN(t,e):function(e,t){if(GC(e.filters.length>0&&t.filters.length>0),bk(e)&&bk(t))return Ek(e,t.getFilters());const n=wk(e)?e:t,r=wk(e)?t:e,i=n.filters.map((e=>FN(e,r)));return yk.create(i,"or")}(e,t),UN(n)}function VN(e,t){if(bk(t))return Ek(t,e.getFilters());{const n=t.filters.map((t=>FN(e,t)));return yk.create(n,"or")}}function UN(e){if(GC(e instanceof vk||e instanceof yk),e instanceof vk)return e;const t=e.getFilters();if(1===t.length)return UN(t[0]);if(xk(e))return e;const n=t.map((e=>UN(e))),r=[];return n.forEach((t=>{t instanceof vk?r.push(t):t instanceof yk&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:yk.create(r,e.op)}class BN{constructor(){this.rn=new zN}addToCollectionParentIndex(e,t){return this.rn.add(t),NS.resolve()}getCollectionParents(e,t){return NS.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return NS.resolve()}deleteFieldIndex(e,t){return NS.resolve()}getDocumentsMatchingTarget(e,t){return NS.resolve(null)}getIndexType(e,t){return NS.resolve(0)}getFieldIndexes(e,t){return NS.resolve([])}getNextCollectionGroupToUpdate(e){return NS.resolve(null)}getMinOffset(e,t){return NS.resolve(SS.min())}getMinOffsetFromCollectionGroup(e,t){return NS.resolve(SS.min())}updateCollectionGroup(e,t,n){return NS.resolve()}updateIndexEntries(e,t){return NS.resolve()}}class zN{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new kE(fS.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new kE(fS.comparator)).toArray()}}const qN=new Uint8Array(0);class HN{constructor(e,t){this.user=e,this.databaseId=t,this.on=new zN,this.un=new aI((e=>Rk(e)),((e,t)=>Fk(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.on.add(t)}));const i={collectionId:n,parent:WS(r)};return WN(e).put(i)}return NS.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[cS(t),""],!1,!0);return WN(e).j(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(QS(r.parent))}return n}))}addFieldIndex(e,t){const n=KN(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=QN(e);return i.next((e=>{n.put(mN(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=KN(e),r=QN(e),i=GN(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=GN(e);let r=!0;const i=new Map;return NS.forEach(this.cn(t),(t=>this.an(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=yI();const r=[];return NS.forEach(i,((i,s)=>{var o;BC("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(",")))," to execute ").concat(Rk(t)));const a=function(e,t){const n=yS(t);if(void 0===n)return null;for(const r of Uk(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),l=function(e,t){const n=new Map;for(const r of bS(t))for(const t of Uk(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of bS(t)){const t=0===i.kind?Bk(e,i.fieldPath,e.startAt):zk(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new dk(n,r)}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of bS(t)){const t=0===i.kind?zk(e,i.fieldPath,e.endAt):Bk(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new dk(n,r)}(s,i),d=this.hn(i,s,c),h=this.hn(i,s,u),f=this.ln(i,s,l),p=this.fn(i.indexId,a,d,c.inclusive,h,u.inclusive,f);return NS.forEach(p,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=gS.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return NS.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:ON(yk.create(e.filters,"and")).map((t=>Mk(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}fn(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.dn(t[u/l]):qN,d=this.wn(e,a,n[u%l],r),h=this._n(e,a,i[u%l],s),f=o.map((t=>this.wn(e,a,t,!0)));c.push(...this.createRange(d,h,f))}return c}wn(e,t,n,r){const i=new TN(e,gS.empty(),t,n);return r?i:i.Je()}_n(e,t,n,r){const i=new TN(e,gS.empty(),t,n);return r?i.Je():i}an(e,t){const n=new jN(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return NS.forEach(r,(t=>this.an(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new kE(mS.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}mn(e,t){const n=new IN;for(const r of bS(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.He(r.kind);_N.Ve._e(e,i)}return n.Qe()}dn(e){const t=new IN;return _N.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new IN;return _N.Ve._e(JE(this.databaseId,t),n.He(function(e){const t=bS(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(null===n)return[];let r=[];r.push(new IN);let i=0;for(const s of bS(e)){const e=n[i++];for(const n of r)if(this.yn(t,s.fieldPath)&&YE(e))r=this.pn(r,s,e);else{const t=n.He(s.kind);_N.Ve._e(e,t)}}return this.In(r)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new IN;n.seed(e.Qe()),_N.Ve._e(s,n.He(t.kind)),i.push(n)}return i}yn(e,t){return!!e.filters.find((e=>e instanceof vk&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=KN(e),r=QN(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next((e=>{const t=[];return NS.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new _S(t.sequenceNumber,new SS(lN(t.readTime),new gS(QS(t.documentKey)),t.largestBatchId)):_S.empty(),r=e.fields.map((e=>{let[t,n]=e;return new wS(mS.fromServerFormat(t),n)}));return new vS(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:aS(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=KN(e),i=QN(e);return this.Tn(e).next((e=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>NS.forEach(t,(t=>i.put(mN(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return NS.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?NS.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),NS.forEach(i,(n=>this.En(e,t,n).next((t=>{const i=this.An(r,n);return t.isEqual(i)?NS.resolve():this.vn(e,r,n,t,i)})))))))}))}Rn(e,t,n,r){return GN(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,r){return GN(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const r=GN(e);let i=new kE(NN);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,r)=>{i=i.add(new TN(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}An(e,t){let n=new kE(NN);const r=this.mn(t,e);if(null==r)return n;const i=yS(t);if(null!=i){const s=e.data.field(i.fieldPath);if(YE(s))for(const i of s.arrayValue.values||[])n=n.add(new TN(t.indexId,e.key,this.dn(i),r))}else n=n.add(new TN(t.indexId,e.key,qN,r));return n}vn(e,t,n,r,i){BC("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=TE(s),l=TE(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=TE(o)):t?(i(a),a=TE(s)):(a=TE(s),l=TE(o))}}(r,i,NN,(r=>{s.push(this.Rn(e,t,n,r))}),(r=>{s.push(this.Pn(e,t,n,r))})),NS.waitFor(s)}Tn(e){let t=1;return QN(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>NN(e,t))).filter(((e,t,n)=>!t||0!==NN(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=NN(s,e),i=NN(s,t);if(0===n)r[0]=e.Je();else if(n>0&&i<0)r.push(s),r.push(s.Je());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,qN,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,qN,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return NN(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ZN)}getMinOffset(e,t){return NS.mapArray(this.cn(t),(t=>this.an(e,t).next((e=>e||WC())))).next(ZN)}}function WN(e){return bE(e,"collectionParents")}function GN(e){return bE(e,"indexEntries")}function KN(e){return bE(e,"indexConfiguration")}function QN(e){return bE(e,"indexState")}function ZN(e){GC(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;ES(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new SS(t.readTime,t.documentKey,n)}const JN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $N{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new $N(e,$N.DEFAULT_COLLECTION_PERCENTILE,$N.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function YN(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{GC(1===a)})));const c=[];for(const u of n.mutations){const e=$S(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return NS.waitFor(s).next((()=>c))}function XN(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw WC();t=e.noDocument}return JSON.stringify(t).length}$N.DEFAULT_COLLECTION_PERCENTILE=10,$N.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$N.DEFAULT=new $N(41943040,$N.DEFAULT_COLLECTION_PERCENTILE,$N.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$N.DISABLED=new $N(-1,0,0);class eL{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Vn={}}static de(e,t,n,r){GC(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new eL(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nL(e).X({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=rL(e),s=nL(e);return s.add({}).next((o=>{GC("number"==typeof o);const a=new XI(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>qT(e.fe,t))),i=n.mutations.map((t=>qT(e.fe,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new kE(((e,t)=>aS(e.canonicalString(),t.canonicalString())));for(const e of r){const t=$S(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,YS))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Vn[o]=a.keys()})),NS.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return nL(e).get(t).next((e=>e?(GC(e.userId===this.userId),cN(this.serializer,e)):null))}Sn(e,t){return this.Vn[t]?NS.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Vn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return nL(e).X({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(GC(t.batchId>=n),i=cN(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return nL(e).X({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nL(e).j("userMutationsIndex",t).next((e=>e.map((e=>cN(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=JS(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return rL(e).X({range:r},((n,r,s)=>{const[o,a,l]=n,c=QS(a);if(o===this.userId&&t.path.isEqual(c))return nL(e).get(l).next((e=>{if(!e)throw WC();GC(e.userId===this.userId),i.push(cN(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new kE(aS);const r=[];return t.forEach((t=>{const i=JS(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=rL(e).X({range:s},((e,r,i)=>{const[s,o,a]=e,l=QS(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),NS.waitFor(r).next((()=>this.Dn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=JS(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new kE(aS);return rL(e).X({range:s},((e,t,i)=>{const[s,a,l]=e,c=QS(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()})).next((()=>this.Dn(e,o)))}Dn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(nL(e).get(t).next((e=>{if(null===e)throw WC();GC(e.userId===this.userId),n.push(cN(this.serializer,e))})))})),NS.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return YN(e.ht,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Cn(t.batchId)})),NS.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return NS.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return rL(e).X({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=QS(e[1]);r.push(t)}else n.done()})).next((()=>{GC(0===r.length)}))}))}containsKey(e,t){return tL(e,this.userId,t)}xn(e){return iL(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function tL(e,t,n){const r=JS(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return rL(e).X({range:s,Y:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function nL(e){return bE(e,"mutations")}function rL(e){return bE(e,"documentMutations")}function iL(e){return bE(e,"mutationQueues")}class sL{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new sL(0)}static Mn(){return new sL(-1)}}class oL{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next((t=>{const n=new sL(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.$n(e).next((e=>dS.fromTimestamp(new uS(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.$n(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.$n(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r))))}addTargetData(e,t){return this.Fn(e,t).next((()=>this.$n(e).next((n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>aL(e).delete(t.targetId))).next((()=>this.$n(e))).next((t=>(GC(t.targetCount>0),t.targetCount-=1,this.On(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return aL(e).X(((s,o)=>{const a=uN(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>NS.waitFor(i))).next((()=>r))}forEachTarget(e,t){return aL(e).X(((e,n)=>{const r=uN(n);t(r)}))}$n(e){return lL(e).get("targetGlobalKey").next((e=>(GC(null!==e),e)))}On(e,t){return lL(e).put("targetGlobalKey",t)}Fn(e,t){return aL(e).put(dN(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Rk(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return aL(e).X({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=uN(n);Fk(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=cL(e);return t.forEach((t=>{const s=WS(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),NS.waitFor(r)}removeMatchingKeys(e,t,n){const r=cL(e);return NS.forEach(t,(t=>{const i=WS(t.path);return NS.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=cL(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=cL(e);let i=yI();return r.X({range:n,Y:!0},((e,t,n)=>{const r=QS(e[1]),s=new gS(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=WS(t.path),r=IDBKeyRange.bound([n],[cS(n)],!1,!0);let i=0;return cL(e).X({index:"documentTargetsIndex",Y:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}le(e,t){return aL(e).get(t).next((e=>e?uN(e):null))}}function aL(e){return bE(e,"targets")}function lL(e){return bE(e,"targetGlobal")}function cL(e){return bE(e,"targetDocuments")}function uL(e,t){let[n,r]=e,[i,s]=t;const o=aS(n,i);return 0===o?aS(r,s):o}class dL{constructor(e){this.Ln=e,this.buffer=new kE(uL),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();uL(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hL{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){BC("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){PS(e)?BC("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await TS(e)}await this.Qn(3e5)}))}}class fL{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return NS.resolve(BS.ct);const n=new dL(t);return this.jn.forEachTarget(e,(e=>n.Kn(e.sequenceNumber))).next((()=>this.jn.Wn(e,(e=>n.Kn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(BC("LruGarbageCollector","Garbage collection skipped; disabled"),NS.resolve(JN)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(BC("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),JN):this.Hn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(BC("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),UC()<=lf.DEBUG&&BC("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),NS.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function pL(e,t){return new fL(e,t)}class mL{constructor(e,t){this.db=e,this.garbageCollector=pL(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Jn(e){let t=0;return this.Wn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,((e,n)=>t(n)))}addReference(e,t,n){return gL(e,n)}removeReference(e,t,n){return gL(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return gL(e,t)}Xn(e,t){return function(e,t){let n=!1;return iL(e).Z((r=>tL(e,r,t).next((e=>(e&&(n=!0),NS.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Yn(e,((s,o)=>{if(o<=t){const t=this.Xn(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,dS.min()),cL(e).delete([0,WS(s.path)]))))}));r.push(t)}})).next((()=>NS.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return gL(e,t)}Yn(e,t){const n=cL(e);let r,i=BS.ct;return n.X({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==BS.ct&&t(new gS(QS(r)),i),i=l,r=a):i=BS.ct})).next((()=>{i!==BS.ct&&t(new gS(QS(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function gL(e,t){return cL(e).put(function(e,t){return{targetId:0,path:WS(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class vL{constructor(){this.changes=new aI((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,uk.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?NS.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yL{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return xL(e).put(n)}removeEntry(e,t,n){return xL(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],oN(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Zn(e,n))))}getEntry(e,t){let n=uk.newInvalidDocument(t);return xL(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(CL(t))},((e,r)=>{n=this.ts(t,r)})).next((()=>n))}es(e,t){let n={size:0,document:uk.newInvalidDocument(t)};return xL(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(CL(t))},((e,r)=>{n={document:this.ts(t,r),size:XN(r)}})).next((()=>n))}getEntries(e,t){let n=cI();return this.ns(e,t,((e,t)=>{const r=this.ts(e,t);n=n.insert(e,r)})).next((()=>n))}ss(e,t){let n=cI(),r=new CE(gS.comparator);return this.ns(e,t,((e,t)=>{const i=this.ts(e,t);n=n.insert(e,i),r=r.insert(e,XN(t))})).next((()=>({documents:n,rs:r})))}ns(e,t,n){if(t.isEmpty())return NS.resolve();let r=new kE(EL);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(CL(r.first()),CL(r.last())),s=r.getIterator();let o=s.getNext();return xL(e).X({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=gS.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&EL(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.G(CL(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r){const i=t.path,s=[i.popLast().toArray(),i.lastSegment(),oN(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xL(e).j(IDBKeyRange.bound(s,o,!0)).next((e=>{let n=cI();for(const i of e){const e=this.ts(gS.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(rI(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=cI();const s=SL(t,n),o=SL(t,SS.max());return xL(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.ts(gS.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new wL(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return _L(e).get("remoteDocumentGlobalKey").next((e=>(GC(!!e),e)))}Zn(e,t){return _L(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const e=function(e,t){let n;if(t.document)n=zT(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=gS.fromSegments(t.noDocument.path),r=lN(t.noDocument.readTime);n=uk.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return WC();{const e=gS.fromSegments(t.unknownDocument.path),r=lN(t.unknownDocument.version);n=uk.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new uS(e[0],e[1]);return dS.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(dS.min()))return e}return uk.newInvalidDocument(e)}}function bL(e){return new yL(e)}class wL extends vL{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new aI((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new kE(((e,t)=>aS(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.us.get(i);if(t.push(this.os.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=sN(this.os.serializer,s);r=r.add(i.path.popLast());const l=XN(a);n+=l-o.size,t.push(this.os.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=sN(this.os.serializer,s.convertToNoDocument(dS.min()));t.push(this.os.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.os.updateMetadata(e,n)),NS.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next((e=>(this.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.os.ss(e,t).next((e=>{let{documents:t,rs:n}=e;return n.forEach(((e,n)=>{this.us.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function _L(e){return bE(e,"remoteDocumentGlobal")}function xL(e){return bE(e,"remoteDocumentsV14")}function CL(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function SL(e,t){const n=t.documentKey.path.toArray();return[e,oN(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function EL(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=aS(n[s],r[s]),i)return i;return i=aS(n.length,r.length),i||(i=aS(n[n.length-2],r[r.length-2]),i||aS(n[n.length-1],r[r.length-1]))}class kL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class IL{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&qI(n.mutation,e,NE.empty(),uS.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,yI()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yI();const r=fI();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=dI();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=fI();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,yI())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=cI();const s=mI(),o=mI();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof KI)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),qI(o.mutation,t,o.mutation.getFieldMask(),uS.now())):s.set(t.key,NE.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new kL(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=mI();let r=new CE(((e,t)=>e-t)),i=yI();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||NE.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||yI()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=pI();l.forEach((e=>{if(!i.has(e)){const r=BI(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return NS.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return gS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Zk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):NS.resolve(fI());let o=-1,a=i;return s.next((t=>NS.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?NS.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,yI()))).next((e=>({batchId:o,changes:hI(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new gS(t)).next((e=>{let t=dI();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=dI();return this.indexManager.getCollectionParents(e,r).next((s=>NS.forEach(s,(s=>{const o=function(e,t){return new qk(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,uk.newInvalidDocument(r)))}));let n=dI();return e.forEach(((e,i)=>{const s=r.get(e);void 0!==s&&qI(s.mutation,i,NE.empty(),uS.now()),rI(t,i)&&(n=n.insert(e,i))})),n}))}}class TL{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return NS.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:AT(n.createTime)}),NS.resolve()}getNamedQuery(e,t){return NS.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:hN(e.bundledQuery),readTime:AT(e.readTime)}}(t)),NS.resolve()}}class NL{constructor(){this.overlays=new CE(gS.comparator),this.ls=new Map}getOverlay(e,t){return NS.resolve(this.overlays.get(t))}getOverlays(e,t){const n=fI();return NS.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),NS.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),NS.resolve()}getOverlaysForCollection(e,t,n){const r=fI(),i=t.length+1,s=new gS(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return NS.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new CE(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=fI(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=fI(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return NS.resolve(o)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new tT(t,n));let i=this.ls.get(t);void 0===i&&(i=yI(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class LL{constructor(){this.fs=new kE(jL.ds),this.ws=new kE(jL._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new jL(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new jL(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new gS(new fS([])),n=new jL(t,e),r=new jL(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new gS(new fS([])),n=new jL(t,e),r=new jL(t,e+1);let i=yI();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new jL(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class jL{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return gS.comparator(e.key,t.key)||aS(e.As,t.As)}static _s(e,t){return aS(e.As,t.As)||gS.comparator(e.key,t.key)}}class AL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new kE(jL.ds)}checkEmpty(e){return NS.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new XI(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Rs=this.Rs.add(new jL(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return NS.resolve(s)}lookupMutationBatch(e,t){return NS.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return NS.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return NS.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return NS.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new jL(t,0),r=new jL(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),NS.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new kE(aS);return t.forEach((e=>{const t=new jL(e,0),r=new jL(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),NS.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;gS.isDocumentKey(i)||(i=i.child(""));const s=new jL(new gS(i),0);let o=new kE(aS);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),s),NS.resolve(this.Vs(o))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){GC(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return NS.forEach(t.mutations,(r=>{const i=new jL(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new jL(t,0),r=this.Rs.firstAfterOrEqual(n);return NS.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,NS.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class OL{constructor(e){this.Ds=e,this.docs=new CE(gS.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return NS.resolve(n?n.document.mutableCopy():uk.newInvalidDocument(t))}getEntries(e,t){let n=cI();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():uk.newInvalidDocument(e))})),NS.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=cI();const s=t.path,o=new gS(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ES(CS(o),n)<=0||(r.has(o.key)||rI(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return NS.resolve(i)}getAllFromCollectionGroup(e,t,n,r){WC()}Cs(e,t){return NS.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new PL(this)}getSize(e){return NS.resolve(this.size)}}class PL extends vL{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),NS.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class DL{constructor(e){this.persistence=e,this.xs=new aI((e=>Rk(e)),Fk),this.lastRemoteSnapshotVersion=dS.min(),this.highestTargetId=0,this.Ns=0,this.ks=new LL,this.targetCount=0,this.Ms=sL.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),NS.resolve()}getLastRemoteSnapshotVersion(e){return NS.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return NS.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),NS.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),NS.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new sL(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,NS.resolve()}updateTargetData(e,t){return this.Fn(t),NS.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,NS.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),NS.waitFor(i).next((()=>r))}getTargetCount(e){return NS.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return NS.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),NS.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),NS.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),NS.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return NS.resolve(n)}containsKey(e,t){return NS.resolve(this.ks.containsKey(t))}}class ML{constructor(e,t){this.$s={},this.overlays={},this.Os=new BS(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new DL(this),this.indexManager=new BN,this.remoteDocumentCache=function(e){return new OL(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new iN(t),this.qs=new TL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new AL(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){BC("MemoryPersistence","Starting transaction:",e);const r=new RL(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return NS.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class RL extends IS{constructor(e){super(),this.currentSequenceNumber=e}}class FL{constructor(e){this.persistence=e,this.Qs=new LL,this.js=null}static zs(e){return new FL(e)}get Ws(){if(this.js)return this.js;throw WC()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),NS.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),NS.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),NS.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return NS.forEach(this.Ws,(n=>{const r=gS.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,dS.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return NS.or([()=>NS.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class VL{constructor(e){this.serializer=e}O(e,t,n,r){const i=new LS("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZS,{unique:!0}),e.createObjectStore("documentMutations")}(e),UL(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=NS.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),UL(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:dS.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").j().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZS,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return NS.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Ys(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(i))))),n<7&&r>=7&&(s=s.next((()=>this.Zs(i)))),n<8&&r>=8&&(s=s.next((()=>this.ti(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ei(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:uE});t.createIndex("collectionPathOverlayIndex",dE,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",hE,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:XS});t.createIndex("documentKeyIndex",eE),t.createIndex("collectionGroupIndex",tE)}(e))).next((()=>this.ni(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:oE}).createIndex("sequenceNumberIndex",aE,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:lE}).createIndex("documentKeyIndex",cE,{unique:!1})}(e)))),s}Xs(e){let t=0;return e.store("remoteDocuments").X(((e,n)=>{t+=XN(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next((t=>NS.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",r).next((n=>NS.forEach(n,(n=>{GC(n.userId===t.userId);const r=cN(this.serializer,n);return YN(e,t.userId,r).next((()=>{}))}))))}))))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.X(((n,i)=>{const s=new fS(n),o=function(e){return[0,WS(e)]}(s);r.push(t.get(o).next((n=>n?NS.resolve():(n=>t.put({targetId:0,path:WS(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>NS.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:sE});const n=t.store("collectionParents"),r=new zN,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:WS(r)})}};return t.store("remoteDocuments").X({Y:!0},((e,t)=>{const n=new fS(e);return i(n.popLast())})).next((()=>t.store("documentMutations").X({Y:!0},((e,t)=>{let[n,r,s]=e;const o=QS(r);return i(o.popLast())}))))}ei(e){const t=e.store("targets");return t.X(((e,n)=>{const r=uN(n),i=dN(this.serializer,r);return t.put(i)}))}ni(e,t){const n=t.store("remoteDocuments"),r=[];return n.X(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=(o=n,o.document?new gS(fS.fromString(o.document.name).popFirst(5)):o.noDocument?gS.fromSegments(o.noDocument.path):o.unknownDocument?gS.fromSegments(o.unknownDocument.path):WC()).path.toArray();var o;const a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>NS.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=bL(this.serializer),i=new ML(FL.zs,this.serializer.fe);return n.j().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:yI();cN(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),NS.forEach(n,((e,n)=>{const s=new RC(n),o=bN.de(this.serializer,s),a=i.getIndexManager(s),l=eL.de(s,this.serializer,a,i.referenceDelegate);return new IL(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new yE(t,BS.ct),e).next()}))}))}}function UL(e){e.createObjectStore("targetDocuments",{keyPath:rE}).createIndex("documentTargetsIndex",iE,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nE,{unique:!0}),e.createObjectStore("targetGlobal")}const BL="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zL{constructor(e,t,n,r,i,s,o,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=i,this.window=s,this.document=o,this.ri=l,this.oi=c,this.ui=u,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!zL.D())throw new ZC(QC.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mL(this,r),this.di=t+"main",this.serializer=new iN(a),this.wi=new jS(this.di,this.ui,new VL(this.serializer)),this.Bs=new oL(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bL(this.serializer),this.qs=new gN,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===c&&zC("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ZC(QC.FAILED_PRECONDITION,BL);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Bs.getHighestSequenceNumber(e)))})).then((e=>{this.Os=new BS(e,this.ri)})).then((()=>{this.Fs=!0})).catch((e=>(this.wi&&this.wi.close(),Promise.reject(e))))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>HL(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ti(e).next((e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Ei(e))).next((t=>this.isPrimary&&!t?this.Ai(e).next((()=>!1)):!!t&&this.vi(e).next((()=>!0)))))).catch((e=>{if(PS(e))return BC("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return BC("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ii.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Ti(e){return qL(e).get("owner").next((e=>NS.resolve(this.Ri(e))))}Pi(e){return HL(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=bE(e,"clientMetadata");return t.j().next((e=>{const n=this.Si(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return NS.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.bi())).then((()=>this.pi()))))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?NS.resolve(!0):qL(e).get("owner").next((t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new ZC(QC.FAILED_PRECONDITION,BL);return!1}}return!(!this.networkEnabled||!this.inForeground)||HL(e).j().next((e=>void 0===this.Si(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&BC("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new yE(e,BS.ct);return this.Ai(t).next((()=>this.Pi(t)))})),this.wi.close(),this.Mi()}Si(e,t){return e.filter((e=>this.Vi(e.updateTimeMs,t)&&!this.Ci(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>HL(e).j().next((e=>this.Si(e,18e5).map((e=>e.clientId))))))}get started(){return this.Fs}getMutationQueue(e,t){return eL.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new HN(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return bN.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){BC("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(s=this.ui)?vE:14===s?gE:13===s?mE:12===s?pE:11===s?fE:void WC();var s;let o;return this.wi.runTransaction(e,r,i,(r=>(o=new yE(r,this.Os?this.Os.next():BS.ct),"readwrite-primary"===t?this.Ti(o).next((e=>!!e||this.Ei(o))).next((t=>{if(!t)throw zC("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))),new ZC(QC.FAILED_PRECONDITION,kS);return n(o)})).next((e=>this.vi(o).next((()=>e)))):this.Oi(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Oi(e){return qL(e).get("owner").next((e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ZC(QC.FAILED_PRECONDITION,BL)}))}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qL(e).put("owner",t)}static D(){return jS.D()}Ai(e){const t=qL(e);return t.get("owner").next((e=>this.Ri(e)?(BC("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):NS.resolve()))}Vi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(zC("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;!Fh()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return BC("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return zC("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){zC("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function qL(e){return bE(e,"owner")}function HL(e){return bE(e,"clientMetadata")}function WL(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class GL{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=yI(),r=yI();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new GL(e,t.fromCache,n,r)}}class KL{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(Gk(t))return NS.resolve(null);let n=$k(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Xk(t,null,"F"),n=$k(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=yI(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,Xk(t,null,"F")):this.Wi(e,s,t,n)}))))})))))}Gi(e,t,n,r){return Gk(t)||r.isEqual(dS.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(UC()<=lf.DEBUG&&BC("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),nI(t)),this.Wi(e,s,t,xS(r,-1)))}))}ji(e,t){let n=new kE(sI(e));return t.forEach(((t,r)=>{rI(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return UC()<=lf.DEBUG&&BC("QueryEngine","Using full collection scan to execute query:",nI(t)),this.Ui.getDocumentsMatchingQuery(e,t,SS.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class QL{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new CE(aS),this.Yi=new aI((e=>Rk(e)),Fk),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IL(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function ZL(e,t,n,r){return new QL(e,t,n,r)}async function JL(e,t){const n=KC(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=yI();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({er:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function $L(e){const t=KC(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function YL(e,t,n){let r=yI(),i=yI();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=cI();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(dS.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):BC("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{nr:r,sr:i}}))}function XL(e,t){const n=KC(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function ej(e,t){const n=KC(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,NS.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new rN(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function tj(e,t,n){const r=KC(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!PS(e))throw e;BC("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function nj(e,t,n){const r=KC(e);let i=dS.min(),s=yI();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=KC(e),i=r.Yi.get(n);return void 0!==i?NS.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,$k(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:dS.min(),n?s:yI()))).next((e=>(sj(r,iI(t),e),{documents:e,ir:s})))))}function rj(e,t){const n=KC(e),r=KC(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.le(e,t).next((e=>e?e.target:null))))}function ij(e,t){const n=KC(e),r=n.Xi.get(t)||dS.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Zi.getAllFromCollectionGroup(e,t,xS(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(sj(n,t,e),e)))}function sj(e,t,n){let r=e.Xi.get(t)||dS.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}async function oj(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yI();const r=await ej(e,$k(hN(t.bundledQuery))),i=KC(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=AT(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.qs.saveNamedQuery(e,t);const o=r.withResumeToken(jE.EMPTY_BYTE_STRING,s);return i.Ji=i.Ji.insert(o.targetId,o),i.Bs.updateTargetData(e,o).next((()=>i.Bs.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Bs.addMatchingKeys(e,n,r.targetId))).next((()=>i.qs.saveNamedQuery(e,t)))}))}function aj(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function lj(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function cj(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class uj{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static ar(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ZC(r.error.code,r.error.message))),s?new uj(e,t,r.state,i):(zC("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dj{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static ar(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new ZC(n.error.code,n.error.message))),i?new dj(e,n.state,r):(zC("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hj{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=wI();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=HS(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new hj(e,i):(zC("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class fj{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new fj(t.clientId,t.onlineState):(zC("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class pj{constructor(){this.activeTargetIds=wI()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mj{constructor(e,t,n,r,i){this.window=e,this.ii=t,this.persistenceKey=n,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new CE(aS),this.started=!1,this.yr=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.pr=aj(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new pj),this.Tr=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.wr)continue;const e=this.getItem(aj(this.persistenceKey,n));if(e){const t=hj.ar(n,e);t&&(this.gr=this.gr.insert(t.clientId,t))}}this.Pr();const t=this.storage.getItem(this.vr);if(t){const e=this.br(t);e&&this.Vr(e)}for(const n of this.yr)this.mr(n);this.yr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,n){this.Dr(e,t,n),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(cj(this.persistenceKey,e));if(n){const r=dj.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(cj(this.persistenceKey,e))}updateQueryState(e,t,n){this.kr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Cr(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return BC("SharedClientState","READ",e,t),t}setItem(e,t){BC("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){BC("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const t=e;if(t.storageArea===this.storage){if(BC("SharedClientState","EVENT",t.key,t.newValue),t.key===this.pr)return void zC("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Tr.test(t.key)){if(null==t.newValue){const e=this.Or(t.key);return this.Fr(e,null)}{const e=this.Br(t.key,t.newValue);if(e)return this.Fr(e.clientId,e)}}else if(this.Er.test(t.key)){if(null!==t.newValue){const e=this.Lr(t.key,t.newValue);if(e)return this.qr(e)}}else if(this.Ar.test(t.key)){if(null!==t.newValue){const e=this.Ur(t.key,t.newValue);if(e)return this.Kr(e)}}else if(t.key===this.vr){if(null!==t.newValue){const e=this.br(t.newValue);if(e)return this.Vr(e)}}else if(t.key===this.Ir){const e=function(e){let t=BS.ct;if(null!=e)try{const n=JSON.parse(e);GC("number"==typeof n),t=n}catch(e){zC("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==BS.ct&&this.sequenceNumberHandler(e)}else if(t.key===this.Rr){const e=this.Gr(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Qr(e))))}}else this.yr.push(t)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,n){const r=new uj(this.currentUser,e,t,n),i=lj(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}Cr(e){const t=lj(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){const t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}kr(e,t,n){const r=cj(this.persistenceKey,e),i=new dj(e,t,n);this.setItem(r,i.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const n=this.Or(e);return hj.ar(n,t)}Lr(e,t){const n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return uj.ar(new RC(i),r,t)}Ur(e,t){const n=this.Ar.exec(e),r=Number(n[1]);return dj.ar(r,t)}br(e){return fj.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);BC("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const n=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),i=this.Sr(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.Wr(s,o).then((()=>{this.gr=n}))}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=wI();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class gj{constructor(){this.Hr=new pj,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new pj,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vj{Yr(e){}shutdown(){}}class yj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){BC("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){BC("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bj=null;function wj(){return null===bj?bj=268435456+Math.round(2147483648*Math.random()):bj++,"0x"+bj.toString(16)}const _j={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xj{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Cj="WebChannelConnection";class Sj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=wj(),o=this.To(e,t);BC("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={};return this.Eo(a,r,i),this.Ao(e,o,a,n).then((t=>(BC("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw qC("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+FC,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=_j[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=wj();return new Promise(((s,o)=>{const a=new OC;a.setWithCredentials(!0),a.listenOnce(TC.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case IC.NO_ERROR:const t=a.getResponseJson();BC(Cj,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case IC.TIMEOUT:BC(Cj,"RPC '".concat(e,"' ").concat(i," timed out")),o(new ZC(QC.DEADLINE_EXCEEDED,"Request time out"));break;case IC.HTTP_ERROR:const n=a.getStatus();if(BC(Cj,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(QC).indexOf(t)>=0?t:QC.UNKNOWN}(t.status);o(new ZC(e,t.message))}else o(new ZC(QC.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ZC(QC.UNAVAILABLE,"Connection failed."));break;default:WC()}}finally{BC(Cj,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);BC(Cj,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=wj(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=EC(),o=kC(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new jC({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");BC(Cj,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let d=!1,h=!1;const f=new xj({ro:t=>{h?BC(Cj,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(BC(Cj,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),BC(Cj,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,AC.EventType.OPEN,(()=>{h||BC(Cj,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,AC.EventType.CLOSE,(()=>{h||(h=!0,BC(Cj,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())})),p(u,AC.EventType.ERROR,(t=>{h||(h=!0,qC(Cj,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new ZC(QC.UNAVAILABLE,"The operation could not be completed")))})),p(u,AC.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];GC(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){BC(Cj,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=rT[e];if(void 0!==t)return oT(t)}(t),i=o.message;void 0===n&&(n=QC.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.wo(new ZC(n,i)),u.close()}else BC(Cj,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}})),p(o,NC.STAT_EVENT,(t=>{t.stat===LC.PROXY?BC(Cj,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===LC.NOPROXY&&BC(Cj,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function Ej(){return"undefined"!=typeof window?window:null}function kj(){return"undefined"!=typeof document?document:null}function Ij(e){return new IT(e,!0)}class Tj{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&BC("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Nj{constructor(e,t,n,r,i,s,o,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Tj(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===QC.RESOURCE_EXHAUSTED?(zC(t.toString()),zC("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===QC.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new ZC(QC.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return BC("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(BC("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Lj extends Nj{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:WC()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(GC(void 0===t||"string"==typeof t),jE.fromBase64String(t||"")):(GC(void 0===t||t instanceof Uint8Array),jE.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?QC.UNKNOWN:oT(e.code);return new ZC(t,e.message||"")}(o);n=new bT(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=MT(e,r.document.name),s=AT(r.document.updateTime),o=r.document.createTime?AT(r.document.createTime):dS.min(),a=new lk({mapValue:{fields:r.document.fields}}),l=uk.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new vT(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=MT(e,r.document),s=r.readTime?AT(r.readTime):dS.min(),o=uk.newNoDocument(i,s),a=r.removedTargetIds||[];n=new vT([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=MT(e,r.document),s=r.removedTargetIds||[];n=new vT([],s,i,null)}else{if(!("filter"in t))return WC();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new nT(r,i),o=e.targetId;n=new yT(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return dS.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?dS.min():t.readTime?AT(t.readTime):dS.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=VT(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Vk(r)?{documents:WT(e,r)}:{query:GT(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=LT(e,t.resumeToken);const r=TT(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(dS.min())>0){n.readTime=NT(e,t.snapshotVersion.toTimestamp());const r=TT(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return WC()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=VT(this.serializer),t.removeTarget=e,this.Wo(t)}}class jj extends Nj{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(GC(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(GC(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?AT(e.updateTime):AT(t);return n.isEqual(dS.min())&&(n=AT(t)),new RI(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=AT(e.commitTime);return this.listener.cu(n,t)}return GC(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=VT(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>qT(this.serializer,e)))};this.Wo(t)}}class Aj extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new ZC(QC.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===QC.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ZC(QC.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.vo(e,t,n,s,o,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===QC.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ZC(QC.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class Oj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(zC(t),this.mu=!1):BC("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Pj{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{qj(this)&&(BC("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=KC(e);t.vu.add(4),await Mj(t),t.bu.set("Unknown"),t.vu.delete(4),await Dj(t)}(this))}))})),this.bu=new Oj(n,r)}}async function Dj(e){if(qj(e))for(const t of e.Ru)await t(!0)}async function Mj(e){for(const t of e.Ru)await t(!1)}function Rj(e,t){const n=KC(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),zj(n)?Bj(n):aA(n).Ko()&&Vj(n,t))}function Fj(e,t){const n=KC(e),r=aA(n);n.Au.delete(t),r.Ko()&&Uj(n,t),0===n.Au.size&&(r.Ko()?r.jo():qj(n)&&n.bu.set("Unknown"))}function Vj(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(dS.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}aA(e).su(t)}function Uj(e,t){e.Vu.qt(t),aA(e).iu(t)}function Bj(e){e.Vu=new _T({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),aA(e).start(),e.bu.gu()}function zj(e){return qj(e)&&!aA(e).Uo()&&e.Au.size>0}function qj(e){return 0===KC(e).vu.size}function Hj(e){e.Vu=void 0}async function Wj(e){e.Au.forEach(((t,n)=>{Vj(e,t)}))}async function Gj(e,t){Hj(e),zj(e)?(e.bu.Iu(t),Bj(e)):e.bu.set("Unknown")}async function Kj(e,t,n){if(e.bu.set("Online"),t instanceof bT&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){BC("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Qj(e,n)}else if(t instanceof vT?e.Vu.Ht(t):t instanceof yT?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(dS.min()))try{const t=await $L(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(jE.EMPTY_BYTE_STRING,r.snapshotVersion)),Uj(e,t);const i=new rN(r.target,t,n,r.sequenceNumber);Vj(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){BC("RemoteStore","Failed to raise snapshot:",t),await Qj(e,t)}}async function Qj(e,t,n){if(!PS(t))throw t;e.vu.add(1),await Mj(e),e.bu.set("Offline"),n||(n=()=>$L(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{BC("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Dj(e)}))}function Zj(e,t){return t().catch((n=>Qj(e,n,t)))}async function Jj(e){const t=KC(e),n=lA(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;$j(t);)try{const e=await XL(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,Yj(t,e)}catch(e){await Qj(t,e)}Xj(t)&&eA(t)}function $j(e){return qj(e)&&e.Eu.length<10}function Yj(e,t){e.Eu.push(t);const n=lA(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Xj(e){return qj(e)&&!lA(e).Uo()&&e.Eu.length>0}function eA(e){lA(e).start()}async function tA(e){lA(e).hu()}async function nA(e){const t=lA(e);for(const n of e.Eu)t.uu(n.mutations)}async function rA(e,t,n){const r=e.Eu.shift(),i=eT.from(r,t,n);await Zj(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Jj(e)}async function iA(e,t){t&&lA(e).ou&&await async function(e,t){if(sT(n=t.code)&&n!==QC.ABORTED){const n=e.Eu.shift();lA(e).Qo(),await Zj(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Jj(e)}var n}(e,t),Xj(e)&&eA(e)}async function sA(e,t){const n=KC(e);n.asyncQueue.verifyOperationInProgress(),BC("RemoteStore","RemoteStore received new credentials");const r=qj(n);n.vu.add(3),await Mj(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Dj(n)}async function oA(e,t){const n=KC(e);t?(n.vu.delete(2),await Dj(n)):t||(n.vu.add(2),await Mj(n),n.bu.set("Unknown"))}function aA(e){return e.Su||(e.Su=function(e,t,n){const r=KC(e);return r.fu(),new Lj(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Wj.bind(null,e),ao:Gj.bind(null,e),nu:Kj.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),zj(e)?Bj(e):e.bu.set("Unknown")):(await e.Su.stop(),Hj(e))}))),e.Su}function lA(e){return e.Du||(e.Du=function(e,t,n){const r=KC(e);return r.fu(),new jj(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:tA.bind(null,e),ao:iA.bind(null,e),au:nA.bind(null,e),cu:rA.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await Jj(e)):(await e.Du.stop(),e.Eu.length>0&&(BC("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))}))),e.Du}class cA{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new JC,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new cA(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ZC(QC.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uA(e,t){if(zC("AsyncQueue","".concat(t,": ").concat(e)),PS(e))return new ZC(QC.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class dA{constructor(e){this.comparator=e?(t,n)=>e(t,n)||gS.comparator(t.key,n.key):(e,t)=>gS.comparator(e.key,t.key),this.keyedMap=dI(),this.sortedSet=new CE(this.comparator)}static emptySet(e){return new dA(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dA))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new dA;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class hA{constructor(){this.Cu=new CE(gS.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):WC():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class fA{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new fA(e,t,dA.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eI(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class pA{constructor(){this.Nu=void 0,this.listeners=[]}}class mA{constructor(){this.queries=new aI((e=>tI(e)),eI),this.onlineState="Unknown",this.ku=new Set}}async function gA(e,t){const n=KC(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new pA),i)try{s.Nu=await n.onListen(r)}catch(e){const n=uA(e,"Initialization of query '".concat(nI(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&wA(n)}async function vA(e,t){const n=KC(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function yA(e,t){const n=KC(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&wA(n)}function bA(e,t,n){const r=KC(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function wA(e){e.ku.forEach((e=>{e.next()}))}class _A{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new fA(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=fA.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class xA{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class CA{constructor(e){this.serializer=e}rr(e){return MT(this.serializer,e)}ur(e){return e.metadata.exists?zT(this.serializer,e.document,!1):uk.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return AT(e)}}class SA{constructor(e,t,n){this.ju=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=EA(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const n=fS.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,n=new CA(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.rr(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||yI()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=KC(e);let s=yI(),o=cI();for(const c of n){const e=t.rr(c.metadata.name);c.document&&(s=s.add(e));const n=t.ur(c);n.setReadTime(t.cr(c.metadata.readTime)),o=o.insert(e,n)}const a=i.Zi.newChangeBuffer({trackRemovals:!0}),l=await ej(i,function(e){return $k(Wk(fS.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>YL(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.Bs.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Bs.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr))).next((()=>t.nr))))))}(this.localStore,new CA(this.serializer),this.documents,this.ju.id),t=this.Wu(this.documents);for(const n of this.queries)await oj(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function EA(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class kA{constructor(e){this.key=e}}class IA{constructor(e){this.key=e}}class TA{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=yI(),this.mutatedKeys=yI(),this.tc=sI(e),this.ec=new dA(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new hA,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=rI(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.tc(u,a)>0||l&&this.tc(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:o,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return WC()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const s=t?this.uc():[],o=0===this.Zu.size&&this.current?1:0,a=o!==this.Xu;return this.Xu=o,0!==i.length||a?{snapshot:new fA(this.query,e.ec,r,i,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new hA,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=yI(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new IA(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new kA(n))})),t}hc(e){this.Yu=e.ir,this.Zu=yI();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return fA.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class NA{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class LA{constructor(e){this.key=e,this.fc=!1}}class jA{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new aI((e=>tI(e)),eI),this._c=new Map,this.mc=new Set,this.gc=new CE(gS.comparator),this.yc=new Map,this.Ic=new LL,this.Tc={},this.Ec=new Map,this.Ac=sL.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function AA(e,t){const n=iO(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await ej(n.localStore,$k(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await OA(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&Rj(n.remoteStore,e)}return i}async function OA(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await nj(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return HA(e,t.targetId,o.cc),o.snapshot}(e,t,n,r);const s=await nj(e.localStore,t,!0),o=new TA(t,s.ir),a=o.sc(s.documents),l=gT.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);HA(e,n,c.cc);const u=new NA(t,n,o);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function PA(e,t){const n=KC(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!eI(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await tj(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Fj(n.remoteStore,r.targetId),zA(n,r.targetId)})).catch(TS)):(zA(n,r.targetId),await tj(n.localStore,r.targetId,!0))}async function DA(e,t){const n=KC(e);try{const e=await function(e,t){const n=KC(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(jE.EMPTY_BYTE_STRING,dS.min()).withLastLimboFreeSnapshotVersion(dS.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Bs.updateTargetData(e,c))}));let a=cI(),l=yI();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(YL(e,s,t.documentUpdates).next((e=>{a=e.nr,l=e.sr}))),!r.isEqual(dS.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return NS.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(GC(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?GC(r.fc):e.removedDocuments.size>0&&(GC(r.fc),r.fc=!1))})),await KA(n,e,t)}catch(e){await TS(e)}}function MA(e,t,n){const r=KC(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=KC(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&wA(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function RA(e,t,n){const r=KC(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new CE(gS.comparator);e=e.insert(s,uk.newNoDocument(s,dS.min()));const n=yI().add(s),i=new mT(dS.min(),new Map,new CE(aS),e,n);await DA(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),GA(r)}else await tj(r.localStore,t,!1).then((()=>zA(r,t,n))).catch(TS)}async function FA(e,t){const n=KC(e),r=t.batch.batchId;try{const e=await function(e,t){const n=KC(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=NS.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);GC(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=yI();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);BA(n,r,null),UA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await KA(n,e)}catch(e){await TS(e)}}async function VA(e,t,n){const r=KC(e);try{const e=await function(e,t){const n=KC(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(GC(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);BA(r,t,n),UA(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await KA(r,e)}catch(n){await TS(n)}}function UA(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function BA(e,t,n){const r=KC(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function zA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||qA(e,t)}))}function qA(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Fj(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),GA(e))}function HA(e,t,n){for(const r of n)r instanceof kA?(e.Ic.addReference(r.key,t),WA(e,r)):r instanceof IA?(BC("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||qA(e,r.key)):WC()}function WA(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(BC("SyncEngine","New document in limbo: "+n),e.mc.add(r),GA(e))}function GA(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new gS(fS.fromString(t)),r=e.Ac.next();e.yc.set(r,new LA(n)),e.gc=e.gc.insert(n,r),Rj(e.remoteStore,new rN($k(Wk(n.path)),r,"TargetPurposeLimboResolution",BS.ct))}}async function KA(e,t,n){const r=KC(e),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach(((e,a)=>{o.push(r.Rc(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=GL.Li(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.dc.nu(i),await async function(e,t){const n=KC(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>NS.forEach(t,(t=>NS.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>NS.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!PS(e))throw e;BC("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function QA(e,t){const n=KC(e);if(!n.currentUser.isEqual(t)){BC("SyncEngine","User change. New user:",t.toKey());const e=await JL(n.localStore,t);n.currentUser=t,function(e,t){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new ZC(QC.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await KA(n,e.er)}}function ZA(e,t){const n=KC(e),r=n.yc.get(t);if(r&&r.fc)return yI().add(r.key);{let e=yI();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}async function JA(e,t){const n=KC(e),r=await nj(n.localStore,t.query,!0),i=t.view.hc(r);return n.isPrimaryClient&&HA(n,t.targetId,i.cc),i}async function $A(e,t){const n=KC(e);return ij(n.localStore,t).then((e=>KA(n,e)))}async function YA(e,t,n,r){const i=KC(e),s=await function(e,t){const n=KC(e),r=KC(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Sn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):NS.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await Jj(i.remoteStore):"acknowledged"===n||"rejected"===n?(BA(i,t,r||null),UA(i,t),function(e,t){KC(KC(e).mutationQueue).Cn(t)}(i.localStore,t)):WC(),await KA(i,s)):BC("SyncEngine","Cannot apply mutation batch with id: "+t)}async function XA(e,t,n){const r=KC(e),i=[],s=[];for(const o of t){let e;const t=r._c.get(o);if(t&&0!==t.length){e=await ej(r.localStore,$k(t[0]));for(const e of t){const t=r.wc.get(e),n=await JA(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await rj(r.localStore,o);e=await ej(r.localStore,t),await OA(r,eO(t),o,!1,e.resumeToken)}i.push(e)}return r.dc.nu(s),i}function eO(e){return Hk(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function tO(e){const t=KC(e);return KC(KC(t.localStore).persistence).$i()}async function nO(e,t,n,r){const i=KC(e);if(i.vc)return void BC("SyncEngine","Ignoring unexpected query state notification.");const s=i._c.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await ij(i.localStore,iI(s[0])),r=mT.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,jE.EMPTY_BYTE_STRING);await KA(i,e,r);break}case"rejected":await tj(i.localStore,t,!0),zA(i,t,r);break;default:WC()}}async function rO(e,t,n){const r=iO(e);if(r.vc){for(const e of t){if(r._c.has(e)){BC("SyncEngine","Adding an already active target "+e);continue}const t=await rj(r.localStore,e),n=await ej(r.localStore,t);await OA(r,eO(t),n.targetId,!1,n.resumeToken),Rj(r.remoteStore,n)}for(const e of n)r._c.has(e)&&await tj(r.localStore,e,!1).then((()=>{Fj(r.remoteStore,e),zA(r,e)})).catch(TS)}}function iO(e){const t=KC(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=DA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RA.bind(null,t),t.dc.nu=yA.bind(null,t.eventManager),t.dc.Pc=bA.bind(null,t.eventManager),t}function sO(e){const t=KC(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VA.bind(null,t),t}class oO{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ij(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return ZL(this.persistence,new KL,e.initialUser,this.serializer)}createPersistence(e){return new ML(FL.zs,this.serializer)}createSharedClientState(e){return new gj}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class aO extends oO{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await sO(this.Vc.syncEngine),await Jj(this.Vc.remoteStore),await this.persistence.Ii((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return ZL(this.persistence,new KL,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new hL(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new US(t,this.persistence);return new VS(e.asyncQueue,n)}createPersistence(e){const t=WL(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?$N.withCacheSize(this.cacheSizeBytes):$N.DEFAULT;return new zL(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ej(),kj(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new gj}}class lO extends aO{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Vc.syncEngine;this.sharedClientState instanceof mj&&(this.sharedClientState.syncEngine={jr:YA.bind(null,t),zr:nO.bind(null,t),Wr:rO.bind(null,t),$i:tO.bind(null,t),Qr:$A.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ii((async e=>{await async function(e,t){const n=KC(e);if(iO(n),sO(n),!0===t&&!0!==n.vc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await XA(n,e.toArray());n.vc=!0,await oA(n.remoteStore,!0);for(const r of t)Rj(n.remoteStore,r)}else if(!1===t&&!1!==n.vc){const e=[];let t=Promise.resolve();n._c.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(zA(n,i),tj(n.localStore,i,!0)))),Fj(n.remoteStore,i)})),await t,await XA(n,e),function(e){const t=KC(e);t.yc.forEach(((e,n)=>{Fj(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new CE(gS.comparator)}(n),n.vc=!1,await oA(n.remoteStore,!1)}}(this.Vc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Ej();if(!mj.D(t))throw new ZC(QC.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=WL(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mj(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class cO{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>MA(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=QA.bind(null,this.syncEngine),await oA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new mA}createDatastore(e){const t=Ij(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Sj(r));var r;return function(e,t,n,r){return new Aj(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>MA(this.syncEngine,e,0),s=yj.D()?new yj:new vj,new Pj(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new jA(e,t,n,r,i,s);return o&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=KC(e);BC("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Mj(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}function uO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class dO{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):zC("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class hO{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new JC,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((e=>{e&&e.Qu()?this.metadata.resolve(e.Gu.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(e=>this.metadata.reject(e)))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(null===e)return null;const t=this.xc.decode(e),n=Number(t);isNaN(n)&&this.Mc("length string (".concat(t,") is not valid number"));const r=await this.$c(n);return new xA(JSON.parse(r),e.length+n)}Oc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(0===this.buffer.length)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const t=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Mc(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}async Fc(){const e=await this.Cc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class fO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ZC(QC.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=KC(e),r=VT(n.serializer)+"/documents",i={documents:t.map((e=>DT(n.serializer,e)))},s=await n.vo("BatchGetDocuments",r,i,t.length),o=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){GC(!!t.found),t.found.name,t.found.updateTime;const n=MT(e,t.found.name),r=AT(t.found.updateTime),i=t.found.createTime?AT(t.found.createTime):dS.min(),s=new lk({mapValue:{fields:t.found.fields}});return uk.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){GC(!!t.missing),GC(!!t.readTime);const n=MT(e,t.missing),r=AT(t.readTime);return uk.newNoDocument(n,r)}(e,t):WC()}(n.serializer,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());GC(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new $I(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=gS.fromPath(t);this.mutations.push(new YI(n,this.precondition(n)))})),await async function(e,t){const n=KC(e),r=VT(n.serializer)+"/documents",i={writes:t.map((e=>qT(n.serializer,e)))};await n.Io("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw WC();t=dS.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ZC(QC.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(dS.min())?FI.exists(!1):FI.updateTime(t):FI.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(dS.min()))throw new ZC(QC.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return FI.updateTime(t)}return FI.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class pO{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Bc=n.maxAttempts,this.qo=new Tj(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No((async()=>{const e=new fO(this.datastore),t=this.qc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Uc(e)}))))})).catch((e=>{this.Uc(e)}))}))}qc(e){try{const t=this.updateFunction(e);return!zS(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Lc(),Promise.resolve())))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!sT(t)}return!1}}class mO{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=RC.UNAUTHENTICATED,this.clientId=oS.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{BC("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(BC("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ZC(QC.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new JC;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=uA(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function gO(e,t){e.asyncQueue.verifyOperationInProgress(),BC("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await JL(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function vO(e,t){e.asyncQueue.verifyOperationInProgress();const n=await bO(e);BC("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>sA(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>sA(t.remoteStore,n))),e._onlineComponents=t}function yO(e){return"FirebaseError"===e.name?e.code===QC.FAILED_PRECONDITION||e.code===QC.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function bO(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){BC("FirestoreClient","Using user provided OfflineComponentProvider");try{await gO(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!yO(n))throw n;qC("Error using user provided cache. Falling back to memory cache: "+n),await gO(e,new oO)}}else BC("FirestoreClient","Using default OfflineComponentProvider"),await gO(e,new oO);return e._offlineComponents}async function wO(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(BC("FirestoreClient","Using user provided OnlineComponentProvider"),await vO(e,e._uninitializedComponentsProvider._online)):(BC("FirestoreClient","Using default OnlineComponentProvider"),await vO(e,new cO))),e._onlineComponents}function _O(e){return bO(e).then((e=>e.persistence))}function xO(e){return bO(e).then((e=>e.localStore))}function CO(e){return wO(e).then((e=>e.remoteStore))}function SO(e){return wO(e).then((e=>e.syncEngine))}function EO(e){return wO(e).then((e=>e.datastore))}async function kO(e){const t=await wO(e),n=t.eventManager;return n.onListen=AA.bind(null,t.syncEngine),n.onUnlisten=PA.bind(null,t.syncEngine),n}function IO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new JC;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new dO({next:s=>{t.enqueueAndForget((()=>vA(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new ZC(QC.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new ZC(QC.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new _A(Wk(n.path),s,{includeMetadataChanges:!0,Ku:!0});return gA(e,o)}(await kO(e),e.asyncQueue,t,n,r))),r.promise}function TO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new JC;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new dO({next:n=>{t.enqueueAndForget((()=>vA(e,o))),n.fromCache&&"server"===r.source?i.reject(new ZC(QC.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new _A(n,s,{includeMetadataChanges:!0,Ku:!0});return gA(e,o)}(await kO(e),e.asyncQueue,t,n,r))),r.promise}function NO(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?cT().encode(e):e,function(e,t){return new hO(e,t)}(function(e,t){if(e instanceof Uint8Array)return uO(e,t);if(e instanceof ArrayBuffer)return uO(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Ij(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=KC(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=KC(e),r=AT(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.qs.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(EA(r));const i=new SA(r,e.localStore,t.serializer);let s=await t.bc();for(;s;){const e=await i.zu(s);e&&n._updateProgress(e),s=await t.bc()}const o=await i.complete();return await KA(e,o.Ju,void 0),await function(e,t){const n=KC(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.qs.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.Hu)}catch(e){return qC("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await SO(e),i,r)}))}function LO(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const jO=new Map;function AO(e,t,n){if(!n)throw new ZC(QC.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function OO(e,t,n,r){if(!0===t&&!0===r)throw new ZC(QC.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function PO(e){if(!gS.isDocumentKey(e))throw new ZC(QC.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function DO(e){if(gS.isDocumentKey(e))throw new ZC(QC.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function MO(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":WC()}function RO(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ZC(QC.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=MO(e);throw new ZC(QC.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function FO(e,t){if(t<=0)throw new ZC(QC.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class VO{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ZC(QC.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ZC(QC.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LO(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ZC(QC.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ZC(QC.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ZC(QC.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class UO{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ZC(QC.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ZC(QC.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VO(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new YC;switch(e.type){case"firstParty":return new nS(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ZC(QC.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jO.get(e);t&&(BC("ComponentProvider","Removing Datastore"),jO.delete(e),t.terminate())}(this),Promise.resolve()}}function BO(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=RO(e,UO))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&qC("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=RC.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Lh(JSON.stringify({alg:"none",type:"JWT"})),Lh(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ZC(QC.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new RC(s)}e._authCredentials=new XC(new $C(t,n))}}class zO{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new HO(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zO(this.firestore,e,this._key)}}class qO{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new qO(this.firestore,e,this._query)}}class HO extends qO{constructor(e,t,n){super(e,t,Wk(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zO(this.firestore,null,new gS(e))}withConverter(e){return new HO(this.firestore,e,this._path)}}function WO(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tf(e),AO("collection","path",t),e instanceof UO){const n=fS.fromString(t,...r);return DO(n),new HO(e,null,n)}{if(!(e instanceof zO||e instanceof HO))throw new ZC(QC.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(fS.fromString(t,...r));return DO(n),new HO(e.firestore,null,n)}}function GO(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tf(e),1===arguments.length&&(t=oS.A()),AO("doc","path",t),e instanceof UO){const n=fS.fromString(t,...r);return PO(n),new zO(e,null,new gS(n))}{if(!(e instanceof zO||e instanceof HO))throw new ZC(QC.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(fS.fromString(t,...r));return PO(n),new zO(e.firestore,e instanceof HO?e.converter:null,new gS(n))}}function KO(e,t){return e=tf(e),t=tf(t),(e instanceof zO||e instanceof HO)&&(t instanceof zO||t instanceof HO)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function QO(e,t){return e=tf(e),t=tf(t),e instanceof qO&&t instanceof qO&&e.firestore===t.firestore&&eI(e._query,t._query)&&e.converter===t.converter}class ZO{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Tj(this,"async_queue_retry"),this.Xc=()=>{const e=kj();e&&BC("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=kj();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=kj();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new JC;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!PS(e))throw e;BC("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw zC("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=cA.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&WC()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function JO(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class $O{constructor(){this._progressObserver={},this._taskCompletionResolver=new JC,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class YO extends UO{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ZO,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||eP(this),this._firestoreClient.terminate()}}function XO(e){return e._firestoreClient||eP(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function eP(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new VE(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,LO(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new mO(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function tP(e,t,n){const r=new JC;return e.asyncQueue.enqueue((async()=>{try{await gO(e,n),await vO(e,t),r.resolve()}catch(e){const n=e;if(!yO(n))throw n;qC("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function nP(e){return function(e){const t=new JC;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=KC(e);qj(n.remoteStore)||BC("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=KC(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ec.get(e)||[];r.push(t),n.Ec.set(e,r)}catch(e){const n=uA(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await SO(e),t))),t.promise}(XO(e=RO(e,YO)))}function rP(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await _O(e),n=await CO(e);return t.setNetworkEnabled(!0),function(e){const t=KC(e);return t.vu.delete(0),Dj(t)}(n)}))}(XO(e=RO(e,YO)))}function iP(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await _O(e),n=await CO(e);return t.setNetworkEnabled(!1),async function(e){const t=KC(e);t.vu.add(0),await Mj(t),t.bu.set("Offline")}(n)}))}(XO(e=RO(e,YO)))}function sP(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=KC(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.qs.getNamedQuery(e,t)))}(await xO(e),t)))}(XO(e=RO(e,YO)),t).then((t=>t?new qO(e,null,t.query):null))}function oP(e){if(e._initialized||e._terminated)throw new ZC(QC.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class aP{constructor(e){this._byteString=e}static fromBase64String(e){try{return new aP(jE.fromBase64String(e))}catch(e){throw new ZC(QC.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new aP(jE.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lP{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ZC(QC.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mS(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cP{constructor(e){this._methodName=e}}class uP{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ZC(QC.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ZC(QC.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return aS(this._lat,e._lat)||aS(this._long,e._long)}}const dP=/^__.*__$/;class hP{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new KI(e,this.data,this.fieldMask,t,this.fieldTransforms):new GI(e,this.data,t,this.fieldTransforms)}}class fP{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new KI(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pP(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw WC()}}class mP{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new mP(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return DP(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(pP(this.ca)&&dP.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class gP{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ij(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new mP({ca:e,methodName:t,ga:n,path:mS.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vP(e){const t=e._freezeSettings(),n=Ij(e._databaseId);return new gP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yP(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ya(s.merge||s.mergeFields?2:0,t,n,i);jP("Data must be an object, but it was:",o,r);const a=NP(r,o);let l,c;if(s.merge)l=new NE(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=AP(t,r,n);if(!o.contains(i))throw new ZC(QC.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));MP(e,i)||e.push(i)}l=new NE(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new hP(new lk(a),l,c)}class bP extends cP{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bP}}function wP(e,t,n){return new mP({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class _P extends cP{_toFieldTransform(e){return new MI(e.path,new TI)}isEqual(e){return e instanceof _P}}class xP extends cP{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=wP(this,e,!0),n=this.pa.map((e=>TP(e,t))),r=new NI(n);return new MI(e.path,r)}isEqual(e){return this===e}}class CP extends cP{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=wP(this,e,!0),n=this.pa.map((e=>TP(e,t))),r=new jI(n);return new MI(e.path,r)}isEqual(e){return this===e}}class SP extends cP{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new OI(e.serializer,CI(e.serializer,this.Ia));return new MI(e.path,t)}isEqual(e){return this===e}}function EP(e,t,n,r){const i=e.ya(1,t,n);jP("Data must be an object, but it was:",i,r);const s=[],o=lk.empty();_E(r,((e,r)=>{const a=PP(t,e,n);r=tf(r);const l=i.da(a);if(r instanceof bP)s.push(a);else{const e=TP(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new NE(s);return new fP(o,a,i.fieldTransforms)}function kP(e,t,n,r,i,s){const o=e.ya(1,t,n),a=[AP(t,r,n)],l=[i];if(s.length%2!=0)throw new ZC(QC.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)a.push(AP(t,s[h])),l.push(s[h+1]);const c=[],u=lk.empty();for(let h=a.length-1;h>=0;--h)if(!MP(c,a[h])){const e=a[h];let t=l[h];t=tf(t);const n=o.da(e);if(t instanceof bP)c.push(e);else{const r=TP(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new NE(c);return new fP(u,d,o.fieldTransforms)}function IP(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return TP(n,e.ya(r?4:3,t))}function TP(e,t){if(LP(e=tf(e)))return jP("Unsupported field value:",t,e),NP(e,t);if(e instanceof cP)return function(e,t){if(!pP(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=TP(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=tf(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return CI(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=uS.fromDate(e);return{timestampValue:NT(t.serializer,n)}}if(e instanceof uS){const n=new uS(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:NT(t.serializer,n)}}if(e instanceof uP)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof aP)return{bytesValue:LT(t.serializer,e._byteString)};if(e instanceof zO){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:OT(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(MO(e)))}(e,t)}function NP(e,t){const n={};return xE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_E(e,((e,r)=>{const i=TP(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function LP(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof uS||e instanceof uP||e instanceof aP||e instanceof zO||e instanceof cP)}function jP(e,t,n){if(!LP(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=MO(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function AP(e,t,n){if((t=tf(t))instanceof lP)return t._internalPath;if("string"==typeof t)return PP(e,t);throw DP("Field path arguments must be of type string or ",e,!1,void 0,n)}const OP=new RegExp("[~\\*/\\[\\]]");function PP(e,t,n){if(t.search(OP)>=0)throw DP("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new lP(...t.split("."))._internalPath}catch(r){throw DP("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function DP(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new ZC(QC.INVALID_ARGUMENT,a+e+l)}function MP(e,t){return e.some((e=>e.isEqual(t)))}class RP{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zO(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new FP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(VP("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class FP extends RP{data(){return super.data()}}function VP(e,t){return"string"==typeof t?PP(e,t):t instanceof lP?t._internalPath:t._delegate._internalPath}function UP(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ZC(QC.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BP{}class zP extends BP{}function qP(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof BP&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof WP)).length,n=e.filter((e=>e instanceof HP)).length;if(t>1||t>0&&n>0)throw new ZC(QC.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class HP extends zP{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new HP(e,t,n)}_apply(e){const t=this._parse(e);return XP(e._query,t),new qO(e.firestore,e.converter,Yk(e._query,t))}_parse(e){const t=vP(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new ZC(QC.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){YP(o,s);const t=[];for(const n of o)t.push($P(r,e,n));a={arrayValue:{values:t}}}else a=$P(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||YP(o,s),a=IP(n,"where",o,"in"===s||"not-in"===s);return vk.create(i,s,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class WP extends BP{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new WP(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:yk.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)XP(n,i),n=Yk(n,i)}(e._query,t),new qO(e.firestore,e.converter,Yk(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class GP extends zP{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new GP(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ZC(QC.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ZC(QC.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new pk(t,n);return function(e,t){if(null===Kk(e)){const n=Qk(e);null!==n&&eD(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new qO(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new qk(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class KP extends zP{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new KP(e,t,n)}_apply(e){return new qO(e.firestore,e.converter,Xk(e._query,this._limit,this._limitType))}}class QP extends zP{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new QP(e,t,n)}_apply(e){const t=JP(e,this.type,this._docOrFields,this._inclusive);return new qO(e.firestore,e.converter,function(e,t){return new qk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class ZP extends zP{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ZP(e,t,n)}_apply(e){const t=JP(e,this.type,this._docOrFields,this._inclusive);return new qO(e.firestore,e.converter,function(e,t){return new qk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function JP(e,t,n,r){if(n[0]=tf(n[0]),n[0]instanceof RP)return function(e,t,n,r,i){if(!r)throw new ZC(QC.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of Jk(e))if(o.field.isKeyField())s.push(JE(t,r.key));else{const e=r.data.field(o.field);if(ME(e))throw new ZC(QC.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new ZC(QC.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new dk(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=vP(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new ZC(QC.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new ZC(QC.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!Zk(e)&&-1!==s.indexOf("/"))throw new ZC(QC.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(fS.fromString(s));if(!gS.isDocumentKey(n))throw new ZC(QC.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new gS(n);a.push(JE(t,i))}else{const e=IP(n,r,s);a.push(e)}}return new dk(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function $P(e,t,n){if("string"==typeof(n=tf(n))){if(""===n)throw new ZC(QC.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zk(t)&&-1!==n.indexOf("/"))throw new ZC(QC.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(fS.fromString(n));if(!gS.isDocumentKey(r))throw new ZC(QC.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return JE(e,new gS(r))}if(n instanceof zO)return JE(e,n._key);throw new ZC(QC.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(MO(n),"."))}function YP(e,t){if(!Array.isArray(e)||0===e.length)throw new ZC(QC.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function XP(e,t){if(t.isInequality()){const n=Qk(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new ZC(QC.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=Kk(e);null!==i&&eD(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ZC(QC.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ZC(QC.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function eD(e,t,n){if(!n.isEqual(t))throw new ZC(QC.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class tD{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(qE(e)){case 0:return null;case 1:return e.booleanValue;case 2:return PE(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(DE(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw WC()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return _E(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new uP(PE(e.latitude),PE(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=RE(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(FE(e));default:return null}}convertTimestamp(e){const t=OE(e);return new uS(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=fS.fromString(e);GC(nN(n));const r=new UE(n.get(1),n.get(3)),i=new gS(n.popFirst(5));return r.isEqual(t)||zC("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function nD(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class rD extends tD{constructor(e){super(),this.firestore=e}convertBytes(e){return new aP(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zO(this.firestore,null,t)}}class iD{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sD extends RP{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new oD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(VP("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class oD extends sD{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class aD{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new iD(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new oD(this._firestore,this._userDataWriter,n.key,n,new iD(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ZC(QC.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new oD(e._firestore,e._userDataWriter,n.doc.key,n.doc,new iD(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new oD(e._firestore,e._userDataWriter,t.doc.key,t.doc,new iD(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:lD(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function lD(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return WC()}}function cD(e,t){return e instanceof sD&&t instanceof sD?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof aD&&t instanceof aD&&e._firestore===t._firestore&&QO(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class uD extends tD{constructor(e){super(),this.firestore=e}convertBytes(e){return new aP(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zO(this.firestore,null,t)}}function dD(e){e=RO(e,zO);const t=RO(e.firestore,YO),n=XO(t),r=new uD(t);return function(e,t){const n=new JC;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=KC(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new ZC(QC.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=uA(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await xO(e),t,n))),n.promise}(n,e._key).then((n=>new sD(t,r,e._key,n,new iD(null!==n&&n.hasLocalMutations,!0),e.converter)))}function hD(e){e=RO(e,qO);const t=RO(e.firestore,YO),n=XO(t),r=new uD(t);return function(e,t){const n=new JC;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await nj(e,t,!0),i=new TA(t,r.ir),s=i.sc(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=uA(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await xO(e),t,n))),n.promise}(n,e._query).then((n=>new aD(t,r,e,n)))}function fD(e,t,n){e=RO(e,zO);const r=RO(e.firestore,YO),i=nD(e.converter,t,n);return vD(r,[yP(vP(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,FI.none())])}function pD(e,t,n){e=RO(e,zO);const r=RO(e.firestore,YO),i=vP(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=tf(t))||t instanceof lP?kP(i,"updateDoc",e._key,t,n,a):EP(i,"updateDoc",e._key,t),vD(r,[s.toMutation(e._key,FI.exists(!0))])}function mD(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=tf(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||JO(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges};if(JO(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,d,h;if(e instanceof zO)d=RO(e.firestore,YO),h=Wk(e._key.path),u={next:t=>{n[l]&&n[l](yD(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=RO(e,qO);d=RO(t.firestore,YO),h=t._query;const r=new uD(d);u={next:e=>{n[l]&&n[l](new aD(d,r,t,e))},error:n[l+1],complete:n[l+2]},UP(e._query)}return function(e,t,n,r){const i=new dO(r),s=new _A(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>gA(await kO(e),s))),()=>{i.Dc(),e.asyncQueue.enqueueAndForget((async()=>vA(await kO(e),s)))}}(XO(d),h,c,u)}function gD(e,t){return function(e,t){const n=new dO(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){KC(e).ku.add(t),t.next()}(await kO(e),n))),()=>{n.Dc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){KC(e).ku.delete(t)}(await kO(e),n)))}}(XO(e=RO(e,YO)),JO(t)?t:{next:t})}function vD(e,t){return function(e,t){const n=new JC;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=sO(e);try{const e=await function(e,t){const n=KC(e),r=uS.now(),i=t.reduce(((e,t)=>e.add(t.key)),yI());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=cI(),l=yI();return n.Zi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=HI(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new KI(e.key,t,ck(t.value.mapValue),FI.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:hI(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new CE(aS)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await KA(r,e.changes),await Jj(r.remoteStore)}catch(e){const t=uA(e,"Failed to persist write");n.reject(t)}}(await SO(e),t,n))),n.promise}(XO(e),t)}function yD(e,t,n){const r=n.docs.get(t._key),i=new uD(e);return new sD(e,i,t._key,r,new iD(n.hasPendingWrites,n.fromCache),t.converter)}const bD={maxAttempts:5};class wD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vP(e)}set(e,t,n){this._verifyNotCommitted();const r=_D(e,this._firestore),i=nD(r.converter,t,n),s=yP(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,FI.none())),this}update(e,t,n){this._verifyNotCommitted();const r=_D(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=tf(t))||t instanceof lP?kP(this._dataReader,"WriteBatch.update",r._key,t,n,o):EP(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,FI.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=_D(e,this._firestore);return this._mutations=this._mutations.concat(new $I(t._key,FI.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ZC(QC.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _D(e,t){if((e=tf(e)).firestore!==t)throw new ZC(QC.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class xD extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=vP(e)}get(e){const t=_D(e,this._firestore),n=new rD(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return WC();const r=e[0];if(r.isFoundDocument())return new RP(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new RP(this._firestore,n,t._key,null,t.converter);throw WC()}))}set(e,t,n){const r=_D(e,this._firestore),i=nD(r.converter,t,n),s=yP(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=_D(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=tf(t))||t instanceof lP?kP(this._dataReader,"Transaction.update",r._key,t,n,o):EP(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=_D(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=_D(e,this._firestore),n=new uD(this._firestore);return super.get(e).then((e=>new sD(this._firestore,n,t._key,e._document,new iD(!1,!1),t.converter)))}}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){FC=e}(Kf),Bf(new nf("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new YO(new eS(e.getProvider("auth-internal")),new iS(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ZC(QC.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new UE(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Yf(MC,"3.13.0",e),Yf(MC,"3.13.0","esm2017")}();function CD(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ZC("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function SD(){if("undefined"===typeof Uint8Array)throw new ZC("unimplemented","Uint8Arrays are not available in this environment.")}function ED(){if("undefined"==typeof atob)throw new ZC("unimplemented","Blobs are unavailable in Firestore in this environment.")}class kD{constructor(e){this._delegate=e}static fromBase64String(e){return ED(),new kD(aP.fromBase64String(e))}static fromUint8Array(e){return SD(),new kD(aP.fromUint8Array(e))}toBase64(){return ED(),this._delegate.toBase64()}toUint8Array(){return SD(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ID(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class TD{enableIndexedDbPersistence(e,t){return function(e,t){oP(e=RO(e,YO));const n=XO(e);if(n._uninitializedComponentsProvider)throw new ZC(QC.FAILED_PRECONDITION,"SDK cache is already specified.");qC("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new cO;return tP(n,i,new aO(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){oP(e=RO(e,YO));const t=XO(e);if(t._uninitializedComponentsProvider)throw new ZC(QC.FAILED_PRECONDITION,"SDK cache is already specified.");qC("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new cO;return tP(t,r,new lO(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new ZC(QC.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new JC;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!jS.D())return Promise.resolve();const t=e+"main";await jS.delete(t)}(WL(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class ND{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof UE||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||qC("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};BO(this._delegate,e,t,n)}enableNetwork(){return rP(this._delegate)}disableNetwork(){return iP(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,OO("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return nP(this._delegate)}onSnapshotsInSync(e){return gD(this._delegate,e)}get app(){if(!this._appCompat)throw new ZC("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new qD(this,WO(this._delegate,e))}catch(t){throw DD(t,"collection()","Firestore.collection()")}}doc(e){try{return new PD(this,GO(this._delegate,e))}catch(t){throw DD(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new UD(this,function(e,t){if(e=RO(e,UO),AO("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ZC(QC.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new qO(e,null,function(e){return new qk(fS.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw DD(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=RO(e,YO);const r=Object.assign(Object.assign({},bD),n);return function(e){if(e.maxAttempts<1)throw new ZC(QC.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new JC;return e.asyncQueue.enqueueAndForget((async()=>{const i=await EO(e);new pO(e.asyncQueue,i,n,t,r).run()})),r.promise}(XO(e),(n=>t(new xD(e,n))),r)}(this._delegate,(t=>e(new jD(this,t))))}batch(){return XO(this._delegate),new AD(new wD(this._delegate,(e=>vD(this._delegate,e))))}loadBundle(e){return function(e,t){const n=XO(e=RO(e,YO)),r=new $O;return NO(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return sP(this._delegate,e).then((e=>e?new UD(this,e):null))}}class LD extends tD{constructor(e){super(),this.firestore=e}convertBytes(e){return new kD(new aP(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return PD.forKey(t,this.firestore,null)}}class jD{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new LD(e)}get(e){const t=HD(e);return this._delegate.get(t).then((e=>new FD(this._firestore,new sD(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=HD(e);return n?(CD("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=HD(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=HD(e);return this._delegate.delete(t),this}}class AD{constructor(e){this._delegate=e}set(e,t,n){const r=HD(e);return n?(CD("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=HD(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=HD(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class OD{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new oD(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new VD(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=OD.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new OD(e,new LD(e),t),r.set(t,i)),i}}OD.INSTANCES=new WeakMap;class PD{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new LD(e)}static forPath(e,t,n){if(e.length%2!==0)throw new ZC("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new PD(t,new zO(t._delegate,n,new gS(e)))}static forKey(e,t,n){return new PD(t,new zO(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new qD(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new qD(this.firestore,WO(this._delegate,e))}catch(t){throw DD(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=tf(e))instanceof zO&&KO(this._delegate,e)}set(e,t){t=CD("DocumentReference.set",t);try{return t?fD(this._delegate,e,t):fD(this._delegate,e)}catch(n){throw DD(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?pD(this._delegate,e):pD(this._delegate,e,t,...r)}catch(s){throw DD(s,"updateDoc()","DocumentReference.update()")}}delete(){return vD(RO((e=this._delegate).firestore,YO),[new $I(e._key,FI.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=MD(t),i=RD(t,(e=>new FD(this.firestore,new sD(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return mD(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?dD(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=RO(e,zO);const t=RO(e.firestore,YO);return IO(XO(t),e._key,{source:"server"}).then((n=>yD(t,e,n)))}(this._delegate):function(e){e=RO(e,zO);const t=RO(e.firestore,YO);return IO(XO(t),e._key).then((n=>yD(t,e,n)))}(this._delegate),t.then((e=>new FD(this.firestore,new sD(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new PD(this.firestore,e?this._delegate.withConverter(OD.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function DD(e,t,n){return e.message=e.message.replace(t,n),e}function MD(e){for(const t of e)if("object"===typeof t&&!ID(t))return t;return{}}function RD(e,t){var n,r;let i;return i=ID(e[0])?e[0]:ID(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class FD{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new PD(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return cD(this._delegate,e._delegate)}}class VD extends FD{data(e){const t=this._delegate.data(e);return void 0!==t||WC(),t}}class UD{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new LD(e)}where(e,t,n){try{return new UD(this.firestore,qP(this._delegate,function(e,t,n){const r=t,i=VP("where",e);return HP._create(i,r,n)}(e,t,n)))}catch(r){throw DD(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new UD(this.firestore,qP(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=VP("orderBy",e);return GP._create(n,t)}(e,t)))}catch(n){throw DD(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new UD(this.firestore,qP(this._delegate,(FO("limit",t=e),KP._create("limit",t,"F"))))}catch(n){throw DD(n,"limit()","Query.limit()")}var t}limitToLast(e){try{return new UD(this.firestore,qP(this._delegate,(FO("limitToLast",t=e),KP._create("limitToLast",t,"L"))))}catch(n){throw DD(n,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new UD(this.firestore,qP(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return QP._create("startAt",t,!0)}(...arguments)))}catch(e){throw DD(e,"startAt()","Query.startAt()")}}startAfter(){try{return new UD(this.firestore,qP(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return QP._create("startAfter",t,!1)}(...arguments)))}catch(e){throw DD(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new UD(this.firestore,qP(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ZP._create("endBefore",t,!1)}(...arguments)))}catch(e){throw DD(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new UD(this.firestore,qP(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ZP._create("endAt",t,!0)}(...arguments)))}catch(e){throw DD(e,"endAt()","Query.endAt()")}}isEqual(e){return QO(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?hD(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=RO(e,qO);const t=RO(e.firestore,YO),n=XO(t),r=new uD(t);return TO(n,e._query,{source:"server"}).then((n=>new aD(t,r,e,n)))}(this._delegate):function(e){e=RO(e,qO);const t=RO(e.firestore,YO),n=XO(t),r=new uD(t);return UP(e._query),TO(n,e._query).then((n=>new aD(t,r,e,n)))}(this._delegate),t.then((e=>new zD(this.firestore,new aD(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=MD(t),i=RD(t,(e=>new zD(this.firestore,new aD(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return mD(this._delegate,r,i)}withConverter(e){return new UD(this.firestore,e?this._delegate.withConverter(OD.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class BD{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new VD(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new UD(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new VD(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new BD(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new VD(this._firestore,n))}))}isEqual(e){return cD(this._delegate,e._delegate)}}class qD extends UD{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new PD(this.firestore,e):null}doc(e){try{return new PD(this.firestore,void 0===e?GO(this._delegate):GO(this._delegate,e))}catch(t){throw DD(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=RO(e.firestore,YO),r=GO(e),i=nD(e.converter,t);return vD(n,[yP(vP(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,FI.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new PD(this.firestore,e)))}isEqual(e){return KO(this._delegate,e._delegate)}withConverter(e){return new qD(this.firestore,e?this._delegate.withConverter(OD.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function HD(e){return RO(e,zO)}class WD{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new lP(...t)}static documentId(){return new WD(mS.keyField().canonicalString())}isEqual(e){return(e=tf(e))instanceof lP&&this._delegate._internalPath.isEqual(e._internalPath)}}class GD{constructor(e){this._delegate=e}static serverTimestamp(){const e=new _P("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new GD(e)}static delete(){const e=new bP("deleteField");return e._methodName="FieldValue.delete",new GD(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xP("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new GD(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new CP("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new GD(e)}static increment(e){const t=new SP("increment",e);return t._methodName="FieldValue.increment",new GD(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const KD={Firestore:ND,GeoPoint:uP,Timestamp:uS,Blob:kD,Transaction:jD,WriteBatch:AD,DocumentReference:PD,DocumentSnapshot:FD,Query:UD,QueryDocumentSnapshot:VD,QuerySnapshot:zD,CollectionReference:qD,FieldPath:WD,FieldValue:GD,setLogLevel:function(e){var t;t=e,VC.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new nf("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},KD)))}(e,((e,t)=>new ND(e,t,new TD))),e.registerVersion("@firebase/firestore-compat","0.3.12")}(vp);const QD=$i((()=>{const{authModalHandler:e}=es,{setUserDataToStore:t}=ns,n=X(),[r,s]=(0,i.useState)("STEP_01"),[o,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(""),[p,m]=(0,i.useState)(null),[g,v]=(0,i.useState)(""),[y,b]=(0,i.useState)(!0);(0,i.useEffect)((()=>{const e=o.replace(/\s|[()]/g,"");e.includes("_")?b(!0):b(!1),a(e)}),[o]);const w=e=>{const t=new vp.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:()=>{}});vp.auth().signInWithPhoneNumber(o,t).then((e=>{s("STEP_02"),m(e)})).catch((e=>{console.log(e)}))};(0,i.useEffect)((()=>{"STEP_02"===r&&(b(!0),6===g.length?b(!1):b(!0))}),[g,r]),(0,i.useEffect)((()=>{"STEP_03"===r&&(b(!0),6===g.length?b(!1):b(!0))}),[g,r]);const _=()=>{p.confirm(g).then((e=>{console.log("handleVerificationCodeSubmit:",e.user);const t=e.user.multiFactor.user.uid;console.log("accessToken:",t),f(t),x(t)})).catch((e=>{console.error("ERROR:",e)}))},x=r=>{const i={token:r};console.log("AUTH TOKEN in AUTH:",i);const o=JSON.stringify(i);console.log("tokenJSON:",o),va.post("".concat(ya,"/api/auth"),o,{headers:{"Content-Type":"application/json"}}).then((r=>{console.log(r),200===r.status&&(t({name:r.data.name,phone:r.data.phone,email:r.data.email,token:r.data.token,promocode40:r.data.promocode40,favorites:r.data.favorites,addresses:r.data.addresses}),e(!1),n("/profile/info"))})).catch((e=>{console.error(e),s("STEP_03")}))};(0,i.useEffect)((()=>{"STEP_03"===r&&(b(!0),b(""===l||""===u))}),[r,l,u]);return(0,as.jsxs)("div",{className:"singup",children:[(0,as.jsx)("div",{id:"recaptcha-container"}),(0,as.jsx)("div",{className:"singup__content",children:"STEP_01"===r?(0,as.jsxs)(i.Fragment,{children:[(0,as.jsxs)("div",{className:"singup__description",children:[(0,as.jsx)("h3",{className:"singup__title",children:"\u0412\u0445\u0456\u0434 \u043d\u0430 \u0441\u0430\u0439\u0442"}),(0,as.jsx)("p",{className:"singup__text",children:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0441\u0432\u0456\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443, \u0449\u043e\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u0431\u043e\u043d\u0443\u0441\u043d\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438 \u0442\u0430 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0438\u043c \u0430\u0434\u0440\u0435\u0441\u0430\u043c \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"})]}),(0,as.jsx)(Sc,{onChange:e=>a(e)}),(0,as.jsx)(Ic,{name:"\u041f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438",disabled:y,onClick:w})]}):"STEP_02"===r?(0,as.jsxs)(i.Fragment,{children:[(0,as.jsxs)("div",{className:"singup__description",children:[(0,as.jsx)("h3",{className:"singup__title",children:"\u0412\u0445\u0456\u0434 \u043d\u0430 \u0441\u0430\u0439\u0442"}),(0,as.jsxs)("p",{className:"singup__text",children:["\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u0434 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f, \u044f\u043a\u0438\u0439 \u043c\u0438 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u043d\u0430 ",o," ",(0,as.jsx)("span",{className:"singup__text singup__text-action",onClick:()=>s("STEP_01"),children:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438"})]})]}),(0,as.jsx)("form",{className:"singup__form",children:(0,as.jsx)(kh,{onData:e=>v(e)})}),(0,as.jsx)(Ic,{name:"\u041f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438",disabled:y,onClick:_})]}):"STEP_03"===r?(0,as.jsxs)(i.Fragment,{children:[(0,as.jsxs)("div",{className:"singup__description",children:[(0,as.jsx)("h3",{className:"singup__title",children:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"}),(0,as.jsx)("p",{className:"singup__text",children:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u0432\u043e\u0457 \u0434\u0430\u043d\u0456"})]}),(0,as.jsxs)("form",{className:"singup__form",children:[(0,as.jsx)(_c,{name:"\u0406\u043c\u2019\u044f",placeholder:"\u0406\u043c\u2019\u044f",onChange:e=>c(e)}),(0,as.jsx)(_c,{name:"\u041f\u043e\u0448\u0442\u0430",placeholder:"xxx@gmail.com",onChange:e=>d(e)})]}),(0,as.jsx)(Ic,{name:"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f",disabled:y,onClick:()=>(()=>{const r={name:l,email:u,token:h,phone:o},i=JSON.stringify(r);console.log(i),va.post("".concat(ya,"/api/registrate"),i,{headers:{"Content-Type":"application/json"}}).then((r=>{const i=r.data;200===r.status&&(console.log(i),console.log("user data",{name:l,phone:o,email:u,token:h}),t({name:l,phone:o,email:u,token:h,promocode40:i.promocode40}),e(!1),n("/profile/info"))})).catch((e=>console.error(e)))})()})]}):void 0})]})})),ZD=QD,JD=$i((e=>{let{preview:t,name:n,weight:r,totalPrice:s,count:o,id:a,cart_index:l,category:c,setCountChanging:u}=e;const[d,h]=(0,i.useState)(o),{updateCount:f,removeProduct:p}=is;return(0,i.useEffect)((()=>{u((e=>!e)),f(a,d)}),[a,d,f,u]),(0,as.jsxs)("li",{className:"shopping-cart__item",children:[(0,as.jsx)("div",{className:"shopping-cart__preview",children:(0,as.jsx)("img",{src:t,alt:""})}),(0,as.jsxs)("div",{className:"shopping-cart__info",children:[(0,as.jsxs)("div",{className:"shopping-cart__row",children:[(0,as.jsx)("h6",{className:"title__h8",children:n}),(0,as.jsx)("div",{className:"shopping-cart__remove",onClick:()=>p(a),children:(0,as.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M6.0006 4.82144L10.1256 0.696442L11.3039 1.87478L7.17893 5.99977L11.3039 10.1248L10.1256 11.3031L6.0006 7.17811L1.8756 11.3031L0.697266 10.1248L4.82227 5.99977L0.697266 1.87478L1.8756 0.696442L6.0006 4.82144Z",fill:"#49484D"})})})]}),(0,as.jsxs)("p",{className:"shopping-cart__weight",children:[r," \u0433"]}),(0,as.jsxs)("div",{className:"shopping-cart__row",children:[(0,as.jsxs)("p",{className:"shopping-cart__price",children:[s," \u20b4"]}),(0,as.jsxs)("div",{className:"counter",children:[(0,as.jsx)("div",{className:"counter__btn counter__btn--light",onClick:()=>{d>1&&h((e=>e-1))},children:"-"}),(0,as.jsx)("div",{className:"counter__value",children:d}),(0,as.jsx)("div",{className:"counter__btn counter__btn--light",onClick:()=>{h((e=>e+1))},children:"+"})]})]})]})]})})),$D=JD,YD=$i((()=>{const e=X(),{products:t}=is,[n,r]=(0,i.useState)(!1),[s,o]=(0,i.useState)(0),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1);(0,i.useEffect)((()=>{console.log("updating Total price"),o(t.reduce(((e,t)=>e+t.totalPrice),0))}),[t,c,n]),(0,i.useEffect)((()=>(document.body.style.overflow=n?"hidden":"auto",()=>{document.body.style.overflow="auto"})),[n]);const d=(0,i.useCallback)((e=>e?(0,as.jsx)(Oc,{action:"\u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u0441\u0443\u043c\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f 200 \u20b4",error:!0}):null),[]);return(0,as.jsxs)(as.Fragment,{children:[d(a),(0,as.jsxs)("button",{className:"card",onClick:()=>r(!0),children:[(0,as.jsxs)("div",{className:"card__ico",children:[(0,as.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,as.jsx)("g",{clipPath:"url(#clip0_353_13525)",children:(0,as.jsx)("path",{d:"M2.66707 10.6667V2.66669H1.33374V1.33336H3.33374C3.51055 1.33336 3.68012 1.4036 3.80514 1.52862C3.93017 1.65365 4.00041 1.82321 4.00041 2.00003V10H12.2924L13.6257 4.66669H5.33374V3.33336H14.4804C14.5817 3.33336 14.6817 3.35647 14.7728 3.40092C14.8639 3.44537 14.9436 3.50999 15.006 3.58988C15.0683 3.66977 15.1116 3.76283 15.1326 3.86197C15.1536 3.96111 15.1517 4.06373 15.1271 4.16203L13.4604 10.8287C13.4243 10.9729 13.341 11.1008 13.2239 11.1923C13.1067 11.2837 12.9624 11.3334 12.8137 11.3334H3.33374C3.15693 11.3334 2.98736 11.2631 2.86234 11.1381C2.73731 11.0131 2.66707 10.8435 2.66707 10.6667ZM4.00041 15.3334C3.64679 15.3334 3.30765 15.1929 3.0576 14.9428C2.80755 14.6928 2.66707 14.3536 2.66707 14C2.66707 13.6464 2.80755 13.3073 3.0576 13.0572C3.30765 12.8072 3.64679 12.6667 4.00041 12.6667C4.35403 12.6667 4.69317 12.8072 4.94322 13.0572C5.19326 13.3073 5.33374 13.6464 5.33374 14C5.33374 14.3536 5.19326 14.6928 4.94322 14.9428C4.69317 15.1929 4.35403 15.3334 4.00041 15.3334ZM12.0004 15.3334C11.6468 15.3334 11.3076 15.1929 11.0576 14.9428C10.8075 14.6928 10.6671 14.3536 10.6671 14C10.6671 13.6464 10.8075 13.3073 11.0576 13.0572C11.3076 12.8072 11.6468 12.6667 12.0004 12.6667C12.354 12.6667 12.6932 12.8072 12.9432 13.0572C13.1933 13.3073 13.3337 13.6464 13.3337 14C13.3337 14.3536 13.1933 14.6928 12.9432 14.9428C12.6932 15.1929 12.354 15.3334 12.0004 15.3334Z",fill:"black"})}),(0,as.jsx)("defs",{children:(0,as.jsx)("clipPath",{id:"clip0_353_13525",children:(0,as.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]}),0!==t.length&&(0,as.jsx)("div",{className:"card__length",children:(0,as.jsx)("span",{children:t.length})})]}),(0,as.jsx)("span",{className:"card__text",children:"\u041a\u043e\u0448\u0438\u043a"})]}),n&&(0,as.jsxs)("div",{className:"shopping-cart",children:[(0,as.jsx)("div",{className:"shopping-cart__close",onClick:()=>r(!1),children:(0,as.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M7.00072 5.58599L11.9507 0.635986L13.3647 2.04999L8.41472 6.99999L13.3647 11.95L11.9507 13.364L7.00072 8.41399L2.05072 13.364L0.636719 11.95L5.58672 6.99999L0.636719 2.04999L2.05072 0.635986L7.00072 5.58599Z",fill:"#12130F"})})}),0===t.length?(0,as.jsxs)("div",{className:"shopping-cart__content shopping-cart__content--empty",children:[(0,as.jsx)("div",{className:"shopping-cart__logo",children:(0,as.jsxs)("svg",{width:"150",height:"150",viewBox:"0 0 150 150",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,as.jsx)("circle",{cx:"75",cy:"75",r:"75",fill:"#DF643A"}),(0,as.jsx)("path",{d:"M104.417 49.7177C103.7 48.0744 102.369 46.7544 100.713 46.0423C99.8503 45.6723 98.9013 45.4646 97.9036 45.4646C96.9059 45.4646 95.9564 45.6723 95.0947 46.0423C93.5267 46.7157 92.257 47.9383 91.5175 49.4609C89.7975 48.17 87.9197 47.0765 85.9157 46.2159C82.611 44.7957 78.9753 44 75.152 44C71.3282 44 67.6919 44.7957 64.389 46.2136C62.2983 47.1118 60.3471 48.2673 58.5668 49.6323C57.8411 48.0288 56.5318 46.7413 54.9048 46.0423C54.043 45.6723 53.0935 45.4646 52.0958 45.4646C51.0981 45.4646 50.1492 45.6723 49.2869 46.0423C47.6299 46.7544 46.2995 48.0744 45.5823 49.7177C45.2094 50.5732 45 51.5146 45 52.5051C45 53.4949 45.2088 54.4364 45.5823 55.2919C46.2995 56.9357 47.6299 58.2557 49.2869 58.9672C49.7103 59.1494 50.1561 59.2905 50.6173 59.389C50.4727 59.689 50.3293 59.9895 50.1956 60.2952C48.7642 63.5744 47.9621 67.182 47.9621 70.9757V106C48.6971 105.524 49.436 105.055 50.1956 104.616C57.5433 100.389 66.0654 97.9543 75.1538 97.9543C78.9753 97.9543 82.6127 97.158 85.9157 95.7395C92.2639 93.013 97.362 87.9551 100.11 81.6568C101.542 78.3782 102.343 74.7712 102.343 70.978C102.343 67.1843 101.54 63.5766 100.11 60.2975C99.9662 59.9667 99.8112 59.6417 99.654 59.3179C100.018 59.2251 100.373 59.1129 100.713 58.9672C102.369 58.2557 103.7 56.9357 104.417 55.2919C104.791 54.4364 105 53.4949 105 52.5051C105 51.5146 104.79 50.5732 104.417 49.7177Z",fill:"white"}),(0,as.jsx)("path",{d:"M104.417 49.7177C103.7 48.0744 102.369 46.7544 100.713 46.0423C99.8503 45.6723 98.9013 45.4646 97.9036 45.4646C96.9059 45.4646 95.9564 45.6723 95.0947 46.0423C93.5267 46.7157 92.257 47.9383 91.5175 49.4609C89.7975 48.17 87.9197 47.0766 85.9157 46.2159C82.611 44.7957 78.9753 44 75.152 44C71.3282 44 67.6919 44.7958 64.389 46.2136C62.2983 47.1118 60.3471 48.2673 58.5668 49.6323C57.8411 48.0288 56.5318 46.7413 54.9048 46.0423C54.043 45.6723 53.0935 45.4646 52.0958 45.4646C51.0981 45.4646 50.1492 45.6723 49.2869 46.0423C47.6299 46.7544 46.2995 48.0744 45.5823 49.7177C45.2094 50.5732 45 51.5146 45 52.5051C45 53.4949 45.2088 54.4364 45.5823 55.2919C46.2995 56.9357 47.6299 58.2557 49.2869 58.9672C49.7103 59.1494 50.1561 59.2905 50.6173 59.389C50.4727 59.689 50.3293 59.9895 50.1956 60.2952C48.7642 63.5744 47.9621 67.182 47.9621 70.9757V106C48.6971 105.524 49.436 105.055 50.1956 104.616C57.5433 100.389 66.0654 97.9543 75.1538 97.9543C78.9753 97.9543 82.6127 97.158 85.9157 95.7395C92.2639 93.013 97.362 87.9551 100.11 81.6568C101.542 78.3782 102.343 74.7712 102.343 70.978C102.343 67.1843 101.54 63.5766 100.11 60.2975C99.9662 59.9667 99.8112 59.6417 99.654 59.3179C100.018 59.2251 100.373 59.1129 100.713 58.9672C102.369 58.2557 103.7 56.9357 104.417 55.2919C104.791 54.4364 105 53.4949 105 52.5051C105 51.5146 104.79 50.5732 104.417 49.7177Z",stroke:"#12130F",strokeWidth:"3",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,as.jsx)("path",{d:"M61.158 65.5436C61.158 64.1616 60.0289 63.0414 58.6359 63.0414C57.2424 63.0414 56.1133 64.1616 56.1133 65.5436C56.1133 66.9257 57.2424 68.0459 58.6359 68.0459C60.0289 68.0459 61.158 66.9257 61.158 65.5436Z",fill:"#12130F"}),(0,as.jsx)("path",{d:"M94.4237 65.5436C94.4237 64.1616 93.2946 63.0414 91.9016 63.0414C90.508 63.0414 89.3789 64.1616 89.3789 65.5436C89.3789 66.9257 90.508 68.0459 91.9016 68.0459C93.2946 68.0459 94.4237 66.9257 94.4237 65.5436Z",fill:"#12130F"}),(0,as.jsx)("path",{d:"M73.9113 81.7154C74.641 82.617 76.0243 82.617 76.7541 81.7154L79.0937 78.8239L80.4758 77.1151C81.4328 75.9317 80.5837 74.1752 79.0541 74.1752H75.3329H71.6112C70.0816 74.1752 69.2325 75.9317 70.1895 77.1151L71.5716 78.8239L73.9113 81.7154Z",fill:"#12130F"}),(0,as.jsx)("path",{d:"M74.7617 86.2998H75.7577V80.0659H74.7617V86.2998Z",fill:"#12130F"}),(0,as.jsx)("path",{d:"M72.3765 85.0177C72.9405 85.4088 73.4322 85.6239 73.8934 85.7463C74.3536 85.867 74.7856 85.9012 75.2624 85.9063C75.7391 85.8989 76.1706 85.8647 76.6301 85.7446C77.0902 85.6222 77.5825 85.4077 78.1482 85.0177C78.2377 85.7139 77.886 86.4191 77.3209 86.899C76.7512 87.3839 75.9761 87.6162 75.2624 87.6133C74.5486 87.6139 73.7747 87.3817 73.205 86.8973C72.6404 86.4168 72.2893 85.7127 72.3765 85.0177Z",fill:"#12130F"})]})}),(0,as.jsx)("h5",{className:"title__h5",children:"\u041d\u0430\u0436\u0430\u043b\u044c, \u043a\u043e\u0448\u0438\u043a \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439"}),(0,as.jsx)("p",{className:"text",children:"\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0449\u043e\u0441\u044c \u0441\u043c\u0430\u0447\u043d\u0435\u043d\u044c\u043a\u0435"})]}):(0,as.jsxs)("div",{className:"shopping-cart__content",children:[(0,as.jsxs)("div",{className:"shopping-cart__row",children:[(0,as.jsx)("h5",{className:"title__h5",children:"\u041a\u043e\u0448\u0438\u043a"}),(0,as.jsxs)("p",{className:"shopping-cart__products-count",children:[t.length," \u0442\u043e\u0432\u0430\u0440\u0456\u0432"]})]}),(0,as.jsx)("div",{className:"shopping-cart__list-wrapper",children:(0,as.jsx)("ul",{className:"shopping-cart__list",children:t.map((e=>(0,as.jsx)($D,{preview:e.preview,name:e.name,totalPrice:e.totalPrice,weight:e.weight,count:e.count,id:e.id,cart_index:e.cart_index,category:e.category,setCountChanging:u},e.id)))})}),(0,as.jsxs)("div",{className:"shopping-cart__total",children:[(0,as.jsxs)("div",{className:"shopping-cart__total-row",children:[(0,as.jsx)("p",{className:"shopping-cart__text",children:"\u0421\u0443\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f:"}),(0,as.jsxs)("p",{className:"shopping-cart__text",children:[s," \u20b4"]})]}),(0,as.jsxs)("div",{className:"shopping-cart__total-row",children:[(0,as.jsx)("p",{className:"shopping-cart__text",children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:"}),(0,as.jsx)("p",{className:"shopping-cart__text",children:s<500?"\u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0442\u0430\u043a\u0441\u0456 (\u043e\u043f\u043b\u0430\u0447\u0443\u0454\u0442\u044c\u0441\u044f \u043e\u043a\u0440\u0435\u043c\u043e)":"\u0411\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0430"})]}),(0,as.jsxs)("div",{className:"shopping-cart__total-row",children:[(0,as.jsx)("p",{className:"shopping-cart__text-final",children:"\u0412\u0441\u044c\u043e\u0433\u043e \u0434\u043e \u0441\u043f\u043b\u0430\u0442\u0438:"}),(0,as.jsxs)("p",{className:"shopping-cart__text-final",children:[s," \u20b4"]})]})]}),(0,as.jsx)(Ic,{name:"\u0417\u0430\u043c\u043e\u0432\u0438\u0442\u0438",onClick:()=>{var i;s<200?(l(!0),setTimeout((()=>l(!1)),3e3)):(i=t,window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"begin_checkout",ecommerce:{items:i.map((e=>({item_name:e.name,item_id:e.id,price:e.price,item_brand:"Polar Pelmeni",item_category:e.category,quantity:e.count})))}}),r(!n),e("/order"))},fullWide:!0})]})]})]})})),XD=YD,eM=$i((()=>{const{authModalHandler:e,authModal:t,cityModalHandler:n}=es,{city:r,isAuthenticated:s,name:o,phone:a}=ns,[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)([]),p=X(),m=$();(0,i.useEffect)((()=>{"/"!==m.pathname&&(c(!1),d(!1))}),[m]);return(0,i.useEffect)((()=>{console.log(t)}),[t]),(0,i.useEffect)((()=>{va.get("".concat(ya,"/api/menu"),{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((e=>{const t=e.data.response.filter((e=>e.category_name.startsWith("onlineOrder:"))).map(((e,t)=>({category_name:e.category_name.replace(/onlineOrder: /,""),category_id:e.category_id,category_position_index:t})));t[12].category_position_index=1,t[11].category_position_index=2,t[8].category_position_index=3,t[10].category_position_index=4,t[9].category_position_index=5,t[2].category_position_index=6,t[3].category_position_index=7,t[0].category_position_index=8,t[6].category_position_index=9,t[4].category_position_index=10,t[7].category_position_index=11,t[1].category_position_index=12,t[5].category_position_index=13,t.sort(((e,t)=>e.category_position_index-t.category_position_index)),f(t)})).catch((e=>console.error(e)))}),[]),"/profile/info"===m.pathname?(0,as.jsxs)(i.Fragment,{children:[t&&(0,as.jsx)(Vl,{closeModal:()=>e(!1),children:(0,as.jsx)(ZD,{})}),(0,as.jsx)("header",{className:"header",children:(0,as.jsxs)(ls,{children:[(0,as.jsxs)("div",{className:"header__content",children:[(0,as.jsxs)("div",{className:"header__left",children:[(0,as.jsx)(bs,{className:"header__logo",to:"/",children:(0,as.jsx)("img",{src:Eh,alt:"Polar Pelmeni \u2013 \u0430\u0432\u0442\u043e\u0440\u0441\u044c\u043a\u0456 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456"})}),(0,as.jsxs)("div",{className:"header__selectors",children:[(0,as.jsxs)("div",{className:"header__selector header__selector-city",children:[(0,as.jsx)("svg",{width:"12",height:"15",viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M10.2427 10.576L6 14.8187L1.75734 10.576C0.918228 9.73687 0.346791 8.66777 0.115286 7.50389C-0.11622 6.34 0.00260456 5.13361 0.456732 4.03726C0.91086 2.9409 1.6799 2.00384 2.66659 1.34455C3.65328 0.685266 4.81332 0.333374 6 0.333374C7.18669 0.333374 8.34672 0.685266 9.33342 1.34455C10.3201 2.00384 11.0891 2.9409 11.5433 4.03726C11.9974 5.13361 12.1162 6.34 11.8847 7.50389C11.6532 8.66777 11.0818 9.73687 10.2427 10.576ZM6 7.66666C6.35362 7.66666 6.69276 7.52618 6.94281 7.27613C7.19286 7.02608 7.33334 6.68694 7.33334 6.33332C7.33334 5.9797 7.19286 5.64056 6.94281 5.39051C6.69276 5.14046 6.35362 4.99999 6 4.99999C5.64638 4.99999 5.30724 5.14046 5.05719 5.39051C4.80715 5.64056 4.66667 5.9797 4.66667 6.33332C4.66667 6.68694 4.80715 7.02608 5.05719 7.27613C5.30724 7.52618 5.64638 7.66666 6 7.66666Z",fill:"#12130F"})}),(0,as.jsx)("span",{children:r}),(0,as.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M5 3.78132L8.3 0.481323L9.24267 1.42399L5 5.66666L0.757332 1.42399L1.7 0.481323L5 3.78132Z",fill:"#12130F"})})]}),(0,as.jsxs)("div",{className:"header__selector header__selector-lang",children:[(0,as.jsx)("span",{children:"UA"}),(0,as.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M5 3.78132L8.3 0.481323L9.24267 1.42399L5 5.66666L0.757332 1.42399L1.7 0.481323L5 3.78132Z",fill:"#12130F"})})]})]})]}),(0,as.jsxs)("nav",{className:"header__navigation",children:[(0,as.jsx)(bs,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),(0,as.jsx)(bs,{to:"/menu",children:"\u041c\u0435\u043d\u044e"}),(0,as.jsx)(bs,{to:"/about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"}),(0,as.jsx)(bs,{to:"/contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})]}),(0,as.jsxs)("div",{className:"header__right",children:[(0,as.jsx)(XD,{}),s?(0,as.jsxs)("div",{className:"header__profile-btn",onClick:()=>p("/profile/info"),children:[(0,as.jsx)("div",{className:"header__avatar",children:(0,as.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:""})}),(0,as.jsx)("span",{className:"header__username",children:o}),(0,as.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M5.00048 3.78132L8.30048 0.481323L9.24315 1.42399L5.00048 5.66666L0.757812 1.42399L1.70048 0.481323L5.00048 3.78132Z",fill:"#12130F"})})]}):(0,as.jsx)(Ic,{name:"\u0423\u0432\u0456\u0439\u0442\u0438",onClick:()=>e(!0)}),(0,as.jsx)("div",{className:"header__hamburger ".concat(l&&"header__hamburger--active"),onClick:()=>c(!l)})]})]}),l&&(0,as.jsx)("div",{className:"mobile-menu",children:(0,as.jsxs)("nav",{className:"mobile-menu__navigation",children:[(0,as.jsx)("div",{className:"mobile-menu__auth",children:!0===s?(0,as.jsxs)("div",{className:"mobile-menu__profile-btn mobile-menu__profile-btn--profile",onClick:()=>p("/profile/info"),children:[(0,as.jsx)("div",{className:"mobile-menu__avatar",children:(0,as.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:"avatar"})}),(0,as.jsxs)("div",{children:[(0,as.jsx)("span",{className:"mobile-menu__username",children:o}),(0,as.jsx)("p",{className:"mobile-menu__phone",children:a}),(0,as.jsx)("p",{className:"mobile-menu__bonus",children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e 23 \u0431\u043e\u043d\u0443\u0441\u0438"})]})]}):(0,as.jsx)(Ic,{name:"\u0423\u0432\u0456\u0439\u0442\u0438 \u0432 \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u0438\u0439 \u043a\u0430\u0431\u0456\u043d\u0435\u0442",onClick:()=>e(!0)})}),(0,as.jsxs)("ul",{className:"mobile-menu__menu",children:[(0,as.jsx)("li",{className:"mobile-menu__link",children:(0,as.jsx)(bs,{children:"\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f"})}),(0,as.jsx)("li",{className:"mobile-menu__link",children:(0,as.jsx)(bs,{children:"\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0456 \u0431\u043b\u044e\u0434\u0430"})}),(0,as.jsx)("li",{className:"mobile-menu__link",children:(0,as.jsx)(bs,{children:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0430\u0434\u0440\u0435\u0441\u0438"})}),(0,as.jsx)("li",{className:"mobile-menu__link",children:(0,as.jsx)(bs,{children:"\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c"})}),(0,as.jsx)("li",{className:"mobile-menu__link",children:(0,as.jsx)(bs,{children:"\u0411\u043e\u043d\u0443\u0441\u0438"})}),(0,as.jsx)("li",{className:"mobile-menu__link mobile-menu__link--exit",children:(0,as.jsx)(bs,{children:"\u0412\u0438\u0445\u0456\u0434"})})]}),(0,as.jsxs)("ul",{className:"mobile-menu__nav",children:[(0,as.jsx)("li",{children:(0,as.jsx)(bs,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"})}),(0,as.jsx)("li",{children:(0,as.jsx)(bs,{to:"/menu",children:"\u041c\u0435\u043d\u044e"})}),(0,as.jsx)("li",{children:(0,as.jsx)(bs,{to:"/about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"})}),(0,as.jsx)("li",{children:(0,as.jsx)(bs,{to:"/contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})})]})]})})]})})]}):(0,as.jsxs)(i.Fragment,{children:[t&&(0,as.jsx)(Vl,{closeModal:()=>e(!1),children:(0,as.jsx)(ZD,{})}),(0,as.jsx)("header",{className:"header ".concat(l&&"header__fh"),children:(0,as.jsxs)(ls,{children:[(0,as.jsxs)("div",{className:"header__content",children:[(0,as.jsxs)("div",{className:"header__left",children:[(0,as.jsx)(bs,{className:"header__logo",to:"/",children:(0,as.jsx)("img",{src:Eh,alt:"Polar Pelmeni \u2013 \u0430\u0432\u0442\u043e\u0440\u0441\u044c\u043a\u0456 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456"})}),(0,as.jsxs)("div",{className:"header__selectors",children:[(0,as.jsxs)("div",{className:"header__selector header__selector-city",onClick:()=>n(!0),children:[(0,as.jsx)("svg",{width:"12",height:"15",viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M10.2427 10.576L6 14.8187L1.75734 10.576C0.918228 9.73687 0.346791 8.66777 0.115286 7.50389C-0.11622 6.34 0.00260456 5.13361 0.456732 4.03726C0.91086 2.9409 1.6799 2.00384 2.66659 1.34455C3.65328 0.685266 4.81332 0.333374 6 0.333374C7.18669 0.333374 8.34672 0.685266 9.33342 1.34455C10.3201 2.00384 11.0891 2.9409 11.5433 4.03726C11.9974 5.13361 12.1162 6.34 11.8847 7.50389C11.6532 8.66777 11.0818 9.73687 10.2427 10.576ZM6 7.66666C6.35362 7.66666 6.69276 7.52618 6.94281 7.27613C7.19286 7.02608 7.33334 6.68694 7.33334 6.33332C7.33334 5.9797 7.19286 5.64056 6.94281 5.39051C6.69276 5.14046 6.35362 4.99999 6 4.99999C5.64638 4.99999 5.30724 5.14046 5.05719 5.39051C4.80715 5.64056 4.66667 5.9797 4.66667 6.33332C4.66667 6.68694 4.80715 7.02608 5.05719 7.27613C5.30724 7.52618 5.64638 7.66666 6 7.66666Z",fill:"#12130F"})}),(0,as.jsx)("span",{children:r}),(0,as.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M5 3.78132L8.3 0.481323L9.24267 1.42399L5 5.66666L0.757332 1.42399L1.7 0.481323L5 3.78132Z",fill:"#12130F"})})]}),(0,as.jsxs)("div",{className:"header__selector header__selector-lang",children:[(0,as.jsx)("span",{children:"UA"}),(0,as.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M5 3.78132L8.3 0.481323L9.24267 1.42399L5 5.66666L0.757332 1.42399L1.7 0.481323L5 3.78132Z",fill:"#12130F"})})]})]})]}),(0,as.jsxs)("nav",{className:"header__navigation",children:[(0,as.jsx)(bs,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),(0,as.jsx)(bs,{to:"/menu",children:"\u041c\u0435\u043d\u044e"}),(0,as.jsx)(bs,{to:"/about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"}),(0,as.jsx)(bs,{to:"/contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})]}),(0,as.jsxs)("div",{className:"header__right",children:[(0,as.jsx)(XD,{}),s?(0,as.jsxs)("div",{className:"header__profile-btn",onClick:()=>p("/profile/info"),children:[(0,as.jsx)("div",{className:"header__avatar",children:(0,as.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:""})}),(0,as.jsx)("span",{className:"header__username",children:o}),(0,as.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M5.00048 3.78132L8.30048 0.481323L9.24315 1.42399L5.00048 5.66666L0.757812 1.42399L1.70048 0.481323L5.00048 3.78132Z",fill:"#12130F"})})]}):(0,as.jsx)(Ic,{name:"\u0423\u0432\u0456\u0439\u0442\u0438",onClick:()=>e(!0)}),(0,as.jsx)("div",{className:"header__hamburger ".concat(l&&"header__hamburger--active"),onClick:()=>c(!l),children:(0,as.jsx)("span",{})})]})]}),l&&(0,as.jsx)("div",{className:"mobile-menu",children:(0,as.jsxs)("nav",{className:"mobile-menu__navigation",children:[(0,as.jsxs)("ul",{className:"mobile-menu__menu",children:[(0,as.jsx)("li",{className:"mobile-menu__link",children:(0,as.jsx)(bs,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"})}),(0,as.jsxs)("li",{className:"mobile-menu__link ",children:[(0,as.jsxs)("div",{className:"mobile-menu__dropdown",onClick:()=>{d(!u)},children:[(0,as.jsx)("span",{children:"\u041c\u0435\u043d\u044e"}),(0,as.jsx)("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,as.jsx)("path",{d:"M5.99959 4.97618L10.1244 0.85141L11.3029 2.02992L5.99959 7.33326L0.696289 2.02992L1.87481 0.85141L5.99959 4.97618Z",fill:"black"})})]}),u&&(0,as.jsx)("ul",{className:"mobile-menu__submenu",children:h.map((e=>(0,as.jsx)(bs,{className:"mobile-menu__sublink",to:"menu/".concat(e.category_id),children:e.category_name},e.category_id)))})]}),(0,as.jsx)("li",{className:"mobile-menu__link",children:(0,as.jsx)(bs,{to:"about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"})}),(0,as.jsx)("li",{className:"mobile-menu__link",children:(0,as.jsx)(bs,{to:"contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})})]}),(0,as.jsx)("div",{className:"mobile-menu__auth",children:s?(0,as.jsxs)("div",{className:"mobile-menu__profile-btn",onClick:()=>p("/profile/info"),children:[(0,as.jsx)("div",{className:"mobile-menu__avatar",children:(0,as.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:""})}),(0,as.jsxs)("div",{children:[(0,as.jsx)("span",{className:"mobile-menu__username",children:o}),(0,as.jsx)("div",{className:"mobile-menu__goto",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0456\u043b\u044c"})]})]}):(0,as.jsx)(Ic,{name:"\u0423\u0432\u0456\u0439\u0442\u0438 \u0432 \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u0438\u0439 \u043a\u0430\u0431\u0456\u043d\u0435\u0442",onClick:()=>e(!0)})})]})})]})})]})})),tM=eM,nM=n.p+"static/media/logo.66639dc3934ecf41123d.png";const rM=n.p+"static/media/mastercard.b720e3b5a9bf9bce7ef42d6682f56356.svg";const iM=n.p+"static/media/visa.a4e2a3330170d1f5e56d72f68e7aacaf.svg";const sM=n.p+"static/media/liqpay.81db62cd2e5f0c96fa328b281afd471c.svg",oM=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)([]);return(0,i.useEffect)((()=>{va.get("".concat(ya,"/api/menu"),{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((e=>{const n=e.data.response;console.log("categories, ",n);const i=n.filter((e=>e.category_name.startsWith("onlineOrder:"))).map(((e,t)=>({category_name:e.category_name.replace(/onlineOrder: /,""),category_id:e.category_id,category_position_index:t})));i[12].category_position_index=1,i[11].category_position_index=2,i[8].category_position_index=3,i[10].category_position_index=4,i[9].category_position_index=5,i[2].category_position_index=6,i[3].category_position_index=7,i[0].category_position_index=8,i[6].category_position_index=9,i[4].category_position_index=10,i[7].category_position_index=11,i[1].category_position_index=12,i[5].category_position_index=13,i.sort(((e,t)=>e.category_position_index-t.category_position_index)),t(i[0].category_id),r(i)})).catch((e=>console.error(e)))}),[]),(0,as.jsx)("footer",{className:"footer",children:(0,as.jsx)(ls,{children:(0,as.jsxs)("div",{className:"footer__content",children:[(0,as.jsxs)("div",{className:"footer__top",children:[(0,as.jsx)("div",{className:"footer__logo",children:(0,as.jsx)("img",{src:nM,alt:""})}),(0,as.jsxs)("nav",{className:"footer__column",children:[(0,as.jsx)("p",{className:"footer__title",children:"\u041c\u0435\u043d\u044e:"}),(0,as.jsx)("ul",{className:"footer__menu",children:n&&n.map(((e,t)=>(0,as.jsx)("li",{className:"footer__link",children:(0,as.jsx)(bs,{to:"/menu/".concat(e.category_id),children:e.category_name})},t)))})]}),(0,as.jsxs)("div",{className:"footer__column",children:[(0,as.jsxs)("div",{className:"footer__contact",children:[(0,as.jsx)("p",{className:"footer__title",children:"\u041e\u0434\u0435\u0441\u0430:"}),(0,as.jsxs)("ul",{className:"footer__contacts",children:[(0,as.jsx)("a",{href:"tel:+380987271991",children:"+380 (98) 727-19-91"}),(0,as.jsx)("p",{children:"\u0432\u0443\u043b. \u041c\u0430\u0440\u0448\u0430\u043b\u0430 \u041c\u0430\u043b\u0438\u043d\u043e\u0432\u0441\u043a\u044c\u043e\u0433\u043e 18"})]})]}),(0,as.jsxs)("div",{className:"footer__contact",children:[(0,as.jsx)("p",{className:"footer__title",children:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434:"}),(0,as.jsxs)("ul",{className:"footer__contacts",children:[(0,as.jsx)("a",{href:"tel:+380677149659",children:"+380 (67) 714-96-59"}),(0,as.jsx)("p",{children:"\u0432\u0443\u043b. \u041a\u0430\u043f\u0443\u0448\u0430\u043d\u0441\u044c\u043a\u0430, 7\u0430"})]})]}),(0,as.jsx)("p",{className:"footer__title"})]})]}),(0,as.jsxs)("div",{className:"footer__bottom",children:[(0,as.jsxs)("ul",{className:"footer__bottom-nav",children:[(0,as.jsx)("li",{children:(0,as.jsx)(bs,{children:"\xa9 2023 Polar Pelmeni"})}),(0,as.jsx)("li",{children:(0,as.jsx)(bs,{to:"/about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"})}),(0,as.jsx)("li",{children:(0,as.jsx)(bs,{to:"/contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})}),(0,as.jsx)("li",{children:(0,as.jsx)(bs,{children:"\u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u0441\u0442\u0456"})}),(0,as.jsx)("li",{children:(0,as.jsx)(bs,{to:"/payment-and-delivery",children:"\u041e\u043f\u043b\u0430\u0442\u0430 \u0456 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430"})})]}),(0,as.jsxs)("div",{className:"footer__bottom-contacts",children:[(0,as.jsx)("a",{href:"mailto:support@polarpelmeni.com",children:"support@polarpelmeni.com"}),(0,as.jsxs)("div",{className:"footer__social-icons",children:[(0,as.jsx)("a",{href:"",className:"footer__social",children:(0,as.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,as.jsx)("g",{opacity:"0.8",clipPath:"url(#clip0_588_31750)",children:(0,as.jsx)("path",{d:"M7.99908 6.18163C7.51687 6.18163 7.05441 6.37319 6.71343 6.71417C6.37246 7.05514 6.1809 7.5176 6.1809 7.99982C6.1809 8.48203 6.37246 8.94449 6.71343 9.28546C7.05441 9.62644 7.51687 9.818 7.99908 9.818C8.48129 9.818 8.94376 9.62644 9.28473 9.28546C9.62571 8.94449 9.81726 8.48203 9.81726 7.99982C9.81726 7.5176 9.62571 7.05514 9.28473 6.71417C8.94376 6.37319 8.48129 6.18163 7.99908 6.18163ZM7.99908 4.96951C8.80277 4.96951 9.57354 5.28878 10.1418 5.85707C10.7101 6.42536 11.0294 7.19613 11.0294 7.99982C11.0294 8.8035 10.7101 9.57427 10.1418 10.1426C9.57354 10.7109 8.80277 11.0301 7.99908 11.0301C7.1954 11.0301 6.42463 10.7109 5.85633 10.1426C5.28804 9.57427 4.96878 8.8035 4.96878 7.99982C4.96878 7.19613 5.28804 6.42536 5.85633 5.85707C6.42463 5.28878 7.1954 4.96951 7.99908 4.96951ZM11.9385 4.818C11.9385 5.01892 11.8587 5.21161 11.7166 5.35368C11.5745 5.49576 11.3818 5.57557 11.1809 5.57557C10.98 5.57557 10.7873 5.49576 10.6452 5.35368C10.5031 5.21161 10.4233 5.01892 10.4233 4.818C10.4233 4.61708 10.5031 4.42438 10.6452 4.28231C10.7873 4.14024 10.98 4.06042 11.1809 4.06042C11.3818 4.06042 11.5745 4.14024 11.7166 4.28231C11.8587 4.42438 11.9385 4.61708 11.9385 4.818ZM7.99908 3.15133C6.49969 3.15133 6.25484 3.15557 5.55726 3.18648C5.08211 3.20891 4.76333 3.27254 4.46757 3.38769C4.20454 3.48951 4.01484 3.61133 3.81302 3.81375C3.62333 3.99703 3.47748 4.22077 3.38636 4.4683C3.2712 4.76527 3.20757 5.08345 3.18575 5.558C3.15423 6.22709 3.1506 6.46103 3.1506 7.99982C3.1506 9.49921 3.15484 9.74406 3.18575 10.4416C3.20817 10.9162 3.27181 11.2356 3.38636 11.5307C3.48939 11.7944 3.6106 11.9841 3.81181 12.1853C4.01605 12.3889 4.20575 12.5107 4.46636 12.6113C4.76575 12.7271 5.08454 12.7913 5.55726 12.8131C6.22636 12.8447 6.46029 12.8483 7.99908 12.8483C9.49848 12.8483 9.74332 12.8441 10.4409 12.8131C10.9148 12.7907 11.2342 12.7271 11.53 12.6125C11.7924 12.5101 11.9833 12.3883 12.1845 12.1871C12.3888 11.9828 12.5106 11.7931 12.6112 11.5325C12.7264 11.2338 12.7906 10.9144 12.8124 10.4416C12.8439 9.77254 12.8476 9.5386 12.8476 7.99982C12.8476 6.50042 12.8433 6.25557 12.8124 5.558C12.79 5.08406 12.7264 4.76406 12.6112 4.4683C12.5199 4.22103 12.3743 3.99737 12.1851 3.81375C12.002 3.62396 11.7782 3.4781 11.5306 3.38709C11.2336 3.27194 10.9148 3.2083 10.4409 3.18648C9.77181 3.15497 9.53787 3.15133 7.99908 3.15133ZM7.99908 1.93921C9.64575 1.93921 9.8512 1.94527 10.4973 1.97557C11.1427 2.00588 11.5821 2.10709 11.9688 2.25739C12.3688 2.41133 12.7057 2.61982 13.0427 2.95618C13.3509 3.25915 13.5894 3.62563 13.7415 4.03012C13.8912 4.41618 13.993 4.85618 14.0233 5.50163C14.0518 6.14769 14.0597 6.35315 14.0597 7.99982C14.0597 9.64648 14.0536 9.85194 14.0233 10.498C13.993 11.1435 13.8912 11.5828 13.7415 11.9695C13.5898 12.3742 13.3513 12.7408 13.0427 13.0435C12.7397 13.3515 12.3732 13.59 11.9688 13.7422C11.5827 13.8919 11.1427 13.9938 10.4973 14.0241C9.8512 14.0525 9.64575 14.0604 7.99908 14.0604C6.35242 14.0604 6.14696 14.0544 5.5009 14.0241C4.85545 13.9938 4.41605 13.8919 4.02939 13.7422C3.62473 13.5904 3.25819 13.3519 2.95545 13.0435C2.64721 12.7405 2.40874 12.374 2.25666 11.9695C2.10636 11.5835 2.00514 11.1435 1.97484 10.498C1.94636 9.85194 1.93848 9.64648 1.93848 7.99982C1.93848 6.35315 1.94454 6.14769 1.97484 5.50163C2.00514 4.85557 2.10636 4.41678 2.25666 4.03012C2.40832 3.62538 2.64684 3.2588 2.95545 2.95618C3.25828 2.64783 3.6248 2.40935 4.02939 2.25739C4.41605 2.10709 4.85484 2.00588 5.5009 1.97557C6.14696 1.94709 6.35242 1.93921 7.99908 1.93921Z",fill:"#DF643A"})}),(0,as.jsx)("defs",{children:(0,as.jsx)("clipPath",{id:"clip0_588_31750",children:(0,as.jsx)("rect",{width:"14.5455",height:"14.5455",fill:"white",transform:"translate(0.727539 0.727539)"})})})]})}),(0,as.jsx)("a",{href:"",className:"footer__social",children:(0,as.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,as.jsx)("g",{clipPath:"url(#clip0_588_31755)",children:(0,as.jsx)("path",{d:"M7.99908 1.93921C4.65181 1.93921 1.93848 4.65254 1.93848 7.99981C1.93848 11.0247 4.15484 13.5319 7.05242 13.9871V9.75133H5.51302V7.99981H7.05242V6.66466C7.05242 5.14588 7.95666 4.30709 9.34151 4.30709C10.0045 4.30709 10.6979 4.42527 10.6979 4.42527V5.91618H9.93423C9.1809 5.91618 8.94636 6.38345 8.94636 6.86285V7.99981H10.627L10.3585 9.75133H8.94636V13.9871C11.8433 13.5325 14.0597 11.0241 14.0597 7.99981C14.0597 4.65254 11.3464 1.93921 7.99908 1.93921Z",fill:"#DF643A"})}),(0,as.jsx)("defs",{children:(0,as.jsx)("clipPath",{id:"clip0_588_31755",children:(0,as.jsx)("rect",{width:"14.5455",height:"14.5455",fill:"white",transform:"translate(0.727539 0.727539)"})})})]})})]}),(0,as.jsxs)("div",{className:"footer__payment-icons",children:[(0,as.jsx)("div",{className:"footer__payment-ico",children:(0,as.jsx)("img",{src:iM,alt:""})}),(0,as.jsx)("div",{className:"footer__payment-ico",children:(0,as.jsx)("img",{src:rM,alt:""})}),(0,as.jsx)("div",{className:"footer__payment-ico",children:(0,as.jsx)("img",{src:sM,alt:""})})]}),(0,as.jsx)("li",{className:"pp-mob",children:(0,as.jsx)(bs,{children:"\xa9 2023 Polar Pelmeni"})})]})]})]})})})},aM=$i((()=>{const{updateCity:e}=ns,{cityModalHandler:t}=es;return(0,as.jsx)("div",{className:"select-city",children:(0,as.jsxs)("div",{className:"select-city__content",children:[(0,as.jsxs)("svg",{width:"65",height:"65",viewBox:"0 0 65 65",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,as.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32.5",fill:"#DF643A",fillOpacity:"0.1"}),(0,as.jsx)("path",{d:"M39.364 37.364L33 43.7279L26.636 37.364C23.1213 33.8492 23.1213 28.1508 26.636 24.636C30.1508 21.1213 35.8492 21.1213 39.364 24.636C42.8787 28.1508 42.8787 33.8492 39.364 37.364ZM33 33C34.1046 33 35 32.1046 35 31C35 29.8954 34.1046 29 33 29C31.8954 29 31 29.8954 31 31C31 32.1046 31.8954 33 33 33Z",fill:"#DF643A"})]}),(0,as.jsx)("h4",{className:"title__h4",children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u0432\u043e\u0454 \u043c\u0456\u0441\u0442\u043e"}),(0,as.jsxs)("div",{className:"select-city__buttons",children:[(0,as.jsx)("button",{className:"select-city__btn",onClick:()=>{e("\u041e\u0434\u0435\u0441\u0430"),t(!1)},children:"\u041e\u0434\u0435\u0441\u0430"}),(0,as.jsx)("button",{className:"select-city__btn",onClick:()=>{e("\u0423\u0436\u0433\u043e\u0440\u043e\u0434"),t(!1)},disabled:!0,children:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434"})]})]})})}));var lM=n(264);const cM=()=>(0,as.jsx)("section",{className:"paymentAndDelivery",children:(0,as.jsx)(ls,{children:(0,as.jsxs)("div",{className:"paymentAndDelivery__content",children:[(0,as.jsxs)("section",{className:"paymentAndDelivery__block",children:[(0,as.jsx)("h3",{className:"title__h3",children:"\u0421\u043f\u043e\u0441\u043e\u0431\u0438 \u043e\u043f\u043b\u0430\u0442\u0438"}),(0,as.jsxs)("div",{className:"paymentAndDelivery__paymentMethodts",children:[(0,as.jsxs)("div",{className:"paymentAndDelivery__paymentMethodt",children:[(0,as.jsx)("div",{className:"paymentAndDelivery__name",children:"Apple pay"}),(0,as.jsx)("div",{className:"paymentAndDelivery__ico",children:(0,as.jsxs)("svg",{width:"2.187vw",height:"2.187vw",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,as.jsx)("rect",{x:"0.5",y:"0.5",width:"41",height:"41",rx:"2.5",fill:"white",stroke:"#E0E8F0"}),(0,as.jsx)("path",{d:"M31.6716 13H10.3284C10.2395 13 10.1505 13 10.0617 13.0005C9.98674 13.0011 9.91191 13.0019 9.83707 13.0039C9.67387 13.0084 9.50927 13.018 9.3481 13.047C9.18436 13.0766 9.03199 13.1247 8.88335 13.2006C8.73722 13.275 8.60343 13.3724 8.48749 13.4887C8.37151 13.6049 8.2743 13.7387 8.20001 13.8853C8.12431 14.0343 8.07621 14.187 8.04695 14.3512C8.01783 14.5127 8.00813 14.6777 8.00373 14.841C8.00172 14.916 8.00086 14.991 8.00037 15.066C7.99985 15.1551 8.00003 15.2441 8.00003 15.3334V27.346C8.00003 27.4353 7.99985 27.5242 8.00037 27.6135C8.00086 27.6884 8.00172 27.7634 8.00373 27.8384C8.00813 28.0016 8.01783 28.1666 8.04695 28.328C8.07621 28.4923 8.12431 28.645 8.20001 28.7939C8.2743 28.9405 8.37151 29.0745 8.48749 29.1906C8.60343 29.307 8.73722 29.4044 8.88335 29.4787C9.03199 29.5547 9.18436 29.6029 9.3481 29.6324C9.50927 29.6613 9.67387 29.6711 9.83707 29.6755C9.91191 29.6772 9.98674 29.6782 10.0617 29.6786C10.1505 29.6792 10.2395 29.6792 10.3284 29.6792H31.6716C31.7603 29.6792 31.8494 29.6792 31.9381 29.6786C32.0129 29.6782 32.0878 29.6772 32.163 29.6755C32.3258 29.6711 32.4904 29.6613 32.6519 29.6324C32.8155 29.6029 32.9679 29.5547 33.1165 29.4787C33.2628 29.4044 33.3962 29.307 33.5124 29.1906C33.6282 29.0745 33.7254 28.9405 33.7999 28.7939C33.8757 28.645 33.9238 28.4923 33.9529 28.328C33.982 28.1666 33.9915 28.0016 33.9959 27.8384C33.998 27.7634 33.999 27.6884 33.9993 27.6135C34 27.5242 34 27.4353 34 27.346V15.3334C34 15.2441 34 15.1551 33.9993 15.066C33.999 14.991 33.998 14.916 33.9959 14.841C33.9915 14.6777 33.982 14.5127 33.9529 14.3512C33.9238 14.187 33.8757 14.0343 33.7999 13.8853C33.7254 13.7387 33.6282 13.6049 33.5124 13.4887C33.3962 13.3724 33.2628 13.275 33.1165 13.2006C32.9679 13.1247 32.8155 13.0766 32.6519 13.047C32.4904 13.018 32.3258 13.0084 32.163 13.0039C32.0878 13.0019 32.0129 13.0011 31.9381 13.0005C31.8494 13 31.7603 13 31.6716 13Z",fill:"black"}),(0,as.jsx)("path",{d:"M31.6715 13.5559L31.934 13.5564C32.0052 13.5569 32.0763 13.5577 32.1478 13.5596C32.2722 13.563 32.4178 13.5698 32.5534 13.5941C32.6713 13.6154 32.7702 13.6478 32.8651 13.6962C32.9588 13.7439 33.0447 13.8064 33.1196 13.8814C33.1949 13.9569 33.2573 14.0431 33.3056 14.138C33.3536 14.2324 33.3857 14.331 33.4068 14.45C33.4311 14.5845 33.4378 14.7307 33.4412 14.8562C33.4431 14.927 33.4441 14.9978 33.4444 15.0702C33.4451 15.1579 33.4451 15.2455 33.4451 15.3333V27.346C33.4451 27.4338 33.4451 27.5213 33.4444 27.6108C33.4441 27.6816 33.4431 27.7524 33.4412 27.8233C33.4378 27.9486 33.4311 28.0947 33.4065 28.2308C33.3857 28.3482 33.3536 28.4468 33.3053 28.5416C33.2572 28.6363 33.1949 28.7224 33.1199 28.7974C33.0446 28.873 32.959 28.9353 32.8642 28.9835C32.77 29.0316 32.6713 29.064 32.5545 29.085C32.4161 29.1098 32.2645 29.1166 32.1503 29.1197C32.0784 29.1213 32.0069 29.1222 31.9337 29.1226C31.8464 29.1233 31.7588 29.1233 31.6715 29.1233H10.3283C10.3271 29.1233 10.326 29.1233 10.3248 29.1233C10.2385 29.1233 10.152 29.1233 10.0642 29.1226C9.99253 29.1222 9.92105 29.1213 9.85193 29.1197C9.73513 29.1166 9.5834 29.1098 9.44613 29.0852C9.32837 29.064 9.22964 29.0316 9.1342 28.9828C9.04029 28.9351 8.95479 28.8728 8.87937 28.7971C8.80454 28.7223 8.74235 28.6365 8.69427 28.5417C8.64614 28.4469 8.61394 28.348 8.59277 28.2292C8.56829 28.0934 8.56157 27.9478 8.55821 27.8234C8.55629 27.7522 8.55549 27.681 8.55503 27.6102L8.55469 27.4012L8.5547 27.346V15.3333L8.55469 15.2782L8.55502 15.0696C8.55549 14.9984 8.55629 14.9271 8.55821 14.856C8.56157 14.7315 8.56829 14.5858 8.59297 14.4489C8.61395 14.3312 8.64614 14.2323 8.69452 14.137C8.74222 14.0429 8.80452 13.957 8.87975 13.8817C8.95468 13.8065 9.04046 13.7441 9.13497 13.6959C9.22939 13.6478 9.32831 13.6154 9.44607 13.5942C9.58175 13.5697 9.72738 13.563 9.8521 13.5596C9.9232 13.5577 9.99429 13.5569 10.0649 13.5564L10.3283 13.5559H31.6715Z",fill:"white"}),(0,as.jsx)("path",{d:"M15.0975 18.61C15.3201 18.331 15.4712 17.9563 15.4314 17.5735C15.1055 17.5897 14.7078 17.7889 14.4776 18.0682C14.2708 18.3073 14.0879 18.6976 14.1356 19.0644C14.5014 19.0962 14.8669 18.8812 15.0975 18.61Z",fill:"black"}),(0,as.jsx)("path",{d:"M15.4273 19.136C14.896 19.1043 14.4443 19.4382 14.1906 19.4382C13.9368 19.4382 13.5483 19.152 13.1281 19.1597C12.5812 19.1678 12.0737 19.4776 11.7962 19.9705C11.2253 20.9564 11.6455 22.4188 12.2006 23.2218C12.4702 23.6191 12.7951 24.0565 13.2232 24.0408C13.6277 24.0249 13.7862 23.7783 14.2778 23.7783C14.7691 23.7783 14.9119 24.0408 15.3401 24.0328C15.7841 24.0248 16.0617 23.6354 16.3313 23.2377C16.6405 22.7849 16.7671 22.3476 16.7751 22.3236C16.7671 22.3156 15.9189 21.9896 15.911 21.0119C15.903 20.1932 16.577 19.8038 16.6087 19.7797C16.2281 19.2156 15.6335 19.152 15.4273 19.136Z",fill:"black"}),(0,as.jsx)("path",{d:"M20.0534 18.0281C21.2081 18.0281 22.0121 18.8257 22.0121 19.9869C22.0121 21.1522 21.1915 21.9539 20.0244 21.9539H18.746V23.9912H17.8223V18.0281H20.0534V18.0281ZM18.746 21.177H19.8058C20.61 21.177 21.0677 20.7431 21.0677 19.991C21.0677 19.2389 20.61 18.8092 19.81 18.8092H18.746V21.177Z",fill:"black"}),(0,as.jsx)("path",{d:"M22.2524 22.7557C22.2524 21.9952 22.8339 21.5283 23.865 21.4704L25.0526 21.4002V21.0655C25.0526 20.582 24.7268 20.2927 24.1825 20.2927C23.6669 20.2927 23.3452 20.5406 23.267 20.9291H22.4257C22.4752 20.1439 23.1432 19.5654 24.2155 19.5654C25.2671 19.5654 25.9392 20.1233 25.9392 20.9952V23.9912H25.0855V23.2763H25.065C24.8135 23.7598 24.265 24.0656 23.6959 24.0656C22.8463 24.0656 22.2524 23.5367 22.2524 22.7557ZM25.0526 22.3631V22.0201L23.9845 22.0862C23.4525 22.1234 23.1515 22.359 23.1515 22.7309C23.1515 23.111 23.4649 23.359 23.9433 23.359C24.566 23.359 25.0526 22.9292 25.0526 22.3631Z",fill:"black"}),(0,as.jsx)("path",{d:"M26.7463 25.5906V24.8674C26.8122 24.8839 26.9606 24.8839 27.0349 24.8839C27.4473 24.8839 27.67 24.7103 27.806 24.2641C27.806 24.2558 27.8844 23.9996 27.8844 23.9954L26.3174 19.6439H27.2823L28.3794 23.1814H28.3958L29.4929 19.6439H30.4331L28.8081 24.2185C28.4371 25.2724 28.0082 25.6112 27.1092 25.6112C27.0349 25.6112 26.8122 25.6029 26.7463 25.5906Z",fill:"black"})]})})]}),(0,as.jsxs)("div",{className:"paymentAndDelivery__paymentMethodt",children:[(0,as.jsx)("div",{className:"paymentAndDelivery__name",children:"\u041f\u0440\u0438\u0432\u0430\u0442 24"}),(0,as.jsx)("div",{className:"paymentAndDelivery__ico",children:(0,as.jsxs)("svg",{width:"2.187vw",height:"2.187vw",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,as.jsx)("rect",{x:"0.5",y:"0.5",width:"41",height:"41",rx:"2.5",fill:"white",stroke:"#E0E8F0"}),(0,as.jsx)("path",{d:"M8.21387 21.0523C8.21387 28.1429 13.9619 33.891 21.0526 33.891C28.1432 33.891 33.8913 28.1429 33.8913 21.0523C33.8913 13.9616 28.1432 8.21356 21.0526 8.21356C13.9619 8.21356 8.21387 13.9616 8.21387 21.0523Z",fill:"url(#paint0_linear)"}),(0,as.jsx)("path",{d:"M21 8C13.8256 8 8 13.8407 8 21.0522C8 28.2638 13.8173 34.1045 21 34.1045C28.1827 34.1045 34 28.2638 34 21.0522C34 13.8407 28.1827 8 21 8ZM21 32.6671C14.6117 32.6671 9.43157 27.4662 9.43157 21.0522C9.43157 14.6383 14.6117 9.43732 21 9.43732C27.3883 9.43732 32.5684 14.6383 32.5684 21.0522C32.5684 27.4662 27.3883 32.6671 21 32.6671Z",fill:"#8DC641"}),(0,as.jsx)("path",{d:"M25.5429 18.0862L22.6467 22.3982H25.5429V18.0862ZM26.6352 16.3415V22.4065H27.9096V23.5032H26.6352V25.7713H25.5346V23.5032H21.4385V22.3234L25.5677 16.3498H26.6352V16.3415ZM20.2304 24.6663V25.763H14.0903V25.7298C14.1483 24.6996 14.4131 23.9435 14.9261 23.3204C15.3399 22.8053 15.8446 22.4231 16.879 21.7751C16.879 21.7751 17.2431 21.5424 17.3507 21.476C17.9051 21.1187 18.2609 20.8362 18.5505 20.5122C18.9064 20.0968 19.0884 19.6482 19.0884 19.1164C19.0884 18.0862 18.3602 17.38 17.3176 17.38C16.1012 17.38 15.4805 18.3105 15.4474 19.698V19.7229H14.3551V19.698L14.3469 19.4488C14.3469 17.5877 15.555 16.3415 17.3755 16.3415C19.1546 16.3415 20.3131 17.4216 20.3131 19.0915C20.3131 19.9473 20.0069 20.6368 19.4194 21.2433C18.9808 21.7086 18.5257 22.016 17.5079 22.6391C17.4914 22.6474 17.4831 22.6557 17.4665 22.6641C17.4169 22.689 17.1935 22.8219 17.1355 22.8635C16.6473 23.1542 16.3494 23.3619 16.0846 23.6112C15.7619 23.9186 15.5467 24.2592 15.4474 24.658H20.2304V24.6663Z",fill:"white"}),(0,as.jsx)("defs",{children:(0,as.jsxs)("linearGradient",{id:"paint0_linear",x1:"8.21658",y1:"21.0523",x2:"33.8912",y2:"21.0523",gradientUnits:"userSpaceOnUse",children:[(0,as.jsx)("stop",{"stop-color":"#333333"}),(0,as.jsx)("stop",{offset:"1"})]})})]})})]}),(0,as.jsxs)("div",{className:"paymentAndDelivery__paymentMethodt",children:[(0,as.jsx)("div",{className:"paymentAndDelivery__name",children:"Privat Pay"}),(0,as.jsx)("div",{className:"paymentAndDelivery__ico",children:(0,as.jsxs)("svg",{width:"2.187vw",height:"2.187vw",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,as.jsx)("rect",{x:"0.5",y:"0.5",width:"41",height:"41",rx:"2.5",fill:"white",stroke:"#E0E8F0"}),(0,as.jsx)("path",{d:"M8.21387 21.0523C8.21387 28.1429 13.9619 33.891 21.0526 33.891C28.1432 33.891 33.8913 28.1429 33.8913 21.0523C33.8913 13.9616 28.1432 8.21356 21.0526 8.21356C13.9619 8.21356 8.21387 13.9616 8.21387 21.0523Z",fill:"url(#paint0_linear)"}),(0,as.jsx)("path",{d:"M21 8C13.8256 8 8 13.8407 8 21.0522C8 28.2638 13.8173 34.1045 21 34.1045C28.1827 34.1045 34 28.2638 34 21.0522C34 13.8407 28.1827 8 21 8ZM21 32.6671C14.6117 32.6671 9.43157 27.4662 9.43157 21.0522C9.43157 14.6383 14.6117 9.43732 21 9.43732C27.3883 9.43732 32.5684 14.6383 32.5684 21.0522C32.5684 27.4662 27.3883 32.6671 21 32.6671Z",fill:"#8DC641"}),(0,as.jsx)("path",{d:"M25.5429 18.0862L22.6467 22.3982H25.5429V18.0862ZM26.6352 16.3415V22.4065H27.9096V23.5032H26.6352V25.7713H25.5346V23.5032H21.4385V22.3234L25.5677 16.3498H26.6352V16.3415ZM20.2304 24.6663V25.763H14.0903V25.7298C14.1483 24.6996 14.4131 23.9435 14.9261 23.3204C15.3399 22.8053 15.8446 22.4231 16.879 21.7751C16.879 21.7751 17.2431 21.5424 17.3507 21.476C17.9051 21.1187 18.2609 20.8362 18.5505 20.5122C18.9064 20.0968 19.0884 19.6482 19.0884 19.1164C19.0884 18.0862 18.3602 17.38 17.3176 17.38C16.1012 17.38 15.4805 18.3105 15.4474 19.698V19.7229H14.3551V19.698L14.3469 19.4488C14.3469 17.5877 15.555 16.3415 17.3755 16.3415C19.1546 16.3415 20.3131 17.4216 20.3131 19.0915C20.3131 19.9473 20.0069 20.6368 19.4194 21.2433C18.9808 21.7086 18.5257 22.016 17.5079 22.6391C17.4914 22.6474 17.4831 22.6557 17.4665 22.6641C17.4169 22.689 17.1935 22.8219 17.1355 22.8635C16.6473 23.1542 16.3494 23.3619 16.0846 23.6112C15.7619 23.9186 15.5467 24.2592 15.4474 24.658H20.2304V24.6663Z",fill:"white"}),(0,as.jsx)("defs",{children:(0,as.jsxs)("linearGradient",{id:"paint0_linear",x1:"8.21658",y1:"21.0523",x2:"33.8912",y2:"21.0523",gradientUnits:"userSpaceOnUse",children:[(0,as.jsx)("stop",{"stop-color":"#333333"}),(0,as.jsx)("stop",{offset:"1"})]})})]})})]}),(0,as.jsxs)("div",{className:"paymentAndDelivery__paymentMethodt",children:[(0,as.jsx)("div",{className:"paymentAndDelivery__name",children:"Masterpass"}),(0,as.jsx)("div",{className:"paymentAndDelivery__ico",children:(0,as.jsxs)("svg",{width:"2.187vw",height:"2.187vw",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,as.jsx)("rect",{x:"0.5",y:"0.5",width:"41",height:"41",rx:"2.5",fill:"white",stroke:"#E0E8F0"}),(0,as.jsxs)("g",{clipPath:"url(#clip0)",children:[(0,as.jsx)("path",{d:"M24.8646 15.2769H17.3628V27.5294H24.8646V15.2769Z",fill:"#FF5F00"}),(0,as.jsx)("path",{d:"M18.1353 21.4042C18.1343 20.2244 18.4018 19.0599 18.9174 17.9987C19.433 16.9375 20.1832 16.0075 21.1113 15.279C19.9618 14.3757 18.5814 13.8139 17.1277 13.658C15.6741 13.502 14.2059 13.7582 12.891 14.3972C11.576 15.0362 10.4674 16.0323 9.69181 17.2716C8.91619 18.5109 8.50488 19.9433 8.50488 21.4053C8.50488 22.8673 8.91619 24.2998 9.69181 25.5391C10.4674 26.7783 11.576 27.7744 12.891 28.4134C14.2059 29.0524 15.6741 29.3086 17.1277 29.1527C18.5814 28.9967 19.9618 28.435 21.1113 27.5316C20.1829 26.8029 19.4325 25.8726 18.9169 24.811C18.4013 23.7494 18.134 22.5844 18.1353 21.4042Z",fill:"#EB001B"}),(0,as.jsx)("path",{d:"M32.9745 26.233V25.9819H33.0828V25.93H32.8252V25.9819H32.9269V26.233H32.9745ZM33.4745 26.233V25.93H33.3966L33.3057 26.1464L33.2148 25.93H33.1369V26.233H33.1931V26.0036L33.2776 26.2005H33.336L33.4204 26.0036V26.233H33.4745Z",fill:"#F79E1B"}),(0,as.jsx)("path",{d:"M33.7189 21.4042C33.7188 22.8663 33.3074 24.2989 32.5317 25.5382C31.7559 26.7775 30.6471 27.7736 29.332 28.4125C28.017 29.0514 26.5486 29.3074 25.0949 29.1513C23.6412 28.9951 22.2607 28.4331 21.1113 27.5295C22.039 26.8004 22.7891 25.8701 23.3048 24.8089C23.8205 23.7476 24.0885 22.5831 24.0885 21.4032C24.0885 20.2232 23.8205 19.0587 23.3048 17.9975C22.7891 16.9362 22.039 16.006 21.1113 15.2769C22.2607 14.3732 23.6412 13.8112 25.0949 13.655C26.5486 13.4989 28.017 13.7549 29.332 14.3938C30.6471 15.0327 31.7559 16.0288 32.5317 17.2681C33.3074 18.5074 33.7188 19.94 33.7189 21.4021V21.4042Z",fill:"#F79E1B"})]}),(0,as.jsx)("defs",{children:(0,as.jsx)("clipPath",{id:"clip0",children:(0,as.jsx)("rect",{width:"26",height:"18.8085",fill:"white",transform:"translate(8 12)"})})})]})})]}),(0,as.jsxs)("div",{className:"paymentAndDelivery__paymentMethodt",children:[(0,as.jsx)("div",{className:"paymentAndDelivery__name",children:"Mastercard"}),(0,as.jsx)("div",{className:"paymentAndDelivery__ico",children:(0,as.jsxs)("svg",{width:"2.187vw",height:"2.187vw",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,as.jsx)("rect",{x:"0.5",y:"0.5",width:"41",height:"41",rx:"2.5",fill:"white",stroke:"#E0E8F0"}),(0,as.jsxs)("g",{clipPath:"url(#clip0)",children:[(0,as.jsx)("path",{d:"M24.8646 15.2769H17.3628V27.5294H24.8646V15.2769Z",fill:"#FF5F00"}),(0,as.jsx)("path",{d:"M18.1353 21.4042C18.1343 20.2244 18.4018 19.0599 18.9174 17.9987C19.433 16.9375 20.1832 16.0075 21.1113 15.279C19.9618 14.3757 18.5814 13.8139 17.1277 13.658C15.6741 13.502 14.2059 13.7582 12.891 14.3972C11.576 15.0362 10.4674 16.0323 9.69181 17.2716C8.91619 18.5109 8.50488 19.9433 8.50488 21.4053C8.50488 22.8673 8.91619 24.2998 9.69181 25.5391C10.4674 26.7783 11.576 27.7744 12.891 28.4134C14.2059 29.0524 15.6741 29.3086 17.1277 29.1527C18.5814 28.9967 19.9618 28.435 21.1113 27.5316C20.1829 26.8029 19.4325 25.8726 18.9169 24.811C18.4013 23.7494 18.134 22.5844 18.1353 21.4042Z",fill:"#EB001B"}),(0,as.jsx)("path",{d:"M32.9745 26.233V25.9819H33.0828V25.93H32.8252V25.9819H32.9269V26.233H32.9745ZM33.4745 26.233V25.93H33.3966L33.3057 26.1464L33.2148 25.93H33.1369V26.233H33.1931V26.0036L33.2776 26.2005H33.336L33.4204 26.0036V26.233H33.4745Z",fill:"#F79E1B"}),(0,as.jsx)("path",{d:"M33.7189 21.4042C33.7188 22.8663 33.3074 24.2989 32.5317 25.5382C31.7559 26.7775 30.6471 27.7736 29.332 28.4125C28.017 29.0514 26.5486 29.3074 25.0949 29.1513C23.6412 28.9951 22.2607 28.4331 21.1113 27.5295C22.039 26.8004 22.7891 25.8701 23.3048 24.8089C23.8205 23.7476 24.0885 22.5831 24.0885 21.4032C24.0885 20.2232 23.8205 19.0587 23.3048 17.9975C22.7891 16.9362 22.039 16.006 21.1113 15.2769C22.2607 14.3732 23.6412 13.8112 25.0949 13.655C26.5486 13.4989 28.017 13.7549 29.332 14.3938C30.6471 15.0327 31.7559 16.0288 32.5317 17.2681C33.3074 18.5074 33.7188 19.94 33.7189 21.4021V21.4042Z",fill:"#F79E1B"})]}),(0,as.jsx)("defs",{children:(0,as.jsx)("clipPath",{id:"clip0",children:(0,as.jsx)("rect",{width:"26",height:"18.8085",fill:"white",transform:"translate(8 12)"})})})]})})]}),(0,as.jsxs)("div",{className:"paymentAndDelivery__paymentMethodt",children:[(0,as.jsx)("div",{className:"paymentAndDelivery__name",children:"Visa"}),(0,as.jsx)("div",{className:"paymentAndDelivery__ico",children:(0,as.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"2.187vw",viewBox:"0 0 141.732 141.732",children:[(0,as.jsx)("g",{fill:"#2566af",children:(0,as.jsx)("path",{d:"M62.935 89.571h-9.733l6.083-37.384h9.734zM45.014 52.187L35.735 77.9l-1.098-5.537.001.002-3.275-16.812s-.396-3.366-4.617-3.366h-15.34l-.18.633s4.691.976 10.181 4.273l8.456 32.479h10.141l15.485-37.385H45.014zM121.569 89.571h8.937l-7.792-37.385h-7.824c-3.613 0-4.493 2.786-4.493 2.786L95.881 89.571h10.146l2.029-5.553h12.373l1.14 5.553zm-10.71-13.224l5.114-13.99 2.877 13.99h-7.991zM96.642 61.177l1.389-8.028s-4.286-1.63-8.754-1.63c-4.83 0-16.3 2.111-16.3 12.376 0 9.658 13.462 9.778 13.462 14.851s-12.075 4.164-16.06.965l-1.447 8.394s4.346 2.111 10.986 2.111c6.642 0 16.662-3.439 16.662-12.799 0-9.72-13.583-10.625-13.583-14.851.001-4.227 9.48-3.684 13.645-1.389z"})}),(0,as.jsx)("path",{d:"M34.638 72.364l-3.275-16.812s-.396-3.366-4.617-3.366h-15.34l-.18.633s7.373 1.528 14.445 7.253c6.762 5.472 8.967 12.292 8.967 12.292z",fill:"#e6a540"}),(0,as.jsx)("path",{fill:"none",d:"M0 0h141.732v141.732H0z"})]})})]}),(0,as.jsxs)("div",{className:"paymentAndDelivery__paymentMethodt",children:[(0,as.jsx)("div",{className:"paymentAndDelivery__name",children:"Visa Checkout"}),(0,as.jsx)("div",{className:"paymentAndDelivery__ico",children:(0,as.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"2.187vw",viewBox:"0 0 141.732 141.732",children:[(0,as.jsx)("g",{fill:"#2566af",children:(0,as.jsx)("path",{d:"M62.935 89.571h-9.733l6.083-37.384h9.734zM45.014 52.187L35.735 77.9l-1.098-5.537.001.002-3.275-16.812s-.396-3.366-4.617-3.366h-15.34l-.18.633s4.691.976 10.181 4.273l8.456 32.479h10.141l15.485-37.385H45.014zM121.569 89.571h8.937l-7.792-37.385h-7.824c-3.613 0-4.493 2.786-4.493 2.786L95.881 89.571h10.146l2.029-5.553h12.373l1.14 5.553zm-10.71-13.224l5.114-13.99 2.877 13.99h-7.991zM96.642 61.177l1.389-8.028s-4.286-1.63-8.754-1.63c-4.83 0-16.3 2.111-16.3 12.376 0 9.658 13.462 9.778 13.462 14.851s-12.075 4.164-16.06.965l-1.447 8.394s4.346 2.111 10.986 2.111c6.642 0 16.662-3.439 16.662-12.799 0-9.72-13.583-10.625-13.583-14.851.001-4.227 9.48-3.684 13.645-1.389z"})}),(0,as.jsx)("path",{d:"M34.638 72.364l-3.275-16.812s-.396-3.366-4.617-3.366h-15.34l-.18.633s7.373 1.528 14.445 7.253c6.762 5.472 8.967 12.292 8.967 12.292z",fill:"#e6a540"}),(0,as.jsx)("path",{fill:"none",d:"M0 0h141.732v141.732H0z"})]})})]}),(0,as.jsxs)("div",{className:"paymentAndDelivery__paymentMethodt",children:[(0,as.jsx)("div",{className:"paymentAndDelivery__name",children:"Google Pay"}),(0,as.jsx)("div",{className:"paymentAndDelivery__ico",children:(0,as.jsxs)("svg",{role:"presentation",fill:"#A1A1A1",height:"2.187vw",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 435.97 173.13",className:"main-header__logo-image",children:[(0,as.jsx)("path",{d:"M206.2,84.58v50.75H190.1V10h42.7a38.61,38.61,0,0,1,27.65,10.85A34.88,34.88,0,0,1,272,47.3a34.72,34.72,0,0,1-11.55,26.6q-11.2,10.68-27.65,10.67H206.2Zm0-59.15V69.18h27a21.28,21.28,0,0,0,15.93-6.48,21.36,21.36,0,0,0,0-30.63,21,21,0,0,0-15.93-6.65h-27Z",fill:"#5f6368"}),(0,as.jsx)("path",{d:"M309.1,46.78q17.85,0,28.18,9.54T347.6,82.48v52.85H332.2v-11.9h-.7q-10,14.7-26.6,14.7-14.17,0-23.71-8.4a26.82,26.82,0,0,1-9.54-21q0-13.31,10.06-21.17t26.86-7.88q14.34,0,23.62,5.25V81.25A18.33,18.33,0,0,0,325.54,67,22.8,22.8,0,0,0,310,61.13q-13.49,0-21.35,11.38l-14.18-8.93Q286.17,46.78,309.1,46.78Zm-20.83,62.3a12.86,12.86,0,0,0,5.34,10.5,19.64,19.64,0,0,0,12.51,4.2,25.67,25.67,0,0,0,18.11-7.52q8-7.53,8-17.67-7.53-6-21-6-9.81,0-16.36,4.73C290.46,100.52,288.27,104.41,288.27,109.08Z",fill:"#5f6368"}),(0,as.jsx)("path",{d:"M436,49.58,382.24,173.13H365.62l19.95-43.23L350.22,49.58h17.5l25.55,61.6h.35l24.85-61.6Z",fill:"#5f6368"}),(0,as.jsx)("path",{d:"M141.14,73.64A85.79,85.79,0,0,0,139.9,59H72V86.73h38.89a33.33,33.33,0,0,1-14.38,21.88v18h23.21C133.31,114.08,141.14,95.55,141.14,73.64Z",fill:"#4285f4"}),(0,as.jsx)("path",{d:"M72,144c19.43,0,35.79-6.38,47.72-17.38l-23.21-18C90.05,113,81.73,115.5,72,115.5c-18.78,0-34.72-12.66-40.42-29.72H7.67v18.55A72,72,0,0,0,72,144Z",fill:"#34a853"}),(0,as.jsx)("path",{d:"M31.58,85.78a43.14,43.14,0,0,1,0-27.56V39.67H7.67a72,72,0,0,0,0,64.66Z",fill:"#fbbc04"}),(0,as.jsx)("path",{d:"M72,28.5A39.09,39.09,0,0,1,99.62,39.3h0l20.55-20.55A69.18,69.18,0,0,0,72,0,72,72,0,0,0,7.67,39.67L31.58,58.22C37.28,41.16,53.22,28.5,72,28.5Z",fill:"#ea4335"})]})})]})]})]}),(0,as.jsxs)("div",{className:"paymentAndDelivery__block",children:[(0,as.jsx)("h3",{className:"title__h3",children:"\u0423\u043c\u043e\u0432\u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),(0,as.jsx)("p",{className:"text text__color--primary",children:"\u041c\u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0454\u043c\u043e:"}),(0,as.jsxs)("ul",{className:"paymentAndDelivery__list",children:[(0,as.jsx)("li",{children:"\u041a\u0438\u0457\u0432\u0441\u043a\u0438\u0439"}),(0,as.jsx)("li",{children:"\u0410\u0440\u043a\u0430\u0434\u0456\u044f"}),(0,as.jsx)("li",{children:"\u0424\u043e\u043d\u0442\u0430\u043d"}),(0,as.jsx)("li",{children:"\u041f\u0440\u0438\u043c\u043e\u0440\u0441\u044c\u043a\u0438\u0439"}),(0,as.jsx)("li",{children:"\u041c\u0430\u043b\u0438\u043d\u043e\u0432\u0441\u044c\u043a\u0438\u0439"}),(0,as.jsx)("li",{children:"\u041f\u0435\u0440\u0435\u0441\u0435\u043f\u0441\u044c\u043a\u0438\u0439"}),(0,as.jsx)("li",{children:"\u0410\u0432\u0430\u043d\u0433\u0430\u0440\u0434"})]}),(0,as.jsx)("p",{className:"text text__color--primary",children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0437\u0434\u0456\u0439\u0441\u043d\u044e\u0454\u0442\u044c\u0441\u044f \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0442\u0430\u043a\u0441\u0456 Uklon"})]}),(0,as.jsxs)("div",{className:"paymentAndDelivery__block",children:[(0,as.jsx)("h3",{className:"title__h3",children:"\u0423\u043c\u043e\u0432\u0438 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f:"}),(0,as.jsxs)("p",{className:"text text__color--primary",children:["\u0423\u043c\u043e\u0432\u0438 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u0434\u043b\u044f \u0441\u0430\u0439\u0442\u0443 Polar Pelmeni:",(0,as.jsx)("br",{}),(0,as.jsx)("br",{}),"\u0428\u0430\u043d\u043e\u0432\u043d\u0456 \u043a\u043b\u0456\u0454\u043d\u0442\u0438 Polar Pelmeni, \u0432\u0430\u0448\u0430 \u043d\u0430\u0441\u043e\u043b\u043e\u0434\u0430 \u043d\u0430\u0448\u043e\u044e \u0457\u0436\u0435\u044e - \u043f\u0440\u0456\u043e\u0440\u0438\u0442\u0435\u0442! \u041c\u0438 \u0433\u0430\u0440\u0430\u043d\u0442\u0443\u0454\u043c\u043e \u044f\u043a\u0456\u0441\u0442\u044c \u043d\u0430\u0448\u043e\u0457 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0456\u0457 \u0442\u0430 \u043d\u0430\u0434\u0430\u0454\u043c\u043e \u043c\u043e\u0436\u043b\u0438\u0432\u0456\u0441\u0442\u044c \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0432 \u0442\u0430\u043a\u0438\u0445 \u0443\u043c\u043e\u0432\u0430\u0445:"]}),(0,as.jsxs)("ul",{className:"paymentAndDelivery__list paymentAndDelivery__list--num",children:[(0,as.jsx)("li",{children:"\u041f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438: \u041c\u0438 \u0437\u0434\u0456\u0439\u0441\u043d\u044e\u0454\u043c\u043e \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043a\u043e\u0448\u0442\u0456\u0432 \u0437\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0443 \u0432 \u0440\u0430\u0437\u0456, \u044f\u043a\u0449\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0456\u044f \u043d\u0435\u044f\u043a\u0456\u0441\u043d\u0430 \u0442\u0430 \u0432 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u0456 \u043f\u0440\u0438\u0441\u0443\u0442\u043d\u0456\u0439 \u0449\u043e\u043d\u0430\u0439\u043c\u0435\u043d\u0448\u0435 70% \u0432\u0456\u0434 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0431\u0441\u044f\u0433\u0443 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f."}),(0,as.jsx)("li",{children:"\u0423\u043c\u043e\u0432\u0438 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f: \u0429\u043e\u0431 \u0437\u0434\u0456\u0439\u0441\u043d\u0438\u0442\u0438 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u0434\u043e \u043d\u0430\u0448\u043e\u0457 \u0441\u043b\u0443\u0436\u0431\u0438 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0438 \u0437\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u043c +380 (98) 727-19-91 \u0430\u0431\u043e \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u044e \u043f\u043e\u0448\u0442\u043e\u044e support@polarpelmeni.com. \u041d\u0430\u0448\u0456 \u0441\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a\u0438 \u0431\u0443\u0434\u0443\u0442\u044c \u0440\u0430\u0434\u0456 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0442\u0438 \u0432\u0430\u043c \u0456\u0437 \u0437\u0434\u0456\u0439\u0441\u043d\u0435\u043d\u043d\u044f\u043c \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u0442\u0430 \u043d\u0430\u0434\u0430\u0434\u0443\u0442\u044c \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u0457."}),(0,as.jsx)("li",{children:"\u041f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0456\u0457: \u041f\u0435\u0440\u0435\u0434 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f\u043c \u0442\u043e\u0432\u0430\u0440\u0443, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0431\u0435\u0440\u0435\u0436\u0456\u0442\u044c \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0443 \u0442\u0430 \u0437\u0440\u043e\u0431\u0456\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0457 \u043d\u0435\u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u0445 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432 \u0434\u043b\u044f \u043d\u0430\u0448\u043e\u0457 \u0432\u043d\u0443\u0442\u0440\u0456\u0448\u043d\u044c\u043e\u0457 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0438."}),(0,as.jsx)("li",{children:"\u0422\u0435\u0440\u043c\u0456\u043d \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f: \u041f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u0431\u0443\u0442\u0438 \u0437\u0434\u0456\u0439\u0441\u043d\u0435\u043d\u0435 \u043c\u0435\u043d\u0448\u0435 \u0434\u043e 5 \u0433\u043e\u0434\u0438\u043d \u0437 \u043c\u043e\u043c\u0435\u043d\u0442\u0443 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f."}),(0,as.jsx)("li",{children:"\u041f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043a\u043e\u0448\u0442\u0456\u0432: \u041f\u0456\u0441\u043b\u044f \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0438 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0443, \u043c\u0438 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043c\u043e \u043a\u043e\u0448\u0442\u0438 \u043d\u0430 \u0432\u0430\u0448 \u0440\u0430\u0445\u0443\u043d\u043e\u043a \u0430\u0431\u043e \u0432\u0438\u043a\u043e\u043d\u0430\u0454\u043c\u043e \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f \u043d\u0430 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u0443 \u043a\u0430\u0440\u0442\u0443, \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u0443 \u0434\u043b\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f."})]}),(0,as.jsx)("p",{className:"text text__color--primary",children:"\u041c\u0438 \u0434\u0443\u0436\u0435 \u0446\u0456\u043d\u0443\u0454\u043c\u043e \u0432\u0430\u0448\u0443 \u0434\u043e\u0432\u0456\u0440\u0443 \u0442\u0430 \u0440\u043e\u0437\u0443\u043c\u0456\u0454\u043c\u043e \u0432\u0430\u0436\u043b\u0438\u0432\u0456\u0441\u0442\u044c \u044f\u043a\u043e\u0441\u0442\u0456 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432, \u044f\u043a\u0456 \u043c\u0438 \u043f\u0440\u043e\u043f\u043e\u043d\u0443\u0454\u043c\u043e. \u0412 \u0440\u0430\u0437\u0456 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0445 \u043f\u0438\u0442\u0430\u043d\u044c \u0447\u0438 \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e\u0441\u0442\u0456 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0438, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0432'\u044f\u0436\u0456\u0442\u044c\u0441\u044f \u0437 \u043d\u0430\u043c\u0438. \u0414\u044f\u043a\u0443\u0454\u043c\u043e, \u0449\u043e \u043e\u0431\u0438\u0440\u0430\u0454\u0442\u0435 Polar Pelmeni!"})]})]})})});n.n(lM)().initialize({gtmId:"GTM-5CBQPKC"}),vp.initializeApp({apiKey:"AIzaSyAZTy2mx9Oje6LQvaiaaCxx0rq0Cm3jGvM",authDomain:"polar-pelmeni.firebaseapp.com",projectId:"polar-pelmeni",storageBucket:"polar-pelmeni.appspot.com",messagingSenderId:"1051342657269",appId:"1:1051342657269:web:4a5d1cc8eb468172dcd7bc"});const uM=$i((()=>{const{isAuthenticated:e,city:t,loadFromLocalStorageAdress:n,getFavoritesFromLS:r,userLogout:s,setUserDataToStore:o}=ns,{cityModal:a,cityModalHandler:l}=es,{getCartProductsFromLS:c}=is,{currentAction:u}=os,[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!0),m=$(),g=X(),v=(0,i.useCallback)((()=>{const e=localStorage.getItem("userData"),t=JSON.parse(e);e&&(c(),!0===t.isAuthenticated&&o(t))}),[c,o]);(0,i.useEffect)((()=>{v(),r(),n()}),[]);const y=(0,i.useCallback)((()=>"addToCard"===u?(0,as.jsx)(Oc,{action:"\u0411\u043b\u044e\u0434\u043e \u0434\u043e\u0434\u0430\u043d\u043e \u0443 \u043a\u043e\u0448\u0438\u043a"}):"addToFavorit"===u?(0,as.jsx)(Oc,{action:"\u0411\u043b\u044e\u0434\u043e \u0434\u043e\u0434\u0430\u043d\u043e \u0432 \xab\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0435\xbb"}):null),[u]);return(0,i.useEffect)((()=>{"/profile/signout"===m.pathname&&(s(),g("/"))}),[m.pathname,s,g]),(0,i.useEffect)((()=>{const e=()=>{const e=m.pathname.includes("/profile");window.innerWidth<=768&&e?p(!1):p(!0)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[m]),(0,i.useEffect)((()=>{window.scrollTo(0,0),h(!0),setTimeout((()=>{h(!1)}),1500)}),[m]),(0,i.useEffect)((()=>{l(null===t)}),[t,l]),(0,as.jsxs)(i.Fragment,{children:[y(),a&&(0,as.jsx)(Vl,{small:!0,closeModal:()=>l(!1),children:(0,as.jsx)(aM,{})}),f&&(0,as.jsx)(tM,{}),d&&(0,as.jsx)("div",{className:"loader__wrapper",children:(0,as.jsx)(cc,{})}),(0,as.jsxs)(ge,{children:[(0,as.jsx)(pe,{path:"/",element:(0,as.jsx)(cu,{})}),(0,as.jsx)(pe,{path:"/menu",element:(0,as.jsx)(uu,{}),children:(0,as.jsx)(pe,{path:":id",element:(0,as.jsx)(uu,{})})}),(0,as.jsx)(pe,{path:"/product/:id",element:(0,as.jsx)(hc,{})}),(0,as.jsx)(pe,{path:"/about-us",element:(0,as.jsx)(yc,{})}),(0,as.jsx)(pe,{path:"/order",element:(0,as.jsx)(Vc,{})}),(0,as.jsx)(pe,{path:"/contact",element:(0,as.jsx)(Sh,{})}),(0,as.jsx)(pe,{path:"/payment-and-delivery",element:(0,as.jsx)(cM,{})}),(0,as.jsxs)(pe,{path:"/profile",children:[(0,as.jsx)(pe,{index:!0,element:(0,as.jsx)(lc,{})}),(0,as.jsx)(pe,{path:":item",element:(0,as.jsx)(lc,{})})]})]}),(0,as.jsx)(oM,{})]})})),dM=e=>{e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};o.createRoot(document.getElementById("root")).render((0,as.jsx)(i.StrictMode,{children:(0,as.jsx)(gs,{children:(0,as.jsx)(uM,{})})})),dM()})()})();
//# sourceMappingURL=main.eaa018ed.js.map