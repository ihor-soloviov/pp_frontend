/*! For license information please see main.cb818b2c.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<a.length;++m){var g=a[m];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=h(n,g);try{c(t,g,y)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===k||e.$$typeof===b||e.$$typeof===g)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var M,R=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case L:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function $(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ee(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ce(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Ie(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Le(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==_e||null!==Se)&&(Le(),Ie())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ae=!1;if(l)try{var je={};Object.defineProperty(je,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(le){Ae=!1}function De(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Re=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,Re=e}};function Be(e,t,n,r,i,o,a,s,u){Me=!1,Re=null,De.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Ze=i.unstable_requestPaint,Ye=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ft(s):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,Et,Ct=!1,It=[],Tt=null,Lt=null,Nt=null,Pt=new Map,Ot=new Map,At=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Rt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Ct=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Lt&&Ft(Lt)&&(Lt=null),null!==Nt&&Ft(Nt)&&(Nt=null),Pt.forEach(Ut),Ot.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==Lt&&Bt(Lt,e),null!==Nt&&Bt(Nt,e),Pt.forEach(t),Ot.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Rt(n),null===n.blockedOn&&At.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=kt,o=qt.transition;qt.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,qt.transition=o}}function Gt(e,t,n,r){var i=kt,o=qt.transition;qt.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,qt.transition=o}}function Kt(e,t,n,r){if(Wt){var i=Jt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return Lt=Mt(Lt,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Mt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<jt.indexOf(e)){for(;null!==i;){var o=ki(i);if(null!==o&&wt(o),null===(o=Jt(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Jt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,$t=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=$t,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),fn=R({},cn,{view:0,detail:0}),hn=on(fn),dn=R({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(dn),vn=on(R({},dn,{dataTransfer:0})),mn=on(R({},fn,{relatedTarget:0})),gn=on(R({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=R({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=on(yn),bn=on(R({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Sn}var Cn=R({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(Cn),Tn=on(R({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=on(R({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=on(R({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=R({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Pn),An=[9,13,27,32],jn=l&&"CompositionEvent"in window,Dn=null;l&&"documentMode"in document&&(Dn=document.documentMode);var Mn=l&&"TextEvent"in window&&!Dn,Rn=l&&(!jn||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Fr(e,0)}function Jn(e){if(K(bi(e)))return e}function Zn(e,t){if("change"===e)return t}var Yn=!1;if(l){var $n;if(l){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}$n=Xn}else $n=!1;Yn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Jn(Kn)){var t=[];Hn(t,Kn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Kn)}function or(e,t){if("click"===e)return Jn(t)}function ar(e,t){if("input"===e||"change"===e)return Jn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Gr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Cr=Er("animationend"),Ir=Er("animationiteration"),Tr=Er("animationstart"),Lr=Er("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),u(t,[e])}for(var Ar=0;Ar<Pr.length;Ar++){var jr=Pr[Ar];Or(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Or(Cr,"onAnimationEnd"),Or(Ir,"onAnimationIteration"),Or(Tr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Lr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(o(198));var l=Re;Me=!1,Re=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Rr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Rr(i,s,c),o=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Zt(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=o,i=we(n),a=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Ln;break;case Cr:case Ir:case Tr:u=gn;break;case Lr:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==u&&Qr(a,s,u,l,!1),null!==c&&null!==f&&Qr(a,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Wn(s))if(Yn)m=ar;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Hn(a,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Rn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(y=en()):($t="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(g=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),a.push({event:k,listeners:g}),y?k.data=y:null!==(y=Bn(n))&&(k.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!jn&&Vn(e,t)?(e=en(),Xt=$t=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Oe(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Oe(n,o))&&a.unshift(Hr(n,u,s)):i||null!=(u=Oe(n,o))&&a.push(Hr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Jr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Zr,"")}function $r(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ci(e,t){_i++,xi[_i]=e.current,e.current=t}var Ii={},Ti=Si(Ii),Li=Si(!1),Ni=Ii;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){Ei(Li),Ei(Ti)}function ji(e,t,n){if(Ti.current!==Ii)throw Error(o(168));Ci(Ti,t),Ci(Li,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return R({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ni=Ti.current,Ci(Ti,e),Ci(Li,Li.current),!0}function Ri(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Di(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Li),Ei(Ti),Ci(Ti,e)):Ei(Li),Ci(Li,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Xe,zi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Gi=0,Ki=[],Qi=0,Ji=null,Zi=1,Yi="";function $i(e,t){qi[Wi++]=Gi,qi[Wi++]=Hi,Hi=e,Gi=t}function Xi(e,t,n){Ki[Qi++]=Zi,Ki[Qi++]=Yi,Ki[Qi++]=Ji,Ji=e;var r=Zi;e=Yi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Zi=1<<32-at(t)+i|n<<i|r,Yi=o+e}else Zi=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&($i(e,1),Xi(e,1,0))}function to(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Gi=qi[--Wi],qi[Wi]=null;for(;e===Ji;)Ji=Ki[--Qi],Ki[Qi]=null,Yi=Ki[--Qi],Ki[Qi]=null,Zi=Ki[--Qi],Ki[Qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Zi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var mo=b.ReactCurrentBatchConfig;function go(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Si(null),ko=null,bo=null,wo=null;function xo(){wo=bo=ko=null}function _o(e){var t=yo.current;Ei(yo),e._currentValue=t}function So(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t){ko=e,wo=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===ko)throw Error(o(308));bo=e,ko.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var Io=null;function To(e){null===Io?Io=[e]:Io.push(e)}function Lo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,To(t)):(n.next=i.next,i.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Do(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Lu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,No(e,n)}return null===(i=r.interleaved)?(t.next=t,To(r)):(t.next=i.next,i.next=t),r.interleaved=t,No(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ro(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;Po=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(a=0,l=c=u=null,s=o;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=R({},f,h);break e;case 2:Po=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ru|=a,e.lanes=a,e.memoizedState=f}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Vo=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zo={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=jo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=jo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=jo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Do(e,i,r))&&(rc(t,e,r,n),Mo(t,e,r))}};function qo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Wo(e,t,n){var r=!1,i=Ii,o=t.contextType;return"object"===typeof o&&null!==o?o=Co(o):(i=Oi(t)?Ni:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ii),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function Go(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vo,Oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Co(o):(o=Oi(t)?Ni:Ti.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zo.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Vo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jo(e){return(0,e._init)(e._payload)}function Zo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=jc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&Jo(o)===t.type)?((r=i(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:f(e,t,n,r,null);Qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return f(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),io&&$i(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return io&&$i(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),io&&$i(i,v),c}function m(i,s,u,c){var l=D(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),io&&$i(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return io&&$i(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),io&&$i(i,m),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===_){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Jo(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Ko(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===_?((o=Mc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Dc(a.type,a.key,a.props,null,r.mode,u)).ref=Ko(r,o,a),u.return=r,r=u)}return s(r);case x:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uc(a,r.mode,u)).return=r,r=o}return s(r);case O:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(D(a))return m(r,o,a,u);Qo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Yo=Zo(!0),$o=Zo(!1),Xo={},ea=Si(Xo),ta=Si(Xo),na=Si(Xo);function ra(e){if(e===Xo)throw Error(o(174));return e}function ia(e,t){switch(Ci(na,t),Ci(ta,e),Ci(ea,Xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(ea),Ci(ea,t)}function oa(){Ei(ea),Ei(ta),Ei(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(Ci(ta,e),Ci(ea,n))}function sa(e){ta.current===e&&(Ei(ea),Ei(ta))}var ua=Si(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function fa(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var ha=b.ReactCurrentDispatcher,da=b.ReactCurrentBatchConfig,pa=0,va=null,ma=null,ga=null,ya=!1,ka=!1,ba=0,wa=0;function xa(){throw Error(o(321))}function _a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Sa(e,t,n,r,i,a){if(pa=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ka){a=0;do{if(ka=!1,ba=0,25<=a)throw Error(o(301));a+=1,ga=ma=null,t.updateQueue=null,ha.current=cs,e=n(r,i)}while(ka)}if(ha.current=as,t=null!==ma&&null!==ma.next,pa=0,ga=ma=va=null,ya=!1,t)throw Error(o(300));return e}function Ea(){var e=0!==ba;return ba=0,e}function Ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?va.memoizedState=ga=e:ga=ga.next=e,ga}function Ia(){if(null===ma){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?va.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?va.memoizedState=ga=e:ga=ga.next=e}return ga}function Ta(e,t){return"function"===typeof t?t(e):t}function La(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var f=l.lane;if((pa&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,va.lanes|=f,Ru|=f}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,Ru|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Na(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Pa(){}function Oa(e,t){var n=va,r=Ia(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Wa(Da.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Ua(9,ja.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(o(349));0!==(30&pa)||Aa(n,t,i)}return i}function Aa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ja(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&Ra(e)}function Da(e,t,n){return n((function(){Ma(t)&&Ra(e)}))}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ra(e){var t=No(e,1);null!==t&&rc(t,e,1,-1)}function Fa(e){var t=Ca();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Va(){return Ia().memoizedState}function Ba(e,t,n,r){var i=Ca();va.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function za(e,t,n,r){var i=Ia();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&_a(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}va.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function qa(e,t){return Ba(8390656,8,e,t)}function Wa(e,t){return za(2048,8,e,t)}function Ha(e,t){return za(4,2,e,t)}function Ga(e,t){return za(4,4,e,t)}function Ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,Ka.bind(null,t,e),n)}function Ja(){}function Za(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,Ru|=n,e.baseState=!0),t)}function Xa(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{kt=n,da.transition=r}}function es(){return Ia().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Lo(e,t,n,r))){rc(n,e,r,tc()),os(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,To(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Lo(e,t,i,r))&&(rc(n,e,r,i=tc()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){ka=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:Co,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ss={readContext:Co,useCallback:function(e,t){return Ca().memoizedState=[e,void 0===t?null:t],e},useContext:Co,useEffect:qa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=Ca();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ca();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ca().memoizedState=e},useState:Fa,useDebugValue:Ja,useDeferredValue:function(e){return Ca().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Xa.bind(null,e[1]),Ca().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=Ca();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nu)throw Error(o(349));0!==(30&pa)||Aa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qa(Da.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,ja.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ca(),t=Nu.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Zi&~(1<<32-at(Zi)-1)).toString(32)+n),0<(n=ba++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Co,useCallback:Za,useContext:Co,useEffect:Wa,useImperativeHandle:Qa,useInsertionEffect:Ha,useLayoutEffect:Ga,useMemo:Ya,useReducer:La,useRef:Va,useState:function(){return La(Ta)},useDebugValue:Ja,useDeferredValue:function(e){return $a(Ia(),ma.memoizedState,e)},useTransition:function(){return[La(Ta)[0],Ia().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Oa,useId:es,unstable_isNewReconciler:!1},cs={readContext:Co,useCallback:Za,useContext:Co,useEffect:Wa,useImperativeHandle:Qa,useInsertionEffect:Ha,useLayoutEffect:Ga,useMemo:Ya,useReducer:Na,useRef:Va,useState:function(){return Na(Ta)},useDebugValue:Ja,useDeferredValue:function(e){var t=Ia();return null===ma?t.memoizedState=e:$a(t,ma.memoizedState,e)},useTransition:function(){return[Na(Ta)[0],Ia().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Oa,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=jo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Gu=r),hs(0,t)},n}function vs(e,t,n){(n=jo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=jo(-1,1)).tag=2,Do(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?$o(t,null,n,r):Yo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Eo(t,i),r=Sa(e,t,n,r,o,i),n=Ea(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ac(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=jc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Is(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(ju,Au),Au|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(ju,Au),Au|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(ju,Au),Au|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ci(ju,Au),Au|=r;return ws(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var o=Oi(n)?Ni:Ti.current;return o=Pi(t,o),Eo(t,i),n=Sa(e,t,n,r,o,i),r=Ea(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ts(e,t,n,r,i){if(Oi(n)){var o=!0;Mi(t)}else o=!1;if(Eo(t,i),null===t.stateNode)Ws(e,t),Wo(t,n,r),Go(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Co(c):c=Pi(t,c=Oi(n)?Ni:Ti.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Ho(t,a,r,c),Po=!1;var h=t.memoizedState;a.state=h,Fo(t,r,a,i),u=t.memoizedState,s!==r||h!==u||Li.current||Po?("function"===typeof l&&(Bo(t,n,l,r),u=t.memoizedState),(s=Po||qo(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ao(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:go(t.type,s),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Co(u):u=Pi(t,u=Oi(n)?Ni:Ti.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&Ho(t,a,r,u),Po=!1,h=t.memoizedState,a.state=h,Fo(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||Li.current||Po?("function"===typeof d&&(Bo(t,n,d,r),p=t.memoizedState),(c=Po||qo(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ls(e,t,n,r,o,i)}function Ls(e,t,n,r,i,o){Cs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ri(t,n,!1),Hs(e,t,o);r=t.stateNode,ks.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Yo(t,e.child,null,o),t.child=Yo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Ri(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?ji(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ji(0,t.context,!1),ia(e,t.containerInfo)}function Ps(e,t,n,r,i){return po(),vo(i),t.flags|=256,ws(e,t,n,r),t.child}var Os,As,js,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(ua,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Rc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ms,e):Us(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Yo(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ms,a);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,No(e,i),rc(r,e,i,-1))}return mc(),Vs(e,t,s,r=fs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Qi++]=Zi,Ki[Qi++]=Yi,Ki[Qi++]=Ji,Zi=e.id,Yi=e.overflow,Ji=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=jc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=jc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Rs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=jc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&vo(r),Yo(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),So(e.return,t,n)}function zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,o);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ru|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=jc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Oi(t.type)&&Ai(),Ks(t),null;case 3:return r=t.stateNode,oa(),Ei(Li),Ei(Ti),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),As(e,t),Ks(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)js(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Z(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var u in ye(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":G(r),X(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Z(e,r),i=J(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=R({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?me(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Ur("scroll",e):null!=l&&k(e,a,l,u))}switch(n){case"input":G(e),X(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ei(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Du&&(Du=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return oa(),As(e,t),null===e&&zr(t.stateNode.containerInfo),Ks(t),null;case 10:return _o(t.type._context),Ks(t),null;case 19:if(Ei(ua),null===(a=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Gs(a,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,Gs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>qu&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Ks(t),null}else 2*Ye()-a.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=ua.current,Ci(ua,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Au)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Js(e,t){switch(to(t),t.tag){case 1:return Oi(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ei(Li),Ei(Ti),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ei(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ua),null;case 4:return oa(),null;case 10:return _o(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},As=function(){},js=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=J(e,i),r=J(e,r),a=[];break;case"select":i=R({},i,{value:void 0}),r=R({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zs=!1,Ys=!1,$s="function"===typeof WeakSet?WeakSet:Set,Xs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(t,n,o)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tu(n,t,a),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Ys&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,du(e,t,n),Ys=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Lc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(o(160));pu(a,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Ec(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&Y(i,a),ke(u,s);var l=ke(u,a);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":$(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(m){Ec(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Ec(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Ye())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||f,mu(t,e),Ys=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xs=e,f=e.child;null!==f;){for(h=Xs=f;null!==Xs;){switch(p=(d=Xs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){xu(h);continue}}null!==p?(p.return=d,Xs=p):xu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cu(e,uu(e),a);break;default:throw Error(o(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){Xs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Zs;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=Zs;var c=Ys;if(Zs=a,(Ys=u)&&!c)for(Xs=i;null!==Xs;)u=(a=Xs).child,22===a.tag&&null!==a.memoizedState?_u(i):null!==u?(u.return=a,Xs=u):_u(i);for(;null!==o;)Xs=o,bu(o,t,n),o=o.sibling;Xs=i,Zs=s,Ys=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xs=o):wu(e)}}function wu(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:go(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&ou(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function xu(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function _u(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var o=t.return;try{ou(t)}catch(u){Ec(t,o,u)}break;case 5:var a=t.return;try{ou(t)}catch(u){Ec(t,a,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Su,Eu=Math.ceil,Cu=b.ReactCurrentDispatcher,Iu=b.ReactCurrentOwner,Tu=b.ReactCurrentBatchConfig,Lu=0,Nu=null,Pu=null,Ou=0,Au=0,ju=Si(0),Du=0,Mu=null,Ru=0,Fu=0,Uu=0,Vu=null,Bu=null,zu=0,qu=1/0,Wu=null,Hu=!1,Gu=null,Ku=null,Qu=!1,Ju=null,Zu=0,Yu=0,$u=null,Xu=-1,ec=0;function tc(){return 0!==(6&Lu)?Ye():-1!==Xu?Xu:Xu=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Lu)&&0!==Ou?Ou&-Ou:null!==mo.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function rc(e,t,n,r){if(50<Yu)throw Yu=0,$u=null,Error(o(185));gt(e,n,r),0!==(2&Lu)&&e===Nu||(e===Nu&&(0===(2&Lu)&&(Fu|=n),4===Du&&uc(e,Ou)),ic(e,r),1===n&&0===Lu&&0===(1&t.mode)&&(qu=Ye()+500,Ui&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Nu?Ou:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),ai((function(){0===(6&Lu)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Xu=-1,ec=0,0!==(6&Lu))throw Error(o(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Ou:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Lu;Lu|=2;var a=vc();for(Nu===e&&Ou===t||(Wu=null,qu=Ye()+500,dc(e,t));;)try{kc();break}catch(u){pc(e,u)}xo(),Cu.current=a,Lu=i,null!==Pu?t=0:(Nu=null,Ou=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Mu,dc(e,0),uc(e,r),ic(e,Ye()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Mu,dc(e,0),uc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Bu,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zu+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Bu,Wu),t);break}xc(e,Bu,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Bu,Wu),r);break}xc(e,Bu,Wu);break;default:throw Error(o(329))}}}return ic(e,Ye()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bu,Bu=n,null!==t&&sc(t)),e}function sc(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function uc(e,t){for(t&=~Uu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Lu))throw Error(o(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Mu,dc(e,0),uc(e,t),ic(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bu,Wu),ic(e,Ye()),null}function lc(e,t){var n=Lu;Lu|=1;try{return e(t)}finally{0===(Lu=n)&&(qu=Ye()+500,Ui&&zi())}}function fc(e){null!==Ju&&0===Ju.tag&&0===(6&Lu)&&_c();var t=Lu;Lu|=1;var n=Tu.transition,r=kt;try{if(Tu.transition=null,kt=1,e)return e()}finally{kt=r,Tu.transition=n,0===(6&(Lu=t))&&zi()}}function hc(){Au=ju.current,Ei(ju)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:oa(),Ei(Li),Ei(Ti),fa();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ei(ua);break;case 10:_o(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nu=e,Pu=e=jc(e.current,null),Ou=Au=t,Du=0,Mu=null,Uu=Fu=Ru=0,Bu=Vu=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Io=null}return e}function pc(e,t){for(;;){var n=Pu;try{if(xo(),ha.current=as,ya){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,ga=ma=va=null,ka=!1,ba=0,Iu.current=null,null===n||null===n.return){Du=1,Mu=t,Pu=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Ou,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(a,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(a,l,t),mc();break e}c=Error(o(426))}else if(io&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),vo(ls(c,u));break e}}a=c=ls(c,u),4!==Du&&(Du=2),null===Vu?Vu=[a]:Vu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ro(a,ps(0,c,t));break e;case 1:u=c;var y=a.type,k=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ku||!Ku.has(k)))){a.flags|=65536,t&=-t,a.lanes|=t,Ro(a,vs(a,u,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(b){t=b,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function vc(){var e=Cu.current;return Cu.current=as,null===e?as:e}function mc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Nu||0===(268435455&Ru)&&0===(268435455&Fu)||uc(Nu,Ou)}function gc(e,t){var n=Lu;Lu|=2;var r=vc();for(Nu===e&&Ou===t||(Wu=null,dc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(xo(),Lu=n,Cu.current=r,null!==Pu)throw Error(o(261));return Nu=null,Ou=0,Du}function yc(){for(;null!==Pu;)bc(Pu)}function kc(){for(;null!==Pu&&!Je();)bc(Pu)}function bc(e){var t=Su(e.alternate,e,Au);e.memoizedProps=e.pendingProps,null===t?wc(e):Pu=t,Iu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Au)))return void(Pu=n)}else{if(null!==(n=Js(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Du=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Du&&(Du=5)}function xc(e,t,n){var r=kt,i=Tu.transition;try{Tu.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Ju);if(0!==(6&Lu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Nu&&(Pu=Nu=null,Ou=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Nc(tt,(function(){return _c(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tu.transition,Tu.transition=null;var s=kt;kt=1;var u=Lu;Lu|=4,Iu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===a&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,k=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:go(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,ku(n,e,i),Ze(),Lu=u,kt=s,Tu.transition=a}else e.current=n;if(Qu&&(Qu=!1,Ju=e,Zu=i),a=e.pendingLanes,0===a&&(Ku=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Gu,Gu=null,e;0!==(1&Zu)&&0!==e.tag&&_c(),a=e.pendingLanes,0!==(1&a)?e===$u?Yu++:(Yu=0,$u=e):Yu=0,zi()}(e,t,n,r)}finally{Tu.transition=i,kt=r}return null}function _c(){if(null!==Ju){var e=bt(Zu),t=Tu.transition,n=kt;try{if(Tu.transition=null,kt=16>e?16:e,null===Ju)var r=!1;else{if(e=Ju,Ju=null,Zu=0,0!==(6&Lu))throw Error(o(331));var i=Lu;for(Lu|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!==(16&Xs.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Xs=l;null!==Xs;){var f=Xs;switch(f.tag){case 0:case 11:case 15:ru(8,f,a)}var h=f.child;if(null!==h)h.return=f,Xs=h;else for(;null!==Xs;){var d=(f=Xs).sibling,p=f.return;if(au(f),f===l){Xs=null;break}if(null!==d){d.return=p,Xs=d;break}Xs=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Xs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:ru(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Xs=y;break e}Xs=a.return}}var k=e.current;for(Xs=k;null!==Xs;){var b=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Xs=b;else e:for(s=k;null!==Xs;){if(0!==(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){Ec(u,u.return,x)}if(u===s){Xs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Xs=w;break e}Xs=u.return}}if(Lu=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Tu.transition=t}}return!1}function Sc(e,t,n){e=Do(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Do(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Ou&n)===n&&(4===Du||3===Du&&(130023424&Ou)===Ou&&500>Ye()-zu?dc(e,0):Uu|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=No(e,t))&&(gt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Lc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return Ke(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Pc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ac(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Mc(n.children,i,a,t);case S:s=8,i|=8;break;case E:return(e=Oc(12,n,t,2|i)).elementType=E,e.lanes=a,e;case L:return(e=Oc(13,n,t,i)).elementType=L,e.lanes=a,e;case N:return(e=Oc(19,n,t,i)).elementType=N,e.lanes=a,e;case A:return Rc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case I:s=9;break e;case T:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Oc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,o,a,s,u){return e=new Vc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Oc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),e}function zc(e){if(!e)return Ii;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Di(e,n,t)}return t}function qc(e,t,n,r,i,o,a,s,u){return(e=Bc(n,r,!0,e,0,o,0,s,u)).context=zc(null),n=e.current,(o=jo(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Do(n,o,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,o=tc(),a=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=jo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Do(i,t,a))&&(rc(e,i,a,o),Mo(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Li.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),po();break;case 5:aa(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ci(ua,1&ua.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ci(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Xi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Pi(t,Ti.current);Eo(t,n),i=Sa(null,t,r,e,i,n);var a=Ea();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oo(t),i.updater=zo,t.stateNode=i,i._reactInternals=t,Go(t,r,e,n),t=Ls(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===P)return 14}return 2}(r),e=go(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,go(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:go(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:go(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ao(e,t),Fo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=$o(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Cs(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Yo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:go(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ci(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Li.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=jo(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),So(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),So(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Eo(t,n),r=r(i=Co(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=go(r=t.type,t.pendingProps),_s(e,t,r,i=go(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:go(r,i),Ws(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Eo(t,n),Wo(t,r,i),Go(t,r,i,n),Ls(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Zc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Hc(a);s.call(e)}}Wc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hc(a);o.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),fc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Bc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(a)}Zc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Zc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},Zc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Rt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Ye()),0===(6&Lu)&&(qu=Ye()+500,zi()))}break;case 13:fc((function(){var t=No(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=No(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=No(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},St=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));K(r),$(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=lc,Le=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ce,Ie,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(o(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(o(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},504:function(e,t,n){e.exports=n(269)},269:function(e,t,n){"use strict";var r,i=(r=n(791))&&"object"==typeof r&&"default"in r?r.default:r,o=n(164);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e.prototype.constructor=e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}};function l(e,t,n){if("selectionStart"in e&&"selectionEnd"in e)e.selectionStart=t,e.selectionEnd=n;else{var r=e.createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n-t),r.select()}}var f={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};function h(e,t,n){var r="",i="",o=null,a=[];if(void 0===t&&(t="_"),null==n&&(n=f),!e||"string"!=typeof e)return{maskChar:t,formatChars:n,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var s=!1;return e.split("").forEach((function(e){s=!s&&"\\"===e||(s||!n[e]?(a.push(r.length),r.length===a.length-1&&(i+=e)):o=r.length+1,r+=e,!1)})),{maskChar:t,formatChars:n,prefix:i,mask:r,lastEditablePosition:o,permanents:a}}function d(e,t){return-1!==e.permanents.indexOf(t)}function p(e,t,n){var r=e.mask,i=e.formatChars;if(!n)return!1;if(d(e,t))return r[t]===n;var o=i[r[t]];return new RegExp(o).test(n)}function v(e,t){return t.split("").every((function(t,n){return d(e,n)||!p(e,n,t)}))}function m(e,t){var n=e.maskChar,r=e.prefix;if(!n){for(;t.length>r.length&&d(e,t.length-1);)t=t.slice(0,t.length-1);return t.length}for(var i=r.length,o=t.length;o>=r.length;o--){var a=t[o];if(!d(e,o)&&p(e,o,a)){i=o+1;break}}return i}function g(e,t){return m(e,t)===e.mask.length}function y(e,t){var n=e.maskChar,r=e.mask,i=e.prefix;if(!n){for((t=k(e,"",t,0)).length<i.length&&(t=i);t.length<r.length&&d(e,t.length);)t+=r[t.length];return t}if(t)return k(e,y(e,""),t,0);for(var o=0;o<r.length;o++)d(e,o)?t+=r[o]:t+=n;return t}function k(e,t,n,r){var i=e.mask,o=e.maskChar,a=e.prefix,s=n.split(""),u=g(e,t);return!o&&r>t.length&&(t+=i.slice(t.length,r)),s.every((function(n){for(;l=n,d(e,c=r)&&l!==i[c];){if(r>=t.length&&(t+=i[r]),s=n,o&&d(e,r)&&s===o)return!0;if(++r>=i.length)return!1}var s,c,l;return!p(e,r,n)&&n!==o||(r<t.length?t=o||u||r<a.length?t.slice(0,r)+n+t.slice(r+1):(t=t.slice(0,r)+n+t.slice(r),y(e,t)):o||(t+=n),++r<i.length)})),t}function b(e,t){for(var n=e.mask,r=t;r<n.length;++r)if(!d(e,r))return r;return null}function w(e){return e||0===e?e+"":""}function x(e,t,n,r,i){var o=e.mask,a=e.prefix,s=e.lastEditablePosition,u=t,c="",l=0,f=0,h=Math.min(i.start,n.start);return n.end>i.start?f=(l=function(e,t,n,r){var i=e.mask,o=e.maskChar,a=n.split(""),s=r;return a.every((function(t){for(;a=t,d(e,n=r)&&a!==i[n];)if(++r>=i.length)return!1;var n,a;return(p(e,r,t)||t===o)&&r++,r<i.length})),r-s}(e,0,c=u.slice(i.start,n.end),h))?i.length:0:u.length<r.length&&(f=r.length-u.length),u=r,f&&(1!==f||i.length||(h=i.start===n.start?b(e,n.start):function(e,t){for(var n=t;0<=n;--n)if(!d(e,n))return n;return null}(e,n.start)),u=function(e,t,n,r){var i=n+r,o=e.maskChar,a=e.mask,s=e.prefix,u=t.split("");if(o)return u.map((function(t,r){return r<n||i<=r?t:d(e,r)?a[r]:o})).join("");for(var c=i;c<u.length;c++)d(e,c)&&(u[c]="");return n=Math.max(s.length,n),u.splice(n,i-n),t=u.join(""),y(e,t)}(e,u,h,f)),u=k(e,u,c,h),(h+=l)>=o.length?h=o.length:h<a.length&&!l?h=a.length:h>=a.length&&h<s&&l&&(h=b(e,h)),c||(c=null),{value:u=y(e,u),enteredString:c,selection:{start:h,end:h}}}function _(e){return"function"==typeof e}function S(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function E(e){return(S()?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame:function(){return setTimeout(e,1e3/60)})(e)}function C(e){(S()||clearTimeout)(e)}var I=function(e){function t(t){var n=e.call(this,t)||this;n.focused=!1,n.mounted=!1,n.previousSelection=null,n.selectionDeferId=null,n.saveSelectionLoopDeferId=null,n.saveSelectionLoop=function(){n.previousSelection=n.getSelection(),n.saveSelectionLoopDeferId=E(n.saveSelectionLoop)},n.runSaveSelectionLoop=function(){null===n.saveSelectionLoopDeferId&&n.saveSelectionLoop()},n.stopSaveSelectionLoop=function(){null!==n.saveSelectionLoopDeferId&&(C(n.saveSelectionLoopDeferId),n.saveSelectionLoopDeferId=null,n.previousSelection=null)},n.getInputDOMNode=function(){if(!n.mounted)return null;var e=o.findDOMNode(u(u(n))),t="undefined"!=typeof window&&e instanceof window.Element;if(e&&!t)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},n.getInputValue=function(){var e=n.getInputDOMNode();return e?e.value:null},n.setInputValue=function(e){var t=n.getInputDOMNode();t&&(n.value=e,t.value=e)},n.setCursorToEnd=function(){var e=m(n.maskOptions,n.value),t=b(n.maskOptions,e);null!==t&&n.setCursorPosition(t)},n.setSelection=function(e,t,r){void 0===r&&(r={});var i=n.getInputDOMNode(),o=n.isFocused();i&&o&&(r.deferred||l(i,e,t),null!==n.selectionDeferId&&C(n.selectionDeferId),n.selectionDeferId=E((function(){n.selectionDeferId=null,l(i,e,t)})),n.previousSelection={start:e,end:t,length:Math.abs(t-e)})},n.getSelection=function(){return function(e){var t=0,n=0;if("selectionStart"in e&&"selectionEnd"in e)t=e.selectionStart,n=e.selectionEnd;else{var r=document.selection.createRange();r.parentElement()===e&&(t=-r.moveStart("character",-e.value.length),n=-r.moveEnd("character",-e.value.length))}return{start:t,end:n,length:n-t}}(n.getInputDOMNode())},n.getCursorPosition=function(){return n.getSelection().start},n.setCursorPosition=function(e){n.setSelection(e,e)},n.isFocused=function(){return n.focused},n.getBeforeMaskedValueChangeConfig=function(){var e=n.maskOptions,t=e.mask,r=e.maskChar,i=e.permanents,o=e.formatChars;return{mask:t,maskChar:r,permanents:i,alwaysShowMask:!!n.props.alwaysShowMask,formatChars:o}},n.isInputAutofilled=function(e,t,r,i){var o=n.getInputDOMNode();try{if(o.matches(":-webkit-autofill"))return!0}catch(c){}return!n.focused||i.end<r.length&&t.end===e.length},n.onChange=function(e){var t=u(u(n)).beforePasteState,r=u(u(n)).previousSelection,i=n.props.beforeMaskedValueChange,o=n.getInputValue(),a=n.value,s=n.getSelection();n.isInputAutofilled(o,s,a,r)&&(a=y(n.maskOptions,""),r={start:0,end:0,length:0}),t&&(r=t.selection,a=t.value,s={start:r.start+o.length,end:r.start+o.length,length:0},o=a.slice(0,r.start)+o+a.slice(r.end),n.beforePasteState=null);var c=x(n.maskOptions,o,s,a,r),l=c.enteredString,f=c.selection,h=c.value;if(_(i)){var d=i({value:h,selection:f},{value:a,selection:r},l,n.getBeforeMaskedValueChangeConfig());h=d.value,f=d.selection}n.setInputValue(h),_(n.props.onChange)&&n.props.onChange(e),n.isWindowsPhoneBrowser?n.setSelection(f.start,f.end,{deferred:!0}):n.setSelection(f.start,f.end)},n.onFocus=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions,i=r.mask,o=r.prefix;if(n.focused=!0,n.mounted=!0,i){if(n.value)m(n.maskOptions,n.value)<n.maskOptions.mask.length&&n.setCursorToEnd();else{var a=y(n.maskOptions,o),s=y(n.maskOptions,a),u=m(n.maskOptions,s),c=b(n.maskOptions,u),l={start:c,end:c};if(_(t)){var f=t({value:s,selection:l},{value:n.value,selection:null},null,n.getBeforeMaskedValueChangeConfig());s=f.value,l=f.selection}var h=s!==n.getInputValue();h&&n.setInputValue(s),h&&_(n.props.onChange)&&n.props.onChange(e),n.setSelection(l.start,l.end)}n.runSaveSelectionLoop()}_(n.props.onFocus)&&n.props.onFocus(e)},n.onBlur=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions.mask;if(n.stopSaveSelectionLoop(),n.focused=!1,r&&!n.props.alwaysShowMask&&v(n.maskOptions,n.value)){var i="";_(t)&&(i=t({value:i,selection:null},{value:n.value,selection:n.previousSelection},null,n.getBeforeMaskedValueChangeConfig()).value);var o=i!==n.getInputValue();o&&n.setInputValue(i),o&&_(n.props.onChange)&&n.props.onChange(e)}_(n.props.onBlur)&&n.props.onBlur(e)},n.onMouseDown=function(e){if(!n.focused&&document.addEventListener){n.mouseDownX=e.clientX,n.mouseDownY=e.clientY,n.mouseDownTime=(new Date).getTime();document.addEventListener("mouseup",(function e(t){if(document.removeEventListener("mouseup",e),n.focused){var r=Math.abs(t.clientX-n.mouseDownX),i=Math.abs(t.clientY-n.mouseDownY),o=Math.max(r,i),a=(new Date).getTime()-n.mouseDownTime;(o<=10&&a<=200||o<=5&&a<=300)&&n.setCursorToEnd()}}))}_(n.props.onMouseDown)&&n.props.onMouseDown(e)},n.onPaste=function(e){_(n.props.onPaste)&&n.props.onPaste(e),e.defaultPrevented||(n.beforePasteState={value:n.getInputValue(),selection:n.getSelection()},n.setInputValue(""))},n.handleRef=function(e){null==n.props.children&&_(n.props.inputRef)&&n.props.inputRef(e)};var r=t.mask,i=t.maskChar,a=t.formatChars,s=t.alwaysShowMask,c=t.beforeMaskedValueChange,f=t.defaultValue,d=t.value;n.maskOptions=h(r,i,a),null==f&&(f=""),null==d&&(d=f);var p=w(d);if(n.maskOptions.mask&&(s||p)&&(p=y(n.maskOptions,p),_(c))){var g=t.value;null==t.value&&(g=f),p=c({value:p,selection:null},{value:g=w(g),selection:null},null,n.getBeforeMaskedValueChangeConfig()).value}return n.value=p,n}s(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=function(){var e=new RegExp("windows","i"),t=new RegExp("phone","i"),n=navigator.userAgent;return e.test(n)&&t.test(n)}(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},n.componentDidUpdate=function(){var e=this.previousSelection,t=this.props,n=t.beforeMaskedValueChange,r=t.alwaysShowMask,i=t.mask,o=t.maskChar,a=t.formatChars,s=this.maskOptions,u=r||this.isFocused(),c=null!=this.props.value,l=c?w(this.props.value):this.value,f=e?e.start:null;if(this.maskOptions=h(i,o,a),this.maskOptions.mask){!s.mask&&this.isFocused()&&this.runSaveSelectionLoop();var d=this.maskOptions.mask&&this.maskOptions.mask!==s.mask;if(s.mask||c||(l=this.getInputValue()),(d||this.maskOptions.mask&&(l||u))&&(l=y(this.maskOptions,l)),d){var p=m(this.maskOptions,l);(null===f||p<f)&&(f=g(this.maskOptions,l)?p:b(this.maskOptions,p))}!this.maskOptions.mask||!v(this.maskOptions,l)||u||c&&this.props.value||(l="");var k={start:f,end:f};if(_(n)){var x=n({value:l,selection:k},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());l=x.value,k=x.selection}this.value=l;var S=this.getInputValue()!==this.value;S?(this.setInputValue(this.value),this.forceUpdate()):d&&this.forceUpdate();var E=!1;null!=k.start&&null!=k.end&&(E=!e||e.start!==k.start||e.end!==k.end),(E||S)&&this.setSelection(k.start,k.end)}else s.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},n.componentWillUnmount=function(){this.mounted=!1,null!==this.selectionDeferId&&C(this.selectionDeferId),this.stopSaveSelectionLoop()},n.render=function(){var e,t=this.props,n=(t.mask,t.alwaysShowMask,t.maskChar,t.formatChars,t.inputRef,t.beforeMaskedValueChange,t.children),r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(t,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(n){_(n)||c(!1);var o=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],s=a({},r);o.forEach((function(e){return delete s[e]})),e=n(s),o.filter((function(t){return null!=e.props[t]&&e.props[t]!==r[t]})).length&&c(!1)}else e=i.createElement("input",a({ref:this.handleRef},r));var u={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(r.disabled||r.readOnly||(u.onChange=this.onChange,u.onPaste=this.onPaste,u.onMouseDown=this.onMouseDown),null!=r.value&&(u.value=this.value)),e=i.cloneElement(e,u)},t}(i.Component);e.exports=I},372:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},441:function(e,t,n){"use strict";n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=k.prototype=new y;b.constructor=k,v(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:_.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function L(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+T(u,0):o,w(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),L(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var l=o+T(s=e[c],c);u+=L(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=L(s=s.value,t,i,l=o+T(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return L(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},A={transition:null},j={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:A,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=a,t.PureComponent=k,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,A(x);else{var t=r(l);null!==t&&j(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(C),C=-1),p=!0;var o=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!L());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&j(w,f.startTime-n),u=!1}return u}finally{h=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,C=-1,I=5,T=-1;function L(){return!(t.unstable_now()-T<I)}function N(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=N,_=function(){O.postMessage(null)}}else _=function(){g(N,0)};function A(e){E=e,S||(S=!0,_())}function j(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,A(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(m?(y(C),C=-1):m=!0,j(w,o-a))):(e.sortIndex=s,n(c,e),v||p||(v=!0,A(x))),e},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),a((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!u){if(u=!0,a=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=a(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".c94e6dc2.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="polar-pelmeni-frontend:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkpolar_pelmeni_frontend=self.webpackChunkpolar_pelmeni_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Wa},SDK_VERSION:function(){return $s},_DEFAULT_ENTRY_NAME:function(){return Us},_addComponent:function(){return qs},_addOrOverwriteComponent:function(){return Ws},_apps:function(){return Bs},_clearComponents:function(){return Qs},_components:function(){return zs},_getProvider:function(){return Gs},_registerComponent:function(){return Hs},_removeServiceInstance:function(){return Ks},deleteApp:function(){return nu},getApp:function(){return eu},getApps:function(){return tu},initializeApp:function(){return Xs},onLog:function(){return ou},registerVersion:function(){return iu},setLogLevel:function(){return au}});var t,r=n(791),i=n.t(r,2),o=n(250);function a(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||u(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return s(e)}(e)||f(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){var t=w();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,n)}}function S(e,t,n){return S=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},S.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return S(e,arguments,b(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},E(e)}function C(e){return a(e)||f(e)||u(e)||c()}function I(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var L,N="popstate";function P(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function O(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function A(e,t){return{usr:e.state,key:e.key,idx:t}}function j(e,t,n,r){return void 0===n&&(n=null),T({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?M(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function D(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function M(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function R(e,n,r,i){void 0===i&&(i={});var o=i,a=o.window,s=void 0===a?document.defaultView:a,u=o.v5Compat,c=void 0!==u&&u,l=s.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:g.location,delta:n})}function m(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:D(e);return P(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(T({},l.state,{idx:d}),""));var g={get action(){return f},get location(){return e(s,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(N,v),h=e,function(){s.removeEventListener(N,v),h=null}},createHref:function(e){return n(s,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=j(g.location,e,n);r&&r(i,e);var o=A(i,d=p()+1),a=g.createHref(i);try{l.pushState(o,"",a)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(a)}c&&h&&h({action:f,location:g.location,delta:1})},replace:function(e,n){f=t.Replace;var i=j(g.location,e,n);r&&r(i,e);var o=A(i,d=p()),a=g.createHref(i);l.replaceState(o,"",a),c&&h&&h({action:f,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(L||(L={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function F(e,t,n){void 0===n&&(n="/");var r=$(("string"===typeof t?M(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=J(i[a],Y(r));return o}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,o){var a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(P(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var s=ne([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(P(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),U(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Q(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,o=I(V(e.path));try{for(o.s();!(r=o.n()).done;){var a=r.value;i(e,t,a)}}catch(s){o.e(s)}finally{o.f()}}else i(e,t)})),t}function V(e){var t=e.split("/");if(0===t.length)return[];var n=C(t),r=n[0],i=n.slice(1),o=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===i.length)return o?[a,""]:[a];var s=V(i.join("/")),u=[];return u.push.apply(u,h(s.map((function(e){return""===e?a:[a,e].join("/")})))),o&&u.push.apply(u,h(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var B=/^:\w+$/,z=3,q=2,W=1,H=10,G=-2,K=function(e){return"*"===e};function Q(e,t){var n=e.split("/"),r=n.length;return n.some(K)&&(r+=G),t&&(r+=q),n.filter((function(e){return!K(e)})).reduce((function(e,t){return e+(B.test(t)?z:""===t?W:H)}),r)}function J(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Z({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;o.push({params:r,pathname:ne([i,l.pathname]),pathnameBase:re(ne([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ne([i,l.pathnameBase]))}return o}function Z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);O("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],o=r[1],a=t.match(i);if(!a)return null;var s=a[0],u=s.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return O(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function Y(e){try{return decodeURI(e)}catch(t){return O(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function $(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function X(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function te(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=M(e):(P(!(i=T({},e)).pathname||!i.pathname.includes("?"),X("?","pathname","search",i)),P(!i.pathname||!i.pathname.includes("#"),X("#","pathname","hash",i)),P(!i.search||!i.search.includes("#"),X("#","search","hash",i)));var o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(r||null==s)o=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}o=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?M(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ie(o),hash:oe(s)}}(i,o),f=s&&"/"!==s&&s.endsWith("/"),h=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ne=function(e){return e.join("/").replace(/\/\/+/g,"/")},re=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},oe=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ae=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(E(Error));function se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ue=["post","put","patch","delete"],ce=(new Set(ue),["get"].concat(ue));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var fe=r.createContext(null);var he=r.createContext(null);var de=r.createContext(null);var pe=r.createContext(null);var ve=r.createContext(null);var me=r.createContext({outlet:null,matches:[],isDataRoute:!1});var ge=r.createContext(null);function ye(){return null!=r.useContext(ve)}function ke(){return ye()||P(!1),r.useContext(ve).location}function be(e){r.useContext(pe).static||r.useLayoutEffect(e)}function we(){return r.useContext(me).isDataRoute?function(){var e=Oe(Ce.UseNavigateStable).router,t=je(Ie.UseNavigateStable),n=r.useRef(!1);be((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,le({fromRouteId:t},i)))}),[e,t]);return i}():function(){ye()||P(!1);var e=r.useContext(fe),t=r.useContext(pe),n=t.basename,i=t.navigator,o=r.useContext(me).matches,a=ke().pathname,s=JSON.stringify(ee(o).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);be((function(){u.current=!0}));var c=r.useCallback((function(t,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof t){var o=te(t,JSON.parse(s),a,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:ne([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}else i.go(t)}),[n,i,s,a,e]);return c}()}function xe(){var e=r.useContext(me).matches,t=e[e.length-1];return t?t.params:{}}function _e(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(me).matches,o=ke().pathname,a=JSON.stringify(ee(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return te(e,JSON.parse(a),o,"path"===n)}),[e,a,o,n])}function Se(e,n,i){ye()||P(!1);var o,a=r.useContext(pe).navigator,s=r.useContext(me).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,ke());if(n){var h,d="string"===typeof n?M(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||P(!1),o=d}else o=f;var p=o.pathname||"/",v=F(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Pe(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ne([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ne([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,i);return n&&m?r.createElement(ve.Provider,{value:{location:le({pathname:"/",search:"",hash:"",state:null,key:"default"},o),navigationType:t.Pop}},m):m}function Ee(){var e=function(){var e,t=r.useContext(ge),n=Ae(Ie.UseRouteError),i=je(Ie.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=se(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,null)}var Ce,Ie,Te=r.createElement(Ee,null),Le=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return g(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(me.Provider,{value:this.props.routeContext},r.createElement(ge.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Ne(e){var t=e.routeContext,n=e.match,i=e.children,o=r.useContext(fe);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(me.Provider,{value:t},i)}function Pe(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}var a=e,s=null==(i=n)?void 0:i.errors;if(null!=s){var u=a.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||P(!1),a=a.slice(0,Math.min(a.length,u+1))}return a.reduceRight((function(e,i,o){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;n&&(c=i.route.errorElement||Te);var l=t.concat(a.slice(0,o+1)),f=function(){var t;return t=u?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Ne,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?r.createElement(Le,{location:n.location,revalidation:n.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}function Oe(e){var t=r.useContext(fe);return t||P(!1),t}function Ae(e){var t=r.useContext(he);return t||P(!1),t}function je(e){var t=function(e){var t=r.useContext(me);return t||P(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||P(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Ce||(Ce={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Ie||(Ie={}));var De;function Me(e){P(!1)}function Re(e){var n=e.basename,i=void 0===n?"/":n,o=e.children,a=void 0===o?null:o,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;ye()&&P(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=M(s));var v=s,m=v.pathname,g=void 0===m?"/":m,y=v.search,k=void 0===y?"":y,b=v.hash,w=void 0===b?"":b,x=v.state,_=void 0===x?null:x,S=v.key,E=void 0===S?"default":S,C=r.useMemo((function(){var e=$(g,d);return null==e?null:{location:{pathname:e,search:k,hash:w,state:_,key:E},navigationType:c}}),[d,g,k,w,_,E,c]);return null==C?null:r.createElement(pe.Provider,{value:p},r.createElement(ve.Provider,{children:a,value:C}))}function Fe(e){var t=e.children,n=e.location;return Se(Ve(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(De||(De={}));var Ue=new Promise((function(){}));r.Component;function Ve(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var o=[].concat(h(t),[i]);if(e.type!==r.Fragment){e.type!==Me&&P(!1),e.props.index&&e.props.children&&P(!1);var a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Ve(e.props.children,o)),n.push(a)}else n.push.apply(n,Ve(e.props.children,o))}})),n}var Be=n(248),ze=n(327),qe=n(164);var We=function(e){e()},He=function(){return We},Ge=(0,r.createContext)(null);function Ke(){return(0,r.useContext)(Ge)}var Qe=function(){throw new Error("uSES not initialized!")},Je=function(e,t){return e===t};function Ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=e===Ge?Ke:function(){return(0,r.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Je;var i=t(),o=i.store,a=i.subscription,s=i.getServerState,u=Qe(a.addNestedSub,o.getState,s||o.getState,e,n);return(0,r.useDebugValue)(u),u}}var Ye=Ze();n(110),n(441);var $e={notify:function(){},get:function(){return[]}};function Xe(e,t){var n,r=$e;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=He(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=$e)},getListeners:function(){return r}};return a}var et=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?r.useLayoutEffect:r.useEffect;var tt=function(e){var t=e.store,n=e.context,i=e.children,o=e.serverState,a=(0,r.useMemo)((function(){var e=Xe(t);return{store:t,subscription:e,getServerState:o?function(){return o}:void 0}}),[t,o]),s=(0,r.useMemo)((function(){return t.getState()}),[t]);et((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,s]);var u=n||Ge;return r.createElement(u.Provider,{value:a},i)};function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=e===Ge?Ke:function(){return(0,r.useContext)(e)};return function(){return t().store}}var rt=nt();function it(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=e===Ge?rt:nt(e);return function(){return t().dispatch}}var ot,at=it();!function(e){Qe=e}(ze.useSyncExternalStoreWithSelector),function(e){e}(Be.useSyncExternalStore),ot=qe.unstable_batchedUpdates,We=ot;var st=n(184),ut=function(e){var t=e.children;return(0,st.jsx)("div",{className:"container",children:t})},ct=function(e){var t=e.children;return(0,st.jsx)("div",{className:"grid_layout",children:t})},lt=n(694),ft=n.n(lt);function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ht.apply(this,arguments)}function dt(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var pt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var vt="startTransition";function mt(e){var t,n=e.basename,o=e.children,a=e.window,s=r.useRef();null==s.current&&(s.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),R((function(e,t){var n=e.location;return j("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:D(t)}),null,t)));var u=s.current,c=l(r.useState({action:u.action,location:u.location}),2),f=c[0],h=c[1],d=r.useCallback((function(e){vt in i?i[vt]((function(){return h(e)})):h(e)}),[h]);return r.useLayoutEffect((function(){return u.listen(d)}),[u,d]),r.createElement(Re,{basename:n,children:o,location:f.location,navigationType:f.action,navigator:u})}var gt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,yt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kt=r.forwardRef((function(e,t){var n,i=e.onClick,o=e.relative,a=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=dt(e,pt),d=r.useContext(pe).basename,p=!1;if("string"===typeof l&&yt.test(l)&&(n=l,gt))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),g=$(m.pathname,d);m.origin===v.origin&&null!=g?l=g+m.search+m.hash:p=!0}catch(b){}var y=function(e,t){var n=(void 0===t?{}:t).relative;ye()||P(!1);var i=r.useContext(pe),o=i.basename,a=i.navigator,s=_e(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==o&&(f="/"===c?o:ne([o,c])),a.createHref({pathname:f,search:l,hash:u})}(l,{relative:o}),k=function(e,t){var n=void 0===t?{}:t,i=n.target,o=n.replace,a=n.state,s=n.preventScrollReset,u=n.relative,c=we(),l=ke(),f=_e(e,{relative:u});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==o?o:D(l)===D(f);c(e,{replace:n,state:a,preventScrollReset:s,relative:u})}}),[l,c,f,o,a,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:o});return r.createElement("a",ht({},h,{href:n||y,onClick:p||a?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:t,target:c}))}));var bt,wt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(bt||(bt={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(wt||(wt={}));var xt=n.p+"static/media/arrow-left.5e864e3fbecea962ed39880526d5b9c8.svg",_t=function(e){var t=e.children,n=e.index,r=e.pathlink,i=e.handleSidebar,o=["info","favourite","addresses","history","bonuses","signout"];return(0,st.jsxs)("li",{className:"profile_sidebar--nav__item sidebar-mobile__item--mobile",children:[(0,st.jsx)(kt,{to:"/profile/".concat(o[n]),onClick:i,className:ft()("profile_sidebar--nav__link sidebar-mobile__link",{sign_out:"\u0412\u0438\u0445\u0456\u0434"===t},{active:r===o[n]}),children:t}),(0,st.jsx)("img",{className:"sidebar-mobile__item--arrow",src:xt,alt:"left"})]})},St=function(e){var t=e.pathlink;return(0,st.jsxs)("aside",{className:"grid_layout--side profile_sidebar",children:[(0,st.jsx)("h3",{className:"profile_sidebar--header",children:"\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0438\u0439 \u043a\u0430\u0431\u0456\u043d\u0435\u0442"}),(0,st.jsx)("ul",{className:"profile_sidebar--nav",children:["\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f","\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0456 \u0431\u043b\u044e\u0434\u0430","\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0430\u0434\u0440\u0435\u0441\u0438","\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c","\u0411\u043e\u043d\u0443\u0441\u0438","\u0412\u0438\u0445\u0456\u0434"].map((function(e,n){return(0,st.jsx)(_t,{pathlink:t,index:n,children:e},n)}))})]})};function Et(){Et=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(L){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new C(i||[]);return r(a,"_invoke",{value:x(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=c;var f={};function h(){}function d(){}function v(){}var m={};u(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(I([])));y&&y!==t&&n.call(y,o)&&(m=y);var k=v.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,a,s){var u=l(e[r],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==p(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(k),u(k,s,"Generator"),u(k,o,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Ct(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function It(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ct(o,r,i,a,s,"next",e)}function s(e){Ct(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Tt(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){Tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt=n.p+"static/media/Vector.46709a669661462dfb9a0e45d6d89617.svg",Ot=function(e){var t=e.children,n=e.handleSidebar;return(0,st.jsxs)("div",{className:"profile_link--mobile",children:[(0,st.jsx)("h3",{className:"profile_sidebar--header profile_link--mobile--title",children:t}),(0,st.jsx)(kt,{to:"/profile/",className:"profile_link--mobile--button",onClick:n,children:(0,st.jsx)("img",{src:Pt,alt:"cross"})})]})};function At(e,t){return function(){return e.apply(t,arguments)}}var jt,Dt=Object.prototype.toString,Mt=Object.getPrototypeOf,Rt=(jt=Object.create(null),function(e){var t=Dt.call(e);return jt[t]||(jt[t]=t.slice(8,-1).toLowerCase())}),Ft=function(e){return e=e.toLowerCase(),function(t){return Rt(t)===e}},Ut=function(e){return function(t){return typeof t===e}},Vt=Array.isArray,Bt=Ut("undefined");var zt=Ft("ArrayBuffer");var qt=Ut("string"),Wt=Ut("function"),Ht=Ut("number"),Gt=function(e){return null!==e&&"object"===typeof e},Kt=function(e){if("object"!==Rt(e))return!1;var t=Mt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qt=Ft("Date"),Jt=Ft("File"),Zt=Ft("Blob"),Yt=Ft("FileList"),$t=Ft("URLSearchParams");function Xt(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,o=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Vt(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var a,s=o?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;for(n=0;n<u;n++)a=s[n],t.call(null,e[a],a,e)}}function en(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var tn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,nn=function(e){return!Bt(e)&&e!==tn};var rn,on=(rn="undefined"!==typeof Uint8Array&&Mt(Uint8Array),function(e){return rn&&e instanceof rn}),an=Ft("HTMLFormElement"),sn=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),un=Ft("RegExp"),cn=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};Xt(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},ln="abcdefghijklmnopqrstuvwxyz",fn="0123456789",hn={DIGIT:fn,ALPHA:ln,ALPHA_DIGIT:ln+ln.toUpperCase()+fn};var dn=Ft("AsyncFunction"),pn={isArray:Vt,isArrayBuffer:zt,isBuffer:function(e){return null!==e&&!Bt(e)&&null!==e.constructor&&!Bt(e.constructor)&&Wt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||Wt(e.append)&&("formdata"===(t=Rt(e))||"object"===t&&Wt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&zt(e.buffer)},isString:qt,isNumber:Ht,isBoolean:function(e){return!0===e||!1===e},isObject:Gt,isPlainObject:Kt,isUndefined:Bt,isDate:Qt,isFile:Jt,isBlob:Zt,isRegExp:un,isFunction:Wt,isStream:function(e){return Gt(e)&&Wt(e.pipe)},isURLSearchParams:$t,isTypedArray:on,isFileList:Yt,forEach:Xt,merge:function e(){for(var t=(nn(this)&&this||{}).caseless,n={},r=function(r,i){var o=t&&en(n,i)||i;Kt(n[o])&&Kt(r)?n[o]=e(n[o],r):Kt(r)?n[o]=e({},r):Vt(r)?n[o]=r.slice():n[o]=r},i=0,o=arguments.length;i<o;i++)arguments[i]&&Xt(arguments[i],r);return n},extend:function(e,t,n){return Xt(t,(function(t,r){n&&Wt(t)?e[r]=At(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,o,a,s={};if(t=t||{},null==e)return t;do{for(o=(i=Object.getOwnPropertyNames(e)).length;o-- >0;)a=i[o],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&Mt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Rt,kindOfTest:Ft,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(Vt(e))return e;var t=e.length;if(!Ht(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:an,hasOwnProperty:sn,hasOwnProp:sn,reduceDescriptors:cn,freezeMethods:function(e){cn(e,(function(t,n){if(Wt(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];Wt(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return Vt(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:en,global:tn,isContextDefined:nn,ALPHABET:hn,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hn.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Wt(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(Gt(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=Vt(n)?[]:{};return Xt(n,(function(t,n){var o=e(t,r+1);!Bt(o)&&(i[n]=o)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:dn,isThenable:function(e){return e&&(Gt(e)||Wt(e))&&Wt(e.then)&&Wt(e.catch)}};function vn(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}pn.inherits(vn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var mn=vn.prototype,gn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){gn[e]={value:e}})),Object.defineProperties(vn,gn),Object.defineProperty(mn,"isAxiosError",{value:!0}),vn.from=function(e,t,n,r,i,o){var a=Object.create(mn);return pn.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),vn.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};var yn=vn;function kn(e){return pn.isPlainObject(e)||pn.isArray(e)}function bn(e){return pn.endsWith(e,"[]")?e.slice(0,-2):e}function wn(e,t,n){return e?e.concat(t).map((function(e,t){return e=bn(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var xn=pn.toFlatObject(pn,{},null,(function(e){return/^is[A-Z]/.test(e)}));var _n=function(e,t,n){if(!pn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=pn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!pn.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&pn.isSpecCompliantForm(t);if(!pn.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(pn.isDate(e))return e.toISOString();if(!s&&pn.isBlob(e))throw new yn("Blob is not supported. Use a Buffer instead.");return pn.isArrayBuffer(e)||pn.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var s=e;if(e&&!i&&"object"===typeof e)if(pn.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(pn.isArray(e)&&function(e){return pn.isArray(e)&&!e.some(kn)}(e)||(pn.isFileList(e)||pn.endsWith(n,"[]"))&&(s=pn.toArray(e)))return n=bn(n),s.forEach((function(e,r){!pn.isUndefined(e)&&null!==e&&t.append(!0===a?wn([n],r,o):null===a?n:n+"[]",u(e))})),!1;return!!kn(e)||(t.append(wn(i,n,o),u(e)),!1)}var l=[],f=Object.assign(xn,{defaultVisitor:c,convertValue:u,isVisitable:kn});if(!pn.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!pn.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),pn.forEach(n,(function(n,o){!0===(!(pn.isUndefined(n)||null===n)&&i.call(t,n,pn.isString(o)?o.trim():o,r,f))&&e(n,r?r.concat(o):[o])})),l.pop()}}(e),t};function Sn(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function En(e,t){this._pairs=[],e&&_n(e,this,t)}var Cn=En.prototype;Cn.append=function(e,t){this._pairs.push([e,t])},Cn.toString=function(e){var t=e?function(t){return e.call(this,t,Sn)}:Sn;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var In=En;function Tn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ln(e,t,n){if(!t)return e;var r,i=n&&n.encode||Tn,o=n&&n.serialize;if(r=o?o(t,n):pn.isURLSearchParams(t)?t.toString():new In(t,n).toString(i)){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var Nn=function(){function e(){d(this,e),this.handlers=[]}return g(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){pn.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),Pn=Nn,On={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},An={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:In,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var jn=function(e){function t(e,n,r,i){var o=e[i++],a=Number.isFinite(+o),s=i>=e.length;return o=!o&&pn.isArray(r)?r.length:o,s?(pn.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a):(r[o]&&pn.isObject(r[o])||(r[o]=[]),t(e,n,r[o],i)&&pn.isArray(r[o])&&(r[o]=function(e){var t,n,r={},i=Object.keys(e),o=i.length;for(t=0;t<o;t++)r[n=i[t]]=e[n];return r}(r[o])),!a)}if(pn.isFormData(e)&&pn.isFunction(e.entries)){var n={};return pn.forEachEntry(e,(function(e,r){t(function(e){return pn.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},Dn={"Content-Type":void 0};var Mn={transitional:On,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=pn.isObject(e);if(o&&pn.isHTMLForm(e)&&(e=new FormData(e)),pn.isFormData(e))return i&&i?JSON.stringify(jn(e)):e;if(pn.isArrayBuffer(e)||pn.isBuffer(e)||pn.isStream(e)||pn.isFile(e)||pn.isBlob(e))return e;if(pn.isArrayBufferView(e))return e.buffer;if(pn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return _n(e,new An.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return An.isNode&&pn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=pn.isFileList(e))||r.indexOf("multipart/form-data")>-1){var a=this.env&&this.env.FormData;return _n(n?{"files[]":e}:e,a&&new a,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),function(e,t,n){if(pn.isString(e))try{return(t||JSON.parse)(e),pn.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Mn.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&pn.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(i){if("SyntaxError"===o.name)throw yn.from(o,yn.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:An.classes.FormData,Blob:An.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};pn.forEach(["delete","get","head"],(function(e){Mn.headers[e]={}})),pn.forEach(["post","put","patch"],(function(e){Mn.headers[e]=pn.merge(Dn)}));var Rn=Mn,Fn=pn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Un=Symbol("internals");function Vn(e){return e&&String(e).trim().toLowerCase()}function Bn(e){return!1===e||null==e?e:pn.isArray(e)?e.map(Bn):String(e)}function zn(e,t,n,r,i){return pn.isFunction(r)?r.call(this,t,n):(i&&(t=n),pn.isString(t)?pn.isString(r)?-1!==t.indexOf(r):pn.isRegExp(r)?r.test(t):void 0:void 0)}var qn=function(e,t){function n(e){d(this,n),e&&this.set(e)}return g(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=Vn(t);if(!i)throw new Error("header name must be a non-empty string");var o=pn.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=Bn(e))}var o=function(e,t){return pn.forEach(e,(function(e,n){return i(e,n,t)}))};return pn.isPlainObject(e)||e instanceof this.constructor?o(e,t):pn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&Fn[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=Vn(e)){var n=pn.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(pn.isFunction(t))return t.call(this,r,n);if(pn.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=Vn(e)){var n=pn.findKey(this,e);return!(!n||void 0===this[n]||t&&!zn(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=Vn(e)){var i=pn.findKey(n,e);!i||t&&!zn(0,n[i],i,t)||(delete n[i],r=!0)}}return pn.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!zn(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return pn.forEach(this,(function(r,i){var o=pn.findKey(n,i);if(o)return t[o]=Bn(r),void delete t[i];var a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();a!==i&&delete t[i],t[a]=Bn(r),n[a]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return pn.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&pn.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=l(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[Un]=this[Un]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=Vn(e);t[r]||(!function(e,t){var n=pn.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return pn.isArray(e)?e.forEach(r):r(e),this}}]),n}();qn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),pn.freezeMethods(qn.prototype),pn.freezeMethods(qn);var Wn=qn;function Hn(e,t){var n=this||Rn,r=t||n,i=Wn.from(r.headers),o=r.data;return pn.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function Gn(e){return!(!e||!e.__CANCEL__)}function Kn(e,t,n){yn.call(this,null==e?"canceled":e,yn.ERR_CANCELED,t,n),this.name="CanceledError"}pn.inherits(Kn,yn,{__CANCEL__:!0});var Qn=Kn;var Jn=An.isStandardBrowserEnv?{write:function(e,t,n,r,i,o){var a=[];a.push(e+"="+encodeURIComponent(t)),pn.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),pn.isString(r)&&a.push("path="+r),pn.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Zn(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Yn=An.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=pn.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var $n=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),o=0,a=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=i[a];n||(n=u),r[o]=s,i[o]=u;for(var l=a,f=0;l!==o;)f+=r[l++],l%=e;if((o=(o+1)%e)===a&&(a=(a+1)%e),!(u-n<t)){var h=c&&u-c;return h?Math.round(1e3*f/h):void 0}}};function Xn(e,t){var n=0,r=$n(50,250);return function(i){var o=i.loaded,a=i.lengthComputable?i.total:void 0,s=o-n,u=r(s);n=o;var c={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&o<=a?(a-o)/u:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var er="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,o=Wn.from(e.headers).normalize(),a=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}pn.isFormData(i)&&(An.isStandardBrowserEnv||An.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.setContentType("multipart/form-data;",!1));var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(c+":"+l))}var f=Zn(e.baseURL,e.url);function h(){if(u){var r=Wn.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new yn("Request failed with status code "+n.status,[yn.ERR_BAD_REQUEST,yn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}}if(u.open(e.method.toUpperCase(),Ln(f,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new yn("Request aborted",yn.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new yn("Network Error",yn.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||On;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new yn(t,r.clarifyTimeoutError?yn.ETIMEDOUT:yn.ECONNABORTED,e,u)),u=null},An.isStandardBrowserEnv){var d=(e.withCredentials||Yn(f))&&e.xsrfCookieName&&Jn.read(e.xsrfCookieName);d&&o.set(e.xsrfHeaderName,d)}void 0===i&&o.setContentType(null),"setRequestHeader"in u&&pn.forEach(o.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),pn.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",Xn(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",Xn(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){u&&(n(!t||t.type?new Qn(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===An.protocols.indexOf(p)?n(new yn("Unsupported protocol "+p+":",yn.ERR_BAD_REQUEST,e)):u.send(i||null)}))},tr={http:null,xhr:er};pn.forEach(tr,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var nr=function(e){for(var t,n,r=(e=pn.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=pn.isString(t)?tr[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new yn("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(pn.hasOwnProp(tr,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!pn.isFunction(n))throw new TypeError("adapter is not a function");return n};function rr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qn(null,e)}function ir(e){return rr(e),e.headers=Wn.from(e.headers),e.data=Hn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),nr(e.adapter||Rn.adapter)(e).then((function(t){return rr(e),t.data=Hn.call(e,e.transformResponse,t),t.headers=Wn.from(t.headers),t}),(function(t){return Gn(t)||(rr(e),t&&t.response&&(t.response.data=Hn.call(e,e.transformResponse,t.response),t.response.headers=Wn.from(t.response.headers))),Promise.reject(t)}))}var or=function(e){return e instanceof Wn?e.toJSON():e};function ar(e,t){t=t||{};var n={};function r(e,t,n){return pn.isPlainObject(e)&&pn.isPlainObject(t)?pn.merge.call({caseless:n},e,t):pn.isPlainObject(t)?pn.merge({},t):pn.isArray(t)?t.slice():t}function i(e,t,n){return pn.isUndefined(t)?pn.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!pn.isUndefined(t))return r(void 0,t)}function a(e,t){return pn.isUndefined(t)?pn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}var u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:function(e,t){return i(or(e),or(t),!0)}};return pn.forEach(Object.keys(Object.assign({},e,t)),(function(r){var o=u[r]||i,a=o(e[r],t[r],r);pn.isUndefined(a)&&o!==s||(n[r]=a)})),n}var sr="1.4.0",ur={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){ur[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var cr={};ur.transitional=function(e,t,n){function r(e,t){return"[Axios v1.4.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,o){if(!1===e)throw new yn(r(i," has been removed"+(t?" in "+t:"")),yn.ERR_DEPRECATED);return t&&!cr[i]&&(cr[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var lr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new yn("options must be an object",yn.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],u=void 0===s||a(s,o,e);if(!0!==u)throw new yn("option "+o+" must be "+u,yn.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new yn("Unknown option "+o,yn.ERR_BAD_OPTION)}},validators:ur},fr=lr.validators,hr=function(){function e(t){d(this,e),this.defaults=t,this.interceptors={request:new Pn,response:new Pn}}return g(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=ar(this.defaults,t),i=r.transitional,o=r.paramsSerializer,a=r.headers;void 0!==i&&lr.assertOptions(i,{silentJSONParsing:fr.transitional(fr.boolean),forcedJSONParsing:fr.transitional(fr.boolean),clarifyTimeoutError:fr.transitional(fr.boolean)},!1),null!=o&&(pn.isFunction(o)?t.paramsSerializer={serialize:o}:lr.assertOptions(o,{encode:fr.function,serialize:fr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=a&&pn.merge(a.common,a[t.method]))&&pn.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete a[e]})),t.headers=Wn.concat(n,a);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!u){var d=[ir.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=s.length;var p=t;for(h=0;h<f;){var v=s[h++],m=s[h++];try{p=v(p)}catch(g){m.call(this,g);break}}try{c=ir.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return Ln(Zn((e=ar(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();pn.forEach(["delete","get","head","options"],(function(e){hr.prototype[e]=function(t,n){return this.request(ar(n||{},{method:e,url:t,data:(n||{}).data}))}})),pn.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(ar(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}hr.prototype[e]=t(),hr.prototype[e+"Form"]=t(!0)}));var dr=hr,pr=function(){function e(t){if(d(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new Qn(e,t,i),n(r.reason))}))}return g(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),vr=pr;var mr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mr).forEach((function(e){var t=l(e,2),n=t[0],r=t[1];mr[r]=n}));var gr=mr;var yr=function e(t){var n=new dr(t),r=At(dr.prototype.request,n);return pn.extend(r,dr.prototype,n,{allOwnKeys:!0}),pn.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(ar(t,n))},r}(Rn);yr.Axios=dr,yr.CanceledError=Qn,yr.CancelToken=vr,yr.isCancel=Gn,yr.VERSION=sr,yr.toFormData=_n,yr.AxiosError=yn,yr.Cancel=yr.CanceledError,yr.all=function(e){return Promise.all(e)},yr.spread=function(e){return function(t){return e.apply(null,t)}},yr.isAxiosError=function(e){return pn.isObject(e)&&!0===e.isAxiosError},yr.mergeConfig=ar,yr.AxiosHeaders=Wn,yr.formToJSON=function(e){return jn(pn.isHTMLForm(e)?new FormData(e):e)},yr.HttpStatusCode=gr,yr.default=yr;var kr=yr,br=function(e){var t=e.handleSidebar,n=e.isSidebarClosed,i=l((0,r.useState)({name:"",email:"",birth_date:"",city:""}),2),o=i[0],a=i[1],s=Ye((function(e){return e.user}));console.log(localStorage);var u=function(e){a(Nt(Nt({},o),{},Tt({},e.target.name,e.target.value)))},c=function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,kr.put("https://polarpelmeni-api.work-set.eu/api/upload/",o);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();if(console.log(n),!n)return(0,st.jsxs)("section",{className:"grid_layout--main profile_info",children:[(0,st.jsxs)("div",{className:"profile_info--head",children:[(0,st.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:"profile",className:"mobile-menu__avatar",width:70}),(0,st.jsxs)("div",{className:"profile_info--head__contacts contacts",children:[(0,st.jsxs)("div",{className:"contacts_name",children:[s.name," "]}),(0,st.jsx)("div",{className:"contacts_phone",children:s.phone})]}),(0,st.jsx)("div",{className:"profile_info--head__button button",children:(0,st.jsx)("a",{href:"#",className:"button_link",children:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u043d\u043e\u043c\u0435\u0440"})}),(0,st.jsx)("div",{className:"profile_info--head__button button",children:(0,st.jsx)("a",{href:"#",className:"button_link",children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0444\u043e\u0442\u043e"})})]}),(0,st.jsx)(Ot,{handleSidebar:t,children:"\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f"}),(0,st.jsxs)("div",{className:"profile_info--head__mobile",children:[(0,st.jsx)("img",{src:"https://via.placeholder.com/70x70",alt:"profile",className:"profile_info--head__photo"}),(0,st.jsxs)("div",{className:"contacts",children:[(0,st.jsx)("div",{className:"contacts_name",children:s.name}),(0,st.jsxs)("div",{className:"contacts_phone",children:[s.phone," ",(0,st.jsx)("a",{href:"#",className:"button_link",disabled:!0,children:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438"})]}),(0,st.jsx)("div",{className:"",children:(0,st.jsx)("a",{href:"#",className:"button_link",disabled:!0,children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0444\u043e\u0442\u043e"})})]})]}),(0,st.jsx)("div",{className:"profile_info--bonuses__mobile"}),(0,st.jsx)("div",{className:"profile_info--form",children:(0,st.jsxs)("form",{onSubmit:c,children:[(0,st.jsxs)("div",{className:"form",children:[(0,st.jsxs)("div",{className:"form_item",children:[(0,st.jsx)("p",{children:"\u0406\u043c'\u044f"}),(0,st.jsx)("label",{className:"form_item--label",children:(0,st.jsx)("input",{type:"text",placeholder:"\u0406\u043c'\u044f",name:"name",value:o.name,onChange:u})})]}),(0,st.jsxs)("div",{className:"form_item",children:[(0,st.jsx)("p",{children:"\u041f\u043e\u0448\u0442\u0430"}),(0,st.jsx)("label",{className:"form_item--label",children:(0,st.jsx)("input",{type:"text",placeholder:"xxx@gmail.com",name:"email",value:o.email,onChange:u})})]}),(0,st.jsxs)("div",{className:"form_item",children:[(0,st.jsx)("p",{children:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f"}),(0,st.jsx)("label",{className:"form_item--label",children:(0,st.jsx)("input",{type:"text",placeholder:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f",name:"birth_date",value:o.birth_date,onChange:u})})]}),(0,st.jsxs)("div",{className:"form_item",children:[(0,st.jsx)("p",{children:"\u041c\u0456\u0441\u0442\u043e"}),(0,st.jsx)("label",{className:"form_item--label",children:(0,st.jsxs)("select",{name:"city",value:o.city,onChange:u,children:[(0,st.jsx)("option",{value:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e",disabled:!0,children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e"}),(0,st.jsx)("option",{value:"\u041e\u0434\u0435\u0441\u0430",children:"\u041e\u0434\u0435\u0441\u0430"}),(0,st.jsx)("option",{value:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434",children:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434"})]})})]})]}),(0,st.jsx)("div",{className:"form-button",children:(0,st.jsx)("button",{className:"btn-main ",type:"submit",style:{justifyContent:"center"},children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"})})]})})]})},wr=function(e){var t=e.children,n=e.closeModal,r=e.small;return(0,st.jsx)("div",{className:"popup ".concat(r&&"popup-small"),children:(0,st.jsxs)("div",{className:"popup__content ".concat(r&&"popup__content-small"),children:[(0,st.jsx)("button",{className:"popup__close",onClick:n,children:(0,st.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M6.0006 4.82166L10.1256 0.696655L11.3039 1.87499L7.17893 5.99999L11.3039 10.125L10.1256 11.3033L6.0006 7.17832L1.8756 11.3033L0.697266 10.125L4.82227 5.99999L0.697266 1.87499L1.8756 0.696655L6.0006 4.82166Z",fill:"#12130F"})})}),t]})})};n.p;n.p;n.p;var xr=function(e){var t=e.closeConfirmModal;return(0,st.jsx)(wr,{closeModal:t,children:(0,st.jsxs)("div",{className:"modal-content",children:[(0,st.jsx)("h2",{className:"modal-content--title",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f?"}),(0,st.jsx)("p",{className:"confirm-text",children:"\u041c\u0438 \u043e\u0447\u0438\u0441\u0442\u0438\u043c\u043e \u043a\u043e\u0448\u0438\u043a \u0456 \u0437\u0430\u043c\u0456\u043d\u0438\u043c\u043e \u043f\u043e\u0442\u043e\u0447\u043d\u0456 \u043f\u043e\u0437\u0438\u0446\u0456\u0457 \u043d\u0430 \u043f\u043e\u0437\u0438\u0446\u0456\u0457 \u0437 \u0446\u044c\u043e\u0433\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,st.jsx)("button",{className:"modal-button confirm",type:"submit",children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"})]})})},_r=function(e){var t=e.isMainModalOpen,n=e.closeMainModal,r=e.closeConfirmModal,i=e.isConfirmModalOpen,o=e.openConfirmModal;return(0,st.jsxs)(st.Fragment,{children:[t&&(0,st.jsx)(wr,{closeModal:n,children:(0,st.jsxs)("div",{className:"modal-content",children:[(0,st.jsx)("h2",{className:"modal-content--title",children:"\u0414\u0435\u0442\u0430\u043b\u0456 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,st.jsxs)("div",{className:"modal-content__info",children:[(0,st.jsxs)("div",{className:"title-line",children:[(0,st.jsx)("h4",{children:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u21166648"}),(0,st.jsx)("p",{className:"status",children:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u0435"})]}),(0,st.jsxs)("div",{className:"content-lines",children:[(0,st.jsxs)("div",{className:"content-line",children:[(0,st.jsx)("h5",{children:"\u0414\u0430\u0442\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,st.jsx)("p",{className:"info",children:"18.03.2023, 18:39"})]}),(0,st.jsxs)("div",{className:"content-line",children:[(0,st.jsx)("h5",{children:"\u0410\u0434\u0440\u0435\u0441\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),(0,st.jsx)("p",{className:"info",children:"\u0432\u0443\u043b. \u041c\u0430\u0447\u0442\u043e\u0432\u0430, 10"})]}),(0,st.jsxs)("div",{className:"content-line",children:[(0,st.jsx)("h5",{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d"}),(0,st.jsx)("p",{className:"info",children:"2"})]}),(0,st.jsxs)("div",{className:"content-line",children:[(0,st.jsx)("h5",{children:"\u0421\u043f\u043e\u0441\u0456\u0431 \u043e\u043f\u043b\u0430\u0442\u0438"}),(0,st.jsx)("p",{className:"info",children:"\u041e\u043d\u043b\u0430\u0439\u043d"})]}),(0,st.jsxs)("div",{className:"content-line__comment",children:[(0,st.jsx)("h5",{children:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440 \u0434\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f:"}),(0,st.jsx)("div",{className:"comment",children:(0,st.jsx)("p",{children:"\u041d\u0430\u0442\u0438\u0441\u043d\u0443\u0442\u0438 \u043d\u0430 \u0434\u043e\u043c\u043e\u0444\u043e\u043d\u0456 75\u0415"})})]})]})]}),(0,st.jsx)("div",{className:"modal-content__price",children:(0,st.jsxs)("div",{className:"content-lines",children:[(0,st.jsxs)("div",{className:"content-line",children:[(0,st.jsx)("h5",{children:"\u0421\u0443\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f:"}),(0,st.jsx)("h5",{className:"info",children:"870 \u20b4"})]}),(0,st.jsxs)("div",{className:"content-line",children:[(0,st.jsx)("h5",{children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:"}),(0,st.jsx)("h5",{className:"info",children:"70 \u20b4"})]}),(0,st.jsxs)("div",{className:"title-line bottom",children:[(0,st.jsx)("h4",{children:"\u0412\u0441\u044c\u043e\u0433\u043e \u0434\u043e \u0441\u043f\u043b\u0430\u0442\u0438:"}),(0,st.jsx)("h4",{children:"917 \u20b4"})]})]})}),(0,st.jsx)("button",{className:"modal-button",type:"submit",onClick:o,children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"})]})}),i&&(0,st.jsx)(xr,{closeConfirmModal:r})]})},Sr=function(e){var t=e.handleSidebar,n=l((0,r.useState)(!1),2),i=n[0],o=n[1],a=l((0,r.useState)(!1),2),s=a[0],u=a[1];return(0,st.jsx)(st.Fragment,{children:(0,st.jsxs)("section",{className:"grid_layout--main orders",children:[(0,st.jsx)(Ot,{handleSidebar:t,children:"\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c"}),(0,st.jsx)("div",{className:"order",children:(0,st.jsxs)("div",{className:"order-container",children:[(0,st.jsxs)("div",{className:"order-info",children:[(0,st.jsxs)("div",{className:"order-info__number",children:[(0,st.jsx)("h4",{children:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u21162323"}),(0,st.jsx)("p",{className:"status",children:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u0435"})]}),(0,st.jsx)("div",{className:"order-info__datetime",children:"05.01.2023, 12:30"})]}),(0,st.jsxs)("div",{className:"order-details",children:[(0,st.jsx)("h4",{children:"496 \u20b4"}),(0,st.jsx)("button",{onClick:function(){o(!0)},className:"order-details__modal-link",children:"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0456\u0448\u0435"})]})]})}),(0,st.jsx)(_r,{isConfirmModalOpen:s,openConfirmModal:function(){u(!0)},closeConfirmModal:function(){u(!1)},closeMainModal:function(){o(!1)},isMainModalOpen:i})]})})},Er=function(e){var t=e.handleSidebar,n=Ye((function(e){return e.user}));return(0,st.jsx)(st.Fragment,{children:(0,st.jsxs)("section",{className:"sidebar-mobile animate",children:[(0,st.jsxs)("div",{className:"profile_info--head__mobile sidebar-mobile__header",children:[(0,st.jsxs)("div",{className:"mobile-inner",children:[(0,st.jsx)("img",{src:"https://via.placeholder.com/70x70",alt:"profile",className:"profile_info--head__photo"}),(0,st.jsxs)("div",{className:"contacts",children:[(0,st.jsx)("div",{className:"contacts_name",children:n.name}),(0,st.jsx)("div",{className:"contacts_phone mobile",children:n.phone}),(0,st.jsx)("div",{className:"contacts_bonuses",children:(0,st.jsx)("p",{children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e 23 \u0431\u043e\u043d\u0443\u0441\u0438"})})]})]}),(0,st.jsx)("div",{className:"mobile-inner",children:(0,st.jsx)(kt,{to:"/",className:"profile_link--mobile--button mobile-inner__cross",onClick:t,children:(0,st.jsx)("img",{src:Pt,alt:"cross"})})})]}),(0,st.jsx)("ul",{className:"sidebar-mobile__list",children:["\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f","\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0456 \u0431\u043b\u044e\u0434\u0430","\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0430\u0434\u0440\u0435\u0441\u0438","\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c","\u0411\u043e\u043d\u0443\u0441\u0438","\u0412\u0438\u0445\u0456\u0434"].map((function(e,n){return(0,st.jsx)(_t,{index:n,handleSidebar:t,children:e},n)}))}),(0,st.jsx)("div",{className:"sidebar-mobile__footer",children:(0,st.jsxs)("ul",{className:"sidebar-mobile__footer--list",children:[(0,st.jsx)(kt,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),(0,st.jsx)(kt,{to:"/",children:"\u041c\u0435\u043d\u044e"}),(0,st.jsx)(kt,{to:"/about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"}),(0,st.jsx)(kt,{to:"/contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})]})})]})})},Cr=function(e){var t=e.handleSidebar;return(0,st.jsx)("div",{children:(0,st.jsx)(Ot,{handleSidebar:t,children:"Coming soon"})})};function Ir(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Tr(e){return!!e&&!!e[gi]}function Lr(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===yi}(e)||Array.isArray(e)||!!e[mi]||!!(null===(t=e.constructor)||void 0===t?void 0:t[mi])||Mr(e)||Rr(e))}function Nr(e,t,n){void 0===n&&(n=!1),0===Pr(e)?(n?Object.keys:ki)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Pr(e){var t=e[gi];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Mr(e)?2:Rr(e)?3:0}function Or(e,t){return 2===Pr(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ar(e,t){return 2===Pr(e)?e.get(t):e[t]}function jr(e,t,n){var r=Pr(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Dr(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Mr(e){return hi&&e instanceof Map}function Rr(e){return di&&e instanceof Set}function Fr(e){return e.o||e.t}function Ur(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=bi(e);delete t[gi];for(var n=ki(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Vr(e,t){return void 0===t&&(t=!1),zr(e)||Tr(e)||!Lr(e)||(Pr(e)>1&&(e.set=e.add=e.clear=e.delete=Br),Object.freeze(e),t&&Nr(e,(function(e,t){return Vr(t,!0)}),!0)),e}function Br(){Ir(2)}function zr(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function qr(e){var t=wi[e];return t||Ir(18,e),t}function Wr(e,t){wi[e]||(wi[e]=t)}function Hr(){return li}function Gr(e,t){t&&(qr("Patches"),e.u=[],e.s=[],e.v=t)}function Kr(e){Qr(e),e.p.forEach(Zr),e.p=null}function Qr(e){e===li&&(li=e.l)}function Jr(e){return li={p:[],l:li,h:e,m:!0,_:0}}function Zr(e){var t=e[gi];0===t.i||1===t.i?t.j():t.g=!0}function Yr(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||qr("ES5").S(t,e,r),r?(n[gi].P&&(Kr(t),Ir(4)),Lr(e)&&(e=$r(t,e),t.l||ei(t,e)),t.u&&qr("Patches").M(n[gi].t,e,t.u,t.s)):e=$r(t,n,[]),Kr(t),t.u&&t.v(t.u,t.s),e!==vi?e:void 0}function $r(e,t,n){if(zr(t))return t;var r=t[gi];if(!r)return Nr(t,(function(i,o){return Xr(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return ei(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Ur(r.k):r.o,o=i,a=!1;3===r.i&&(o=new Set(i),i.clear(),a=!0),Nr(o,(function(t,o){return Xr(e,r,i,t,o,n,a)})),ei(e,i,!1),n&&e.u&&qr("Patches").N(r,n,e.u,e.s)}return r.o}function Xr(e,t,n,r,i,o,a){if(Tr(i)){var s=$r(e,i,o&&t&&3!==t.i&&!Or(t.R,r)?o.concat(r):void 0);if(jr(n,r,s),!Tr(s))return;e.m=!1}else a&&n.add(i);if(Lr(i)&&!zr(i)){if(!e.h.D&&e._<1)return;$r(e,i),t&&t.A.l||ei(e,i)}}function ei(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&Vr(t,n)}function ti(e,t){var n=e[gi];return(n?Fr(n):e)[t]}function ni(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ri(e){e.P||(e.P=!0,e.l&&ri(e.l))}function ii(e){e.o||(e.o=Ur(e.t))}function oi(e,t,n){var r=Mr(t)?qr("MapSet").F(t,n):Rr(t)?qr("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Hr(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=xi;n&&(i=[r],o=_i);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):qr("ES5").J(t,n);return(n?n.A:Hr()).p.push(r),r}function ai(e){return Tr(e)||Ir(22,e),function e(t){if(!Lr(t))return t;var n,r=t[gi],i=Pr(t);if(r){if(!r.P&&(r.i<4||!qr("ES5").K(r)))return r.t;r.I=!0,n=si(t,i),r.I=!1}else n=si(t,i);return Nr(n,(function(t,i){r&&Ar(r.t,t)===i||jr(n,t,e(i))})),3===i?new Set(n):n}(e)}function si(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Ur(e)}function ui(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[gi];return xi.get(t,e)},set:function(t){var n=this[gi];xi.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][gi];if(!i.P)switch(i.i){case 5:r(i)&&ri(i);break;case 4:n(i)&&ri(i)}}}function n(e){for(var t=e.t,n=e.k,r=ki(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==gi){var a=t[o];if(void 0===a&&!Or(t,o))return!0;var s=n[o],u=s&&s[gi];if(u?u.t!==a:!Dr(s,a))return!0}}var c=!!t[gi];return r.length!==ki(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};Wr("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=bi(n);delete o[gi];for(var a=ki(o),s=0;s<a.length;s++){var u=a[s];o[u]=e(u,t||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:Hr(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,gi,{value:o,writable:!0}),i},S:function(e,n,i){i?Tr(n)&&n[gi].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[gi];if(n){var i=n.t,o=n.k,a=n.R,s=n.i;if(4===s)Nr(o,(function(t){t!==gi&&(void 0!==i[t]||Or(i,t)?a[t]||e(o[t]):(a[t]=!0,ri(n)))})),Nr(i,(function(e){void 0!==o[e]||Or(o,e)||(a[e]=!1,ri(n))}));else if(5===s){if(r(n)&&(ri(n),a.length=!0),o.length<i.length)for(var u=o.length;u<i.length;u++)a[u]=!1;else for(var c=i.length;c<o.length;c++)a[c]=!0;for(var l=Math.min(o.length,i.length),f=0;f<l;f++)o.hasOwnProperty(f)||(a[f]=!0),void 0===a[f]&&e(o[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var ci,li,fi="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),hi="undefined"!=typeof Map,di="undefined"!=typeof Set,pi="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,vi=fi?Symbol.for("immer-nothing"):((ci={})["immer-nothing"]=!0,ci),mi=fi?Symbol.for("immer-draftable"):"__$immer_draftable",gi=fi?Symbol.for("immer-state"):"__$immer_state",yi=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ki="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,bi=Object.getOwnPropertyDescriptors||function(e){var t={};return ki(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},wi={},xi={get:function(e,t){if(t===gi)return e;var n=Fr(e);if(!Or(n,t))return function(e,t,n){var r,i=ni(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!Lr(r)?r:r===ti(e.t,t)?(ii(e),e.o[t]=oi(e.A.h,r,e)):r},has:function(e,t){return t in Fr(e)},ownKeys:function(e){return Reflect.ownKeys(Fr(e))},set:function(e,t,n){var r=ni(Fr(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=ti(Fr(e),t),o=null==i?void 0:i[gi];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Dr(n,i)&&(void 0!==n||Or(e.t,t)))return!0;ii(e),ri(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==ti(e.t,t)||t in e.t?(e.R[t]=!1,ii(e),ri(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Fr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){Ir(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ir(12)}},_i={};Nr(xi,(function(e,t){_i[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),_i.deleteProperty=function(e,t){return _i.set.call(this,e,t,void 0)},_i.set=function(e,t,n){return xi.set.call(this,e[0],t,n,e[0])};var Si=function(){function e(e){var t=this;this.O=pi,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&Ir(6),void 0!==r&&"function"!=typeof r&&Ir(7),Lr(e)){var s=Jr(t),u=oi(t,e,void 0),c=!0;try{a=n(u),c=!1}finally{c?Kr(s):Qr(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return Gr(s,r),Yr(e,s)}),(function(e){throw Kr(s),e})):(Gr(s,r),Yr(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===vi&&(a=void 0),t.D&&Vr(a,!0),r){var l=[],f=[];qr("Patches").M(e,a,l,f),r(l,f)}return a}Ir(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Lr(e)||Ir(8),Tr(e)&&(e=ai(e));var t=Jr(this),n=oi(this,e,void 0);return n[gi].C=!0,Qr(t),n},t.finishDraft=function(e,t){var n=(e&&e[gi]).A;return Gr(n,t),Yr(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!pi&&Ir(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=qr("Patches").$;return Tr(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Ei=new Si,Ci=Ei.produce,Ii=(Ei.produceWithPatches.bind(Ei),Ei.setAutoFreeze.bind(Ei),Ei.setUseProxies.bind(Ei),Ei.applyPatches.bind(Ei),Ei.createDraft.bind(Ei),Ei.finishDraft.bind(Ei),Ci);function Ti(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Li="function"===typeof Symbol&&Symbol.observable||"@@observable",Ni=function(){return Math.random().toString(36).substring(7).split("").join(".")},Pi={INIT:"@@redux/INIT"+Ni(),REPLACE:"@@redux/REPLACE"+Ni(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ni()}};function Oi(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ai(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Ti(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Ti(1));return n(Ai)(e,t)}if("function"!==typeof e)throw new Error(Ti(2));var i=e,o=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){if(u)throw new Error(Ti(3));return o}function f(e){if("function"!==typeof e)throw new Error(Ti(4));if(u)throw new Error(Ti(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(Ti(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function h(e){if(!Oi(e))throw new Error(Ti(7));if("undefined"===typeof e.type)throw new Error(Ti(8));if(u)throw new Error(Ti(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:Pi.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Ti(10));i=e,h({type:Pi.REPLACE})}})[Li]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Ti(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Li]=function(){return this},e},r}function ji(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Pi.INIT}))throw new Error(Ti(12));if("undefined"===typeof n(void 0,{type:Pi.PROBE_UNKNOWN_ACTION()}))throw new Error(Ti(13))}))}(n)}catch(s){o=s}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(Ti(14))}i[u]=f,r=r||f!==l}return(r=r||a.length!==Object.keys(e).length)?i:e}}function Di(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Mi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Ti(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=Di.apply(void 0,o)(n.dispatch),Nt(Nt({},n),{},{dispatch:r})}}}function Ri(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Fi=Ri();Fi.withExtraArgument=Ri;var Ui=Fi,Vi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bi=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},zi=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},qi=Object.defineProperty,Wi=Object.defineProperties,Hi=Object.getOwnPropertyDescriptors,Gi=Object.getOwnPropertySymbols,Ki=Object.prototype.hasOwnProperty,Qi=Object.prototype.propertyIsEnumerable,Ji=function(e,t,n){return t in e?qi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Zi=function(e,t){for(var n in t||(t={}))Ki.call(t,n)&&Ji(e,n,t[n]);if(Gi)for(var r=0,i=Gi(t);r<i.length;r++){n=i[r];Qi.call(t,n)&&Ji(e,n,t[n])}return e},Yi=function(e,t){return Wi(e,Hi(t))},$i=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{s(n.next(e))}catch(t){i(t)}},a=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,a)};s((n=n.apply(e,t)).next())}))},Xi="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Di:Di.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function eo(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var to=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Vi(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,zi([void 0],e[0].concat(this)))):new(t.bind.apply(t,zi([void 0],e.concat(this))))},t}(Array),no=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Vi(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,zi([void 0],e[0].concat(this)))):new(t.bind.apply(t,zi([void 0],e.concat(this))))},t}(Array);function ro(e){return Lr(e)?Ii(e,(function(){})):e}function io(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new to);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Ui.withExtraArgument(n.extraArgument)):r.push(Ui));0;return r}(e)}}function oo(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Zi(Zi({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function ao(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function so(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:ro(e.initialState),i=e.reducers||{},o=Object.keys(i),a={},s={},u={};function c(){var t="function"===typeof e.extraReducers?ao(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],a=void 0===o?[]:o,u=t[2],c=void 0===u?void 0:u,l=Zi(Zi({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"===typeof t?ao(t):[t,n,r],a=o[0],s=o[1],u=o[2];if(function(e){return"function"===typeof e}(e))i=function(){return ro(e())};else{var c=ro(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=zi([a[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(Tr(e))return void 0===(r=n(e,t))?e:r;if(Lr(e))return Ii(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=a;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return o.forEach((function(e){var n,r,o=i[e],c=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[e]=n,s[c]=n,u[e]=r?oo(c,r):oo(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:a,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var uo=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},co=["name","message","stack","code"],lo=function(e,t){this.payload=e,this.meta=t},fo=function(e,t){this.payload=e,this.meta=t},ho=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=co;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=oo(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Yi(Zi({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=oo(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Yi(Zi({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=oo(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||ho)(e||"Rejected"),meta:Yi(Zi({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),a="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):uo(),h=new a;function d(e){l=e,h.abort()}var p=function(){return $i(this,null,(function(){var a,p,v,m,g,y;return Bi(this,(function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),m=null==(a=null==n?void 0:n.condition)?void 0:a.call(n,e,{getState:u,extra:c}),null===(b=m)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,m];case 1:m=k.sent(),k.label=2;case 2:if(!1===m||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,g=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),s(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:u,extra:c}))),[4,Promise.race([g,Promise.resolve(t(e,{dispatch:s,getState:u,extra:c,requestId:f,signal:h.signal,abort:d,rejectWithValue:function(e,t){return new lo(e,t)},fulfillWithValue:function(e,t){return new fo(e,t)}})).then((function(t){if(t instanceof lo)throw t;return t instanceof fo?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=k.sent(),[3,5];case 4:return y=k.sent(),v=y instanceof lo?o(null,f,e,y.payload,y.meta):o(y,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(v)&&v.meta.condition||s(v),[2,v]}var b}))}))}();return Object.assign(p,{abort:d,requestId:f,arg:e,unwrap:function(){return p.then(po)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function po(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var vo="listenerMiddleware";oo(vo+"/add"),oo(vo+"/removeAll"),oo(vo+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var mo,go=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:go(10);ui();var yo=so({name:"shoppingCart",initialState:{products:[],promocode:!1},reducers:{addProduct:function(e,t){var n=e.products.find((function(e){return e.id===t.payload.id}));if(n)n.count+=t.payload.count,n.totalPrice=n.price*n.count;else{var r={preview:t.payload.preview,name:t.payload.name,price:t.payload.price,count:t.payload.count,weight:t.payload.weight,cart_index:e.products.length,id:t.payload.id,ingredients:e.products.ingredients};r.totalPrice=r.price*r.count,e.products.push(r)}localStorage.setItem("shoppingCart",JSON.stringify(e.products))},removeProduct:function(e,t){e.products=e.products.filter((function(e){return e.id!==t.payload.id})),localStorage.setItem("shoppingCart",JSON.stringify(e.products))},updateCount:function(e,t){e.products.find((function(e){return e.cart_index===t.payload.cart_index}));e.products[t.payload.cart_index].count=t.payload.count,e.products[t.payload.cart_index].totalPrice=e.products[t.payload.cart_index].price*t.payload.count,localStorage.setItem("shoppingCart",JSON.stringify(e.products))},getFromLocalStorage:function(e){var t=localStorage.getItem("shoppingCart");null!==JSON.parse(t)&&(e.products=JSON.parse(t))},cartPromocode:function(e){e.promocode=!0},clearCart:function(e){e.products=[],localStorage.removeItem("shoppingCart")}}}),ko=yo.actions,bo=ko.addProduct,wo=ko.removeProduct,xo=ko.updateCount,_o=ko.getFromLocalStorage,So=(ko.cartPromocode,ko.clearCart),Eo=yo.reducer,Co=so({name:"user",initialState:{isAuthenticated:!1,city:null,name:null,phone:null,email:null,token:null,promocode40:!0,favoritProducts:[]},reducers:{userLogin:function(e,t){e.isAuthenticated=!0,e.name=t.payload.name,e.phone=t.payload.phone,e.email=t.payload.email,e.token=t.payload.token,e.promocode40=t.payload.promocode40,localStorage.setItem("userData",JSON.stringify(e))},userLogout:function(e){e.isAuthenticated=!1,e.name=null,e.phone=null,e.email=null,e.token=null,e.promocode40=!1,localStorage.removeItem("userData")},updateCity:function(e,t){e.city=t.payload.city,localStorage.setItem("userData",JSON.stringify(e))},addToFavorit:function(e,t){var n={preview:t.payload.preview,name:t.payload.name,price:t.payload.price,count:1,weight:t.payload.weight,id:t.payload.id,ingredients:t.payload.ingredients};e.favoritProducts.push(n),e.isAuthenticated&&localStorage.setItem("favoritProducts",JSON.stringify(e.favoritProducts))},removeFromFavorit:function(e,t){var n=t.payload.id;e.favoritProducts=e.favoritProducts.filter((function(e){return e.id!==n})),e.isAuthenticated&&localStorage.setItem("favoritProducts",JSON.stringify(e.favoritProducts))},userPromocode:function(e){e.promocode40=!1,localStorage.setItem("userData",JSON.stringify(e))},userPromocodeNotUse:function(e){e.promocode40=!0,localStorage.setItem("userData",JSON.stringify(e))},loadFromLocalStorage:function(e){var t=localStorage.getItem("favoritProducts"),n=JSON.parse(t);null!==n&&(e.favoritProducts=n)}}}),Io=Co.actions,To=Io.userLogin,Lo=Io.userLogout,No=Io.updateCity,Po=Io.addToFavorit,Oo=Io.removeFromFavorit,Ao=Io.loadFromLocalStorage,jo=Io.userPromocode,Do=Io.userPromocodeNotUse,Mo=Co.reducer,Ro=so({name:"popupActions",initialState:{currentAction:""},reducers:{setActions:function(e,t){e.currentAction=t.payload.action}}}),Fo=Ro.actions.setActions,Uo=Ro.reducer,Vo=function(e){var t=we(),n=at(),i=l((0,r.useState)(1),2),o=i[0],a=i[1],s=l((0,r.useState)(!1),2),u=s[0],c=s[1],f=l((0,r.useState)(!1),2),h=f[0],d=f[1],p=Ye((function(e){return e.user.favoritProducts}));Ye((function(e){return e.shoppingCart.products}));return(0,r.useEffect)((function(){p&&(p.some((function(t){return t.id===e.id}))?c(!0):c(!1))}),[p,e.id]),(0,st.jsxs)("div",{className:"product",children:[(0,st.jsx)("div",{className:"product__cta",children:(0,st.jsx)("div",{className:"product__like ".concat(!0===u&&"product__like-active"),onClick:function(){p.some((function(t){return t.id===e.id}))?n(Oo({id:e.id})):(n(Fo({action:"addToFavorit"})),setTimeout((function(){n(Fo({action:""}))}),2e3),n(Po({name:e.name,price:e.price,count:o,preview:e.preview,weight:e.weight,id:e.id,ingredients:e.ingredients})))},children:(0,st.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"transparent",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M8.5097 3.13486L7.99967 3.68282L7.48964 3.13486C6.08123 1.62171 3.79773 1.62171 2.38932 3.13486C0.980904 4.648 0.980904 7.10129 2.38932 8.61444L6.97961 13.5461C7.54297 14.1513 8.45637 14.1513 9.01974 13.5461L13.61 8.61444C15.0184 7.10129 15.0184 4.648 13.61 3.13486C12.2016 1.62171 9.91812 1.62171 8.5097 3.13486Z",stroke:"white",strokeWidth:"1.5",strokeLinejoin:"round"})})})}),(0,st.jsxs)("div",{className:"product__preview",children:[(0,st.jsx)("img",{src:e.preview,alt:e.name,onClick:function(){return t("/product/".concat(e.id))}}),!0===h?(0,st.jsxs)("button",{className:"product__inCart",children:[(0,st.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M6.66715 10.1138L12.7954 3.9856L13.7382 4.9284L6.66715 11.9994L2.4245 7.75685L3.36731 6.81405L6.66715 10.1138Z",fill:"#92939A"})}),(0,st.jsx)("p",{children:" \u0414\u043e\u0434\u0430\u043d\u043e \u0434\u043e \u043a\u043e\u0448\u0438\u043a\u0443"})]}):(0,st.jsx)("button",{className:"product__addToCard",onClick:function(){n(bo({name:e.name,price:e.price,count:o,preview:e.preview,weight:e.weight,id:e.id,ingredients:e.ingredients})),n(Fo({action:"addToCard"})),d(!0),setTimeout((function(){d(!1),n(Fo({action:""}))}),2e3)},children:"\u0412 \u043a\u043e\u0448\u0438\u043a"})]}),(0,st.jsxs)("div",{className:"product__info",children:[(0,st.jsxs)("p",{className:"product__weight",children:[e.weight," \u0433"]}),(0,st.jsx)("h4",{className:"product__name",children:e.name}),(0,st.jsx)("p",{className:"product__composition",children:e.ingredients})]}),(0,st.jsxs)("div",{className:"product__order",children:[(0,st.jsx)("div",{className:"product__price",children:(0,st.jsxs)("div",{className:"product__total-price",children:[e.price*o," \u20b4"]})}),(0,st.jsxs)("div",{className:"counter",children:[(0,st.jsx)("div",{className:"counter__btn",onClick:function(){o>1&&a(o-1)},children:"-"}),(0,st.jsx)("div",{className:"counter__value",children:o}),(0,st.jsx)("div",{className:"counter__btn",onClick:function(){return a(o+1)},children:"+"})]})]})]})},Bo=function(e){var t=e.handleSidebar,n=l((0,r.useState)([]),2),i=n[0],o=n[1],a=localStorage.getItem("favoritProducts");return(0,r.useEffect)((function(){o(JSON.parse(a))}),[a]),(0,st.jsxs)("section",{className:"grid_layout--main favorites",children:[(0,st.jsx)(Ot,{handleSidebar:t,children:"\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0456 \u0431\u043b\u044e\u0434\u0430"}),i&&i.map((function(e){return(0,st.jsx)(Vo,{preview:e.preview,name:e.name,price:e.price,weight:e.weight,id:e.id,ingredients:e.ingredients},e.id)}))]})},zo=function(e){var t=e.handleSidebar;return(0,st.jsx)(st.Fragment,{children:(0,st.jsxs)("section",{className:"grid_layout--main orders",children:[(0,st.jsx)(Ot,{handleSidebar:t,children:"\u0411\u043e\u043d\u0443\u0441\u0438"}),(0,st.jsx)("div",{className:"order",children:(0,st.jsx)("div",{className:"order-container",children:(0,st.jsx)("div",{className:"order-info",children:(0,st.jsxs)("div",{className:"order-info__number",children:[(0,st.jsx)("h4",{children:"\u041f\u0435\u0440\u0448\u0435 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f - 40% \u0437\u043d\u0438\u0436\u043a\u0430"}),(0,st.jsx)("p",{className:"status",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u0430"})]})})})})]})})},qo=function(e){var t=e.pathlink,n=e.handleSidebar,r=e.isSidebarClosed;return(0,st.jsx)(st.Fragment,{children:function(){switch(t){case"info":return(0,st.jsx)(br,{handleSidebar:n,isSidebarClosed:r});case"addresses":return(0,st.jsx)("h1",{children:" Coming soon"});case"history":return(0,st.jsx)(Sr,{handleSidebar:n});case"":return(0,st.jsx)(Er,{handleSidebar:n});case"favourite":return(0,st.jsx)(Bo,{handleSidebar:n});case"bonuses":return(0,st.jsx)(zo,{handleSidebar:n});default:return(0,st.jsx)(Cr,{handleSidebar:n})}}()})},Wo=function(){var e=l((0,r.useState)(!1),2),t=e[0],n=e[1],i=ke().pathname.replace("/profile/","");return console.log(t),(0,st.jsx)(st.Fragment,{children:(0,st.jsx)(ut,{children:(0,st.jsxs)(ct,{children:[(0,st.jsx)(St,{pathlink:i}),(0,st.jsx)(qo,{pathlink:i,handleSidebar:function(){n((function(e){return!e}))},isSidebarClosed:t})]})})})};function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ho.apply(this,arguments)}var Go=new Map,Ko=new WeakMap,Qo=0,Jo=void 0;function Zo(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return"".concat(t,"_").concat("root"===t?function(e){return e?(Ko.has(e)||(Qo+=1,Ko.set(e,Qo.toString())),Ko.get(e)):"0"}(e.root):e[t])})).toString()}function Yo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Jo;if("undefined"===typeof window.IntersectionObserver&&void 0!==r){var i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var o=function(e){var t=Zo(e),n=Go.get(t);if(!n){var r,i=new Map,o=new IntersectionObserver((function(t){t.forEach((function(t){var n,o=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=o),null==(n=i.get(t.target))||n.forEach((function(e){e(o,t)}))}))}),e);r=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:o,elements:i},Go.set(t,n)}return n}(n),a=o.id,s=o.observer,u=o.elements,c=u.get(e)||[];return u.has(e)||u.set(e,c),c.push(t),s.observe(e),function(){c.splice(c.indexOf(t),1),0===c.length&&(u.delete(e),s.unobserve(e)),0===u.size&&(s.disconnect(),Go.delete(a))}}var $o=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function Xo(e){return"function"!==typeof e.children}var ea=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).node=null,r._unobserveCb=null,r.handleNode=function(e){r.node&&(r.unobserve(),e||r.props.triggerOnce||r.props.skip||r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=e||null,r.observeNode()},r.handleChange=function(e,t){e&&r.props.triggerOnce&&r.unobserve(),Xo(r.props)||r.setState({inView:e,entry:t}),r.props.onChange&&r.props.onChange(e,t)},r.state={inView:!!e.initialInView,entry:void 0},r}return g(n,[{key:"componentDidUpdate",value:function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())}},{key:"componentWillUnmount",value:function(){this.unobserve(),this.node=null}},{key:"observeNode",value:function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin,i=e.trackVisibility,o=e.delay,a=e.fallbackInView;this._unobserveCb=Yo(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r,trackVisibility:i,delay:o},a)}}},{key:"unobserve",value:function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}},{key:"render",value:function(){if(!Xo(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var i=this.props,o=i.children,a=i.as,s=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(i,$o);return r.createElement(a||"div",Ho({ref:this.handleNode},s),o)}}]),n}(r.Component);var ta=function(e){return(0,st.jsxs)("button",{className:"btn btn-main ".concat(!0===e.fullWide&&"btn-main-fw"," "),onClick:e.onClick,disabled:e.disabled,children:[e.name,e.arrow&&(0,st.jsx)("svg",{width:"17",height:"20",viewBox:"0 0 17 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M9.16645 11.7814L12.7425 8.20535L13.6851 9.14802L8.49979 14.3334L3.31445 9.14802L4.25712 8.20535L7.83312 11.7814V3.66669H9.16645V11.7814Z",fill:"#12130F"})})]})},na=function(e){var t=e.title,n=e.desc,r=e.image_mob,i=e.image_desktop,o=e.index;return(0,st.jsx)("div",{className:"banner","data-index":o,children:(0,st.jsxs)("div",{className:"banner__content",children:[(0,st.jsxs)("div",{className:"banner__info",children:[(0,st.jsx)("div",{className:"banner__logo",children:(0,st.jsxs)("svg",{width:"47",height:"47",viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,st.jsx)("path",{d:"M45.5628 5.14991C45.025 3.9572 44.0271 2.99915 42.7844 2.48232C42.1377 2.21378 41.426 2.06299 40.6777 2.06299C39.9294 2.06299 39.2173 2.21378 38.571 2.48232C37.395 2.97105 36.4428 3.85846 35.8881 4.96359C34.5981 4.02661 33.1898 3.23298 31.6867 2.60832C29.2083 1.57756 26.4815 1 23.614 1C20.7461 1 18.0189 1.57756 15.5417 2.60667C13.9738 3.25859 12.5103 4.09725 11.1751 5.08794C10.6308 3.92415 9.64888 2.98964 8.42857 2.48232C7.78227 2.21378 7.07014 2.06299 6.32186 2.06299C5.57358 2.06299 4.86188 2.21378 4.21515 2.48232C2.97246 2.99915 1.97461 3.9572 1.43675 5.14991C1.15706 5.77085 1 6.45417 1 7.17302C1 7.89146 1.15663 8.57478 1.43675 9.19571C1.97461 10.3888 2.97246 11.3469 4.21515 11.8633C4.5327 11.9955 4.86704 12.098 5.21299 12.1694C5.10456 12.3872 4.99699 12.6053 4.89673 12.8271C3.82315 15.2072 3.2216 17.8256 3.2216 20.5792V46C3.77281 45.6546 4.32702 45.3138 4.89673 44.9957C10.4075 41.9273 16.7991 40.1604 23.6153 40.1604C26.4815 40.1604 29.2096 39.5824 31.6867 38.5529C36.4479 36.574 40.2715 32.9029 42.3326 28.3316C43.4066 25.9519 44.0069 23.3339 44.0069 20.5808C44.0069 17.8273 43.4049 15.2089 42.3326 12.8288C42.2246 12.5888 42.1084 12.3529 41.9905 12.1178C42.2633 12.0505 42.5301 11.9691 42.7844 11.8633C44.0271 11.3469 45.025 10.3888 45.5628 9.19571C45.8429 8.57478 46 7.89146 46 7.17302C46 6.45417 45.8425 5.77085 45.5628 5.14991Z",fill:"white"}),(0,st.jsx)("path",{d:"M45.5628 5.14991C45.025 3.9572 44.0271 2.99915 42.7844 2.48232C42.1377 2.21378 41.426 2.06299 40.6777 2.06299C39.9294 2.06299 39.2173 2.21378 38.571 2.48232C37.395 2.97105 36.4428 3.85846 35.8881 4.96359C34.5981 4.02661 33.1898 3.23298 31.6867 2.60832C29.2083 1.57756 26.4815 1 23.614 1C20.7461 1 18.0189 1.57756 15.5417 2.60667C13.9738 3.25859 12.5103 4.09725 11.1751 5.08794C10.6308 3.92415 9.64888 2.98964 8.42857 2.48232C7.78227 2.21378 7.07014 2.06299 6.32186 2.06299C5.57358 2.06299 4.86188 2.21378 4.21515 2.48232C2.97246 2.99915 1.97461 3.9572 1.43675 5.14991C1.15706 5.77085 1 6.45417 1 7.17302C1 7.89146 1.15663 8.57478 1.43675 9.19571C1.97461 10.3888 2.97246 11.3469 4.21515 11.8633C4.5327 11.9955 4.86704 12.098 5.21299 12.1694C5.10456 12.3872 4.99699 12.6053 4.89673 12.8271C3.82315 15.2072 3.2216 17.8256 3.2216 20.5792V46C3.77281 45.6546 4.32702 45.3138 4.89673 44.9957C10.4075 41.9273 16.7991 40.1604 23.6153 40.1604C26.4815 40.1604 29.2096 39.5824 31.6867 38.5529C36.4479 36.574 40.2715 32.9029 42.3326 28.3316C43.4066 25.9519 44.0069 23.3339 44.0069 20.5808C44.0069 17.8273 43.4049 15.2089 42.3326 12.8288C42.2246 12.5888 42.1084 12.3529 41.9905 12.1178C42.2633 12.0505 42.5301 11.9691 42.7844 11.8633C44.0271 11.3469 45.025 10.3888 45.5628 9.19571C45.8429 8.57478 46 7.89146 46 7.17302C46 6.45417 45.8425 5.77085 45.5628 5.14991Z",stroke:"#12130F",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,st.jsx)("path",{d:"M13.1195 16.6365C13.1195 15.6334 12.2727 14.8204 11.2279 14.8204C10.1828 14.8204 9.33594 15.6334 9.33594 16.6365C9.33594 17.6396 10.1828 18.4526 11.2279 18.4526C12.2727 18.4526 13.1195 17.6396 13.1195 16.6365Z",fill:"#12130F"}),(0,st.jsx)("path",{d:"M38.0687 16.6365C38.0687 15.6334 37.2219 14.8204 36.1772 14.8204C35.132 14.8204 34.2852 15.6334 34.2852 16.6365C34.2852 17.6396 35.132 18.4526 36.1772 18.4526C37.2219 18.4526 38.0687 17.6396 38.0687 16.6365Z",fill:"#12130F"}),(0,st.jsx)("path",{d:"M22.6825 28.3741C23.2298 29.0285 24.2672 29.0285 24.8146 28.3741L26.5693 26.2754L27.6059 25.0351C28.3236 24.1762 27.6868 22.9013 26.5396 22.9013H23.7487H20.9574C19.8103 22.9013 19.1734 24.1762 19.8912 25.0351L20.9277 26.2754L22.6825 28.3741Z",fill:"#12130F"}),(0,st.jsx)("path",{d:"M23.3232 31.7015H24.0702V27.1769H23.3232V31.7015Z",fill:"#12130F"}),(0,st.jsx)("path",{d:"M21.5324 30.7709C21.9554 31.0547 22.3241 31.2109 22.6701 31.2997C23.0152 31.3873 23.3392 31.4121 23.6968 31.4158C24.0543 31.4104 24.3779 31.3857 24.7226 31.2985C25.0677 31.2097 25.4369 31.0539 25.8611 30.7709C25.9283 31.2762 25.6645 31.788 25.2407 32.1363C24.8134 32.4883 24.232 32.6569 23.6968 32.6548C23.1615 32.6552 22.581 32.4867 22.1537 32.1351C21.7303 31.7864 21.467 31.2753 21.5324 30.7709Z",fill:"#12130F"})]})}),(0,st.jsx)("h3",{className:"title__h1 text__color--secondary",children:t}),(0,st.jsx)("p",{className:"text",children:n}),(0,st.jsx)(ta,{name:"\u0414\u0438\u0432\u0438\u0442\u0438\u0441\u044c \u043c\u0435\u043d\u044e",arrow:!0,onClick:function(){document.querySelector("#menu").scrollIntoView({behavior:"smooth"})}})]}),(0,st.jsxs)("picture",{className:"banner__preview",children:[(0,st.jsx)("source",{media:"(max-width: 786px)",srcSet:r}),(0,st.jsx)("source",{media:"(min-width: 787px)",srcSet:i}),(0,st.jsx)("img",{src:r,alt:""})]})]})})},ra=n.p+"static/media/banner1.064356126c1cf74c9bdc.png",ia=n.p+"static/media/banner2.a9ab2dc965221294a1c7.png",oa=n.p+"static/media/banner3.a47a41a33ceb6c6cc6b7.png",aa=n.p+"static/media/banner1_mob.2149d7a6dd26c621b389.png",sa=n.p+"static/media/banner2_mob.e8e3a6d22f1998b2ef13.png",ua=n.p+"static/media/banner3_mob.fe14d85da03d6c38dea5.png",ca=function(){var e=l((0,r.useState)(0),2),t=e[0],n=e[1],i=l((0,r.useState)("right"),2),o=i[0],a=i[1],s=(0,r.useRef)(null);return(0,r.useEffect)((function(){if(s.current){if("right"===o){var e=setInterval((function(){s.current.scrollBy({left:100,behavior:"smooth"})}),7e3);return function(){clearInterval(e)}}if("left"===o){var t=setInterval((function(){s.current.scrollBy({left:-100,behavior:"smooth"})}),7e3);return function(){clearInterval(t)}}}}),[o]),(0,st.jsx)("div",{className:"slider",children:(0,st.jsxs)("div",{className:"slider__wrapper",children:[(0,st.jsxs)("div",{className:"slider__track",ref:s,children:[(0,st.jsx)(ea,{threshold:.2,as:"div",onChange:function(e,t){e&&(n(t.target.firstChild.dataset.index),a("right"))},style:{flexShrink:0},children:(0,st.jsx)(na,{title:"Polar \u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430",desc:"\u041d\u0435\u043e\u0431\u043e\u0432\u2019\u044f\u0437\u043a\u043e\u0432\u043e \u043f\u043e\u043a\u0438\u0434\u0430\u0442\u0438 \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0435 \u043b\u0456\u0436\u043a\u043e \u0430\u0431\u043e \u0436 \u0432\u0437\u0430\u0433\u0430\u043b\u0456 \u0432\u0438\u0445\u043e\u0434\u0438\u0442\u0438 \u0437 \u0434\u043e\u043c\u0443, \u0430\u0431\u0438 \u043f\u043e\u043b\u0430\u0441\u0443\u0432\u0430\u0442\u0438 \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u043c\u0438 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u044f\u043c\u0438!",image_mob:aa,image_desktop:ra,index:0})}),(0,st.jsx)(ea,{threshold:.2,style:{flexShrink:0},as:"div",onChange:function(e,t){e&&n(t.target.firstChild.dataset.index)},children:(0,st.jsx)(na,{title:"\u041b\u044e\u0431\u043e\u0432 \u0437 \u043f\u0435\u0440\u0448\u043e\u0433\u043e \u043f\u043e\u0433\u043b\u044f\u0434\u0443 \u0456\u0441\u043d\u0443\u0454... ",desc:"\u041d\u0430\u0441\u043e\u043b\u043e\u0434\u0436\u0443\u0439\u0442\u0435\u0441\u044c \u0441\u043c\u0430\u0447\u043d\u043e\u044e \u0457\u0436\u0435\u044e \u0442\u0430 \u0431\u0443\u0434\u044c\u0442\u0435 \u043a\u043e\u0445\u0430\u043d\u0438\u043c\u0438 \u0432 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",image_mob:sa,image_desktop:ia,index:1})}),(0,st.jsx)(ea,{threshold:.2,style:{flexShrink:0},as:"div",onChange:function(e,t){e&&(n(t.target.firstChild.dataset.index),a("left"))},children:(0,st.jsx)(na,{title:"\u0417\u0430\u043c\u043e\u0432\u043b\u044f\u0439 \u0441\u043c\u0430\u043a\u043e\u043b\u0438\u043a\u0438 \u0432\u0456\u0434 \u041f\u043e\u043b\u0430\u0440 \u0434\u043e\u0434\u043e\u043c\u0443",desc:"\u0428\u0432\u0438\u0434\u043a\u043e, \u044f\u043a\u0441\u0456\u043d\u043e \u0456 \u0441\u043c\u0430\u0447\u043d\u043e",image_mob:ua,image_desktop:oa,index:2})})]}),(0,st.jsxs)("div",{className:"slider__dots",children:[(0,st.jsx)("div",{className:"slider__dot ".concat(0==t&&"slider__dot-active")}),(0,st.jsx)("div",{className:"slider__dot ".concat(1==t&&"slider__dot-active")}),(0,st.jsx)("div",{className:"slider__dot ".concat(2==t&&"slider__dot-active")})]})]})})},la=function(){var e=xe().id,t=(Ye((function(e){return e.user})).token,l((0,r.useState)(null),2)),n=t[0],i=t[1],o=l((0,r.useState)([]),2),a=o[0],s=o[1],u=l((0,r.useState)([]),2),c=u[0],f=u[1],h=l((0,r.useState)([]),2),d=(h[0],h[1]),p=localStorage.getItem("favoritProducts");return(0,r.useEffect)((function(){kr.get("https://polarpelmeni-api.work-set.eu/api/menu",{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){var t=e.data.response.filter((function(e){return e.category_name.startsWith("onlineOrder:")})).map((function(e,t){return{category_name:e.category_name.replace(/onlineOrder: /,""),category_id:e.category_id,category_position_index:t}}));t[13].category_position_index=0,t[12].category_position_index=1,t[11].category_position_index=2,t[8].category_position_index=3,t[10].category_position_index=4,t[9].category_position_index=5,t[2].category_position_index=6,t[3].category_position_index=7,t[0].category_position_index=8,t[6].category_position_index=9,t[4].category_position_index=10,t[7].category_position_index=11,t[1].category_position_index=12,t[5].category_position_index=13,t.sort((function(e,t){return e.category_position_index-t.category_position_index})),console.log(t),i(t[0].category_id),s(t)})).catch((function(e){return console.error(e)}))}),[]),(0,r.useEffect)((function(){!function(e){var t=JSON.stringify({categoryId:e});kr.post("https://polarpelmeni-api.work-set.eu/api/products",t,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){var t=e.data.response.map((function(e){return{photo:e.photo_origin,product_name:e.product_name,price:e.price,out:e.out,product_id:e.product_id,ingredients:e.product_production_description}}));f(t)})).catch((function(e){return console.error(e)}))}(n)}),[n]),(0,r.useEffect)((function(){d(JSON.parse(p))}),[p]),(0,r.useEffect)((function(){e&&i(e)}),[e]),(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{className:"categories",id:"menu",children:[(0,st.jsx)("h1",{className:"title__h1",children:"\u041a\u0443\u0448\u0442\u0443\u0439 \u0442\u0456\u043b\u044c\u043a\u0438 \u043d\u0430\u0439\u0441\u043c\u0430\u0447\u043d\u0456\u0448\u0435"}),(0,st.jsx)("div",{className:"categories__list",children:a.map((function(e){return(0,st.jsx)("button",{className:"categories__btn ".concat(n===e.category_id?"categories__btn-active":""),onClick:function(){return i(e.category_id)},children:e.category_name},e.category_id)}))})]}),(0,st.jsx)("div",{className:"menu__products",children:c.map((function(e){return(0,st.jsx)(Vo,{preview:"https://polar-pelmeni-odessa.joinposter.com"+e.photo,name:e.product_name,price:parseInt(e.price[1].slice(0,-2)),ingredients:e.ingredients,weight:e.out,id:e.product_id},e.product_id)}))})]})},fa=function(e){var t=e.direction;return(0,st.jsx)("div",{className:"button-arrow button-arrow-".concat(t),children:(0,st.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M10.4763 7.83307L6.00634 12.3031L7.18467 13.4814L13.6663 6.99973L7.18467 0.518066L6.00634 1.6964L10.4763 6.1664L0.333008 6.1664L0.333008 7.83307L10.4763 7.83307Z",fill:"#12130F"})})})},ha="https://polar-pelmeni-odessa.joinposter.com",da=function(){var e=xe().id,t=at(),n=l((0,r.useState)(1),2),i=n[0],o=n[1],a=l((0,r.useState)(!1),2),s=a[0],u=a[1],c=l((0,r.useState)(null),2),f=c[0],h=c[1],d=l((0,r.useState)(null),2),p=d[0],v=d[1],m=l((0,r.useState)(null),2),g=m[0],y=m[1];(0,r.useEffect)((function(){if(f){var e=f.product_production_description.split(", ");v(e)}}),[f]),(0,r.useEffect)((function(){var t={productId:e},n=JSON.stringify(t);kr.post("https://polarpelmeni-api.work-set.eu/api/product",n,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){console.log("pp",e),h(e.data.response);var t=JSON.stringify({categoryId:e.data.response.menu_category_id});kr.post("https://polarpelmeni-api.work-set.eu/api/products",t,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){var t=e.data.response.map((function(e){return{photo:e.photo_origin,product_name:e.product_name,price:e.price,out:e.out,product_id:e.product_id,ingredients:e.product_production_description}}));y(t)}))})).catch((function(e){return console.error(e)}))}),[e]);var k=Ye((function(e){return e.shoppingCart.products}));return(0,r.useEffect)((function(){k&&(k.some((function(t){return t.id==e}))?u(!0):u(!1))}),[k,e]),null!==f&&!1!==f?(0,st.jsx)("div",{children:(0,st.jsx)("div",{className:"product-page",children:(0,st.jsxs)(ut,{children:[(0,st.jsxs)("div",{className:"product-page__content",children:[(0,st.jsx)("div",{className:"product-page__preview",children:(0,st.jsx)("img",{src:ha+f.photo_origin,alt:""})}),(0,st.jsxs)("div",{className:"product-page__info",children:[(0,st.jsxs)("p",{className:"product-page__weight text text__color--secondary",children:[f.cost," \u0433"]}),(0,st.jsx)("h1",{className:"product-page__title text__color--secondary",children:f.product_name}),f.group_modifications&&(0,st.jsx)("p",{className:"product-page__desc text__color--secondary",children:f.group_modifications.map((function(e,t){return f.group_modifications.length===t+1?"".concat(e.name):"".concat(e.name,", ")}))}),(0,st.jsxs)("p",{className:"product-page__price text-price text__color--secondary",children:[parseInt(f.price[1].slice(0,-2))," \u20b4"]}),(0,st.jsxs)("div",{className:"product-page__order",children:[!0===s?(0,st.jsxs)("button",{className:"btn btn-main",onClick:function(){},disabled:!0,children:[(0,st.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:6},children:(0,st.jsx)("path",{d:"M6.66715 10.1138L12.7954 3.9856L13.7382 4.9284L6.66715 11.9994L2.4245 7.75685L3.36731 6.81405L6.66715 10.1138Z",fill:"#92939A"})}),"\u0414\u043e\u0434\u0430\u043d\u043e \u0434\u043e \u043a\u043e\u0448\u0438\u043a\u0443"]}):(0,st.jsxs)("button",{className:"btn btn-main",onClick:function(){t(bo({name:f.product_name,price:parseInt(f.price[1].slice(0,-2)),count:i,preview:ha+f.photo_origin,weight:f.cost,id:e})),t(Fo({action:"addToCard"})),setTimeout((function(){t(Fo({action:""}))}),2e3)},children:["\u0414\u043e\u0434\u0430\u0442\u0438 \u0432 \u043a\u043e\u0448\u0438\u043a (",parseInt(f.price[1].slice(0,-2))*i," \u20b4)"]}),(0,st.jsxs)("div",{className:"counter",children:[(0,st.jsx)("div",{className:"counter__btn counter__btn--transperent",onClick:function(){i>1&&o(i-1)},children:"-"}),(0,st.jsx)("div",{className:"counter__value text__color--secondary",children:i}),(0,st.jsx)("div",{className:"counter__btn counter__btn--transperent",onClick:function(){return o(i+1)},children:"+"})]})]}),f.product_production_description&&(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("h6",{className:"product-page__compile-title title__h6 text__color--secondary",children:"\u0421\u043a\u043b\u0430\u0434"}),(0,st.jsx)("ul",{className:"product-page__compile",children:p&&p.map((function(e){return(0,st.jsx)("li",{className:"product-page__compile-item",children:e})}))})]})]})]}),(0,st.jsxs)("div",{className:"product-page__recommendations",children:[(0,st.jsxs)("div",{className:"product-page__recommendations-head",children:[(0,st.jsx)("h3",{className:"title__h3",children:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0454\u043c\u043e \u0441\u043f\u0440\u043e\u0431\u0443\u0432\u0430\u0442\u0438"}),(0,st.jsxs)("div",{className:"product-page__recommendations-arrows",children:[(0,st.jsx)(fa,{direction:"left"}),(0,st.jsx)(fa,{direction:"right"})]})]}),null!==g&&(0,st.jsx)("div",{className:"product-page__recommendations-track",children:(0,st.jsx)("div",{className:"product-page__recommendations-list",children:g.map((function(e){return(0,st.jsx)(Vo,{preview:"https://polar-pelmeni-odessa.joinposter.com"+e.photo,name:e.product_name,price:parseInt(e.price[1].slice(0,-2)),ingredients:e.ingredients,weight:e.out,id:e.product_id},e.product_id)}))})})]})]})})}):"\u041f\u0440\u043e\u0434\u0443\u043a\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"},pa=so({name:"modals",initialState:{authModal:!1,cityModal:!0,thanksModal:!1},reducers:{authModalUpdateState:function(e,t){e.authModal=t.payload.isOpen},cityModalUpdateState:function(e,t){e.cityModal=t.payload.isOpen},thanksModalUpdateState:function(e,t){e.thanksModal=t.payload.isOpen}}}),va=pa.actions,ma=va.authModalUpdateState,ga=va.cityModalUpdateState,ya=va.thanksModalUpdateState,ka=pa.reducer;var ba=n.p+"static/media/logo.4c66c0436de3e3728ef3931cb8bd0914.svg",wa=function(e){var t=e.preview,n=e.name,i=e.weight,o=e.price,a=e.count,s=e.id,u=e.cart_index,c=l((0,r.useState)(a),2),f=c[0],h=c[1],d=at();return(0,r.useEffect)((function(){d(xo({cart_index:u,count:f}))}),[f]),(0,st.jsxs)("li",{className:"shopping-cart__item",children:[(0,st.jsx)("div",{className:"shopping-cart__preview",children:(0,st.jsx)("img",{src:t,alt:""})}),(0,st.jsxs)("div",{className:"shopping-cart__info",children:[(0,st.jsxs)("div",{className:"shopping-cart__row",children:[(0,st.jsx)("h6",{className:"title__h8",children:n}),(0,st.jsx)("div",{className:"shopping-cart__remove",onClick:function(){return d(wo({id:s}))},children:(0,st.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M6.0006 4.82144L10.1256 0.696442L11.3039 1.87478L7.17893 5.99977L11.3039 10.1248L10.1256 11.3031L6.0006 7.17811L1.8756 11.3031L0.697266 10.1248L4.82227 5.99977L0.697266 1.87478L1.8756 0.696442L6.0006 4.82144Z",fill:"#49484D"})})})]}),(0,st.jsxs)("p",{className:"shopping-cart__weight",children:[i," \u0433"]}),(0,st.jsxs)("div",{className:"shopping-cart__row",children:[(0,st.jsxs)("p",{className:"shopping-cart__price",children:[o," \u20b4"]}),(0,st.jsxs)("div",{className:"counter",children:[(0,st.jsx)("div",{className:"counter__btn counter__btn--light",onClick:function(){a>1&&h(a-1)},children:"-"}),(0,st.jsx)("div",{className:"counter__value",children:a}),(0,st.jsx)("div",{className:"counter__btn counter__btn--light",onClick:function(){return h(a+1)},children:"+"})]})]})]})]})},xa=function(e){var t=e.action,n=e.error,r=e.onClick,i=at();return(0,st.jsx)(kt,{to:"\u0411\u043b\u044e\u0434\u043e \u0434\u043e\u0434\u0430\u043d\u043e \u0443 \u043a\u043e\u0448\u0438\u043a"===t?"/order":"",className:"popup-actions",children:(0,st.jsxs)("div",{className:"popup-actions__content",onClick:r,children:[(0,st.jsx)("div",{className:"popup-actions__ico",children:n?(0,st.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,st.jsx)("circle",{cx:"12",cy:"12",r:"12",fill:"#F55D66"}),(0,st.jsx)("path",{d:"M12.0007 18.6666C8.31875 18.6666 5.33398 15.6818 5.33398 11.9999C5.33398 8.31802 8.31875 5.33325 12.0007 5.33325C15.6825 5.33325 18.6673 8.31802 18.6673 11.9999C18.6673 15.6818 15.6825 18.6666 12.0007 18.6666ZM12.0007 17.3333C14.9462 17.3333 17.334 14.9455 17.334 11.9999C17.334 9.0544 14.9462 6.66659 12.0007 6.66659C9.05513 6.66659 6.66732 9.0544 6.66732 11.9999C6.66732 14.9455 9.05513 17.3333 12.0007 17.3333ZM11.334 13.9999H12.6673V15.3333H11.334V13.9999ZM11.334 8.66659H12.6673V12.6666H11.334V8.66659Z",fill:"black"})]}):(0,st.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,st.jsx)("circle",{cx:"12",cy:"12",r:"12",fill:"#55CB99"}),(0,st.jsx)("g",{"clip-path":"url(#clip0_390_8333)",children:(0,st.jsx)("path",{d:"M10.6665 14.1148L16.7945 7.98608L17.7378 8.92875L10.6665 16.0001L6.42383 11.7574L7.36649 10.8148L10.6665 14.1148Z",fill:"#12130F"})}),(0,st.jsx)("defs",{children:(0,st.jsx)("clipPath",{id:"clip0_390_8333",children:(0,st.jsx)("rect",{width:"16",height:"16",fill:"white",transform:"translate(4 4)"})})})]})}),(0,st.jsx)("p",{children:t}),(0,st.jsx)("div",{className:"popup-actions__close",onClick:function(){return i(Fo({action:""}))},children:(0,st.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M5.00048 4.05732L8.30048 0.757324L9.24315 1.69999L5.94315 4.99999L9.24315 8.29999L8.30048 9.24266L5.00048 5.94266L1.70048 9.24266L0.757812 8.29999L4.05781 4.99999L0.757812 1.69999L1.70048 0.757324L5.00048 4.05732Z",fill:"white"})})})]})})},_a=function(){var e=Ye((function(e){return e.shoppingCart.products})),t=we(),n=l((0,r.useState)(!1),2),i=n[0],o=n[1],a=l((0,r.useState)(0),2),s=a[0],u=a[1],c=l((0,r.useState)(!1),2),f=c[0],h=c[1];(0,r.useEffect)((function(){u(e.reduce((function(e,t){return e+t.totalPrice}),0))}),[e]),(0,r.useEffect)((function(){return document.body.style.overflow=i?"hidden":"auto",function(){document.body.style.overflow="auto"}}),[i]);var d;return(0,st.jsxs)(st.Fragment,{children:[(d=f,d?(0,st.jsx)(xa,{action:"\u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u0441\u0443\u043c\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f 200 \u20b4",error:!0}):null),(0,st.jsxs)("button",{className:"card",onClick:function(){return o(!0)},children:[(0,st.jsxs)("div",{className:"card__ico",children:[(0,st.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,st.jsx)("g",{clipPath:"url(#clip0_353_13525)",children:(0,st.jsx)("path",{d:"M2.66707 10.6667V2.66669H1.33374V1.33336H3.33374C3.51055 1.33336 3.68012 1.4036 3.80514 1.52862C3.93017 1.65365 4.00041 1.82321 4.00041 2.00003V10H12.2924L13.6257 4.66669H5.33374V3.33336H14.4804C14.5817 3.33336 14.6817 3.35647 14.7728 3.40092C14.8639 3.44537 14.9436 3.50999 15.006 3.58988C15.0683 3.66977 15.1116 3.76283 15.1326 3.86197C15.1536 3.96111 15.1517 4.06373 15.1271 4.16203L13.4604 10.8287C13.4243 10.9729 13.341 11.1008 13.2239 11.1923C13.1067 11.2837 12.9624 11.3334 12.8137 11.3334H3.33374C3.15693 11.3334 2.98736 11.2631 2.86234 11.1381C2.73731 11.0131 2.66707 10.8435 2.66707 10.6667ZM4.00041 15.3334C3.64679 15.3334 3.30765 15.1929 3.0576 14.9428C2.80755 14.6928 2.66707 14.3536 2.66707 14C2.66707 13.6464 2.80755 13.3073 3.0576 13.0572C3.30765 12.8072 3.64679 12.6667 4.00041 12.6667C4.35403 12.6667 4.69317 12.8072 4.94322 13.0572C5.19326 13.3073 5.33374 13.6464 5.33374 14C5.33374 14.3536 5.19326 14.6928 4.94322 14.9428C4.69317 15.1929 4.35403 15.3334 4.00041 15.3334ZM12.0004 15.3334C11.6468 15.3334 11.3076 15.1929 11.0576 14.9428C10.8075 14.6928 10.6671 14.3536 10.6671 14C10.6671 13.6464 10.8075 13.3073 11.0576 13.0572C11.3076 12.8072 11.6468 12.6667 12.0004 12.6667C12.354 12.6667 12.6932 12.8072 12.9432 13.0572C13.1933 13.3073 13.3337 13.6464 13.3337 14C13.3337 14.3536 13.1933 14.6928 12.9432 14.9428C12.6932 15.1929 12.354 15.3334 12.0004 15.3334Z",fill:"black"})}),(0,st.jsx)("defs",{children:(0,st.jsx)("clipPath",{id:"clip0_353_13525",children:(0,st.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]}),0!==e.length&&(0,st.jsx)("div",{className:"card__length",children:(0,st.jsx)("span",{children:e.length})})]}),(0,st.jsx)("span",{className:"card__text",children:"\u041a\u043e\u0448\u0438\u043a"})]}),i&&(0,st.jsxs)("div",{className:"shopping-cart",children:[(0,st.jsx)("div",{className:"shopping-cart__close",onClick:function(){return o(!1)},children:(0,st.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M7.00072 5.58599L11.9507 0.635986L13.3647 2.04999L8.41472 6.99999L13.3647 11.95L11.9507 13.364L7.00072 8.41399L2.05072 13.364L0.636719 11.95L5.58672 6.99999L0.636719 2.04999L2.05072 0.635986L7.00072 5.58599Z",fill:"#12130F"})})}),0===e.length?(0,st.jsxs)("div",{className:"shopping-cart__content shopping-cart__content--empty",children:[(0,st.jsx)("div",{className:"shopping-cart__logo",children:(0,st.jsxs)("svg",{width:"150",height:"150",viewBox:"0 0 150 150",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,st.jsx)("circle",{cx:"75",cy:"75",r:"75",fill:"#DF643A"}),(0,st.jsx)("path",{d:"M104.417 49.7177C103.7 48.0744 102.369 46.7544 100.713 46.0423C99.8503 45.6723 98.9013 45.4646 97.9036 45.4646C96.9059 45.4646 95.9564 45.6723 95.0947 46.0423C93.5267 46.7157 92.257 47.9383 91.5175 49.4609C89.7975 48.17 87.9197 47.0765 85.9157 46.2159C82.611 44.7957 78.9753 44 75.152 44C71.3282 44 67.6919 44.7957 64.389 46.2136C62.2983 47.1118 60.3471 48.2673 58.5668 49.6323C57.8411 48.0288 56.5318 46.7413 54.9048 46.0423C54.043 45.6723 53.0935 45.4646 52.0958 45.4646C51.0981 45.4646 50.1492 45.6723 49.2869 46.0423C47.6299 46.7544 46.2995 48.0744 45.5823 49.7177C45.2094 50.5732 45 51.5146 45 52.5051C45 53.4949 45.2088 54.4364 45.5823 55.2919C46.2995 56.9357 47.6299 58.2557 49.2869 58.9672C49.7103 59.1494 50.1561 59.2905 50.6173 59.389C50.4727 59.689 50.3293 59.9895 50.1956 60.2952C48.7642 63.5744 47.9621 67.182 47.9621 70.9757V106C48.6971 105.524 49.436 105.055 50.1956 104.616C57.5433 100.389 66.0654 97.9543 75.1538 97.9543C78.9753 97.9543 82.6127 97.158 85.9157 95.7395C92.2639 93.013 97.362 87.9551 100.11 81.6568C101.542 78.3782 102.343 74.7712 102.343 70.978C102.343 67.1843 101.54 63.5766 100.11 60.2975C99.9662 59.9667 99.8112 59.6417 99.654 59.3179C100.018 59.2251 100.373 59.1129 100.713 58.9672C102.369 58.2557 103.7 56.9357 104.417 55.2919C104.791 54.4364 105 53.4949 105 52.5051C105 51.5146 104.79 50.5732 104.417 49.7177Z",fill:"white"}),(0,st.jsx)("path",{d:"M104.417 49.7177C103.7 48.0744 102.369 46.7544 100.713 46.0423C99.8503 45.6723 98.9013 45.4646 97.9036 45.4646C96.9059 45.4646 95.9564 45.6723 95.0947 46.0423C93.5267 46.7157 92.257 47.9383 91.5175 49.4609C89.7975 48.17 87.9197 47.0766 85.9157 46.2159C82.611 44.7957 78.9753 44 75.152 44C71.3282 44 67.6919 44.7958 64.389 46.2136C62.2983 47.1118 60.3471 48.2673 58.5668 49.6323C57.8411 48.0288 56.5318 46.7413 54.9048 46.0423C54.043 45.6723 53.0935 45.4646 52.0958 45.4646C51.0981 45.4646 50.1492 45.6723 49.2869 46.0423C47.6299 46.7544 46.2995 48.0744 45.5823 49.7177C45.2094 50.5732 45 51.5146 45 52.5051C45 53.4949 45.2088 54.4364 45.5823 55.2919C46.2995 56.9357 47.6299 58.2557 49.2869 58.9672C49.7103 59.1494 50.1561 59.2905 50.6173 59.389C50.4727 59.689 50.3293 59.9895 50.1956 60.2952C48.7642 63.5744 47.9621 67.182 47.9621 70.9757V106C48.6971 105.524 49.436 105.055 50.1956 104.616C57.5433 100.389 66.0654 97.9543 75.1538 97.9543C78.9753 97.9543 82.6127 97.158 85.9157 95.7395C92.2639 93.013 97.362 87.9551 100.11 81.6568C101.542 78.3782 102.343 74.7712 102.343 70.978C102.343 67.1843 101.54 63.5766 100.11 60.2975C99.9662 59.9667 99.8112 59.6417 99.654 59.3179C100.018 59.2251 100.373 59.1129 100.713 58.9672C102.369 58.2557 103.7 56.9357 104.417 55.2919C104.791 54.4364 105 53.4949 105 52.5051C105 51.5146 104.79 50.5732 104.417 49.7177Z",stroke:"#12130F","stroke-width":"3","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),(0,st.jsx)("path",{d:"M61.158 65.5436C61.158 64.1616 60.0289 63.0414 58.6359 63.0414C57.2424 63.0414 56.1133 64.1616 56.1133 65.5436C56.1133 66.9257 57.2424 68.0459 58.6359 68.0459C60.0289 68.0459 61.158 66.9257 61.158 65.5436Z",fill:"#12130F"}),(0,st.jsx)("path",{d:"M94.4237 65.5436C94.4237 64.1616 93.2946 63.0414 91.9016 63.0414C90.508 63.0414 89.3789 64.1616 89.3789 65.5436C89.3789 66.9257 90.508 68.0459 91.9016 68.0459C93.2946 68.0459 94.4237 66.9257 94.4237 65.5436Z",fill:"#12130F"}),(0,st.jsx)("path",{d:"M73.9113 81.7154C74.641 82.617 76.0243 82.617 76.7541 81.7154L79.0937 78.8239L80.4758 77.1151C81.4328 75.9317 80.5837 74.1752 79.0541 74.1752H75.3329H71.6112C70.0816 74.1752 69.2325 75.9317 70.1895 77.1151L71.5716 78.8239L73.9113 81.7154Z",fill:"#12130F"}),(0,st.jsx)("path",{d:"M74.7617 86.2998H75.7577V80.0659H74.7617V86.2998Z",fill:"#12130F"}),(0,st.jsx)("path",{d:"M72.3765 85.0177C72.9405 85.4088 73.4322 85.6239 73.8934 85.7463C74.3536 85.867 74.7856 85.9012 75.2624 85.9063C75.7391 85.8989 76.1706 85.8647 76.6301 85.7446C77.0902 85.6222 77.5825 85.4077 78.1482 85.0177C78.2377 85.7139 77.886 86.4191 77.3209 86.899C76.7512 87.3839 75.9761 87.6162 75.2624 87.6133C74.5486 87.6139 73.7747 87.3817 73.205 86.8973C72.6404 86.4168 72.2893 85.7127 72.3765 85.0177Z",fill:"#12130F"})]})}),(0,st.jsx)("h5",{className:"title__h5",children:"\u041d\u0430\u0436\u0430\u043b\u044c, \u043a\u043e\u0448\u0438\u043a \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439"}),(0,st.jsx)("p",{className:"text",children:"\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0449\u043e\u0441\u044c \u0441\u043c\u0430\u0447\u043d\u0435\u043d\u044c\u043a\u0435"})]}):(0,st.jsxs)("div",{className:"shopping-cart__content",children:[(0,st.jsxs)("div",{className:"shopping-cart__row",children:[(0,st.jsx)("h5",{className:"title__h5",children:"\u041a\u043e\u0448\u0438\u043a"}),(0,st.jsxs)("p",{className:"shopping-cart__products-count",children:[e.length," \u0442\u043e\u0432\u0430\u0440\u0456\u0432"]})]}),(0,st.jsx)("div",{className:"shopping-cart__list-wrapper",children:(0,st.jsx)("ul",{className:"shopping-cart__list",children:e.map((function(e){return(0,st.jsx)(wa,{preview:e.preview,name:e.name,price:e.totalPrice,weight:e.weight,count:e.count,id:e.id,cart_index:e.cart_index})}))})}),(0,st.jsxs)("div",{className:"shopping-cart__total",children:[(0,st.jsxs)("div",{className:"shopping-cart__total-row",children:[(0,st.jsx)("p",{className:"shopping-cart__text",children:"\u0421\u0443\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f:"}),(0,st.jsxs)("p",{className:"shopping-cart__text",children:[s," \u20b4"]})]}),(0,st.jsxs)("div",{className:"shopping-cart__total-row",children:[(0,st.jsx)("p",{className:"shopping-cart__text",children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:"}),(0,st.jsx)("p",{className:"shopping-cart__text",children:s<500?"\u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0442\u0430\u043a\u0441\u0456 (\u043e\u043f\u043b\u0430\u0447\u0443\u0454\u0442\u044c\u0441\u044f \u043e\u043a\u0440\u0435\u043c\u043e)":"\u0411\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0430"})]}),(0,st.jsxs)("div",{className:"shopping-cart__total-row",children:[(0,st.jsx)("p",{className:"shopping-cart__text-final",children:"\u0412\u0441\u044c\u043e\u0433\u043e \u0434\u043e \u0441\u043f\u043b\u0430\u0442\u0438:"}),(0,st.jsxs)("p",{className:"shopping-cart__text-final",children:[s," \u20b4"]})]})]}),(0,st.jsx)(ta,{name:"\u0417\u0430\u043c\u043e\u0432\u0438\u0442\u0438",onClick:function(){s<200?(h(!0),setTimeout((function(){return h(!1)}),3e3)):(o(!i),t("/order"))},fullWide:!0})]})]})]})},Sa=n(504),Ea=n.n(Sa),Ca=function(e){return(0,st.jsxs)("label",{className:"inputNumber",htmlFor:"inputNumber",children:[(0,st.jsx)("span",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,st.jsx)(Ea(),{value:e.inputValue&&e.inputValue,mask:"+380 (99) 999 99 99",id:"inputNumber",placeholder:"+380 (__) ___ __ __",onChange:function(t){return e.onChange(t.target.value)}})]})},Ia=function(e){var t=e.onData,n=l((0,r.useState)(""),2),i=n[0],o=n[1],a=(0,r.useRef)([]);(0,r.useEffect)((function(){t(i)}),[i]);return(0,st.jsx)("div",{className:"inputCode",children:Array.from({length:6}).map((function(e,t){return(0,st.jsx)("input",{autocomplete:"one-time-code",ref:function(e){return a.current[t]=e},type:"text",value:i[t]||"",maxLength:1,className:"inputCode__item",onChange:function(e){return function(e,t){var n=e.target.value,r=t+1;o((function(e){var i=e.split("");return i[t]=n,n&&a.current[r]&&a.current[r].focus(),i.join("")}))}(e,t)},onKeyDown:function(e){return function(e,t){var n=t-1,r=t+1;"Backspace"===e.key&&n>=0?a.current[n].focus():"Delete"===e.key&&r<a.current.length&&a.current[r].focus()}(e,t)}},t)}))})},Ta=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},La={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ta(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw new Na;var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Na=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return g(n)}(E(Error)),Pa=function(e){return function(e){var t=Ta(e);return La.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Oa=function(e){try{return La.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Aa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Aa(e[n],t[n]));return e}var ja=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Da=function(){try{return ja()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Oa(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Ma=function(){var e;return null===(e=Da())||void 0===e?void 0:e.config},Ra=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return g(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Fa(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ua(){var e,t=null===(e=Da())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Va(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ba(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function za(){var e=Fa();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function qa(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Wa=function(e){k(n,e);var t=_(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this,r)).code=e,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(x(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(o),Ha.prototype.create),o}return g(n)}(E(Error)),Ha=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ga,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Wa(n,o,t)}}]),e}();var Ga=/\{\$([^}]+)}/g;function Ka(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qa(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ja(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(Za(s)&&Za(u)){if(!Ja(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Za(e){return null!==e&&"object"===typeof e}function Ya(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function $a(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Xa(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function es(e,t){var n=new ts(e,t);return n.subscribe.bind(n)}var ts=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return g(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=I(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(o){r.e(o)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ns),void 0===r.error&&(r.error=ns),void 0===r.complete&&(r.complete=ns);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ns(){}function rs(e){return e&&e._delegate?e._delegate:e}var is=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return g(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),os="[DEFAULT]",as=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return g(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ra;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch(u){}var t,n=I(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],o=r[1],a=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:a});o.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),a=I(this.instancesDeferred.entries());try{for(a.s();!(i=a.n()).done;){var s=l(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(o)}}catch(f){a.e(f)}finally{a.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;try{o(e,t)}catch(AN){}}}catch(a){i.e(a)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===os?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(AN){}return o||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os;return this.component?this.component.multipleInstances?e:os:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ss,us,cs=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return g(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new as(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ls=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(us||(us={}));var fs={debug:us.DEBUG,verbose:us.VERBOSE,info:us.INFO,warn:us.WARN,error:us.ERROR,silent:us.SILENT},hs=us.INFO,ds=(Tt(ss={},us.DEBUG,"log"),Tt(ss,us.VERBOSE,"log"),Tt(ss,us.INFO,"info"),Tt(ss,us.WARN,"warn"),Tt(ss,us.ERROR,"error"),ss),ps=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ds[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(a))}},vs=function(){function e(t){d(this,e),this.name=t,this._logLevel=hs,this._logHandler=ps,this._userLogHandler=null,ls.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in us))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?fs[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,us.DEBUG].concat(t)),this._logHandler.apply(this,[this,us.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,us.VERBOSE].concat(t)),this._logHandler.apply(this,[this,us.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,us.INFO].concat(t)),this._logHandler.apply(this,[this,us.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,us.WARN].concat(t)),this._logHandler.apply(this,[this,us.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,us.ERROR].concat(t)),this._logHandler.apply(this,[this,us.ERROR].concat(t))}}]),e}();var ms,gs,ys=function(e,t){return t.some((function(t){return e instanceof t}))};var ks=new WeakMap,bs=new WeakMap,ws=new WeakMap,xs=new WeakMap,_s=new WeakMap;var Ss={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bs.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ws.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Es(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(gs||(gs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ts(this),n),Is(ks.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Is(e.apply(Ts(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=e.call.apply(e,[Ts(this),t].concat(r));return ws.set(o,t.sort?t.sort():[t]),Is(o)}}function Cs(e){return"function"===typeof e?Es(e):(e instanceof IDBTransaction&&function(e){if(!bs.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=function(){t(),r()},o=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));bs.set(e,t)}}(e),ys(e,ms||(ms=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ss):e)}function Is(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",o)},i=function(){t(Is(e.result)),r()},o=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((function(t){t instanceof IDBCursor&&ks.set(t,e)})).catch((function(){})),_s.set(t,e),t}(e);if(xs.has(e))return xs.get(e);var t=Cs(e);return t!==e&&(xs.set(e,t),_s.set(t,e)),t}var Ts=function(e){return _s.get(e)};var Ls,Ns,Ps=["get","getKey","getAll","getAllKeys","count"],Os=["put","add","delete","clear"],As=new Map;function js(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(As.get(t))return As.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Os.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ps.includes(n))){var o=function(){var e=It(Et().mark((function e(t){var o,a,s,u,c,l,f=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=this.transaction(t,i?"readwrite":"readonly"),s=a.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(o=s)[n].apply(o,c),i&&a.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return As.set(t,o),o}}}Ss=function(e){return Nt(Nt({},e),{},{get:function(t,n,r){return js(t,n)||e.get(t,n,r)},has:function(t,n){return!!js(t,n)||e.has(t,n)}})}(Ss);var Ds=function(){function e(t){d(this,e),this.container=t}return g(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ms="@firebase/app",Rs="0.9.12",Fs=new vs("@firebase/app"),Us="[DEFAULT]",Vs=(Tt(Ls={},Ms,"fire-core"),Tt(Ls,"@firebase/app-compat","fire-core-compat"),Tt(Ls,"@firebase/analytics","fire-analytics"),Tt(Ls,"@firebase/analytics-compat","fire-analytics-compat"),Tt(Ls,"@firebase/app-check","fire-app-check"),Tt(Ls,"@firebase/app-check-compat","fire-app-check-compat"),Tt(Ls,"@firebase/auth","fire-auth"),Tt(Ls,"@firebase/auth-compat","fire-auth-compat"),Tt(Ls,"@firebase/database","fire-rtdb"),Tt(Ls,"@firebase/database-compat","fire-rtdb-compat"),Tt(Ls,"@firebase/functions","fire-fn"),Tt(Ls,"@firebase/functions-compat","fire-fn-compat"),Tt(Ls,"@firebase/installations","fire-iid"),Tt(Ls,"@firebase/installations-compat","fire-iid-compat"),Tt(Ls,"@firebase/messaging","fire-fcm"),Tt(Ls,"@firebase/messaging-compat","fire-fcm-compat"),Tt(Ls,"@firebase/performance","fire-perf"),Tt(Ls,"@firebase/performance-compat","fire-perf-compat"),Tt(Ls,"@firebase/remote-config","fire-rc"),Tt(Ls,"@firebase/remote-config-compat","fire-rc-compat"),Tt(Ls,"@firebase/storage","fire-gcs"),Tt(Ls,"@firebase/storage-compat","fire-gcs-compat"),Tt(Ls,"@firebase/firestore","fire-fst"),Tt(Ls,"@firebase/firestore-compat","fire-fst-compat"),Tt(Ls,"fire-js","fire-js"),Tt(Ls,"firebase","fire-js-all"),Ls),Bs=new Map,zs=new Map;function qs(e,t){try{e.container.addComponent(t)}catch(n){Fs.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ws(e,t){e.container.addOrOverwriteComponent(t)}function Hs(e){var t=e.name;if(zs.has(t))return Fs.debug("There were multiple attempts to register component ".concat(t,".")),!1;zs.set(t,e);var n,r=I(Bs.values());try{for(r.s();!(n=r.n()).done;){qs(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Gs(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ks(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Us;Gs(e,t).clearInstance(n)}function Qs(){zs.clear()}var Js=(Tt(Ns={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),Tt(Ns,"bad-app-name","Illegal App name: '{$appName}"),Tt(Ns,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Tt(Ns,"app-deleted","Firebase App named '{$appName}' already deleted"),Tt(Ns,"no-options","Need to provide options, when not being deployed to hosting via source."),Tt(Ns,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Tt(Ns,"invalid-log-argument","First argument to `onLog` must be null or a function."),Tt(Ns,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Tt(Ns,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Tt(Ns,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Tt(Ns,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Ns),Zs=new Ha("app","Firebase",Js),Ys=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new is("app",(function(){return i}),"PUBLIC"))}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}]),e}(),$s="9.22.2";function Xs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Us,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Zs.create("bad-app-name",{appName:String(i)});if(n||(n=Ma()),!n)throw Zs.create("no-options");var o=Bs.get(i);if(o){if(Ja(n,o.options)&&Ja(r,o.config))return o;throw Zs.create("duplicate-app",{appName:i})}var a,s=new cs(i),u=I(zs.values());try{for(u.s();!(a=u.n()).done;){var c=a.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Ys(n,r,s);return Bs.set(i,l),l}function eu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us,t=Bs.get(e);if(!t&&e===Us&&Ma())return Xs();if(!t)throw Zs.create("no-app",{appName:e});return t}function tu(){return Array.from(Bs.values())}function nu(e){return ru.apply(this,arguments)}function ru(){return ru=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Bs.has(n)){e.next=6;break}return Bs.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),ru.apply(this,arguments)}function iu(e,t,n){var r,i=null!==(r=Vs[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&s.push("and"),a&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Fs.warn(s.join(" "))}Hs(new is("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ou(e,t){if(null!==e&&"function"!==typeof e)throw Zs.create("invalid-log-argument");!function(e,t){var n,r=I(ls);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=fs[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var s=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:us[n].toLowerCase(),message:s,args:o,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}}(e,t)}function au(e){var t;t=e,ls.forEach((function(e){e.setLogLevel(t)}))}var su="firebase-heartbeat-database",uu=1,cu="firebase-heartbeat-store",lu=null;function fu(){return lu||(lu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,o=n.blocking,a=n.terminated,s=indexedDB.open(e,t),u=Is(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Is(s.result),e.oldVersion,e.newVersion,Is(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){a&&e.addEventListener("close",(function(){return a()})),o&&e.addEventListener("versionchange",(function(e){return o(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(su,uu,{upgrade:function(e,t){if(0===t)e.createObjectStore(cu)}}).catch((function(e){throw Zs.create("idb-open",{originalErrorMessage:e.message})}))),lu}function hu(e){return du.apply(this,arguments)}function du(){return du=It(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fu();case 3:return n=e.sent,e.next=6,n.transaction(cu).objectStore(cu).get(mu(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Wa?Fs.warn(e.t0.message):(i=Zs.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Fs.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),du.apply(this,arguments)}function pu(e,t){return vu.apply(this,arguments)}function vu(){return vu=It(Et().mark((function e(t,n){var r,i,o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fu();case 3:return r=e.sent,i=r.transaction(cu,"readwrite"),o=i.objectStore(cu),e.next=8,o.put(n,mu(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Wa?Fs.warn(e.t0.message):(a=Zs.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Fs.warn(a.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),vu.apply(this,arguments)}function mu(e){return"".concat(e.name,"!").concat(e.options.appId)}var gu=function(){function e(t){var n=this;d(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new xu(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return g(e,[{key:"triggerHeartbeat",value:function(){var e=It(Et().mark((function e(){var t,n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=yu(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=It(Et().mark((function e(){var t,n,r,i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=yu(),n=ku(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,o=Pa(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function yu(){return(new Date).toISOString().substring(0,10)}function ku(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),o=I(e);try{var a=function(){var e=t.value,o=r.find((function(t){return t.agent===e.agent}));if(o){if(o.dates.push(e.date),_u(r)>n)return o.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),_u(r)>n)return r.pop(),"break";i=i.slice(1)};for(o.s();!(t=o.n()).done;){if("break"===a())break}}catch(s){o.e(s)}finally{o.f()}return{heartbeatsToSend:r,unsentEntries:i}}var bu,wu,xu=function(){function e(t){d(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return g(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qa()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,hu(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",pu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",pu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function _u(e){return Pa(JSON.stringify({version:2,heartbeats:e})).length}bu="",Hs(new is("platform-logger",(function(e){return new Ds(e)}),"PRIVATE")),Hs(new is("heartbeat",(function(e){return new gu(e)}),"PRIVATE")),iu(Ms,Rs,bu),iu(Ms,Rs,"esm2017"),iu("fire-js","");var Su=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.firebase=n,qs(t,new is("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),nu(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Us;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Us;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){qs(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Ws(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Eu=(Tt(wu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Tt(wu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),wu),Cu=new Ha("app-compat","Firebase",Eu);var Iu=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Xs(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ka(n,i.name))return n[i.name];var o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:iu,setLogLevel:au,onLog:ou,apps:null,SDK_VERSION:$s,INTERNAL:{registerComponent:function(e){var n=e.name,o=n.replace("-compat","");if(Hs(e)&&"PUBLIC"===e.type){var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw Cu.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&Aa(a,e.serviceProps),r[o]=a,t.prototype[o]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ka(n,e=e||Us))throw Cu.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Su);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Aa(n,e)},createSubscribe:es,ErrorFactory:Ha,deepExtend:Aa}),n}(),Tu=new vs("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Tu.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Lu=self.firebase.SDK_VERSION;Lu&&Lu.indexOf("LITE")>=0&&Tu.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Nu=Iu;!function(e){iu("@firebase/app-compat","0.2.12",e)}();function Pu(){return Pu="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Pu.apply(this,arguments)}Nu.registerVersion("firebase","9.22.2","app-compat");function Ou(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var Au,ju={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Du="EMAIL_SIGNIN",Mu="PASSWORD_RESET",Ru="RECOVER_EMAIL",Fu="REVERT_SECOND_FACTOR_ADDITION",Uu="VERIFY_AND_CHANGE_EMAIL",Vu="VERIFY_EMAIL";function Bu(){return Tt({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var zu=function(){var e;return Tt(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Tt(e,"argument-error",""),Tt(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Tt(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Tt(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Tt(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Tt(e,"cordova-not-ready","Cordova framework is not ready."),Tt(e,"cors-unsupported","This browser is not supported."),Tt(e,"credential-already-in-use","This credential is already associated with a different user account."),Tt(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Tt(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Tt(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Tt(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Tt(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Tt(e,"email-already-in-use","The email address is already in use by another account."),Tt(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Tt(e,"expired-action-code","The action code has expired."),Tt(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Tt(e,"internal-error","An internal AuthError has occurred."),Tt(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Tt(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Tt(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Tt(e,"invalid-auth-event","An internal AuthError has occurred."),Tt(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Tt(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Tt(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Tt(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Tt(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Tt(e,"invalid-email","The email address is badly formatted."),Tt(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Tt(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Tt(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Tt(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Tt(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Tt(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Tt(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Tt(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Tt(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Tt(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Tt(e,"wrong-password","The password is invalid or the user does not have a password."),Tt(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Tt(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Tt(e,"invalid-provider-id","The specified provider ID is invalid."),Tt(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Tt(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Tt(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Tt(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Tt(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Tt(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Tt(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Tt(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Tt(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Tt(e,"missing-continue-uri","A continue URL must be provided in the request."),Tt(e,"missing-iframe-start","An internal AuthError has occurred."),Tt(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Tt(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Tt(e,"missing-password","A non-empty password must be provided"),Tt(e,"missing-multi-factor-info","No second factor identifier is provided."),Tt(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Tt(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Tt(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Tt(e,"app-deleted","This instance of FirebaseApp has been deleted."),Tt(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Tt(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Tt(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Tt(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Tt(e,"no-auth-event","An internal AuthError has occurred."),Tt(e,"no-such-provider","User was not linked to an account with the given provider."),Tt(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Tt(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Tt(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Tt(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Tt(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Tt(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Tt(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Tt(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Tt(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Tt(e,"rejected-credential","The request contains malformed or mismatching credentials."),Tt(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Tt(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Tt(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Tt(e,"timeout","The operation has timed out."),Tt(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Tt(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Tt(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Tt(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Tt(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Tt(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Tt(e,"unverified-email","The operation requires a verified email."),Tt(e,"user-cancelled","The user did not grant your application the permissions it requested."),Tt(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Tt(e,"user-disabled","The user account has been disabled by an administrator."),Tt(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Tt(e,"user-signed-out",""),Tt(e,"weak-password","The password must be 6 characters long or more."),Tt(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Tt(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Tt(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Tt(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Tt(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Tt(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Tt(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Tt(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Tt(e,"invalid-req-type","Invalid request parameters."),Tt(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},qu=Bu,Wu=new Ha("auth","Firebase",Bu()),Hu=new vs("@firebase/auth");function Gu(e){if(Hu.logLevel<=us.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Hu.warn.apply(Hu,["Auth (".concat($s,"): ").concat(e)].concat(n))}}function Ku(e){if(Hu.logLevel<=us.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Hu.error.apply(Hu,["Auth (".concat($s,"): ").concat(e)].concat(n))}}function Qu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw $u.apply(void 0,[e].concat(n))}function Ju(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $u.apply(void 0,[e].concat(n))}function Zu(e,t,n){var r=Object.assign(Object.assign({},qu()),Tt({},t,n));return new Ha("auth","Firebase",r).create(t,{appName:e.name})}function Yu(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Qu(e,"argument-error"),Zu(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function $u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,o=n[0],a=h(n.slice(1));return a[0]&&(a[0].appName=e.name),(i=e._errorFactory).create.apply(i,[o].concat(h(a)))}return Wu.create.apply(Wu,[e].concat(n))}function Xu(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw $u.apply(void 0,[t].concat(r))}}function ec(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ku(t),new Error(t)}function tc(e,t){e||ec(t)}function nc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function rc(){return"http:"===ic()||"https:"===ic()}function ic(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var oc=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,tc(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fa())||Ba()}return g(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(rc()||Va()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ac(e,t){tc(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var sc=function(){function e(){d(this,e)}return g(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ec("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ec("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ec("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),uc=(Tt(Au={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Tt(Au,"MISSING_CUSTOM_TOKEN","internal-error"),Tt(Au,"INVALID_IDENTIFIER","invalid-email"),Tt(Au,"MISSING_CONTINUE_URI","internal-error"),Tt(Au,"INVALID_PASSWORD","wrong-password"),Tt(Au,"MISSING_PASSWORD","missing-password"),Tt(Au,"EMAIL_EXISTS","email-already-in-use"),Tt(Au,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Tt(Au,"INVALID_IDP_RESPONSE","invalid-credential"),Tt(Au,"INVALID_PENDING_TOKEN","invalid-credential"),Tt(Au,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Tt(Au,"MISSING_REQ_TYPE","internal-error"),Tt(Au,"EMAIL_NOT_FOUND","user-not-found"),Tt(Au,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Tt(Au,"EXPIRED_OOB_CODE","expired-action-code"),Tt(Au,"INVALID_OOB_CODE","invalid-action-code"),Tt(Au,"MISSING_OOB_CODE","internal-error"),Tt(Au,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Tt(Au,"INVALID_ID_TOKEN","invalid-user-token"),Tt(Au,"TOKEN_EXPIRED","user-token-expired"),Tt(Au,"USER_NOT_FOUND","user-token-expired"),Tt(Au,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Tt(Au,"INVALID_CODE","invalid-verification-code"),Tt(Au,"INVALID_SESSION_INFO","invalid-verification-id"),Tt(Au,"INVALID_TEMPORARY_PROOF","invalid-credential"),Tt(Au,"MISSING_SESSION_INFO","missing-verification-id"),Tt(Au,"SESSION_EXPIRED","code-expired"),Tt(Au,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Tt(Au,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Tt(Au,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Tt(Au,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Tt(Au,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Tt(Au,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Tt(Au,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Tt(Au,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Tt(Au,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Tt(Au,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Tt(Au,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Tt(Au,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Tt(Au,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Tt(Au,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Tt(Au,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Tt(Au,"MISSING_CLIENT_TYPE","missing-client-type"),Tt(Au,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Tt(Au,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Tt(Au,"INVALID_REQ_TYPE","invalid-req-type"),Au),cc=new oc(3e4,6e4);function lc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function fc(e,t,n,r){return hc.apply(this,arguments)}function hc(){return hc=It(Et().mark((function e(t,n,r,i){var o,a=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.length>4&&void 0!==a[4]?a[4]:{},e.abrupt("return",dc(t,o,It(Et().mark((function e(){var o,a,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},a={},i&&("GET"===n?a=i:o={body:JSON.stringify(i)}),s=Ya(Object.assign({key:t.config.apiKey},a)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",sc.fetch()(gc(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},o)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),hc.apply(this,arguments)}function dc(e,t,n){return pc.apply(this,arguments)}function pc(){return pc=It(Et().mark((function e(t,n,r){var i,o,a,s,u,c,f,h,d,p;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},uc),n),e.prev=2,o=new yc(t),e.next=6,Promise.race([r(),o.promise]);case 6:return a=e.sent,o.clearNetworkTimeout(),e.next=10,a.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw kc(t,"account-exists-with-different-credential",s);case 13:if(!a.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=a.ok?s.errorMessage:s.error.message,c=u.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw kc(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw kc(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw kc(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Zu(t,p,d);case 34:Qu(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Wa)){e.next=41;break}throw e.t0;case 41:Qu(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),pc.apply(this,arguments)}function vc(e,t,n,r){return mc.apply(this,arguments)}function mc(){return mc=It(Et().mark((function e(t,n,r,i){var o,a,s=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,fc(t,n,r,i,o);case 3:return"mfaPendingCredential"in(a=e.sent)&&Qu(t,"multi-factor-auth-required",{_serverResponse:a}),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),mc.apply(this,arguments)}function gc(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ac(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var yc=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ju(n.auth,"network-request-failed"))}),cc.get())}))}return g(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function kc(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ju(e,t,r);return i.customData._tokenResponse=n,i}function bc(e,t){return wc.apply(this,arguments)}function wc(){return(wc=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fc(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xc(e,t){return _c.apply(this,arguments)}function _c(){return(_c=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sc(e,t){return Ec.apply(this,arguments)}function Ec(){return(Ec=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fc(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cc(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ic(){return Ic=It(Et().mark((function e(t){var n,r,i,o,a,s,u=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=rs(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Xu((o=Lc(i))&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error"),a="object"===typeof o.firebase?o.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider,e.abrupt("return",{claims:o,token:i,authTime:Cc(Tc(o.auth_time)),issuedAtTime:Cc(Tc(o.iat)),expirationTime:Cc(Tc(o.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}function Tc(e){return 1e3*Number(e)}function Lc(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Ku("JWT malformed, contained fewer than 3 sections"),null;try{var o=Oa(r);return o?JSON.parse(o):(Ku("Failed to decode base64 JWT payload"),null)}catch(a){return Ku("Caught error parsing JWT payload as JSON",null===a||void 0===a?void 0:a.toString()),null}}function Nc(e,t){return Pc.apply(this,arguments)}function Pc(){return Pc=It(Et().mark((function e(t,n){var r=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Wa&&Oc(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Pc.apply(this,arguments)}function Oc(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ac=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return g(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(It(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),jc=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return g(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Dc(e){return Mc.apply(this,arguments)}function Mc(){return Mc=It(Et().mark((function e(t){var n,r,i,o,a,s,u,c,l,f,h;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Nc(t,Sc(r,{idToken:i}));case 6:Xu(null===(o=e.sent)||void 0===o?void 0:o.users.length,r,"internal-error"),a=o.users[0],t._notifyReloadListener(a),s=(null===(n=a.providerUserInfo)||void 0===n?void 0:n.length)?a.providerUserInfo.map((function(e){var t=e.providerId,n=Ou(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=Fc(t.providerData,s),c=t.isAnonymous,l=!(t.email&&a.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new jc(a.createdAt,a.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}function Rc(){return Rc=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rs(t),e.next=3,Dc(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)}))),Rc.apply(this,arguments)}function Fc(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function Uc(e,t){return Vc.apply(this,arguments)}function Vc(){return Vc=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dc(t,{},It(Et().mark((function e(){var r,i,o,a,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ya({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,o=i.tokenApiHost,a=i.apiKey,s=gc(t,o,"/v1/token","key=".concat(a)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",sc.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}var Bc=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return g(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Xu(e.idToken,"internal-error"),Xu("undefined"!==typeof e.idToken,"internal-error"),Xu("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Lc(e);return Xu(t,"internal-error"),Xu("undefined"!==typeof t.exp,"internal-error"),Xu("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=It(Et().mark((function e(t){var n,r=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Xu(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=It(Et().mark((function e(t,n){var r,i,o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uc(t,n);case 2:r=e.sent,i=r.accessToken,o=r.refreshToken,a=r.expiresIn,this.updateTokensAndExpiration(i,o,Number(a));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ec("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,o=n.expirationTime,a=new e;return r&&(Xu("string"===typeof r,"internal-error",{appName:t}),a.refreshToken=r),i&&(Xu("string"===typeof i,"internal-error",{appName:t}),a.accessToken=i),o&&(Xu("number"===typeof o,"internal-error",{appName:t}),a.expirationTime=o),a}}]),e}();function zc(e,t){Xu("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var qc=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,o=Ou(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ac(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?h(o.providerData):[],this.metadata=new jc(o.createdAt||void 0,o.lastLoginAt||void 0)}return g(e,[{key:"getIdToken",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nc(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Xu(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ic.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Rc.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Xu(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Xu(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=It(Et().mark((function e(t){var n,r,i=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Dc(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Nc(this,bc(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,o,a,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(a=n.photoURL)&&void 0!==a?a:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Xu(k&&_,t,"internal-error");var S=Bc.fromJSON(this.name,_);Xu("string"===typeof k,t,"internal-error"),zc(f,t.name),zc(h,t.name),Xu("boolean"===typeof b,t,"internal-error"),Xu("boolean"===typeof w,t,"internal-error"),zc(d,t.name),zc(p,t.name),zc(v,t.name),zc(m,t.name),zc(g,t.name),zc(y,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=It(Et().mark((function t(n,r){var i,o,a,s=arguments;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(o=new Bc).updateFromServerResponse(r),a=new e({uid:r.localId,auth:n,stsTokenManager:o,isAnonymous:i}),t.next=6,Dc(a);case 6:return t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Wc=new Map;function Hc(e){tc(e instanceof Function,"Expected a class definition");var t=Wc.get(e);return t?(tc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Wc.set(e,t),t)}var Gc=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return g(e,[{key:"_isAvailable",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Gc.type="NONE";var Kc=Gc;function Qc(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Jc=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,o=i.config,a=i.name;this.fullUserKey=Qc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Qc("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return g(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?qc._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=It(Et().mark((function t(n,r){var i,o,a,s,u,c,l,f,h,d,p,v=arguments;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Hc(Kc),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:o=t.sent.filter((function(e){return e})),a=o[0]||Hc(Kc),s=Qc(i,n.config.apiKey,n.name),u=null,c=I(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=qc._fromJSON(n,h),f!==a&&(u=d),a=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=o.filter((function(e){return e._shouldAllowMigration})),a._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(a,n,i));case 40:if(a=p[0],!u){t.next=44;break}return t.next=44,a._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===a){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(a,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Zc(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(el(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Yc(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nl(t))return"Blackberry";if(rl(t))return"Webos";if($c(t))return"Safari";if((t.includes("chrome/")||Xc(t))&&!t.includes("edge/"))return"Chrome";if(tl(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Yc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa();return/firefox\//i.test(e)}function $c(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa();return/crios\//i.test(e)}function el(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa();return/iemobile/i.test(e)}function tl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa();return/android/i.test(e)}function nl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa();return/blackberry/i.test(e)}function rl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa();return/webos/i.test(e)}function il(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ol(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa();return il(e)||tl(e)||rl(e)||nl(e)||/windows phone/i.test(e)||el(e)}function al(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Zc(Fa());break;case"Worker":t="".concat(Zc(Fa()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat($s,"/").concat(r)}function sl(e){return ul.apply(this,arguments)}function ul(){return(ul=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fc(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cl(e,t){return ll.apply(this,arguments)}function ll(){return(ll=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fc(t,"GET","/v2/recaptchaConfig",lc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fl(e){return void 0!==e&&void 0!==e.getResponse}function hl(e){return void 0!==e&&void 0!==e.enterprise}var dl=g((function e(t){if(d(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function pl(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ju("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function vl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ml=function(){function e(t){d(this,e),this.type="recaptcha-enterprise",this.auth=wl(t)}return g(e,[{key:"verify",value:function(){var e=It(Et().mark((function e(){var t,n,r,i,o,a=this,s=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,n,r){var i=window.grecaptcha;hl(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=It(Et().mark((function e(n,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:cl(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new dl(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(a.auth).then((function(r){if(!n&&hl(window.grecaptcha))o(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));pl("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){o(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gl(e,t,n){return yl.apply(this,arguments)}function yl(){return yl=It(Et().mark((function e(t,n,r){var i,o,a,s,u=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],o=new ml(t),e.prev=2,e.next=5,o.verify(r);case 5:a=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,o.verify(r,!0);case 12:a=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),yl.apply(this,arguments)}var kl=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return g(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=It(Et().mark((function e(t){var n,r,i,o,a,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=I(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return o=i.value,e.next=11,o(t);case 11:o.onAbort&&n.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),a=I(n);try{for(a.s();!(s=a.n()).done;){u=s.value;try{u()}catch(Hr){}}}catch(c){a.e(c)}finally{a.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),bl=function(){function e(t,n,r,i){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xl(this),this.idTokenSubscription=new xl(this),this.beforeStateQueue=new kl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wu,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return g(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Hc(t)),this._initializationPromise=this.queue(It(Et().mark((function r(){var i,o;return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Jc.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(o=n.currentUser)||void 0===o?void 0:o.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=It(Et().mark((function e(t){var n,r,i,o,a,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,o=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return a=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,a&&a!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,o=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!o){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Xu(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dc(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?rs(t):null)&&Xu(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=It(Et().mark((function e(t){var n,r=this,i=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Xu(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(It(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Hc(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=It(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cl(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new dl(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new ml(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ha("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Xu(n=t&&Hc(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Jc.create(this,[Hc(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=It(Et().mark((function e(t){var n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var o="function"===typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return Xu(a,this,"internal-error"),a.then((function(){return o(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Xu(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=al(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=It(Et().mark((function e(){var t,n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tt({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=It(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Gu("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wl(e){return rs(e)}var xl=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=es((function(e){return n.observer=e}))}return g(e,[{key:"next",get:function(){return Xu(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function _l(e,t,n){var r=wl(e);Xu(r._canInitEmulator,r,"emulator-config-failed"),Xu(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Sl(t),a=function(e){var t=Sl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var o=i[1];return{host:o,port:El(r.substr(o.length+1))}}var a=l(r.split(":"),2);return{host:a[0],port:El(a[1])}}(t),s=a.host,u=a.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(o,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Sl(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function El(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Cl=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return g(e,[{key:"toJSON",value:function(){return ec("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ec("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ec("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ec("not implemented")}}]),e}();function Il(e,t){return Tl.apply(this,arguments)}function Tl(){return(Tl=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fc(t,"POST","/v1/accounts:resetPassword",lc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ll(e,t){return Nl.apply(this,arguments)}function Nl(){return(Nl=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pl(e,t){return Ol.apply(this,arguments)}function Ol(){return(Ol=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fc(t,"POST","/v1/accounts:update",lc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Al(e,t){return jl.apply(this,arguments)}function jl(){return(jl=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vc(t,"POST","/v1/accounts:signInWithPassword",lc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dl(e,t){return Ml.apply(this,arguments)}function Ml(){return(Ml=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fc(t,"POST","/v1/accounts:sendOobCode",lc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rl(e,t){return Fl.apply(this,arguments)}function Fl(){return(Fl=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ul(e,t){return Vl.apply(this,arguments)}function Vl(){return(Vl=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bl(e,t){return zl.apply(this,arguments)}function zl(){return(zl=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ql(e,t){return Wl.apply(this,arguments)}function Wl(){return(Wl=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hl(e,t){return Gl.apply(this,arguments)}function Gl(){return(Gl=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vc(t,"POST","/v1/accounts:signInWithEmailLink",lc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kl(e,t){return Ql.apply(this,arguments)}function Ql(){return(Ql=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vc(t,"POST","/v1/accounts:signInWithEmailLink",lc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jl=function(e){k(n,e);var t=_(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(o=t.call(this,"password",i))._email=e,o._password=r,o._tenantId=a,o}return g(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=It(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,gl(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Al(t,i));case 11:return e.abrupt("return",Al(t,r).catch(function(){var e=It(Et().mark((function e(n){var i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,gl(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Al(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Hl(t,{email:this._email,oobCode:this._password}));case 13:Qu(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ll(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Kl(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Qu(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Cl);function Zl(e,t){return Yl.apply(this,arguments)}function Yl(){return(Yl=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vc(t,"POST","/v1/accounts:signInWithIdp",lc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $l=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return g(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Zl(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Zl(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Zl(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ya(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qu("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,o=Ou(t,["providerId","signInMethod"]);if(!r||!i)return null;var a=new n(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}}]),n}(Cl);function Xl(e,t){return ef.apply(this,arguments)}function ef(){return(ef=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fc(t,"POST","/v1/accounts:sendVerificationCode",lc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tf(){return(tf=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vc(t,"POST","/v1/accounts:signInWithPhoneNumber",lc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nf(){return(nf=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vc(t,"POST","/v1/accounts:signInWithPhoneNumber",lc(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw kc(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rf=Tt({},"USER_NOT_FOUND","user-not-found");function of(){return(of=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",vc(t,"POST","/v1/accounts:signInWithPhoneNumber",lc(t,r),rf));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var af=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return tf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return nf.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return of.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,o=t.phoneNumber,a=t.temporaryProof;return i||r||o||a?new n({verificationId:r,verificationCode:i,phoneNumber:o,temporaryProof:a}):null}}]),n}(Cl);var sf=function(){function e(t){var n,r,i,o,a,s;d(this,e);var u=$a(Xa(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Xu(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(a=u.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return g(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=$a(Xa(e)).link,n=t?$a(Xa(t)).deep_link_id:null,r=$a(Xa(e)).deep_link_id;return(r?$a(Xa(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(AN){return null}}}]),e}();var uf=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return g(e,null,[{key:"credential",value:function(e,t){return Jl._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=sf.parseLink(t);return Xu(n,"argument-error"),Jl._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();uf.PROVIDER_ID="password",uf.EMAIL_PASSWORD_SIGN_IN_METHOD="password",uf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var cf=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return g(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),lf=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return g(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(cf),ff=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Xu(e.idToken||e.accessToken,"argument-error"),$l._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Xu("providerId"in t&&"signInMethod"in t,"argument-error"),$l._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,o=t.oauthTokenSecret,a=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!o&&!r&&!a)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:a})}catch(c){return null}}}]),n}(lf),hf=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"facebook.com")}return g(n,null,[{key:"credential",value:function(e){return $l._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(AN){return null}}}]),n}(lf);hf.FACEBOOK_SIGN_IN_METHOD="facebook.com",hf.PROVIDER_ID="facebook.com";var df=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return g(n,null,[{key:"credential",value:function(e,t){return $l._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(AN){return null}}}]),n}(lf);df.GOOGLE_SIGN_IN_METHOD="google.com",df.PROVIDER_ID="google.com";var pf=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"github.com")}return g(n,null,[{key:"credential",value:function(e){return $l._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(AN){return null}}}]),n}(lf);pf.GITHUB_SIGN_IN_METHOD="github.com",pf.PROVIDER_ID="github.com";var vf=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Zl(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Zl(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Zl(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,o=t.pendingToken;return r&&i&&o&&r===i?new n(r,o):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Cl),mf=function(e){k(n,e);var t=_(n);function n(e){return d(this,n),Xu(e.startsWith("saml."),"argument-error"),t.call(this,e)}return g(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=vf.fromJSON(e);return Xu(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return vf._create(r,n)}catch(i){return null}}}]),n}(cf),gf=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"twitter.com")}return g(n,null,[{key:"credential",value:function(e,t){return $l._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(AN){return null}}}]),n}(lf);function yf(e,t){return kf.apply(this,arguments)}function kf(){return(kf=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vc(t,"POST","/v1/accounts:signUp",lc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}gf.TWITTER_SIGN_IN_METHOD="twitter.com",gf.PROVIDER_ID="twitter.com";var bf=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return g(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=It(Et().mark((function t(n,r,i){var o,a,s,u,c=arguments;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.length>3&&void 0!==c[3]&&c[3],t.next=3,qc._fromIdTokenResponse(n,i,o);case 3:return a=t.sent,s=wf(i),u=new e({user:a,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=It(Et().mark((function t(n,r,i){var o;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return o=wf(i),t.abrupt("return",new e({user:n,providerId:o,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function wf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function xf(){return xf=It(Et().mark((function e(t){var n,r,i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wl(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new bf({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,yf(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,bf._fromIdTokenResponse(r,"signIn",i,!0);case 10:return o=e.sent,e.next=13,r._updateCurrentUser(o.user);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)}))),xf.apply(this,arguments)}var _f=function(e){k(n,e);var t=_(n);function n(e,r,i,o){var a,s;return d(this,n),(a=t.call(this,r.code,r.message)).operationType=i,a.user=o,Object.setPrototypeOf(x(a),n.prototype),a.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},a}return g(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Wa);function Sf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw _f._fromErrorAndOperation(e,n,t,r);throw n}))}function Ef(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Cf(e,t){return If.apply(this,arguments)}function If(){return If=It(Et().mark((function e(t,n){var r,i,o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rs(t),e.next=3,Nf(!0,r,n);case 3:return e.t0=xc,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,o=i.providerUserInfo,a=Ef(o||[]),r.providerData=r.providerData.filter((function(e){return a.has(e.providerId)})),a.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),If.apply(this,arguments)}function Tf(e,t){return Lf.apply(this,arguments)}function Lf(){return Lf=It(Et().mark((function e(t,n){var r,i,o=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],e.t0=Nc,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",bf._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Lf.apply(this,arguments)}function Nf(e,t,n){return Pf.apply(this,arguments)}function Pf(){return Pf=It(Et().mark((function e(t,n,r){var i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dc(n);case 2:i=Ef(n.providerData),o=!1===t?"provider-already-linked":"no-such-provider",Xu(i.has(r)===t,n.auth,o);case 5:case"end":return e.stop()}}),e)}))),Pf.apply(this,arguments)}function Of(e,t){return Af.apply(this,arguments)}function Af(){return Af=It(Et().mark((function e(t,n){var r,i,o,a,s,u,c=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,o="reauthenticate",e.prev=3,e.next=6,Nc(t,Sf(i,o,n,t),r);case 6:return Xu((a=e.sent).idToken,i,"internal-error"),Xu(s=Lc(a.idToken),i,"internal-error"),u=s.sub,Xu(t.uid===u,i,"user-mismatch"),e.abrupt("return",bf._forOperation(t,o,a));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Qu(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Af.apply(this,arguments)}function jf(e,t){return Df.apply(this,arguments)}function Df(){return Df=It(Et().mark((function e(t,n){var r,i,o,a,s=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Sf(t,i,n);case 4:return o=e.sent,e.next=7,bf._fromIdTokenResponse(t,i,o);case 7:if(a=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(a.user);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)}))),Df.apply(this,arguments)}function Mf(e,t){return Rf.apply(this,arguments)}function Rf(){return(Rf=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jf(wl(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ff(e,t){return Uf.apply(this,arguments)}function Uf(){return Uf=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rs(t),e.next=3,Nf(!1,r,n.providerId);case 3:return e.abrupt("return",Tf(r,n));case 4:case"end":return e.stop()}}),e)}))),Uf.apply(this,arguments)}function Vf(e,t){return Bf.apply(this,arguments)}function Bf(){return Bf=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of(rs(t),n));case 1:case"end":return e.stop()}}),e)}))),Bf.apply(this,arguments)}function zf(e,t){return qf.apply(this,arguments)}function qf(){return(qf=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vc(t,"POST","/v1/accounts:signInWithCustomToken",lc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wf(){return(Wf=It(Et().mark((function e(t,n){var r,i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wl(t),e.next=3,zf(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,bf._fromIdTokenResponse(r,"signIn",i);case 6:return o=e.sent,e.next=9,r._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hf=function(){function e(t,n){d(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return g(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Gf._fromServerResponse(e,t):"totpInfo"in t?Kf._fromServerResponse(e,t):Qu(e,"internal-error")}}]),e}(),Gf=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Hf),Kf=function(e){k(n,e);var t=_(n);function n(e){return d(this,n),t.call(this,"totp",e)}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Hf);function Qf(e,t,n){var r;Xu((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Xu("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Xu(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Xu(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Jf(){return Jf=It(Et().mark((function e(t,n,r){var i,o,a,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=wl(t),a={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=o._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,gl(o,a,"getOobCode",!0);case 5:return s=e.sent,r&&Qf(o,s,r),e.next=9,Ul(o,s);case 9:e.next=14;break;case 11:return r&&Qf(o,a,r),e.next=14,Ul(o,a).catch(function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,gl(o,a,"getOobCode",!0);case 4:return n=e.sent,r&&Qf(o,n,r),e.next=8,Ul(o,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),Jf.apply(this,arguments)}function Zf(){return(Zf=It(Et().mark((function e(t,n,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Il(rs(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yf(){return(Yf=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pl(rs(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $f(e,t){return Xf.apply(this,arguments)}function Xf(){return(Xf=It(Et().mark((function e(t,n){var r,i,o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rs(t),e.next=3,Il(r,{oobCode:n});case 3:i=e.sent,Xu(o=i.requestType,r,"internal-error"),e.t0=o,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Xu(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Xu(i.mfaInfo,r,"internal-error");case 13:Xu(i.email,r,"internal-error");case 14:return a=null,i.mfaInfo&&(a=Hf._fromServerResponse(wl(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:a},operation:o});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eh(){return(eh=It(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$f(rs(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function th(e,t,n){return nh.apply(this,arguments)}function nh(){return nh=It(Et().mark((function e(t,n,r){var i,o,a,s,u,c,l;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=wl(t),a={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=o._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,gl(o,a,"signUpPassword");case 5:u=e.sent,s=yf(o,u),e.next=10;break;case 9:s=yf(o,a).catch(function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,gl(o,a,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",yf(o,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,bf._fromIdTokenResponse(o,"signIn",c);case 15:return l=e.sent,e.next=18,o._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),nh.apply(this,arguments)}function rh(){return rh=It(Et().mark((function e(t,n,r){var i,o,a,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){Xu(t.handleCodeInApp,o,"argument-error"),t&&Qf(o,e,t)},o=wl(t),a={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=o._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,gl(o,a,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,Bl(o,u);case 10:e.next=15;break;case 12:return s(a,r),e.next=15,Bl(o,a).catch(function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,gl(o,a,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,Bl(o,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),rh.apply(this,arguments)}function ih(){return(ih=It(Et().mark((function e(t,n,r){var i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rs(t),Xu((o=uf.credentialWithLink(n,r||nc()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Mf(i,o));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oh(e,t){return ah.apply(this,arguments)}function ah(){return(ah=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fc(t,"POST","/v1/accounts:createAuthUri",lc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sh(){return(sh=It(Et().mark((function e(t,n){var r,i,o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rc()?nc():"http://localhost",i={identifier:n,continueUri:r},e.next=4,oh(rs(t),i);case 4:return o=e.sent,a=o.signinMethods,e.abrupt("return",a||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uh(){return uh=It(Et().mark((function e(t,n){var r,i,o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rs(t),e.next=3,t.getIdToken();case 3:return i=e.sent,o={requestType:"VERIFY_EMAIL",idToken:i},n&&Qf(r.auth,o,n),e.next=8,Rl(r.auth,o);case 8:if(a=e.sent,a.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}function ch(){return ch=It(Et().mark((function e(t,n,r){var i,o,a,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rs(t),e.next=3,t.getIdToken();case 3:return o=e.sent,a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:n},r&&Qf(i.auth,a,r),e.next=8,ql(i.auth,a);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)}))),ch.apply(this,arguments)}function lh(e,t){return fh.apply(this,arguments)}function fh(){return(fh=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hh(){return hh=It(Et().mark((function e(t,n){var r,i,o,a,s,u,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return o=rs(t),e.next=6,o.getIdToken();case 6:return a=e.sent,s={idToken:a,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Nc(o,lh(o.auth,s));case 10:return u=e.sent,o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null,(c=o.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=o.displayName,c.photoURL=o.photoURL),e.next=17,o._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)}))),hh.apply(this,arguments)}function dh(e,t,n){return ph.apply(this,arguments)}function ph(){return ph=It(Et().mark((function e(t,n,r){var i,o,a,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return o=e.sent,a={idToken:o,returnSecureToken:!0},n&&(a.email=n),r&&(a.password=r),e.next=9,Nc(t,Ll(i,a));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),ph.apply(this,arguments)}var vh=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),mh=function(e){k(n,e);var t=_(n);function n(e,r,i,o){var a;return d(this,n),(a=t.call(this,e,r,i)).username=o,a}return g(n)}(vh),gh=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"facebook.com",r)}return g(n)}(vh),yh=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return g(n)}(mh),kh=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"google.com",r)}return g(n)}(vh),bh=function(e){k(n,e);var t=_(n);function n(e,r,i){return d(this,n),t.call(this,e,"twitter.com",r,i)}return g(n)}(mh);function wh(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var a=null===(n=null===(t=Lc(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(a)return new vh(o,"anonymous"!==a&&"custom"!==a?a:null)}if(!r)return null;switch(r){case"facebook.com":return new gh(o,i);case"github.com":return new yh(o,i);case"google.com":return new kh(o,i);case"twitter.com":return new bh(o,i,e.screenName||null);case"custom":case"anonymous":return new vh(o,null);default:return new vh(o,r,i)}}(n)}var xh=function(){function e(t,n,r){d(this,e),this.type=t,this.credential=n,this.auth=r}return g(e,[{key:"toJSON",value:function(){return{multiFactorSession:Tt({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),_h=function(){function e(t,n,r){d(this,e),this.session=t,this.hints=n,this.signInResolver=r}return g(e,[{key:"resolveSignIn",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=wl(t),i=n.customData._serverResponse,o=(i.mfaInfo||[]).map((function(e){return Hf._fromServerResponse(r,e)}));Xu(i.mfaPendingCredential,r,"internal-error");var a=xh._fromMfaPendingCredential(i.mfaPendingCredential);return new e(a,o,function(){var e=It(Et().mark((function e(t){var o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,a);case 2:o=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:o.idToken,refreshToken:o.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,bf._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Xu(n.user,r,"internal-error"),e.abrupt("return",bf._forOperation(n.user,n.operationType,s));case 17:Qu(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Sh(e,t){return fc(e,"POST","/v2/accounts/mfaEnrollment:start",lc(e,t))}function Eh(e,t){return fc(e,"POST","/v2/accounts/mfaEnrollment:finalize",lc(e,t))}var Ch=function(){function e(t){var n=this;d(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Hf._fromServerResponse(t.auth,e)})))}))}return g(e,[{key:"getSession",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=xh,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=It(Et().mark((function e(t,n){var r,i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Nc(this.user,r._process(this.user.auth,i,n));case 6:return o=e.sent,e.next=9,this.user._updateTokensIfNecessary(o);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=It(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Nc(this.user,fc(o=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",lc(o,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var o}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Ih=new WeakMap;var Th="__sak",Lh=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return g(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch(AN){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Nh=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Fa();return $c(e)||il(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ol(),e._shouldAllowMigration=!0,e}return g(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),o=this.localCache[r];i!==o&&e(r,o,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var o=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},a=this.storage.getItem(r);za()&&10===document.documentMode&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,10):o()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=It(Et().mark((function e(t,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pu(b(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=It(Et().mark((function e(t){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pu(b(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pu(b(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Lh);Nh.type="LOCAL";var Ph=Nh,Oh=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return g(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Lh);Oh.type="SESSION";var Ah=Oh;function jh(e){return Promise.all(e.map(function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Dh=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return g(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=It(Et().mark((function e(t){var n,r,i,o,a,s,u,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,o=r.eventType,a=r.data,null===(s=this.handlersMap[o])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:o}),u=Array.from(s).map(function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,jh(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Mh(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Dh.receivers=[];var Rh=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return g(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=It(Et().mark((function e(t,n){var r,i,o,a,s=this,u=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Mh("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);a={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),o=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),e(n.data.response);break;default:clearTimeout(l),clearTimeout(o),u(new Error("invalid_response"))}}},s.handlers.add(a),i.port1.addEventListener("message",a.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){a&&s.removeMessageHandler(a)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Fh(){return window}function Uh(e){Fh().location.href=e}function Vh(){return"undefined"!==typeof Fh().WorkerGlobalScope&&"function"===typeof Fh().importScripts}function Bh(){return zh.apply(this,arguments)}function zh(){return(zh=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function qh(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Wh="firebaseLocalStorageDb",Hh="firebaseLocalStorage",Gh="fbase_key",Kh=function(){function e(t){d(this,e),this.request=t}return g(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Qh(e,t){return e.transaction([Hh],t?"readwrite":"readonly").objectStore(Hh)}function Jh(){var e=indexedDB.deleteDatabase(Wh);return new Kh(e).toPromise()}function Zh(){var e=indexedDB.open(Wh,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Hh,{keyPath:Gh})}catch(r){n(r)}})),e.addEventListener("success",It(Et().mark((function n(){var r;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Hh)){n.next=12;break}return r.close(),n.next=5,Jh();case 5:return n.t0=t,n.next=8,Zh();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Yh(e,t,n){return $h.apply(this,arguments)}function $h(){return $h=It(Et().mark((function e(t,n,r){var i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Qh(t,!0).put((Tt(i={},Gh,n),Tt(i,"value",r),i)),e.abrupt("return",new Kh(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),$h.apply(this,arguments)}function Xh(e,t){return ed.apply(this,arguments)}function ed(){return ed=It(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qh(t,!1).get(n),e.next=3,new Kh(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ed.apply(this,arguments)}function td(e,t){var n=Qh(e,!0).delete(t);return new Kh(n).toPromise()}var nd=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return g(e,[{key:"_openDb",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Zh();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vh()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=It(Et().mark((function e(){var t=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Dh._getInstance(Vh()?self:null),this.receiver._subscribe("keyChanged",function(){var e=It(Et().mark((function e(n,r){var i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=It(Et().mark((function e(){var t,n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bh();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Rh(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&qh()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Zh();case 5:return t=e.sent,e.next=8,Yh(t,Th,"1");case 8:return e.next=10,td(t,Th);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=It(Et().mark((function e(t,n){var r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Yh(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Xh(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=It(Et().mark((function e(t){var n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return td(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=It(Et().mark((function e(){var t,n,r,i,o,a,s,u,c,l,f;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Qh(e,!1).getAll();return new Kh(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=I(t);try{for(i.s();!(o=i.n()).done;)a=o.value,s=a.fbase_key,u=a.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(It(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();nd.type="LOCAL";var rd=nd;function id(e,t){return fc(e,"POST","/v2/accounts/mfaSignIn:start",lc(e,t))}function od(e,t){return fc(e,"POST","/v2/accounts/mfaSignIn:finalize",lc(e,t))}var ad=1e12,sd=function(){function e(t){d(this,e),this.auth=t,this.counter=ad,this._widgets=new Map}return g(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ud(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ad;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ad;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ad,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ud=function(){function e(t,n,r){var i=this;d(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var o="string"===typeof t?document.getElementById(t):t;Xu(o,"argument-error",{appName:n}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return g(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var cd=vl("rcb"),ld=new oc(3e4,6e4),fd=function(){function e(){var t;d(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Fh().grecaptcha)||void 0===t?void 0:t.render)}return g(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Xu(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&fl(Fh().grecaptcha)?Promise.resolve(Fh().grecaptcha):new Promise((function(r,i){var o=Fh().setTimeout((function(){i(Ju(e,"network-request-failed"))}),ld.get());Fh()[cd]=function(){Fh().clearTimeout(o),delete Fh()[cd];var a=Fh().grecaptcha;if(a&&fl(a)){var s=a.render;a.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(a)}else i(Ju(e,"internal-error"))},pl("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Ya({onload:cd,render:"explicit",hl:n}))).catch((function(){clearTimeout(o),i(Ju(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Fh().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var hd=function(){function e(){d(this,e)}return g(e,[{key:"load",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new sd(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),dd="recaptcha",pd={theme:"light",type:"image"},vd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},pd),r=arguments.length>2?arguments[2]:void 0;d(this,e),this.parameters=n,this.type=dd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wl(r),this.isInvisible="invisible"===this.parameters.size,Xu("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Xu(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hd:new fd,this.validateStartingState()}return g(e,[{key:"verify",value:function(){var e=It(Et().mark((function e(){var t,n,r,i=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Xu(!this.parameters.sitekey,this.auth,"argument-error"),Xu(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Xu("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Fh()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Xu(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=It(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xu(rc()&&!Vh(),this.auth,"internal-error"),e.next=3,md();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,sl(this.auth);case 8:Xu(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Xu(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function md(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var gd=function(){function e(t,n){d(this,e),this.verificationId=t,this.onConfirmation=n}return g(e,[{key:"confirm",value:function(e){var t=af._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function yd(){return(yd=It(Et().mark((function e(t,n,r){var i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wl(t),e.next=3,xd(i,n,rs(r));case 3:return o=e.sent,e.abrupt("return",new gd(o,(function(e){return Mf(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kd(e,t,n){return bd.apply(this,arguments)}function bd(){return bd=It(Et().mark((function e(t,n,r){var i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rs(t),e.next=3,Nf(!1,i,"phone");case 3:return e.next=5,xd(i.auth,n,rs(r));case 5:return o=e.sent,e.abrupt("return",new gd(o,(function(e){return Ff(i,e)})));case 7:case"end":return e.stop()}}),e)}))),bd.apply(this,arguments)}function wd(){return wd=It(Et().mark((function e(t,n,r){var i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rs(t),e.next=3,xd(i.auth,n,rs(r));case 3:return o=e.sent,e.abrupt("return",new gd(o,(function(e){return Vf(i,e)})));case 5:case"end":return e.stop()}}),e)}))),wd.apply(this,arguments)}function xd(e,t,n){return _d.apply(this,arguments)}function _d(){return _d=It(Et().mark((function e(t,n,r){var i,o,a,s,u,c,l,f,h;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(o=e.sent,e.prev=3,Xu("string"===typeof o,t,"argument-error"),Xu(r.type===dd,t,"argument-error"),!("session"in(a="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=a.session,!("phoneNumber"in a)){e.next=17;break}return Xu("enroll"===s.type,t,"internal-error"),e.next=13,Sh(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:o}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Xu("signin"===s.type,t,"internal-error"),Xu(c=(null===(i=a.multiFactorHint)||void 0===i?void 0:i.uid)||a.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,id(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:o}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Xl(t,{phoneNumber:a.phoneNumber,recaptchaToken:o});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),_d.apply(this,arguments)}function Sd(){return Sd=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tf(rs(t),n);case 2:case"end":return e.stop()}}),e)}))),Sd.apply(this,arguments)}var Ed=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=wl(t)}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return xd(this.auth,e,rs(t))}}],[{key:"credential",value:function(e,t){return af._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?af._fromTokenResponse(n,r):null}}]),e}();function Cd(e,t){return t?Hc(t):(Xu(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ed.PROVIDER_ID="phone",Ed.PHONE_SIGN_IN_METHOD="phone";var Id=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Zl(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Zl(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Zl(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Cl);function Td(e){return jf(e.auth,new Id(e),e.bypassAuthState)}function Ld(e){var t=e.auth,n=e.user;return Xu(n,t,"internal-error"),Of(n,new Id(e),e.bypassAuthState)}function Nd(e){return Pd.apply(this,arguments)}function Pd(){return Pd=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Xu(r=t.user,n,"internal-error"),e.abrupt("return",Tf(r,new Id(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Pd.apply(this,arguments)}var Od=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return g(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=It(Et().mark((function t(n,r){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=It(Et().mark((function e(t){var n,r,i,o,a,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,o=t.tenantId,a=t.error,s=t.type,!a){e.next=4;break}return this.reject(a),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Td;case"linkViaPopup":case"linkViaRedirect":return Nd;case"reauthViaPopup":case"reauthViaRedirect":return Ld;default:Qu(this.auth,"internal-error")}}},{key:"resolve",value:function(e){tc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){tc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ad=new oc(2e3,1e4);function jd(e,t,n){return Dd.apply(this,arguments)}function Dd(){return(Dd=It(Et().mark((function e(t,n,r){var i,o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wl(t),Yu(t,n,cf),o=Cd(i,r),a=new Ud(i,"signInViaPopup",n,o),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Md(){return Md=It(Et().mark((function e(t,n,r){var i,o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yu((i=rs(t)).auth,n,cf),o=Cd(i.auth,r),a=new Ud(i.auth,"reauthViaPopup",n,o,i),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Md.apply(this,arguments)}function Rd(e,t,n){return Fd.apply(this,arguments)}function Fd(){return Fd=It(Et().mark((function e(t,n,r){var i,o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yu((i=rs(t)).auth,n,cf),o=Cd(i.auth,r),a=new Ud(i.auth,"linkViaPopup",n,o,i),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Fd.apply(this,arguments)}var Ud=function(e){k(n,e);var t=_(n);function n(e,r,i,o,a){var s;return d(this,n),(s=t.call(this,e,r,o,a)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=x(s),s}return g(n,[{key:"executeNotNull",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Xu(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=It(Et().mark((function e(){var t,n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tc(1===this.filter.length,"Popup operations only handle one event"),t=Mh(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ju(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ju(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ju(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Ad.get())}()}}]),n}(Od);Ud.currentPopupAction=null;var Vd="pendingRedirect",Bd=new Map,zd=function(e){k(n,e);var t=_(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,o)).eventId=null,i}return g(n,[{key:"execute",value:function(){var e=It(Et().mark((function e(){var t,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Bd.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,qd(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Pu(b(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Bd.set(this.auth._key(),t);case 21:return this.bypassAuthState||Bd.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=It(Et().mark((function e(t){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Pu(b(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Pu(b(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Od);function qd(e,t){return Wd.apply(this,arguments)}function Wd(){return(Wd=It(Et().mark((function e(t,n){var r,i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jd(n),i=Qd(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,o="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hd(e,t){return Gd.apply(this,arguments)}function Gd(){return(Gd=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qd(t)._set(Jd(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kd(e,t){Bd.set(e._key(),t)}function Qd(e){return Hc(e._redirectPersistence)}function Jd(e){return Qc(Vd,e.config.apiKey,e.name)}function Zd(e,t,n){return function(e,t,n){return Yd.apply(this,arguments)}(e,t,n)}function Yd(){return(Yd=It(Et().mark((function e(t,n,r){var i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wl(t),Yu(t,n,cf),e.next=4,i._initializationPromise;case 4:return o=Cd(i,r),e.next=7,Hd(o,i);case 7:return e.abrupt("return",o._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $d(e,t,n){return function(e,t,n){return Xd.apply(this,arguments)}(e,t,n)}function Xd(){return Xd=It(Et().mark((function e(t,n,r){var i,o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yu((i=rs(t)).auth,n,cf),e.next=4,i.auth._initializationPromise;case 4:return o=Cd(i.auth,r),e.next=7,Hd(o,i.auth);case 7:return e.next=9,ap(i);case 9:return a=e.sent,e.abrupt("return",o._openRedirect(i.auth,n,"reauthViaRedirect",a));case 11:case"end":return e.stop()}}),e)}))),Xd.apply(this,arguments)}function ep(e,t,n){return function(e,t,n){return tp.apply(this,arguments)}(e,t,n)}function tp(){return tp=It(Et().mark((function e(t,n,r){var i,o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yu((i=rs(t)).auth,n,cf),e.next=4,i.auth._initializationPromise;case 4:return o=Cd(i.auth,r),e.next=7,Nf(!1,i,n.providerId);case 7:return e.next=9,Hd(o,i.auth);case 9:return e.next=11,ap(i);case 11:return a=e.sent,e.abrupt("return",o._openRedirect(i.auth,n,"linkViaRedirect",a));case 13:case"end":return e.stop()}}),e)}))),tp.apply(this,arguments)}function np(e,t){return rp.apply(this,arguments)}function rp(){return(rp=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wl(t)._initializationPromise;case 2:return e.abrupt("return",ip(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ip(e,t){return op.apply(this,arguments)}function op(){return op=It(Et().mark((function e(t,n){var r,i,o,a,s,u=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=wl(t),o=Cd(i,n),a=new zd(i,o,r),e.next=6,a.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),op.apply(this,arguments)}function ap(e){return sp.apply(this,arguments)}function sp(){return sp=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mh("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),sp.apply(this,arguments)}var up=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return g(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!lp(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ju(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cp(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(cp(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function cp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function lp(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function fp(e){return hp.apply(this,arguments)}function hp(){return hp=It(Et().mark((function e(t){var n,r=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",fc(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),hp.apply(this,arguments)}var dp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pp=/^https?/;function vp(){return(vp=It(Et().mark((function e(t){var n,r,i,o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fp(t);case 4:n=e.sent,r=n.authorizedDomains,i=I(r),e.prev=7,i.s();case 9:if((o=i.n()).done){e.next=20;break}if(a=o.value,e.prev=11,!mp(a)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Qu(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function mp(e){var t=nc(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var o=new URL(e);return""===o.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&o.hostname===i}if(!pp.test(r))return!1;if(dp.test(e))return i===e;var a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}var gp=new oc(3e4,6e4);function yp(){var e=Fh().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var kp=null;function bp(e){return kp=kp||function(e){return new Promise((function(t,n){var r,i,o;function a(){yp(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){yp(),n(Ju(e,"network-request-failed"))},timeout:gp.get()})}if(null===(i=null===(r=Fh().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Fh().gapi)||void 0===o?void 0:o.load)){var s=vl("iframefcb");return Fh()[s]=function(){gapi.load?a():n(Ju(e,"network-request-failed"))},pl("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}a()}})).catch((function(e){throw kp=null,e}))}(e),kp}var wp=new oc(5e3,15e3),xp="__/auth/iframe",_p="emulator/auth/iframe",Sp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ep=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cp(e){var t=e.config;Xu(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ac(t,_p):"https://".concat(e.config.authDomain,"/").concat(xp),r={apiKey:t.apiKey,appName:e.name,v:$s},i=Ep.get(e.config.apiHost);i&&(r.eid=i);var o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Ya(r).slice(1))}function Ip(e){return Tp.apply(this,arguments)}function Tp(){return Tp=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bp(t);case 2:return n=e.sent,Xu(r=Fh().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Cp(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sp,dontclear:!0},(function(e){return new Promise(function(){var n=It(Et().mark((function n(r,i){var o,a,s;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Fh().clearTimeout(a),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:o=Ju(t,"network-request-failed"),a=Fh().setTimeout((function(){i(o)}),wp.get()),e.ping(s).then(s,(function(){i(o)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Tp.apply(this,arguments)}var Lp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Np=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return g(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Pp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Lp),{width:r.toString(),height:i.toString(),top:o,left:a}),c=Fa().toLowerCase();n&&(s=Xc(c)?"_blank":n),Yc(c)&&(t=t||"http://localhost",u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return il(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Np(null);var h=window.open(t||"",s,f);Xu(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Np(h)}var Op="__/auth/handler",Ap="emulator/auth/handler",jp=encodeURIComponent("fac");function Dp(e,t,n,r,i,o){return Mp.apply(this,arguments)}function Mp(){return(Mp=It(Et().mark((function e(t,n,r,i,o,a){var s,u,c,f,h,d,p,v,m,g,y,k,b;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xu(t.config.authDomain,t,"auth-domain-config-required"),Xu(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:$s,eventId:o},n instanceof cf)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",Qa(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(a||{});u<c.length;u++)f=l(c[u],2),h=f[0],d=f[1],s[h]=d;for(n instanceof lf&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,g=Object.keys(v);m<g.length;m++)y=g[m],void 0===v[y]&&delete v[y];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(jp,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(Rp(t),"?").concat(Ya(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rp(e){var t=e.config;return t.emulator?ac(t,Ap):"https://".concat(t.authDomain,"/").concat(Op)}var Fp="webStorageSupport",Up=function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ah,this._completeRedirectFn=ip,this._overrideRedirectResult=Kd}return g(e,[{key:"_openPopup",value:function(){var e=It(Et().mark((function e(t,n,r,i){var o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tc(null===(o=this.eventManagers[t._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),e.next=3,Dp(t,n,r,nc(),i);case 3:return a=e.sent,e.abrupt("return",Pp(t,a,Mh()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=It(Et().mark((function e(t,n,r,i){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Dp(t,n,r,nc(),i);case 4:return Uh(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,o=r.promise;return i?Promise.resolve(i):(tc(o,"If manager is not set, promise should be"),o)}var a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch((function(){delete t.eventManagers[n]})),a}},{key:"initAndGetManager",value:function(){var e=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ip(t);case 2:return n=e.sent,r=new up(t),n.register("authEvent",(function(e){return Xu(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Fp,{type:Fp},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Fp];void 0!==i&&t(!!i),Qu(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return vp.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ol()||$c()||il()}}]),e}(),Vp=Up,Bp=function(){function e(t){d(this,e),this.factorId=t}return g(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ec("unexpected MultiFactorSessionType")}}}]),e}(),zp=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return g(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return fc(e,"POST","/v2/accounts/mfaEnrollment:finalize",lc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return fc(e,"POST","/v2/accounts/mfaSignIn:finalize",lc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Bp),qp=function(){function e(){d(this,e)}return g(e,null,[{key:"assertion",value:function(e){return zp._fromCredential(e)}}]),e}();qp.FACTOR_ID="phone";var Wp=function(){function e(){d(this,e)}return g(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Hp._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Hp._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xu("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,i=n.auth,o={idToken:n.credential,totpEnrollmentInfo:{}},fc(i,"POST","/v2/accounts/mfaEnrollment:start",lc(i,o));case 4:return r=e.sent,e.abrupt("return",Gp._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var i,o}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Wp.FACTOR_ID="totp";var Hp=function(e){k(n,e);var t=_(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this,"totp")).otp=e,o.enrollmentId=r,o.secret=i,o}return g(n,[{key:"_finalizeEnroll",value:function(){var e=It(Et().mark((function e(t,n,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xu("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Eh(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xu(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",od(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Bp),Gp=function(){function e(t,n,r,i,o,a,s){d(this,e),this.sessionInfo=a,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=o}return g(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Kp(e)||Kp(t))&&(r=!0),r&&(Kp(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Kp(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Kp(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Qp="@firebase/auth",Jp="0.23.2",Zp=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return g(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Xu(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Yp;!function(e){var t;null===(t=Da())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function $p(){return window}Yp="Browser",Hs(new is("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),a=r.options,s=a.apiKey,u=a.authDomain;Xu(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:Yp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:al(Yp)},l=new bl(r,i,o,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Hs(new is("auth-internal",(function(e){return function(e){return new Zp(e)}(wl(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),iu(Qp,Jp,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Yp)),iu(Qp,Jp,"esm2017");var Xp=2e3;function ev(e,t,n){return tv.apply(this,arguments)}function tv(){return tv=It(Et().mark((function e(t,n,r){var i,o,a,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=$p(),a=o.BuildInfo,tc(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,sv(n.sessionId);case 4:return s=e.sent,u={},il()?u.ibi=a.packageName:tl()?u.apn=a.packageName:Qu(t,"operation-not-supported-in-this-environment"),a.displayName&&(u.appDisplayName=a.displayName),u.sessionId=s,e.abrupt("return",Dp(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),tv.apply(this,arguments)}function nv(){return(nv=It(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$p(),r=n.BuildInfo,i={},il()?i.iosBundleId=r.packageName:tl()?i.androidPackageName=r.packageName:Qu(t,"operation-not-supported-in-this-environment"),e.next=5,fp(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rv(e){var t=$p().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function iv(e,t,n){return ov.apply(this,arguments)}function ov(){return ov=It(Et().mark((function e(t,n,r){var i,o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$p(),o=i.cordova,a=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=o.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Ju(t,"redirect-cancelled-by-user"))}),Xp))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),tl()&&document.addEventListener("visibilitychange",l,!1),a=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,a(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),ov.apply(this,arguments)}function av(e){var t,n,r,i,o,a,s,u,c,l,f=$p();Xu("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Xu("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Xu("function"===typeof(null===(o=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Xu("function"===typeof(null===(u=null===(s=null===(a=null===f||void 0===f?void 0:f.cordova)||void 0===a?void 0:a.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Xu("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function sv(e){return uv.apply(this,arguments)}function uv(){return(uv=It(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cv(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cv(e){if(tc(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var lv=20,fv=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return g(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Pu(b(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(up);function hv(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:gv(),postBody:null,tenantId:e.tenantId,error:Ju(e,"no-auth-event")}}function dv(e,t){return yv()._set(kv(e),t)}function pv(e){return vv.apply(this,arguments)}function vv(){return(vv=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yv()._get(kv(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,yv()._remove(kv(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mv(e,t){var n,r,i=function(e){var t=bv(e),n=t.link?decodeURIComponent(t.link):void 0,r=bv(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return bv(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var o=bv(i),a=o.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(o.firebaseError)):null,s=null===(r=null===(n=null===a||void 0===a?void 0:a.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Ju(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function gv(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<lv;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function yv(){return Hc(Ph)}function kv(e){return Qc("authEvent",e.config.apiKey,e.name)}function bv(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=C(e.split("?"));t[0];return $a(t.slice(1).join("?"))}var wv=function(){function e(){d(this,e),this._redirectPersistence=Ah,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ip,this._overrideRedirectResult=Kd}return g(e,[{key:"_initialize",value:function(){var e=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new fv(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Qu(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=It(Et().mark((function e(t,n,r,i){var o,a,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return av(t),e.next=3,this._initialize(t);case 3:return o=e.sent,e.next=6,o.initialized();case 6:return o.resetRedirect(),Bd.clear(),e.next=10,this._originValidation(t);case 10:return a=hv(t,r,i),e.next=13,dv(t,a);case 13:return e.next=15,ev(t,a,n);case 15:return s=e.sent,e.next=18,rv(s);case 18:return u=e.sent,e.abrupt("return",iv(t,o,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return nv.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=$p(),r=n.universalLinks,i=n.handleOpenURL,o=n.BuildInfo,a=setTimeout(It(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,pv(e);case 2:t.onEvent(_v());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=It(Et().mark((function n(r){var i,o;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(a),n.next=3,pv(e);case 3:i=n.sent,o=null,i&&(null===r||void 0===r?void 0:r.url)&&(o=mv(i,r.url)),t.onEvent(o||_v());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(o.packageName.toLowerCase(),"://");$p().handleOpenURL=function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),xv=wv;function _v(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ju("no-auth-event")}}var Sv=1e3;function Ev(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Cv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa();return!("file:"!==Ev()&&"ionic:"!==Ev()&&"capacitor:"!==Ev()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Iv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa();return za()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa();return/Edge\/\d+/.test(e)}(e)}function Tv(){try{var e=self.localStorage,t=Mh();if(e)return e.setItem(t,"1"),e.removeItem(t),!Iv()||qa()}catch(n){return Lv()&&qa()}return!1}function Lv(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Nv(){return("http:"===Ev()||"https:"===Ev()||Va()||Cv())&&!(Ba()||Ua())&&Tv()&&!Lv()}function Pv(){return Cv()&&"undefined"!==typeof document}function Ov(){return Av.apply(this,arguments)}function Av(){return(Av=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pv()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Sv);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jv={LOCAL:"local",NONE:"none",SESSION:"session"},Dv=Xu,Mv="persistence";function Rv(e,t){Dv(Object.values(jv).includes(t),e,"invalid-persistence-type"),Ba()?Dv(t!==jv.SESSION,e,"unsupported-persistence-type"):Ua()?Dv(t===jv.NONE,e,"unsupported-persistence-type"):Lv()?Dv(t===jv.NONE||t===jv.LOCAL&&qa(),e,"unsupported-persistence-type"):Dv(t===jv.NONE||Tv(),e,"unsupported-persistence-type")}function Fv(e){return Uv.apply(this,arguments)}function Uv(){return(Uv=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Vv(),r=Qc(Mv,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vv(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Bv=Xu,zv=function(){function e(){d(this,e),this.browserResolver=Hc(Vp),this.cordovaResolver=Hc(xv),this.underlyingResolver=null,this._redirectPersistence=Ah,this._completeRedirectFn=ip,this._overrideRedirectResult=Kd}return g(e,[{key:"_initialize",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=It(Et().mark((function e(t,n,r,i){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=It(Et().mark((function e(t,n,r,i){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Pv()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Bv(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ov();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function qv(e){return e.unwrap()}function Wv(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Jv(e,function(e,t){var n,r=rs(e),i=t;return Xu(t.customData.operationType,r,"argument-error"),Xu(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),_h._fromError(r,i)}(e,t));else if(r){var i=Hv(t),o=t;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function Hv(e){var t=(e instanceof Wa?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Wa)&&"temporaryProof"in t&&"phoneNumber"in t)return Ed.credentialFromResult(e);var n,r=t.providerId;if(!r||r===ju.PASSWORD)return null;switch(r){case ju.GOOGLE:n=df;break;case ju.FACEBOOK:n=hf;break;case ju.GITHUB:n=pf;break;case ju.TWITTER:n=gf;break;default:var i=t.oauthIdToken,o=t.oauthAccessToken,a=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return o||a||i||s?s?r.startsWith("saml.")?vf._create(r,s):$l._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:o}):new ff(r).credential({idToken:i,accessToken:o,rawNonce:u}):null}return e instanceof Wa?n.credentialFromError(e):n.credentialFromResult(e)}function Gv(e,t){return t.catch((function(t){throw t instanceof Wa&&Wv(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Hv(t)),additionalUserInfo:wh(e),user:Zv.getOrCreate(r)}}))}function Kv(e,t){return Qv.apply(this,arguments)}function Qv(){return(Qv=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Gv(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jv=function(){function e(t,n){d(this,e),this.resolver=n,this.auth=t.wrapped()}return g(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Gv(qv(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Zv=function(){function e(t){d(this,e),this._delegate=t,this.multiFactor=function(e){var t=rs(e);return Ih.has(t)||Ih.set(t,Ch._fromUser(t)),Ih.get(t)}(t)}return g(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gv(this.auth,Ff(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kv(this.auth,kd(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gv(this.auth,Rd(this._delegate,t,zv)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fv(wl(this.auth));case 2:return e.abrupt("return",ep(this._delegate,t,zv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gv(this.auth,Vf(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Kv(this.auth,function(e,t,n){return wd.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Gv(this.auth,function(e,t,n){return Md.apply(this,arguments)}(this._delegate,e,zv))}},{key:"reauthenticateWithRedirect",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fv(wl(this.auth));case 2:return e.abrupt("return",$d(this._delegate,t,zv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return uh.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cf(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return dh(rs(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return dh(rs(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Sd.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return hh.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ch.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Zv.USER_MAP=new WeakMap;var Yv=Xu,$v=function(){function e(t,n){if(d(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Yv(r,"invalid-api-key",{appName:t.name}),Yv(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?zv:void 0;this._delegate=n.initialize({options:{persistence:em(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(zu),this.linkUnderlyingAuth()}return g(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Zv.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){_l(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Yf.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return $f(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Zf.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gv(this._delegate,th(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return sh.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=sf.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yv(Nv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,np(this._delegate,zv);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Gv(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){wl(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Xv(e,t,n),i=r.next,o=r.error,a=r.complete;return this._delegate.onAuthStateChanged(i,o,a)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Xv(e,t,n),i=r.next,o=r.error,a=r.complete;return this._delegate.onIdTokenChanged(i,o,a)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return rh.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Jf.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rv(this._delegate,t),e.t0=t,e.next=e.t0===jv.SESSION?4:e.t0===jv.LOCAL?6:e.t0===jv.NONE?11:13;break;case 4:return n=Ah,e.abrupt("break",14);case 6:return e.next=8,Hc(rd)._isAvailable();case 8:return r=e.sent,n=r?rd:Ph,e.abrupt("break",14);case 11:return n=Kc,e.abrupt("break",14);case 13:return e.abrupt("return",Qu("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Gv(this._delegate,function(e){return xf.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Gv(this._delegate,Mf(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Gv(this._delegate,function(e,t){return Wf.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Gv(this._delegate,function(e,t,n){return Mf(rs(e),uf.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Gv(this._delegate,function(e,t,n){return ih.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Kv(this._delegate,function(e,t,n){return yd.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yv(Nv(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Gv(this._delegate,jd(this._delegate,t,zv)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yv(Nv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Fv(this._delegate);case 3:return e.abrupt("return",Zd(this._delegate,t,zv));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return eh.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Xv(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Zv.getOrCreate(e))},error:t,complete:n}}function em(e,t){var n=function(e,t){var n=Vv();if(!n)return[];var r=Qc(Mv,e,t);switch(n.getItem(r)){case jv.NONE:return[Kc];case jv.LOCAL:return[rd,Ah];case jv.SESSION:return[Ah];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(rd)||n.push(rd),"undefined"!==typeof window)for(var r=0,i=[Ph,Ah];r<i.length;r++){var o=i[r];n.includes(o)||n.push(o)}return n.includes(Kc)||n.push(Kc),n}$v.Persistence=jv;var tm=function(){function e(){d(this,e),this.providerId="phone",this._delegate=new Ed(qv(Nu.auth()))}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Ed.credential(e,t)}}]),e}();tm.PHONE_SIGN_IN_METHOD=Ed.PHONE_SIGN_IN_METHOD,tm.PROVIDER_ID=Ed.PROVIDER_ID;var nm,rm=Xu,im=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nu.app();d(this,e),rm(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new vd(t,n,i.auth()),this.type=this._delegate.type}return g(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(nm=Nu).INTERNAL.registerComponent(new is("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new $v(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Du,PASSWORD_RESET:Mu,RECOVER_EMAIL:Ru,REVERT_SECOND_FACTOR_ADDITION:Fu,VERIFY_AND_CHANGE_EMAIL:Uu,VERIFY_EMAIL:Vu}},EmailAuthProvider:uf,FacebookAuthProvider:hf,GithubAuthProvider:pf,GoogleAuthProvider:df,OAuthProvider:ff,SAMLAuthProvider:mf,PhoneAuthProvider:tm,PhoneMultiFactorGenerator:qp,RecaptchaVerifier:im,TwitterAuthProvider:gf,Auth:$v,AuthCredential:Cl,Error:Wa}).setInstantiationMode("LAZY").setMultipleInstances(!1)),nm.registerVersion("@firebase/auth-compat","0.4.2");var om,am="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},sm={},um=um||{},cm=am||self;function lm(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function fm(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var hm="closure_uid_"+(1e9*Math.random()>>>0),dm=0;function pm(e,t,n){return e.call.apply(e.bind,arguments)}function vm(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function mm(e,t,n){return(mm=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pm:vm).apply(null,arguments)}function gm(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ym(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function km(){this.s=this.s,this.o=this.o}km.prototype.s=!1,km.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,hm)&&e[hm]||(e[hm]=++dm)}(this)},km.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var bm=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function wm(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function xm(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(lm(r)){var i=e.length||0,o=r.length||0;e.length=i+o;for(var a=0;a<o;a++)e[i+a]=r[a]}else e.push(r)}}function _m(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}_m.prototype.h=function(){this.defaultPrevented=!0};var Sm=function(){if(!cm.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{cm.addEventListener("test",(function(){}),t),cm.removeEventListener("test",(function(){}),t)}catch(Dr){}return e}();function Em(e){return/^[\s\xa0]*$/.test(e)}function Cm(){var e=cm.navigator;return e&&(e=e.userAgent)?e:""}function Im(e){return-1!=Cm().indexOf(e)}function Tm(e){return Tm[" "](e),e}Tm[" "]=function(){};var Lm,Nm,Pm=Im("Opera"),Om=Im("Trident")||Im("MSIE"),Am=Im("Edge"),jm=Am||Om,Dm=Im("Gecko")&&!(-1!=Cm().toLowerCase().indexOf("webkit")&&!Im("Edge"))&&!(Im("Trident")||Im("MSIE"))&&!Im("Edge"),Mm=-1!=Cm().toLowerCase().indexOf("webkit")&&!Im("Edge");function Rm(){var e=cm.document;return e?e.documentMode:void 0}e:{var Fm="",Um=function(){var e=Cm();return Dm?/rv:([^\);]+)(\)|;)/.exec(e):Am?/Edge\/([\d\.]+)/.exec(e):Om?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Mm?/WebKit\/(\S+)/.exec(e):Pm?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Um&&(Fm=Um?Um[1]:""),Om){var Vm=Rm();if(null!=Vm&&Vm>parseFloat(Fm)){Lm=String(Vm);break e}}Lm=Fm}if(cm.document&&Om){var Bm=Rm();Nm=Bm||(parseInt(Lm,10)||void 0)}else Nm=void 0;var zm=Nm;function qm(e,t){if(_m.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Dm){e:{try{Tm(t.nodeName);var i=!0;break e}catch(jr){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Wm[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&qm.$.h.call(this)}}ym(qm,_m);var Wm={2:"touch",3:"pen",4:"mouse"};qm.prototype.h=function(){qm.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Hm="closure_listenable_"+(1e6*Math.random()|0),Gm=0;function Km(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Gm,this.fa=this.ia=!1}function Qm(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Jm(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Zm(e){var t={};for(var n in e)t[n]=e[n];return t}var Ym="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $m(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Ym.length;o++)n=Ym[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Xm(e){this.src=e,this.g={},this.h=0}function eg(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=bm(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Qm(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function tg(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Xm.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=tg(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Km(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var ng="closure_lm_"+(1e6*Math.random()|0),rg={};function ig(e,t,n,r,i){if(r&&r.once)return ag(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ig(e,t[o],n,r,i);return null}return n=dg(n),e&&e[Hm]?e.O(t,n,fm(r)?!!r.capture:!!r,i):og(e,t,n,!1,r,i)}function og(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=fm(i)?!!i.capture:!!i,s=fg(e);if(s||(e[ng]=s=new Xm(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=lg;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Sm||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(cg(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ag(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ag(e,t[o],n,r,i);return null}return n=dg(n),e&&e[Hm]?e.P(t,n,fm(r)?!!r.capture:!!r,i):og(e,t,n,!0,r,i)}function sg(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)sg(e,t[o],n,r,i);else r=fm(r)?!!r.capture:!!r,n=dg(n),e&&e[Hm]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=tg(o=e.g[t],n,r,i))&&(Qm(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=fg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=tg(t,n,r,i)),(n=-1<e?t[e]:null)&&ug(n))}function ug(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Hm])eg(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(cg(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=fg(t))?(eg(n,e),0==n.h&&(n.src=null,t[ng]=null)):Qm(e)}}}function cg(e){return e in rg?rg[e]:rg[e]="on"+e}function lg(e,t){if(e.fa)e=!0;else{t=new qm(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ug(e),e=n.call(r,t)}return e}function fg(e){return(e=e[ng])instanceof Xm?e:null}var hg="__closure_events_fn_"+(1e9*Math.random()>>>0);function dg(e){return"function"===typeof e?e:(e[hg]||(e[hg]=function(t){return e.handleEvent(t)}),e[hg])}function pg(){km.call(this),this.i=new Xm(this),this.S=this,this.J=null}function vg(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new _m(t,e);else if(t instanceof _m)t.target=t.target||e;else{var i=t;$m(t=new _m(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=mg(a,r,!0,t)&&i}if(i=mg(a=t.g=e,r,!0,t)&&i,i=mg(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=mg(a=t.g=n[o],r,!1,t)&&i}function mg(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,u=a.la||a.src;a.ia&&eg(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ym(pg,km),pg.prototype[Hm]=!0,pg.prototype.removeEventListener=function(e,t,n,r){sg(this,e,t,n,r)},pg.prototype.N=function(){if(pg.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Qm(n[r]);delete t.g[e],t.h--}}this.J=null},pg.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},pg.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var gg=cm.JSON.stringify,yg=function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return g(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function kg(){var e=Ig,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var bg=function(){function e(){d(this,e),this.h=this.g=null}return g(e,[{key:"add",value:function(e,t){var n=wg.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),wg=new yg((function(){return new xg}),(function(e){return e.reset()})),xg=function(){function e(){d(this,e),this.next=this.g=this.h=null}return g(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function _g(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Sg(e){cm.setTimeout((function(){throw e}),0)}var Eg,Cg=!1,Ig=new bg,Tg=function(){var e=cm.Promise.resolve(void 0);Eg=function(){e.then(Lg)}},Lg=function(){for(var e;e=kg();){try{e.h.call(e.g)}catch(Dr){Sg(Dr)}var t=wg;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Cg=!1};function Ng(e,t){pg.call(this),this.h=e||1,this.g=t||cm,this.j=mm(this.qb,this),this.l=Date.now()}function Pg(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Og(e,t,n){if("function"===typeof e)n&&(e=mm(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=mm(e.handleEvent,e)}return 2147483647<Number(t)?-1:cm.setTimeout(e,t||0)}function Ag(e){e.g=Og((function(){e.g=null,e.i&&(e.i=!1,Ag(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ym(Ng,pg),(om=Ng.prototype).ga=!1,om.T=null,om.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vg(this,"tick"),this.ga&&(Pg(this),this.start()))}},om.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},om.N=function(){Ng.$.N.call(this),Pg(this),delete this.g};var jg=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return g(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ag(this)}},{key:"N",value:function(){Pu(b(n.prototype),"N",this).call(this),this.g&&(cm.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(km);function Dg(e){km.call(this),this.h=e,this.g={}}ym(Dg,km);var Mg=[];function Rg(e,t,n,r){Array.isArray(n)||(n&&(Mg[0]=n.toString()),n=Mg);for(var i=0;i<n.length;i++){var o=ig(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Fg(e){Jm(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ug(e)}),e),e.g={}}function Ug(){this.g=!0}function Vg(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return gg(n)}catch(Ir){return t}}(e,n)+(r?" "+r:"")}))}Dg.prototype.N=function(){Dg.$.N.call(this),Fg(this)},Dg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ug.prototype.Ea=function(){this.g=!1},Ug.prototype.info=function(){};var Bg={},zg=null;function qg(){return zg=zg||new pg}function Wg(e){_m.call(this,Bg.Ta,e)}function Hg(e){var t=qg();vg(t,new Wg(t))}function Gg(e,t){_m.call(this,Bg.STAT_EVENT,e),this.stat=t}function Kg(e){var t=qg();vg(t,new Gg(t,e))}function Qg(e,t){_m.call(this,Bg.Ua,e),this.size=t}function Jg(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return cm.setTimeout((function(){e()}),t)}Bg.Ta="serverreachability",ym(Wg,_m),Bg.STAT_EVENT="statevent",ym(Gg,_m),Bg.Ua="timingevent",ym(Qg,_m);var Zg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Yg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $g(){}function Xg(e){return e.h||(e.h=e.i())}function ey(){}$g.prototype.h=null;var ty,ny={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ry(){_m.call(this,"d")}function iy(){_m.call(this,"c")}function oy(){}function ay(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Dg(this),this.P=uy,e=jm?125:void 0,this.V=new Ng(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new sy}function sy(){this.i=null,this.g="",this.h=!1}ym(ry,_m),ym(iy,_m),ym(oy,$g),oy.prototype.g=function(){return new XMLHttpRequest},oy.prototype.i=function(){return{}},ty=new oy;var uy=45e3,cy={},ly={};function fy(e,t,n){e.L=1,e.v=Ny(Ey(t)),e.s=n,e.S=!0,hy(e,null)}function hy(e,t){e.G=Date.now(),my(e),e.A=Ey(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),qy(n.i,"t",r),e.C=0,n=e.l.J,e.h=new sy,e.g=qk(e.l,n?t:null,!e.s),0<e.O&&(e.M=new jg(mm(e.Pa,e,e.g),e.O)),Rg(e.U,e.g,"readystatechange",e.nb),t=e.I?Zm(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Hg(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function dy(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function py(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=vy(e,n))==ly){4==t&&(e.o=4,Kg(14),i=!1),Vg(e.j,e.m,null,"[Incomplete Response]");break}if(r==cy){e.o=4,Kg(15),Vg(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Vg(e.j,e.m,r,null),wy(e,r)}dy(e)&&r!=ly&&r!=cy&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Kg(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Dk(t),t.M=!0,Kg(11))):(Vg(e.j,e.m,n,"[Invalid Chunked Response]"),by(e),ky(e))}function vy(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ly:(n=Number(t.substring(n,r)),isNaN(n)?cy:(r+=1)+n>t.length?ly:(t=t.slice(r,r+n),e.C=r+n,t))}function my(e){e.Y=Date.now()+e.P,gy(e,e.P)}function gy(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Jg(mm(e.lb,e),t)}function yy(e){e.B&&(cm.clearTimeout(e.B),e.B=null)}function ky(e){0==e.l.H||e.J||Fk(e.l,e)}function by(e){yy(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Pg(e.V),Fg(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function wy(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Zy(n.i,e)))if(!e.K&&Zy(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Rk(n),Ik(n)}jk(n),Kg(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Jg(mm(n.ib,n),6e3));if(1>=Jy(n.i)&&n.oa){try{n.oa()}catch(o){}n.oa=void 0}}else Vk(n,11)}else if((e.K||n.g==e)&&Rk(n),!Em(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.V=o[0],o=o[1],2==n.H)if("c"==o[0]){n.K=o[1],n.pa=o[2];var a=o[3];null!=a&&(n.ra=a,n.l.info("VER="+n.ra));var s=o[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Yy(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Ly(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=zk(r,r.J?r.pa:null,r.Y),d.K){$y(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(yy(p),my(p)),r.g=d}else Ak(r);0<n.j.length&&Lk(n)}else"stop"!=o[0]&&"close"!=o[0]||Vk(n,7);else 3==n.H&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Vk(n,7):Ck(n):"noop"!=o[0]&&n.h&&n.h.Aa(o),n.A=0)}Hg()}catch(o){}}function xy(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(lm(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(lm(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(lm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(om=ay.prototype).setTimeout=function(e){this.P=e},om.nb=function(e){e=e.target;var t=this.M;t&&3==bk(e)?t.l():this.Pa(e)},om.Pa=function(e){try{if(e==this.g)e:{var t=bk(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||jm||this.g&&(this.h.h||this.g.ja()||wk(this.g)))){this.J||4!=t||7==n||Hg(),yy(this);var r=this.g.da();this.ca=r;t:if(dy(this)){var i=wk(this.g);e="";var o=i.length,a=4==bk(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){by(this),ky(this);var s="";break t}this.h.i=new cm.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:a&&n==o-1});i.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Em(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Kg(12),by(this),ky(this);break e}Vg(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wy(this,r)}this.S?(py(this,t,s),jm&&this.i&&3==t&&(Rg(this.U,this.V,"tick",this.mb),this.V.start())):(Vg(this.j,this.m,s,null),wy(this,s)),4==t&&by(this),this.i&&!this.J&&(4==t?Fk(this.l,this):(this.i=!1,my(this)))}else(function(e){var t={};e=(e.g&&2<=bk(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Em(e[n])){var r=_g(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var o=t[i]||[];t[i]=o,o.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Kg(12)):(this.o=0,Kg(13)),by(this),ky(this)}}}catch(t){}},om.mb=function(){if(this.g){var e=bk(this.g),t=this.g.ja();this.C<t.length&&(yy(this),py(this,e,t),this.i&&4!=e&&my(this))}},om.cancel=function(){this.J=!0,by(this)},om.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Hg(),Kg(17)),by(this),this.o=2,ky(this)):gy(this,this.Y-e)};var _y=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sy(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Sy){this.h=e.h,Cy(this,e.j),this.s=e.s,this.g=e.g,Iy(this,e.m),this.l=e.l;var t=e.i,n=new Uy;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ty(this,n),this.o=e.o}else e&&(t=String(e).match(_y))?(this.h=!1,Cy(this,t[1]||"",!0),this.s=Py(t[2]||""),this.g=Py(t[3]||"",!0),Iy(this,t[4]),this.l=Py(t[5]||"",!0),Ty(this,t[6]||"",!0),this.o=Py(t[7]||"")):(this.h=!1,this.i=new Uy(null,this.h))}function Ey(e){return new Sy(e)}function Cy(e,t,n){e.j=n?Py(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Iy(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ty(e,t,n){t instanceof Uy?(e.i=t,function(e,t){t&&!e.j&&(Vy(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(By(this,t),qy(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Oy(t,Ry)),e.i=new Uy(t,e.h))}function Ly(e,t,n){e.i.set(t,n)}function Ny(e){return Ly(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Py(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Oy(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ay),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ay(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Sy.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Oy(t,jy,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Oy(t,jy,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Oy(n,"/"==n.charAt(0)?My:Dy,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Oy(n,Fy)),e.join("")};var jy=/[#\/\?@]/g,Dy=/[#\?:]/g,My=/[#\?]/g,Ry=/[#\?@]/g,Fy=/#/g;function Uy(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Vy(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function By(e,t){Vy(e),t=Wy(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function zy(e,t){return Vy(e),t=Wy(e,t),e.g.has(t)}function qy(e,t,n){By(e,t),0<n.length&&(e.i=null,e.g.set(Wy(e,t),wm(n)),e.h+=n.length)}function Wy(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(om=Uy.prototype).add=function(e,t){Vy(this),this.i=null,e=Wy(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},om.forEach=function(e,t){Vy(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},om.ta=function(){Vy(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},om.Z=function(e){Vy(this);var t=[];if("string"===typeof e)zy(this,e)&&(t=t.concat(this.g.get(Wy(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},om.set=function(e,t){return Vy(this),this.i=null,zy(this,e=Wy(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},om.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},om.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var a=i;""!==o[r]&&(a+="="+encodeURIComponent(String(o[r]))),e.push(a)}}return this.i=e.join("&")};var Hy=g((function e(t,n){d(this,e),this.g=t,this.map=n}));function Gy(e){this.l=e||Ky,cm.PerformanceNavigationTiming?e=0<(e=cm.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(cm.g&&cm.g.Ka&&cm.g.Ka()&&cm.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ky=10;function Qy(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Jy(e){return e.h?1:e.g?e.g.size:0}function Zy(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Yy(e,t){e.g?e.g.add(t):e.h=t}function $y(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Xy(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=I(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(o){r.e(o)}finally{r.f()}return n}return wm(e.i)}Gy.prototype.cancel=function(){if(this.i=Xy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=I(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var ek=function(){function e(){d(this,e)}return g(e,[{key:"stringify",value:function(e){return cm.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return cm.JSON.parse(e,void 0)}}]),e}();function tk(){this.g=new ek}function nk(e,t,n){var r=n||"";try{xy(e,(function(e,n){var i=e;fm(e)&&(i=gg(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function rk(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(jr){}}function ik(e){this.l=e.fc||null,this.j=e.ob||!1}function ok(e,t){pg.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ak,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ym(ik,$g),ik.prototype.g=function(){return new ok(this.l,this.j)},ik.prototype.i=function(e){return function(){return e}}({}),ym(ok,pg);var ak=0;function sk(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function uk(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ck(e)}function ck(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(om=ok.prototype).open=function(e,t){if(this.readyState!=ak)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ck(this)},om.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||cm).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},om.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uk(this)),this.readyState=ak},om.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ck(this)),this.g&&(this.readyState=3,ck(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof cm.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sk(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},om.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?uk(this):ck(this),3==this.readyState&&sk(this)}},om.Za=function(e){this.g&&(this.response=this.responseText=e,uk(this))},om.Ya=function(e){this.g&&(this.response=e,uk(this))},om.ka=function(){this.g&&uk(this)},om.setRequestHeader=function(e,t){this.v.append(e,t)},om.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},om.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ok.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var lk=cm.JSON.parse;function fk(e){pg.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=hk,this.L=this.M=!1}ym(fk,pg);var hk="",dk=/^https?$/i,pk=["POST","PUT"];function vk(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,mk(e),yk(e)}function mk(e){e.F||(e.F=!0,vg(e,"complete"),vg(e,"error"))}function gk(e){if(e.h&&"undefined"!=typeof um&&(!e.C[1]||4!=bk(e)||2!=e.da()))if(e.v&&4==bk(e))Og(e.La,0,e);else if(vg(e,"readystatechange"),4==bk(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.I).match(_y)[1]||null;!o&&cm.self&&cm.self.location&&(o=cm.self.location.protocol.slice(0,-1)),i=!dk.test(o?o.toLowerCase():"")}t=i}if(t)vg(e,"complete"),vg(e,"success");else{e.m=6;try{var a=2<bk(e)?e.g.statusText:""}catch(Ir){a=""}e.j=a+" ["+e.da()+"]",mk(e)}}finally{yk(e)}}}function yk(e,t){if(e.g){kk(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||vg(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function kk(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(cm.clearTimeout(e.A),e.A=null)}function bk(e){return e.g?e.g.readyState:0}function wk(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case hk:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(qr){return null}}function xk(e){var t="";return Jm(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function _k(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=xk(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ly(e,t,n))}function Sk(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ek(e){this.Ga=0,this.j=[],this.l=new Ug,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Sk("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Sk("baseRetryDelayMs",5e3,e),this.hb=Sk("retryDelaySeedMs",1e4,e),this.eb=Sk("forwardChannelMaxRetries",2,e),this.xa=Sk("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Gy(e&&e.concurrentRequestLimit),this.Ja=new tk,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ck(e){if(Tk(e),3==e.H){var t=e.W++,n=Ey(e.I);if(Ly(n,"SID",e.K),Ly(n,"RID",t),Ly(n,"TYPE","terminate"),Pk(e,n),(t=new ay(e,e.l,t)).L=2,t.v=Ny(Ey(n)),n=!1,cm.navigator&&cm.navigator.sendBeacon)try{n=cm.navigator.sendBeacon(t.v.toString(),"")}catch(Vr){}!n&&cm.Image&&((new Image).src=t.v,n=!0),n||(t.g=qk(t.l,null),t.g.ha(t.v)),t.G=Date.now(),my(t)}Bk(e)}function Ik(e){e.g&&(Dk(e),e.g.cancel(),e.g=null)}function Tk(e){Ik(e),e.u&&(cm.clearTimeout(e.u),e.u=null),Rk(e),e.i.cancel(),e.m&&("number"===typeof e.m&&cm.clearTimeout(e.m),e.m=null)}function Lk(e){if(!Qy(e.i)&&!e.m){e.m=!0;var t=e.Na;Eg||Tg(),Cg||(Eg(),Cg=!0),Ig.add(t,e),e.C=0}}function Nk(e,t){var n;n=t?t.m:e.W++;var r=Ey(e.I);Ly(r,"SID",e.K),Ly(r,"RID",n),Ly(r,"AID",e.V),Pk(e,r),e.o&&e.s&&_k(r,e.o,e.s),n=new ay(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ok(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Yy(e.i,n),fy(n,r,t)}function Pk(e,t){e.na&&Jm(e.na,(function(e,n){Ly(t,n,e)})),e.h&&xy({},(function(e,n){Ly(t,n,e)}))}function Ok(e,t,n){n=Math.min(e.j.length,n);var r=e.h?mm(e.h.Va,e.h,e):null;e:for(var i=e.j,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=o))o=Math.max(0,i[u].g-100),s=!1;else try{nk(l,a,"req"+c+"_")}catch(mi){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Ak(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Eg||Tg(),Cg||(Eg(),Cg=!0),Ig.add(t,e),e.A=0}}function jk(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Jg(mm(e.Ma,e),Uk(e,e.A)),e.A++,!0)}function Dk(e){null!=e.B&&(cm.clearTimeout(e.B),e.B=null)}function Mk(e){e.g=new ay(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Ey(e.wa);Ly(t,"RID","rpc"),Ly(t,"SID",e.K),Ly(t,"AID",e.V),Ly(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ly(t,"TO",e.qa),Ly(t,"TYPE","xmlhttp"),Pk(e,t),e.o&&e.s&&_k(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Ny(Ey(t)),n.s=null,n.S=!0,hy(n,e)}function Rk(e){null!=e.v&&(cm.clearTimeout(e.v),e.v=null)}function Fk(e,t){var n=null;if(e.g==t){Rk(e),Dk(e),e.g=null;var r=2}else{if(!Zy(e.i,t))return;n=t.F,$y(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;vg(r=qg(),new Qg(r,n)),Lk(e)}else Ak(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Jy(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Jg(mm(e.Na,e,t),Uk(e,e.C)),e.C++,!0))}(e,t)||2==r&&jk(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Vk(e,5);break;case 4:Vk(e,10);break;case 3:Vk(e,6);break;default:Vk(e,2)}}function Uk(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Vk(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=mm(e.pb,e);n||(n=new Sy("//www.google.com/images/cleardot.gif"),cm.location&&"http"==cm.location.protocol||Cy(n,"https"),Ny(n)),function(e,t){var n=new Ug;if(cm.Image){var r=new Image;r.onload=gm(rk,n,r,"TestLoadImage: loaded",!0,t),r.onerror=gm(rk,n,r,"TestLoadImage: error",!1,t),r.onabort=gm(rk,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=gm(rk,n,r,"TestLoadImage: timeout",!1,t),cm.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Kg(2);e.H=0,e.h&&e.h.za(t),Bk(e),Tk(e)}function Bk(e){if(e.H=0,e.ma=[],e.h){var t=Xy(e.i);0==t.length&&0==e.j.length||(xm(e.ma,t),xm(e.ma,e.j),e.i.i.length=0,wm(e.j),e.j.length=0),e.h.ya()}}function zk(e,t,n){var r=n instanceof Sy?Ey(n):new Sy(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Iy(r,r.m);else{var i=cm.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Sy(null);r&&Cy(o,r),t&&(o.g=t),i&&Iy(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Ly(r,n,t),Ly(r,"VER",e.ra),Pk(e,r),r}function qk(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new fk(new ik({ob:!0})):new fk(e.va)).Oa(e.J),t}function Wk(){}function Hk(){if(Om&&!(10<=Number(zm)))throw Error("Environmental error: no available transport.")}function Gk(e,t){pg.call(this),this.g=new Ek(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Em(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Em(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Jk(this)}function Kk(e){ry.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Qk(){iy.call(this),this.status=1}function Jk(e){this.g=e}function Zk(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Yk(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function $k(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(om=fk.prototype).Oa=function(e){this.M=e},om.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ty.g(),this.C=this.u?Xg(this.u):Xg(ty),this.g.onreadystatechange=mm(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void vk(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var o,a=I(r.keys());try{for(a.s();!(o=a.n()).done;){var s=o.value;n.set(s,r.get(s))}}catch(p){a.e(p)}finally{a.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=cm.FormData&&e instanceof cm.FormData,!(0<=bm(pk,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=I(n);try{for(c.s();!(u=c.n()).done;){var f=l(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{kk(this),0<this.B&&((this.L=function(e){return Om&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mm(this.ua,this)):this.A=Og(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){vk(this,s)}},om.ua=function(){"undefined"!=typeof um&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vg(this,"timeout"),this.abort(8))},om.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,vg(this,"complete"),vg(this,"abort"),yk(this))},om.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yk(this,!0)),fk.$.N.call(this)},om.La=function(){this.s||(this.G||this.v||this.l?gk(this):this.kb())},om.kb=function(){gk(this)},om.isActive=function(){return!!this.g},om.da=function(){try{return 2<bk(this)?this.g.status:-1}catch(Ar){return-1}},om.ja=function(){try{return this.g?this.g.responseText:""}catch(Ar){return""}},om.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),lk(t)}},om.Ia=function(){return this.m},om.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(om=Ek.prototype).ra=8,om.H=1,om.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new ay(this,this.l,e),n=this.s;if(this.U&&(n?$m(n=Zm(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var o=this.j[i];if(void 0===(o="__data__"in o.map&&"string"===typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ok(this,t,r),Ly(i=Ey(this.I),"RID",e),Ly(i,"CVER",22),this.F&&Ly(i,"X-HTTP-Session-Id",this.F),Pk(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(xk(n)))+"&"+r:this.o&&_k(i,this.o,n)),Yy(this.i,t),this.bb&&Ly(i,"TYPE","init"),this.P?(Ly(i,"$req",r),Ly(i,"SID","null"),t.aa=!0,fy(t,i,null)):fy(t,i,r),this.H=2}}else 3==this.H&&(e?Nk(this,e):0==this.j.length||Qy(this.i)||Nk(this))},om.Ma=function(){if(this.u=null,Mk(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Jg(mm(this.jb,this),e)}},om.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Kg(10),Ik(this),Mk(this))},om.ib=function(){null!=this.v&&(this.v=null,Ik(this),jk(this),Kg(19))},om.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Kg(2)):(this.l.info("Failed to ping google.com"),Kg(1))},om.isActive=function(){return!!this.h&&this.h.isActive(this)},(om=Wk.prototype).Ba=function(){},om.Aa=function(){},om.za=function(){},om.ya=function(){},om.isActive=function(){return!0},om.Va=function(){},Hk.prototype.g=function(e,t){return new Gk(e,t)},ym(Gk,pg),Gk.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Kg(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=zk(e,null,e.Y),Lk(e)},Gk.prototype.close=function(){Ck(this.g)},Gk.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=gg(e),e=n);t.j.push(new Hy(t.fb++,e)),3==t.H&&Lk(t)},Gk.prototype.N=function(){this.g.h=null,delete this.j,Ck(this.g),delete this.g,Gk.$.N.call(this)},ym(Kk,ry),ym(Qk,iy),ym(Jk,Wk),Jk.prototype.Ba=function(){vg(this.g,"a")},Jk.prototype.Aa=function(e){vg(this.g,new Kk(e))},Jk.prototype.za=function(e){vg(this.g,new Qk)},Jk.prototype.ya=function(){vg(this.g,"b")},ym(Zk,(function(){this.blockSize=-1})),Zk.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Zk.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Yk(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Yk(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Yk(this,r),i=0;break}}this.h=i,this.i+=t},Zk.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Xk={};function eb(e){return-128<=e&&128>e?function(e,t){var n=Xk;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new $k([0|e],0>e?-1:0)})):new $k([0|e],0>e?-1:0)}function tb(e){if(isNaN(e)||!isFinite(e))return rb;if(0>e)return ub(tb(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=nb;return new $k(t,0)}var nb=4294967296,rb=eb(0),ib=eb(1),ob=eb(16777216);function ab(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function sb(e){return-1==e.h}function ub(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new $k(n,~e.h).add(ib)}function cb(e,t){return e.add(ub(t))}function lb(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function fb(e,t){this.g=e,this.h=t}function hb(e,t){if(ab(t))throw Error("division by zero");if(ab(e))return new fb(rb,rb);if(sb(e))return t=hb(ub(e),t),new fb(ub(t.g),ub(t.h));if(sb(t))return t=hb(e,ub(t)),new fb(ub(t.g),t.h);if(30<e.g.length){if(sb(e)||sb(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ib,r=t;0>=r.X(e);)n=db(n),r=db(r);var i=pb(n,1),o=pb(r,1);for(r=pb(r,2),n=pb(n,2);!ab(r);){var a=o.add(r);0>=a.X(e)&&(i=i.add(n),o=a),r=pb(r,1),n=pb(n,1)}return t=cb(e,i.R(t)),new fb(i,t)}for(i=rb;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=tb(n)).R(t);sb(a)||0<a.X(e);)a=(o=tb(n-=r)).R(t);ab(o)&&(o=ib),i=i.add(o),e=cb(e,a)}return new fb(i,e)}function db(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new $k(n,e.h)}function pb(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new $k(i,e.h)}(om=$k.prototype).ea=function(){if(sb(this))return-ub(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:nb+r)*t,t*=nb}return e},om.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(ab(this))return"0";if(sb(this))return"-"+ub(this).toString(e);for(var t=tb(Math.pow(e,6)),n=this,r="";;){var i=hb(n,t).g,o=((0<(n=cb(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(ab(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},om.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},om.X=function(e){return sb(e=cb(this,e))?-1:ab(e)?0:1},om.abs=function(){return sb(this)?ub(this):this},om.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),a=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new $k(n,-2147483648&n[n.length-1]?-1:0)},om.R=function(e){if(ab(this)||ab(e))return rb;if(sb(this))return sb(e)?ub(this).R(ub(e)):ub(ub(this).R(e));if(sb(e))return ub(this.R(ub(e)));if(0>this.X(ob)&&0>e.X(ob))return tb(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,a=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=a*u,lb(n,2*r+2*i),n[2*r+2*i+1]+=o*u,lb(n,2*r+2*i+1),n[2*r+2*i+1]+=a*s,lb(n,2*r+2*i+1),n[2*r+2*i+2]+=o*s,lb(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new $k(n,0)},om.gb=function(e){return hb(this,e).h},om.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new $k(n,this.h&e.h)},om.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new $k(n,this.h|e.h)},om.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new $k(n,this.h^e.h)},Hk.prototype.createWebChannel=Hk.prototype.g,Gk.prototype.send=Gk.prototype.u,Gk.prototype.open=Gk.prototype.m,Gk.prototype.close=Gk.prototype.close,Zg.NO_ERROR=0,Zg.TIMEOUT=8,Zg.HTTP_ERROR=6,Yg.COMPLETE="complete",ey.EventType=ny,ny.OPEN="a",ny.CLOSE="b",ny.ERROR="c",ny.MESSAGE="d",pg.prototype.listen=pg.prototype.O,fk.prototype.listenOnce=fk.prototype.P,fk.prototype.getLastError=fk.prototype.Sa,fk.prototype.getLastErrorCode=fk.prototype.Ia,fk.prototype.getStatus=fk.prototype.da,fk.prototype.getResponseJson=fk.prototype.Wa,fk.prototype.getResponseText=fk.prototype.ja,fk.prototype.send=fk.prototype.ha,fk.prototype.setWithCredentials=fk.prototype.Oa,Zk.prototype.digest=Zk.prototype.l,Zk.prototype.reset=Zk.prototype.reset,Zk.prototype.update=Zk.prototype.j,$k.prototype.add=$k.prototype.add,$k.prototype.multiply=$k.prototype.R,$k.prototype.modulo=$k.prototype.gb,$k.prototype.compare=$k.prototype.X,$k.prototype.toNumber=$k.prototype.ea,$k.prototype.toString=$k.prototype.toString,$k.prototype.getBits=$k.prototype.D,$k.fromNumber=tb,$k.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ub(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=tb(Math.pow(n,8)),i=rb,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=tb(Math.pow(n,a)),i=i.R(a).add(tb(s))):i=(i=i.R(r)).add(tb(s))}return i};var vb=sm.createWebChannelTransport=function(){return new Hk},mb=sm.getStatEventTarget=function(){return qg()},gb=sm.ErrorCode=Zg,yb=sm.EventType=Yg,kb=sm.Event=Bg,bb=sm.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wb=sm.FetchXmlHttpFactory=ik,xb=sm.WebChannel=ey,_b=sm.XhrIo=fk,Sb=sm.Md5=Zk,Eb=sm.Integer=$k,Cb="@firebase/firestore",Ib=function(){function e(t){d(this,e),this.uid=t}return g(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Ib.UNAUTHENTICATED=new Ib(null),Ib.GOOGLE_CREDENTIALS=new Ib("google-credentials-uid"),Ib.FIRST_PARTY=new Ib("first-party-uid"),Ib.MOCK_USER=new Ib("mock-user");var Tb="9.22.2",Lb=new vs("@firebase/firestore");function Nb(){return Lb.logLevel}function Pb(e){if(Lb.logLevel<=us.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(jb);Lb.debug.apply(Lb,["Firestore (".concat(Tb,"): ").concat(e)].concat(h(i)))}}function Ob(e){if(Lb.logLevel<=us.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(jb);Lb.error.apply(Lb,["Firestore (".concat(Tb,"): ").concat(e)].concat(h(i)))}}function Ab(e){if(Lb.logLevel<=us.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(jb);Lb.warn.apply(Lb,["Firestore (".concat(Tb,"): ").concat(e)].concat(h(i)))}}function jb(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Db(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Tb,") INTERNAL ASSERTION FAILED: ")+e;throw Ob(t),new Error(t)}function Mb(e,t){e||Db()}function Rb(e,t){return e}var Fb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ub=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return g(n)}(Wa),Vb=g((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Bb=g((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),zb=function(){function e(){d(this,e)}return g(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ib.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),qb=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return g(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Wb=function(){function e(t){d(this,e),this.t=t,this.currentUser=Ib.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},o=new Vb;this.o=function(){n.i++,n.currentUser=n.u(),o.resolve(),o=new Vb,e.enqueueRetryable((function(){return i(n.currentUser)}))};var a=function(){var t=o;e.enqueueRetryable(It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Pb("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),a()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Pb("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vb)}}),0),a()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Pb("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Mb("string"==typeof n.accessToken),new Bb(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Mb(null===e||"string"==typeof e),new Ib(e)}}]),e}(),Hb=function(){function e(t,n,r){d(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Ib.FIRST_PARTY,this.g=new Map}return g(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Gb=function(){function e(t,n,r){d(this,e),this.h=t,this.l=n,this.m=r}return g(e,[{key:"getToken",value:function(){return Promise.resolve(new Hb(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ib.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Kb=g((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Qb=function(){function e(t){d(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Pb("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,Pb("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Pb("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):Pb("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Mb("string"==typeof t.token),e.T=t.token,new Kb(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Jb(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Zb=function(){function e(){d(this,e)}return g(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Jb(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Yb(e,t){return e<t?-1:e>t?1:0}function $b(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Xb(e){return e+"\0"}var ew=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Ub(Fb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ub(Fb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ub(Fb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ub(Fb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return g(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Yb(this.nanoseconds,e.nanoseconds):Yb(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),tw=function(){function e(t){d(this,e),this.timestamp=t}return g(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ew(0,0))}},{key:"max",value:function(){return new e(new ew(253402300799,999999999))}}]),e}(),nw=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&Db(),void 0===r?r=t.length-n:r>t.length-n&&Db(),this.segments=t,this.offset=n,this.len=r}return g(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),rw=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];if(s.indexOf("//")>=0)throw new Ub(Fb.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,h(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(nw),iw=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ow=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return iw.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,o=function(){if(0===r.length)throw new Ub(Fb.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Ub(Fb.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ub(Fb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Ub(Fb.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(nw),aw=function(){function e(t){d(this,e),this.path=t}return g(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===rw.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(rw.fromString(t))}},{key:"fromName",value:function(t){return new e(rw.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(rw.emptyPath())}},{key:"comparator",value:function(e,t){return rw.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new rw(t.slice()))}}]),e}(),sw=g((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function uw(e){return e.fields.find((function(e){return 2===e.kind}))}function cw(e){return e.fields.filter((function(e){return 2!==e.kind}))}sw.UNKNOWN_ID=-1;var lw=g((function e(t,n){d(this,e),this.fieldPath=t,this.kind=n}));var fw=function(){function e(t,n){d(this,e),this.sequenceNumber=t,this.offset=n}return g(e,null,[{key:"empty",value:function(){return new e(0,pw.min())}}]),e}();function hw(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=tw.fromTimestamp(1e9===r?new ew(n+1,0):new ew(n,r));return new pw(i,aw.empty(),t)}function dw(e){return new pw(e.readTime,e.key,-1)}var pw=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return g(e,null,[{key:"min",value:function(){return new e(tw.min(),aw.empty(),-1)}},{key:"max",value:function(){return new e(tw.max(),aw.empty(),-1)}}]),e}();function vw(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=aw.comparator(e.documentKey,t.documentKey))?n:Yb(e.largestBatchId,t.largestBatchId)}var mw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gw=function(){function e(){d(this,e),this.onCommittedListeners=[]}return g(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function yw(e){return kw.apply(this,arguments)}function kw(){return kw=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Fb.FAILED_PRECONDITION&&t.message===mw){e.next=2;break}throw t;case 2:Pb("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),kw.apply(this,arguments)}var bw=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return g(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Db(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=I(t);try{var o=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,o=new Array(i),a=0,s=function(){var s=u;n(t[s]).next((function(t){o[s]=t,++a===i&&e(o)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),ww=function(){function e(t,n){var r=this;d(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new Vb,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new Sw(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=Lw(e.target.error);r.v.reject(new Sw(t,n))}}return g(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(Pb("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Cw(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Sw(n,t)}}}]),e}(),xw=function(){function e(t,n,r){d(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(Fa())&&Ob("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return g(e,[{key:"$",value:function(){var e=It(Et().mark((function e(t){var n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Pb("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Sw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Ub(Fb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Ub(Fb.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Sw(t,n))},i.onupgradeneeded=function(e){Pb("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){Pb("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=It(Et().mark((function e(t,n,r,i){var o,a,s,u,c=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o="readonly"===n,a=0,s=Et().mark((function e(){var n,s,u,l;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++a,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=ww.open(c.db,t,o?"readonly":"readwrite",r),s=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),bw.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.R;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&a<3,Pb("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Pb("SimpleDb","Removing database:",e),Iw(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!qa())return!1;if(e.C())return!0;var t=Fa(),n=e.S(t),r=0<n&&n<10,i=e.N(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),_w=function(){function e(t){d(this,e),this.L=t,this.q=!1,this.U=null}return g(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return Iw(this.L.delete())}}]),e}(),Sw=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,Fb.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return g(n)}(Ub);function Ew(e){return"IndexedDbTransactionError"===e.name}var Cw=function(){function e(t){d(this,e),this.store=t}return g(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Pb("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Pb("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Iw(n)}},{key:"add",value:function(e){return Pb("SimpleDb","ADD",this.store.name,e,e),Iw(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Iw(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Pb("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Pb("SimpleDb","DELETE",this.store.name,e),Iw(this.store.delete(e))}},{key:"count",value:function(){return Pb("SimpleDb","COUNT",this.store.name),Iw(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var o=this.store.getAll(n.range);return new bw((function(e,t){o.onerror=function(e){t(e.target.error)},o.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new bw((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){Pb("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new bw((function(n,r){t.onerror=function(e){var t=Lw(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new bw((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new _w(i),a=t(i.primaryKey,i.value,o);if(a instanceof bw){var s=a.catch((function(e){return o.done(),bw.reject(e)}));n.push(s)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}else r()}})).next((function(){return bw.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Iw(e){return new bw((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Lw(e.target.error);n(t)}}))}var Tw=!1;function Lw(e){var t=xw.S(Fa());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ub("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Tw||(Tw=!0,setTimeout((function(){throw r}),0)),r}}return e}var Nw=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return g(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;Pb("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Pb,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Ew(e.t4)){e.next=17;break}Pb("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,yw(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Pw=function(){function e(t,n){d(this,e),this.localStore=t,this.persistence=n}return g(e,[{key:"nt",value:function(){var e=It(Et().mark((function e(){var t,n=this,r=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,o=!0;return bw.doWhile((function(){return!0===o&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Pb("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));o=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var o=n.changes;return r.localStore.indexManager.updateIndexEntries(e,o).next((function(){return r.rt(i,n)})).next((function(n){return Pb("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return o.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=dw(t);vw(r,n)>0&&(n=r)})),new pw(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Ow=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return g(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Aw(e){return null==e}function jw(e){return 0===e&&1/e==-1/0}function Dw(e){return"number"==typeof e&&Number.isInteger(e)&&!jw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Mw(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Fw(t)),t=Rw(e.get(n),t);return Fw(t)}function Rw(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Fw(e){return e+"\x01\x01"}function Uw(e){var t=e.length;if(Mb(t>=2),2===t)return Mb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),rw.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Db(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Db()}o=a+2}return new rw(r)}Ow.ct=-1;var Vw=["userId","batchId"];function Bw(e,t){return[e,Mw(t)]}function zw(e,t,n){return[e,Mw(t),n]}var qw={},Ww=["prefixPath","collectionGroup","readTime","documentId"],Hw=["prefixPath","collectionGroup","documentId"],Gw=["collectionGroup","readTime","prefixPath","documentId"],Kw=["canonicalId","targetId"],Qw=["targetId","path"],Jw=["path","targetId"],Zw=["collectionId","parent"],Yw=["indexId","uid"],$w=["uid","sequenceNumber"],Xw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ex=["indexId","uid","orderedDocumentKey"],tx=["userId","collectionPath","documentId"],nx=["userId","collectionPath","largestBatchId"],rx=["userId","collectionGroup","largestBatchId"],ix=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ox=[].concat(h(ix),["documentOverlays"]),ax=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sx=ax,ux=[].concat(sx,["indexConfiguration","indexState","indexEntries"]),cx=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return g(n)}(gw);function lx(e,t){var n=Rb(e);return xw.M(n.ht,t)}function fx(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function hx(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function dx(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var px=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||mx.EMPTY}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,mx.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,mx.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new vx(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new vx(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new vx(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new vx(this.root,e,this.comparator,!0)}}]),e}(),vx=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return g(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),mx=function(){function e(t,n,r,i,o){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return g(e,[{key:"copy",value:function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Db();if(this.right.isRed())throw Db();var e=this.left.check();if(e!==this.right.check())throw Db();return e+(this.isRed()?0:1)}}]),e}();mx.EMPTY=null,mx.RED=!0,mx.BLACK=!1,mx.EMPTY=new(function(){function e(){d(this,e),this.size=0}return g(e,[{key:"key",get:function(){throw Db()}},{key:"value",get:function(){throw Db()}},{key:"color",get:function(){throw Db()}},{key:"left",get:function(){throw Db()}},{key:"right",get:function(){throw Db()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new mx(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var gx=function(){function e(t){d(this,e),this.comparator=t,this.data=new px(this.comparator)}return g(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new yx(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new yx(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),yx=function(){function e(t){d(this,e),this.iter=t}return g(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function kx(e){return e.hasNext()?e.getNext():void 0}var bx=function(){function e(t){d(this,e),this.fields=t,t.sort(ow.comparator)}return g(e,[{key:"unionWith",value:function(t){var n,r=new gx(ow.comparator),i=I(this.fields);try{for(i.s();!(n=i.n()).done;){var o=n.value;r=r.add(o)}}catch(c){i.e(c)}finally{i.f()}var a,s=I(t);try{for(s.s();!(a=s.n()).done;){var u=a.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=I(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return $b(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),wx=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return g(n)}(E(Error));var xx=function(e){function t(e){d(this,t),this.binaryString=e}return g(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Yb(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new wx("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();xx.EMPTY_BYTE_STRING=new xx("");var _x=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sx(e){if(Mb(!!e),"string"==typeof e){var t=0,n=_x.exec(e);if(Mb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ex(e.seconds),nanos:Ex(e.nanos)}}function Ex(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Cx(e){return"string"==typeof e?xx.fromBase64String(e):xx.fromUint8Array(e)}function Ix(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Tx(e){var t=e.mapValue.fields.__previous_value__;return Ix(t)?Tx(t):t}function Lx(e){var t=Sx(e.mapValue.fields.__local_write_time__.timestampValue);return new ew(t.seconds,t.nanos)}var Nx=g((function e(t,n,r,i,o,a,s,u,c){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),Px=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return g(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Ox={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ax={nullValue:"NULL_VALUE"};function jx(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ix(e)?4:Qx(e)?9007199254740991:10:Db()}function Dx(e,t){if(e===t)return!0;var n=jx(e);if(n!==jx(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lx(e).isEqual(Lx(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Sx(e.timestampValue),r=Sx(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Cx(e.bytesValue).isEqual(Cx(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ex(e.geoPointValue.latitude)===Ex(t.geoPointValue.latitude)&&Ex(e.geoPointValue.longitude)===Ex(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ex(e.integerValue)===Ex(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ex(e.doubleValue),r=Ex(t.doubleValue);return n===r?jw(n)===jw(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $b(e.arrayValue.values||[],t.arrayValue.values||[],Dx);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(fx(n)!==fx(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Dx(n[i],r[i])))return!1;return!0}(e,t);default:return Db()}}function Mx(e,t){return void 0!==(e.values||[]).find((function(e){return Dx(e,t)}))}function Rx(e,t){if(e===t)return 0;var n=jx(e),r=jx(t);if(n!==r)return Yb(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yb(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ex(e.integerValue||e.doubleValue),r=Ex(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Fx(e.timestampValue,t.timestampValue);case 4:return Fx(Lx(e),Lx(t));case 5:return Yb(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Cx(e),r=Cx(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Yb(n[i],r[i]);if(0!==o)return o}return Yb(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Yb(Ex(e.latitude),Ex(t.latitude));return 0!==n?n:Yb(Ex(e.longitude),Ex(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Rx(n[i],r[i]);if(o)return o}return Yb(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ox.mapValue&&t===Ox.mapValue)return 0;if(e===Ox.mapValue)return 1;if(t===Ox.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Yb(r[a],o[a]);if(0!==s)return s;var u=Rx(n[r[a]],i[o[a]]);if(0!==u)return u}return Yb(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Db()}}function Fx(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Yb(e,t);var n=Sx(e),r=Sx(t),i=Yb(n.seconds,r.seconds);return 0!==i?i:Yb(n.nanos,r.nanos)}function Ux(e){return Vx(e)}function Vx(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Sx(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Cx(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,aw.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=I(e.values||[]);try{for(i.s();!(t=i.n()).done;){var o=t.value;r?r=!1:n+=",",n+=Vx(o)}}catch(a){i.e(a)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=I(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var o=t.value;r?r=!1:n+=",",n+="".concat(o,":").concat(Vx(e.fields[o]))}}catch(a){i.e(a)}finally{i.f()}return n+"}"}(e.mapValue):Db();var t,n}function Bx(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function zx(e){return!!e&&"integerValue"in e}function qx(e){return!!e&&"arrayValue"in e}function Wx(e){return!!e&&"nullValue"in e}function Hx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Gx(e){return!!e&&"mapValue"in e}function Kx(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return hx(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Kx(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Kx(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Qx(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Jx(e){return"nullValue"in e?Ax:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Bx(Px.empty(),aw.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Db()}function Zx(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Bx(Px.empty(),aw.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ox:Db()}function Yx(e,t){var n=Rx(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function $x(e,t){var n=Rx(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Xx=function(){function e(t){d(this,e),this.value=t}return g(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Gx(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kx(t)}},{key:"setAll",value:function(e){var t=this,n=ow.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Kx(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Gx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Dx(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Gx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){hx(t,(function(t,n){return e[t]=n}));var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;delete e[o]}}catch(a){i.e(a)}finally{i.f()}}},{key:"clone",value:function(){return new e(Kx(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function e_(e){var t=[];return hx(e.fields,(function(e,n){var r=new ow([e]);if(Gx(n)){var i=e_(n.mapValue).fields;if(0===i.length)t.push(r);else{var o,a=I(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;t.push(r.child(s))}}catch(u){a.e(u)}finally{a.f()}}}else t.push(r)})),new bx(t)}var t_=function(){function e(t,n,r,i,o,a,s){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}return g(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(tw.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Xx.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Xx.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=tw.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,tw.min(),tw.min(),tw.min(),Xx.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,tw.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,tw.min(),tw.min(),Xx.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,tw.min(),tw.min(),Xx.empty(),2)}}]),e}(),n_=g((function e(t,n){d(this,e),this.position=t,this.inclusive=n}));function r_(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?aw.comparator(aw.fromName(a.referenceValue),n.key):Rx(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function i_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Dx(e.position[n],t.position[n]))return!1;return!0}var o_=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function a_(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var s_=g((function e(){d(this,e)})),u_=function(e){k(n,e);var t=_(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this)).field=e,o.op=r,o.value=i,o}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Rx(t,this.value)):null!==t&&jx(this.value)===jx(t)&&this.matchesComparison(Rx(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Db()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new y_(e,t,r):"array-contains"===t?new x_(e,r):"in"===t?new __(e,r):"not-in"===t?new S_(e,r):"array-contains-any"===t?new E_(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new k_(e,n):new b_(e,n)}}]),n}(s_),c_=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return g(n,[{key:"matches",value:function(e){return l_(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=I(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(s_);function l_(e){return"and"===e.op}function f_(e){return"or"===e.op}function h_(e){return d_(e)&&l_(e)}function d_(e){var t,n=I(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof c_)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function p_(e){if(e instanceof u_)return e.field.canonicalString()+e.op.toString()+Ux(e.value);if(h_(e))return e.filters.map((function(e){return p_(e)})).join(",");var t=e.filters.map((function(e){return p_(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function v_(e,t){return e instanceof u_?function(e,t){return t instanceof u_&&e.op===t.op&&e.field.isEqual(t.field)&&Dx(e.value,t.value)}(e,t):e instanceof c_?function(e,t){return t instanceof c_&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&v_(n,t.filters[r])}),!0)}(e,t):void Db()}function m_(e,t){var n=e.filters.concat(t);return c_.create(n,e.op)}function g_(e){return e instanceof u_?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ux(e.value))}(e):e instanceof c_?function(e){return e.op.toString()+" {"+e.getFilters().map(g_).join(" ,")+"}"}(e):"Filter"}var y_=function(e){k(n,e);var t=_(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this,e,r,i)).key=aw.fromName(i.referenceValue),o}return g(n,[{key:"matches",value:function(e){var t=aw.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(u_),k_=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=w_("in",r),i}return g(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(u_),b_=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=w_("not-in",r),i}return g(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(u_);function w_(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return aw.fromName(e.referenceValue)}))}var x_=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return qx(t)&&Mx(t.arrayValue,this.value)}}]),n}(u_),__=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Mx(this.value.arrayValue,t)}}]),n}(u_),S_=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return g(n,[{key:"matches",value:function(e){if(Mx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Mx(this.value.arrayValue,t)}}]),n}(u_),E_=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return g(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!qx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Mx(t.value.arrayValue,e)}))}}]),n}(u_),C_=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.dt=null}));function I_(e){return new C_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function T_(e){var t=Rb(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return p_(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Aw(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ux(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ux(e)})).join(",")),t.dt=n}return t.dt}function L_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!a_(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!v_(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!i_(e.startAt,t.startAt)&&i_(e.endAt,t.endAt)}function N_(e){return aw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function P_(e,t){return e.filters.filter((function(e){return e instanceof u_&&e.field.isEqual(t)}))}function O_(e,t,n){var r,i=Ax,o=!0,a=I(P_(e,t));try{for(a.s();!(r=a.n()).done;){var s=r.value,u=Ax,c=!0;switch(s.op){case"<":case"<=":u=Jx(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Ax}Yx({value:i,inclusive:o},{value:u,inclusive:c})<0&&(i=u,o=c)}}catch(h){a.e(h)}finally{a.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Yx({value:i,inclusive:o},{value:f,inclusive:n.inclusive})<0&&(i=f,o=n.inclusive);break}return{value:i,inclusive:o}}function A_(e,t,n){var r,i=Ox,o=!0,a=I(P_(e,t));try{for(a.s();!(r=a.n()).done;){var s=r.value,u=Ox,c=!0;switch(s.op){case">=":case">":u=Zx(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=Ox}$x({value:i,inclusive:o},{value:u,inclusive:c})>0&&(i=u,o=c)}}catch(h){a.e(h)}finally{a.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];$x({value:i,inclusive:o},{value:f,inclusive:n.inclusive})>0&&(i=f,o=n.inclusive);break}return{value:i,inclusive:o}}var j_=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}));function D_(e,t,n,r,i,o,a,s){return new j_(e,t,n,r,i,o,a,s)}function M_(e){return new j_(e)}function R_(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function F_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function U_(e){var t,n=I(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function V_(e){return null!==e.collectionGroup}function B_(e){var t=Rb(e);if(null===t.wt){t.wt=[];var n=U_(t),r=F_(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new o_(n)),t.wt.push(new o_(ow.keyField(),"asc"));else{var i,o=!1,a=I(t.explicitOrderBy);try{for(a.s();!(i=a.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(o=!0)}}catch(c){a.e(c)}finally{a.f()}if(!o){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new o_(ow.keyField(),u))}}}return t.wt}function z_(e){var t=Rb(e);if(!t._t)if("F"===t.limitType)t._t=I_(t.path,t.collectionGroup,B_(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=I(B_(t));try{for(i.s();!(n=i.n()).done;){var o=n.value,a="desc"===o.dir?"asc":"desc";r.push(new o_(o.field,a))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new n_(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new n_(t.startAt.position,t.startAt.inclusive):null;t._t=I_(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function q_(e,t){t.getFirstInequalityField(),U_(e);var n=e.filters.concat([t]);return new j_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function W_(e,t,n){return new j_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function H_(e,t){return L_(z_(e),z_(t))&&e.limitType===t.limitType}function G_(e){return"".concat(T_(z_(e)),"|lt:").concat(e.limitType)}function K_(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return g_(e)})).join(", "),"]")),Aw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ux(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ux(e)})).join(",")),"Target(".concat(t,")")}(z_(e)),"; limitType=").concat(e.limitType,")")}function Q_(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):aw.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=I(B_(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=I(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=r_(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,B_(e),t))&&!(e.endAt&&!function(e,t,n){var r=r_(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,B_(e),t))}(e,t)}function J_(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Z_(e){return function(t,n){var r,i=!1,o=I(B_(e));try{for(o.s();!(r=o.n()).done;){var a=r.value,s=Y_(a,t,n);if(0!==s)return s;i=i||a.field.isKeyField()}}catch(u){o.e(u)}finally{o.f()}return 0}}function Y_(e,t,n){var r=e.field.isKeyField()?aw.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Rx(r,i):Db()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Db()}}var $_=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return g(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var o=l(r.value,2),a=o[0],s=o[1];if(this.equalsFn(a,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){hx(this.inner,(function(t,n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var o=l(r.value,2),a=o[0],s=o[1];e(a,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return dx(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),X_=new px(aw.comparator);function eS(){return X_}var tS=new px(aw.comparator);function nS(){for(var e=tS,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=e.insert(a.key,a)}return e}function rS(e){var t=tS;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function iS(){return aS()}function oS(){return aS()}function aS(){return new $_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var sS=new px(aw.comparator),uS=new gx(aw.comparator);function cS(){for(var e=uS,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=e.add(a)}return e}var lS=new gx(Yb);function fS(){return lS}function hS(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jw(t)?"-0":t}}function dS(e){return{integerValue:""+e}}function pS(e,t){return Dw(t)?dS(t):hS(e,t)}var vS=g((function e(){d(this,e),this._=void 0}));function mS(e,t,n){return e instanceof kS?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ix(t)&&(t=Tx(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof bS?wS(e,t):e instanceof xS?_S(e,t):function(e,t){var n=yS(e,t),r=ES(n)+ES(e.gt);return zx(n)&&zx(e.gt)?dS(r):hS(e.serializer,r)}(e,t)}function gS(e,t,n){return e instanceof bS?wS(e,t):e instanceof xS?_S(e,t):n}function yS(e,t){return e instanceof SS?zx(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var kS=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(vS),bS=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return g(n)}(vS);function wS(e,t){var n,r=CS(t),i=I(e.elements);try{var o=function(){var e=n.value;r.some((function(t){return Dx(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var xS=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return g(n)}(vS);function _S(e,t){var n,r=CS(t),i=I(e.elements);try{var o=function(){var e=n.value;r=r.filter((function(t){return!Dx(t,e)}))};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var SS=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return g(n)}(vS);function ES(e){return Ex(e.integerValue||e.doubleValue)}function CS(e){return qx(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var IS=g((function e(t,n){d(this,e),this.field=t,this.transform=n}));var TS=g((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),LS=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return g(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function NS(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var PS=g((function e(){d(this,e)}));function OS(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new WS(e.key,LS.none()):new RS(e.key,e.data,LS.none());var n,r=e.data,i=Xx.empty(),o=new gx(ow.comparator),a=I(t.fields);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(!o.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),o=o.add(s)}}}catch(c){a.e(c)}finally{a.f()}return new FS(e.key,i,new bx(o.toArray()),LS.none())}function AS(e,t,n){e instanceof RS?function(e,t,n){var r=e.value.clone(),i=VS(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof FS?function(e,t,n){if(NS(e.precondition,t)){var r=VS(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(US(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function jS(e,t,n,r){return e instanceof RS?function(e,t,n,r){if(!NS(e.precondition,t))return n;var i=e.value.clone(),o=BS(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof FS?function(e,t,n,r){if(!NS(e.precondition,t))return n;var i=BS(e.fieldTransforms,r,t),o=t.data;return o.setAll(US(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return NS(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function DS(e,t){var n,r=null,i=I(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t.data.field(o.field),s=yS(o.transform,a||null);null!=s&&(null===r&&(r=Xx.empty()),r.set(o.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function MS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$b(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof bS&&t instanceof bS||e instanceof xS&&t instanceof xS?$b(e.elements,t.elements,Dx):e instanceof SS&&t instanceof SS?Dx(e.gt,t.gt):e instanceof kS&&t instanceof kS}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var RS=function(e){k(n,e);var t=_(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(o=t.call(this)).key=e,o.value=r,o.precondition=i,o.fieldTransforms=a,o.type=0,o}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(PS),FS=function(e){k(n,e);var t=_(n);function n(e,r,i,o){var a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(a=t.call(this)).key=e,a.data=r,a.fieldMask=i,a.precondition=o,a.fieldTransforms=s,a.type=1,a}return g(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(PS);function US(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function VS(e,t,n){var r=new Map;Mb(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,gS(a,s,n[i]))}return r}function BS(e,t,n){var r,i=new Map,o=I(e);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.transform,u=n.data.field(a.field);i.set(a.field,mS(s,u,t))}}catch(c){o.e(c)}finally{o.f()}return i}var zS,qS,WS=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(PS),HS=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(PS),GS=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return g(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&AS(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=I(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=jS(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var o,a=I(this.mutations);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.key.isEqual(e.key)&&(t=jS(s,e,t,this.localWriteTime))}}catch(u){a.e(u)}finally{a.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=oS();return this.mutations.forEach((function(i){var o=e.get(i.key),a=o.overlayedDocument,s=n.applyToLocalView(a,o.mutatedFields),u=OS(a,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(tw.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),cS())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&$b(this.mutations,e.mutations,(function(e,t){return MS(e,t)}))&&$b(this.baseMutations,e.baseMutations,(function(e,t){return MS(e,t)}))}}]),e}(),KS=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return g(e,null,[{key:"from",value:function(t,n,r){Mb(t.mutations.length===r.length);for(var i=sS,o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)}}]),e}(),QS=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return g(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),JS=g((function e(t,n){d(this,e),this.count=t,this.unchangedNames=n}));function ZS(e){switch(e){default:return Db();case Fb.CANCELLED:case Fb.UNKNOWN:case Fb.DEADLINE_EXCEEDED:case Fb.RESOURCE_EXHAUSTED:case Fb.INTERNAL:case Fb.UNAVAILABLE:case Fb.UNAUTHENTICATED:return!1;case Fb.INVALID_ARGUMENT:case Fb.NOT_FOUND:case Fb.ALREADY_EXISTS:case Fb.PERMISSION_DENIED:case Fb.FAILED_PRECONDITION:case Fb.ABORTED:case Fb.OUT_OF_RANGE:case Fb.UNIMPLEMENTED:case Fb.DATA_LOSS:return!0}}function YS(e){if(void 0===e)return Ob("GRPC error has no .code"),Fb.UNKNOWN;switch(e){case zS.OK:return Fb.OK;case zS.CANCELLED:return Fb.CANCELLED;case zS.UNKNOWN:return Fb.UNKNOWN;case zS.DEADLINE_EXCEEDED:return Fb.DEADLINE_EXCEEDED;case zS.RESOURCE_EXHAUSTED:return Fb.RESOURCE_EXHAUSTED;case zS.INTERNAL:return Fb.INTERNAL;case zS.UNAVAILABLE:return Fb.UNAVAILABLE;case zS.UNAUTHENTICATED:return Fb.UNAUTHENTICATED;case zS.INVALID_ARGUMENT:return Fb.INVALID_ARGUMENT;case zS.NOT_FOUND:return Fb.NOT_FOUND;case zS.ALREADY_EXISTS:return Fb.ALREADY_EXISTS;case zS.PERMISSION_DENIED:return Fb.PERMISSION_DENIED;case zS.FAILED_PRECONDITION:return Fb.FAILED_PRECONDITION;case zS.ABORTED:return Fb.ABORTED;case zS.OUT_OF_RANGE:return Fb.OUT_OF_RANGE;case zS.UNIMPLEMENTED:return Fb.UNIMPLEMENTED;case zS.DATA_LOSS:return Fb.DATA_LOSS;default:return Db()}}(qS=zS||(zS={}))[qS.OK=0]="OK",qS[qS.CANCELLED=1]="CANCELLED",qS[qS.UNKNOWN=2]="UNKNOWN",qS[qS.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qS[qS.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qS[qS.NOT_FOUND=5]="NOT_FOUND",qS[qS.ALREADY_EXISTS=6]="ALREADY_EXISTS",qS[qS.PERMISSION_DENIED=7]="PERMISSION_DENIED",qS[qS.UNAUTHENTICATED=16]="UNAUTHENTICATED",qS[qS.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qS[qS.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qS[qS.ABORTED=10]="ABORTED",qS[qS.OUT_OF_RANGE=11]="OUT_OF_RANGE",qS[qS.UNIMPLEMENTED=12]="UNIMPLEMENTED",qS[qS.INTERNAL=13]="INTERNAL",qS[qS.UNAVAILABLE=14]="UNAVAILABLE",qS[qS.DATA_LOSS=15]="DATA_LOSS";var $S=function(){function e(){d(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return g(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return XS}},{key:"getOrCreateInstance",value:function(){return null===XS&&(XS=new e),XS}}]),e}(),XS=null;function eE(){return new TextEncoder}var tE=new Eb([4294967295,4294967295],0);function nE(e){var t=eE().encode(e),n=new Sb;return n.update(t),new Uint8Array(n.digest())}function rE(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Eb([n,r],0),new Eb([i,o],0)]}var iE=function(){function e(t,n,r){if(d(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oE("Invalid padding: ".concat(n));if(r<0)throw new oE("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new oE("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new oE("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=Eb.fromNumber(this.It)}return g(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(Eb.fromNumber(n)));return 1===r.compare(tE)&&(r=new Eb([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=l(rE(nE(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var o=this.Et(n,r,i);if(!this.At(o))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=l(rE(nE(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var o=this.Et(n,r,i);this.Rt(o)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,o=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return o.insert(e)})),o}}]),e}(),oE=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return g(n)}(E(Error)),aE=function(){function e(t,n,r,i,o){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return g(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,sE.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(tw.min(),i,new px(Yb),eS(),cS())}}]),e}(),sE=function(){function e(t,n,r,i,o){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return g(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,cS(),cS(),cS())}}]),e}(),uE=g((function e(t,n,r,i){d(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),cE=g((function e(t,n){d(this,e),this.targetId=t,this.Vt=n})),lE=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xx.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),fE=function(){function e(){d(this,e),this.St=0,this.Dt=pE(),this.Ct=xx.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return g(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=cS(),t=cS(),n=cS();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Db()}})),new sE(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=pE()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),hE=function(){function e(t){d(this,e),this.Gt=t,this.Qt=new Map,this.jt=eS(),this.zt=dE(),this.Wt=new px(Yb)}return g(e,[{key:"Ht",value:function(e){var t,n=I(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(s){n.e(s)}finally{n.f()}var i,o=I(e.removedTargetIds);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.Yt(a,e.key,e.bt)}}catch(s){o.e(s)}finally{o.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:Db()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var o=i.target;if(N_(o))if(0===r){var a=new aw(o.path);this.Yt(n,a,t_.newNoDocument(a,tw.min()))}else Mb(1===r);else{var s=this.ie(n);if(s!==r){var u=this.re(e,s);if(0!==u){this.ee(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=$S.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,a,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(o=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var o,a,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{o=Cx(c).toUint8Array()}catch(e){if(e instanceof wx)return Ab("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{a=new iE(o,f,d)}catch(e){return Ab(e instanceof oE?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===a.It?1:i!==t-this.oe(e.targetId,a)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var o=n.Gt.ue(),a="projects/".concat(o.projectId,"/databases/").concat(o.database,"/documents/").concat(r.path.canonicalString());t.vt(a)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var o=t.se(i);if(o){if(r.current&&N_(o.target)){var a=new aw(o.target.path);null!==t.jt.get(a)||t.ae(i,a)||t.Yt(i,a,t_.newNoDocument(a,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=cS();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new aE(e,n,this.Wt,this.jt,r);return this.jt=eS(),this.zt=dE(),this.Wt=new px(Yb),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new fE,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new gx(Yb),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||Pb("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new fE),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function dE(){return new px(aw.comparator)}function pE(){return new px(aw.comparator)}var vE={asc:"ASCENDING",desc:"DESCENDING"},mE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gE={and:"AND",or:"OR"},yE=g((function e(t,n){d(this,e),this.databaseId=t,this.useProto3Json=n}));function kE(e,t){return e.useProto3Json||Aw(t)?t:{value:t}}function bE(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function wE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function xE(e,t){return bE(e,t.toTimestamp())}function _E(e){return Mb(!!e),tw.fromTimestamp(function(e){var t=Sx(e);return new ew(t.seconds,t.nanos)}(e))}function SE(e,t){return function(e){return new rw(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function EE(e){var t=rw.fromString(e);return Mb(QE(t)),t}function CE(e,t){return SE(e.databaseId,t.path)}function IE(e,t){var n=EE(t);if(n.get(1)!==e.databaseId.projectId)throw new Ub(Fb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ub(Fb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new aw(PE(n))}function TE(e,t){return SE(e.databaseId,t)}function LE(e){var t=EE(e);return 4===t.length?rw.emptyPath():PE(t)}function NE(e){return new rw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function PE(e){return Mb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function OE(e,t,n){return{name:CE(e,t),fields:n.value.mapValue.fields}}function AE(e,t,n){var r=IE(e,t.name),i=_E(t.updateTime),o=t.createTime?_E(t.createTime):tw.min(),a=new Xx({mapValue:{fields:t.fields}}),s=t_.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function jE(e,t){return"found"in t?function(e,t){Mb(!!t.found),t.found.name,t.found.updateTime;var n=IE(e,t.found.name),r=_E(t.found.updateTime),i=t.found.createTime?_E(t.found.createTime):tw.min(),o=new Xx({mapValue:{fields:t.found.fields}});return t_.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){Mb(!!t.missing),Mb(!!t.readTime);var n=IE(e,t.missing),r=_E(t.readTime);return t_.newNoDocument(n,r)}(e,t):Db()}function DE(e,t){var n;if(t instanceof RS)n={update:OE(e,t.key,t.value)};else if(t instanceof WS)n={delete:CE(e,t.key)};else if(t instanceof FS)n={update:OE(e,t.key,t.data),updateMask:KE(t.fieldMask)};else{if(!(t instanceof HS))return Db();n={verify:CE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof kS)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof bS)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof xS)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof SS)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Db()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:xE(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Db()}(e,t.precondition)),n}function ME(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?LS.updateTime(_E(e.updateTime)):void 0!==e.exists?LS.exists(e.exists):LS.none()}(t.currentDocument):LS.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Mb("REQUEST_TIME"===t.setToServerValue),n=new kS;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new bS(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new xS(i)}else"increment"in t?n=new SS(e,t.increment):Db();var o=ow.fromServerFormat(t.fieldPath);return new IS(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=IE(e,t.update.name),o=new Xx({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new bx(t.map((function(e){return ow.fromServerFormat(e)})))}(t.updateMask);return new FS(i,o,a,n,r)}return new RS(i,o,n,r)}if(t.delete){var s=IE(e,t.delete);return new WS(s,n)}if(t.verify){var u=IE(e,t.verify);return new HS(u,n)}return Db()}function RE(e,t){return{documents:[TE(e,t.path)]}}function FE(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=TE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=TE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return GE(c_.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:WE(e.field),direction:BE(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a,s=kE(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function UE(e){var t=LE(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Mb(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=function(e){var t=VE(e);return t instanceof c_&&h_(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new o_(HE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Aw(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new n_(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new n_(n,t)}(n.endAt)),D_(t,i,s,a,u,"F",c,l)}function VE(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=HE(e.unaryFilter.field);return u_.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=HE(e.unaryFilter.field);return u_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=HE(e.unaryFilter.field);return u_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=HE(e.unaryFilter.field);return u_.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Db()}}(e):void 0!==e.fieldFilter?function(e){return u_.create(HE(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Db()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return c_.create(e.compositeFilter.filters.map((function(e){return VE(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Db()}}(e.compositeFilter.op))}(e):Db()}function BE(e){return vE[e]}function zE(e){return mE[e]}function qE(e){return gE[e]}function WE(e){return{fieldPath:e.canonicalString()}}function HE(e){return ow.fromServerFormat(e.fieldPath)}function GE(e){return e instanceof u_?function(e){if("=="===e.op){if(Hx(e.value))return{unaryFilter:{field:WE(e.field),op:"IS_NAN"}};if(Wx(e.value))return{unaryFilter:{field:WE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Hx(e.value))return{unaryFilter:{field:WE(e.field),op:"IS_NOT_NAN"}};if(Wx(e.value))return{unaryFilter:{field:WE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:WE(e.field),op:zE(e.op),value:e.value}}}(e):e instanceof c_?function(e){var t=e.getFilters().map((function(e){return GE(e)}));return 1===t.length?t[0]:{compositeFilter:{op:qE(e.op),filters:t}}}(e):Db()}function KE(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function QE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var JE=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:tw.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:tw.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:xx.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=u}return g(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),ZE=g((function e(t){d(this,e),this.fe=t}));function YE(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:$E(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:CE(e,t.key),fields:t.data.value.mapValue.fields,updateTime:bE(e,t.version.toTimestamp()),createTime:bE(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:XE(t.version)};else{if(!t.isUnknownDocument())return Db();r.unknownDocument={path:n.path.toArray(),version:XE(t.version)}}return r}function $E(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function XE(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function eC(e){var t=new ew(e.seconds,e.nanoseconds);return tw.fromTimestamp(t)}function tC(e,t){for(var n=(t.baseMutations||[]).map((function(t){return ME(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return ME(e.fe,t)})),s=ew.fromMillis(t.localWriteTimeMs);return new GS(t.batchId,s,n,a)}function nC(e){var t,n,r=eC(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?eC(e.lastLimboFreeSnapshotVersion):tw.min();return void 0!==e.query.documents?(Mb(1===(n=e.query).documents.length),t=z_(M_(LE(n.documents[0])))):t=function(e){return z_(UE(e))}(e.query),new JE(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,xx.fromBase64String(e.resumeToken))}function rC(e,t){var n,r=XE(t.snapshotVersion),i=XE(t.lastLimboFreeSnapshotVersion);n=N_(t.target)?RE(e.fe,t.target):FE(e.fe,t.target);var o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:T_(t.target),readTime:r,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function iC(e){var t=UE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?W_(t,t.limit,"L"):t}function oC(e,t){return new QS(t.largestBatchId,ME(e.fe,t.overlayMutation))}function aC(e,t){var n=t.path.lastSegment();return[e,Mw(t.path.popLast()),n]}function sC(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:XE(r.readTime),documentKey:Mw(r.documentKey.path),largestBatchId:r.largestBatchId}}var uC=function(){function e(){d(this,e)}return g(e,[{key:"getBundleMetadata",value:function(e,t){return cC(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:eC(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return cC(e).put({bundleId:(n=t).id,createTime:XE(_E(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return lC(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:iC(t.bundledQuery),readTime:eC(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return lC(e).put(function(e){return{name:e.name,readTime:XE(_E(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function cC(e){return lx(e,"bundles")}function lC(e){return lx(e,"namedQueries")}var fC=function(){function e(t,n){d(this,e),this.serializer=t,this.userId=n}return g(e,[{key:"getOverlay",value:function(e,t){var n=this;return hC(e).get(aC(this.userId,t)).next((function(e){return e?oC(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=iS();return bw.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,o){var a=new QS(t,o);i.push(r.we(e,a))})),bw.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Mw(e.getCollectionPath()))}));var o=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);o.push(hC(e).J("collectionPathOverlayIndex",i))})),bw.waitFor(o)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=iS(),o=Mw(t),a=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,Number.POSITIVE_INFINITY],!0);return hC(e).j("collectionPathOverlayIndex",a).next((function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,a=oC(r.serializer,o);i.set(a.getKey(),a)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,o=this,a=iS(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return hC(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=oC(o.serializer,t);a.size()<r||s.largestBatchId===i?(a.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return a}))}},{key:"we",value:function(e,t){return hC(e).put(function(e,t,n){var r=l(aC(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:DE(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function hC(e){return lx(e,"documentOverlays")}var dC=function(){function e(){d(this,e)}return g(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ex(e.integerValue));else if("doubleValue"in e){var n=Ex(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),jw(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Cx(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?Qx(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Db()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];this.Te(o,t),this.me(n[o],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.me(o,t)}}catch(a){i.e(a)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),aw.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function pC(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function vC(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=pC(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}dC.Ve=new dC;var mC=function(){function e(){d(this,e),this.buffer=new Uint8Array(1024),this.position=0}return g(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var o=r.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}}catch(a){n.e(a)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var o=r.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}}catch(a){n.e(a)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=vC(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=vC(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),gC=function(){function e(t){d(this,e),this.je=t}return g(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),yC=function(){function e(t){d(this,e),this.je=t}return g(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),kC=function(){function e(){d(this,e),this.je=new mC,this.ze=new gC(this.je),this.We=new yC(this.je)}return g(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),bC=function(){function e(t,n,r,i){d(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return g(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function wC(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=xC(e.arrayValue,t.arrayValue))?n:0!==(n=xC(e.directionalValue,t.directionalValue))?n:aw.comparator(e.documentKey,t.documentKey)}function xC(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var _C=function(){function e(t){d(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=I(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(o){r.e(o)}finally{r.f()}}return g(e,[{key:"tn",value:function(e){Mb(e.collectionGroup===this.collectionId);var t=uw(e);if(void 0!==t&&!this.en(t))return!1;for(var n=cw(e),r=new Set,i=0,o=0;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){var a=n[i];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[o++],a))return!1}++i}for(;i<n.length;++i){var s=n[i];if(o>=this.Ye.length||!this.sn(this.Ye[o++],s))return!1}return!0}},{key:"en",value:function(e){var t,n=I(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function SC(e){var t,n;if(Mb(e instanceof u_||e instanceof c_),e instanceof u_){if(e instanceof __){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return u_.create(e.field,"==",t)})))||[];return c_.create(r,"or")}return e}var i=e.filters.map((function(e){return SC(e)}));return c_.create(i,e.op)}function EC(e){if(0===e.getFilters().length)return[];var t=LC(SC(e));return Mb(TC(t)),CC(t)||IC(t)?[t]:t.getFilters()}function CC(e){return e instanceof u_}function IC(e){return e instanceof c_&&h_(e)}function TC(e){return CC(e)||IC(e)||function(e){if(e instanceof c_&&f_(e)){var t,n=I(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!CC(r)&&!IC(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function LC(e){if(Mb(e instanceof u_||e instanceof c_),e instanceof u_)return e;if(1===e.filters.length)return LC(e.filters[0]);var t=e.filters.map((function(e){return LC(e)})),n=c_.create(t,e.op);return TC(n=OC(n))?n:(Mb(n instanceof c_),Mb(l_(n)),Mb(n.filters.length>1),n.filters.reduce((function(e,t){return NC(e,t)})))}function NC(e,t){var n;return Mb(e instanceof u_||e instanceof c_),Mb(t instanceof u_||t instanceof c_),n=e instanceof u_?t instanceof u_?function(e,t){return c_.create([e,t],"and")}(e,t):PC(e,t):t instanceof u_?PC(t,e):function(e,t){if(Mb(e.filters.length>0&&t.filters.length>0),l_(e)&&l_(t))return m_(e,t.getFilters());var n=f_(e)?e:t,r=f_(e)?t:e,i=n.filters.map((function(e){return NC(e,r)}));return c_.create(i,"or")}(e,t),OC(n)}function PC(e,t){if(l_(t))return m_(t,e.getFilters());var n=t.filters.map((function(t){return NC(e,t)}));return c_.create(n,"or")}function OC(e){if(Mb(e instanceof u_||e instanceof c_),e instanceof u_)return e;var t=e.getFilters();if(1===t.length)return OC(t[0]);if(d_(e))return e;var n=t.map((function(e){return OC(e)})),r=[];return n.forEach((function(t){t instanceof u_?r.push(t):t instanceof c_&&(t.op===e.op?r.push.apply(r,h(t.filters)):r.push(t))})),1===r.length?r[0]:c_.create(r,e.op)}var AC=function(){function e(){d(this,e),this.rn=new jC}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),bw.resolve()}},{key:"getCollectionParents",value:function(e,t){return bw.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return bw.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return bw.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return bw.resolve(null)}},{key:"getIndexType",value:function(e,t){return bw.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return bw.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return bw.resolve(null)}},{key:"getMinOffset",value:function(e,t){return bw.resolve(pw.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return bw.resolve(pw.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return bw.resolve()}},{key:"updateIndexEntries",value:function(e,t){return bw.resolve()}}]),e}(),jC=function(){function e(){d(this,e),this.index={}}return g(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new gx(rw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new gx(rw.comparator)).toArray()}}]),e}(),DC=new Uint8Array(0),MC=function(){function e(t,n){d(this,e),this.user=t,this.databaseId=n,this.on=new jC,this.un=new $_((function(e){return T_(e)}),(function(e,t){return L_(e,t)})),this.uid=t.uid||""}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var o={collectionId:r,parent:Mw(i)};return RC(e).put(o)}return bw.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Xb(t),""],!1,!0);return RC(e).j(r).next((function(e){var r,i=I(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.collectionId!==t)break;n.push(Uw(o.parent))}}catch(a){i.e(a)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=UC(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var o=r.add(i);if(t.indexState){var a=VC(e);return o.next((function(e){a.put(sC(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=UC(e),r=VC(e),i=FC(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=FC(e),i=!0,o=new Map;return bw.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),o.set(t,e)}))})).next((function(){if(i){var e=cS(),a=[];return bw.forEach(o,(function(i,o){var s;Pb("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(T_(t)));var u=function(e,t){var n=uw(t);if(void 0===n)return null;var r,i=I(P_(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var o=r.value;switch(o.op){case"array-contains-any":return o.value.arrayValue.values||[];case"array-contains":return[o.value]}}}catch(a){i.e(a)}finally{i.f()}return null}(o,i),c=function(e,t){var n,r=new Map,i=I(cw(t));try{for(i.s();!(n=i.n()).done;){var o,a=n.value,s=I(P_(e,a.fieldPath));try{for(s.s();!(o=s.n()).done;){var u=o.value;switch(u.op){case"==":case"in":r.set(a.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(a.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(o,i),l=function(e,t){var n,r=[],i=!0,o=I(cw(t));try{for(o.s();!(n=o.n()).done;){var a=n.value,s=0===a.kind?O_(e,a.fieldPath,e.startAt):A_(e,a.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){o.e(u)}finally{o.f()}return new n_(r,i)}(o,i),f=function(e,t){var n,r=[],i=!0,o=I(cw(t));try{for(o.s();!(n=o.n()).done;){var a=n.value,s=0===a.kind?A_(e,a.fieldPath,e.endAt):O_(e,a.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){o.e(u)}finally{o.f()}return new n_(r,i)}(o,i),h=n.hn(i,o,l),d=n.hn(i,o,f),p=n.ln(i,o,c),v=n.fn(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return bw.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=aw.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),a.push(n))}))}))}))})).next((function(){return a}))}return bw.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:EC(c_.create(e.filters,"and")).map((function(t){return I_(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,o,a){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.dn(t[d/c]):DC,f=s.wn(e,u,n[d%c],r),p=s._n(e,u,i[d%c],o),v=a.map((function(t){return s.wn(e,u,t,!0)}));l.push.apply(l,h(s.createRange(f,p,v)))},d=0;d<u;++d)f();return l}},{key:"wn",value:function(e,t,n,r){var i=new bC(e,aw.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new bC(e,aw.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new _C(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=I(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;n.tn(o)&&(!r||o.fields.length>r.fields.length)&&(r=o)}}catch(a){i.e(a)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return bw.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new gx(ow.comparator),r=!1,i=I(e.filters);try{for(i.s();!(t=i.n()).done;){var o,a=I(t.value.getFlattenedFilters());try{for(a.s();!(o=a.n()).done;){var s=o.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){a.e(f)}finally{a.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=I(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new kC,i=I(cw(e));try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t.data.field(o.fieldPath);if(null==a)return null;var s=r.He(o.kind);dC.Ve._e(a,s)}}catch(u){i.e(u)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new kC;return dC.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new kC;return dC.Ve._e(Bx(this.databaseId,t),n.He(function(e){var t=cw(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new kC);var i,o=0,a=I(cw(e));try{for(a.s();!(i=a.n()).done;){var s,u=i.value,c=n[o++],l=I(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.yn(t,u.fieldPath)&&qx(c))r=this.pn(r,u,c);else{var h=f.He(u.kind);dC.Ve._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){a.e(d)}finally{a.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=h(e),o=[],a=I(n.arrayValue.values||[]);try{for(a.s();!(r=a.n()).done;){var s,u=r.value,c=I(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new kC;f.seed(l.Qe()),dC.Ve._e(u,f.He(t.kind)),o.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){a.e(d)}finally{a.f()}return o}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof u_&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=UC(e),i=VC(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return bw.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new fw(t.sequenceNumber,new pw(eC(t.readTime),new aw(Uw(t.documentKey)),t.largestBatchId)):fw.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new lw(ow.fromServerFormat(n),r)}));return new sw(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Yb(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=UC(e),o=VC(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return bw.forEach(t,(function(t){return o.put(sC(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return bw.forEach(t,(function(t,i){var o=r.get(t.collectionGroup);return(o?bw.resolve(o):n.getFieldIndexes(e,t.collectionGroup)).next((function(o){return r.set(t.collectionGroup,o),bw.forEach(o,(function(r){return n.En(e,t,r).next((function(t){var o=n.An(i,r);return t.isEqual(o)?bw.resolve():n.vn(e,i,r,t,o)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return FC(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return FC(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=FC(e),i=new gx(wC);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new bC(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new gx(wC),r=this.mn(t,e);if(null==r)return n;var i=uw(t);if(null!=i){var o=e.data.field(i.fieldPath);if(qx(o)){var a,s=I(o.arrayValue.values||[]);try{for(s.s();!(a=s.n()).done;){var u=a.value;n=n.add(new bC(t.indexId,e.key,this.dn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new bC(t.indexId,e.key,DC,r));return n}},{key:"vn",value:function(e,t,n,r,i){var o=this;Pb("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var o=e.getIterator(),a=t.getIterator(),s=kx(o),u=kx(a);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=kx(a)):l?(i(s),s=kx(o)):(s=kx(o),u=kx(a))}}(r,i,wC,(function(r){a.push(o.Rn(e,t,n,r))}),(function(r){a.push(o.Pn(e,t,n,r))})),bw.waitFor(a)}},{key:"Tn",value:function(e){var t=1;return VC(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return wC(e,t)})).filter((function(e,t,n){return!t||0!==wC(e,n[t-1])}));var r=[];r.push(e);var i,o=I(n);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=wC(a,e),u=wC(a,t);if(0===s)r[0]=e.Je();else if(s>0&&u<0)r.push(a),r.push(a.Je());else if(u>0)break}}catch(d){o.e(d)}finally{o.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,DC,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,DC,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return wC(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(BC)}},{key:"getMinOffset",value:function(e,t){var n=this;return bw.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||Db()}))})).next(BC)}}]),e}();function RC(e){return lx(e,"collectionParents")}function FC(e){return lx(e,"indexEntries")}function UC(e){return lx(e,"indexConfiguration")}function VC(e){return lx(e,"indexState")}function BC(e){Mb(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;vw(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new pw(t.readTime,t.documentKey,n)}var zC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qC=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return g(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function WC(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.X({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Mb(1===s)})));var c,l=[],f=I(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=zw(t,h.key.path,n.batchId);o.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return bw.waitFor(o).next((function(){return l}))}function HC(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Db();t=e.noDocument}return JSON.stringify(t).length}qC.DEFAULT_COLLECTION_PERCENTILE=10,qC.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qC.DEFAULT=new qC(41943040,qC.DEFAULT_COLLECTION_PERCENTILE,qC.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qC.DISABLED=new qC(-1,0,0);var GC=function(){function e(t,n,r,i){d(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return g(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return QC(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,o=JC(e),a=QC(e);return a.add({}).next((function(s){Mb("number"==typeof s);var u,c=new GS(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return DE(e.fe,t)})),i=n.mutations.map((function(t){return DE(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new gx((function(e,t){return Yb(e.canonicalString(),t.canonicalString())})),d=I(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=zw(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(a.put(l)),f.push(o.put(v,qw))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[s]=c.keys()})),bw.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return QC(e).get(t).next((function(e){return e?(Mb(e.userId===n.userId),tC(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?bw.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return QC(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Mb(t.batchId>=r),o=tC(n.serializer,t)),i.done()})).next((function(){return o}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return QC(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return QC(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return tC(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Bw(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return JC(e).X({range:i},(function(r,i,a){var s=l(r,3),u=s[0],c=s[1],f=s[2],h=Uw(c);if(u===n.userId&&t.path.isEqual(h))return QC(e).get(f).next((function(e){if(!e)throw Db();Mb(e.userId===n.userId),o.push(tC(n.serializer,e))}));a.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new gx(Yb),i=[];return t.forEach((function(t){var o=Bw(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=JC(e).X({range:a},(function(e,i,o){var a=l(e,3),s=a[0],u=a[1],c=a[2],f=Uw(u);s===n.userId&&t.path.isEqual(f)?r=r.add(c):o.done()}));i.push(s)})),bw.waitFor(i).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,o=Bw(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new gx(Yb);return JC(e).X({range:a},(function(e,t,o){var a=l(e,3),u=a[0],c=a[1],f=a[2],h=Uw(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):o.done()})).next((function(){return n.Dn(e,s)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(QC(e).get(t).next((function(e){if(null===e)throw Db();Mb(e.userId===n.userId),r.push(tC(n.serializer,e))})))})),bw.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return WC(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),bw.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return bw.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return JC(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Uw(e[1]);i.push(o)}else r.done()})).next((function(){Mb(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return KC(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return ZC(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return Mb(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function KC(e,t,n){var r=Bw(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return JC(e).X({range:o,Y:!0},(function(e,n,r){var o=l(e,3),s=o[0],u=o[1];o[2];s===t&&u===i&&(a=!0),r.done()})).next((function(){return a}))}function QC(e){return lx(e,"mutations")}function JC(e){return lx(e,"documentMutations")}function ZC(e){return lx(e,"mutationQueues")}var YC=function(){function e(t){d(this,e),this.Nn=t}return g(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),$C=function(){function e(t,n){d(this,e),this.referenceDelegate=t,this.serializer=n}return g(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new YC(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return tw.fromTimestamp(new ew(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return XC(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return Mb(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,o=[];return XC(e).X((function(a,s){var u=nC(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return bw.waitFor(o)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return XC(e).X((function(e,n){var r=nC(n);t(r)}))}},{key:"$n",value:function(e){return eI(e).get("targetGlobalKey").next((function(e){return Mb(null!==e),e}))}},{key:"On",value:function(e,t){return eI(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return XC(e).put(rC(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=T_(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return XC(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var o=nC(n);L_(t,o.target)&&(i=o,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],o=tI(e);return t.forEach((function(t){var a=Mw(t.path);i.push(o.put({targetId:n,path:a})),i.push(r.referenceDelegate.addReference(e,n,t))})),bw.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=tI(e);return bw.forEach(t,(function(t){var o=Mw(t.path);return bw.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=tI(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=tI(e),i=cS();return r.X({range:n,Y:!0},(function(e,t,n){var r=Uw(e[1]),o=new aw(r);i=i.add(o)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Mw(t.path),r=IDBKeyRange.bound([n],[Xb(n)],!1,!0),i=0;return tI(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=l(e,2),o=r[0];r[1];0!==o&&(i++,n.done())})).next((function(){return i>0}))}},{key:"le",value:function(e,t){return XC(e).get(t).next((function(e){return e?nC(e):null}))}}]),e}();function XC(e){return lx(e,"targets")}function eI(e){return lx(e,"targetGlobal")}function tI(e){return lx(e,"targetDocuments")}function nI(e,t){var n=l(e,2),r=n[0],i=n[1],o=l(t,2),a=o[0],s=o[1],u=Yb(r,a);return 0===u?Yb(i,s):u}var rI=function(){function e(t){d(this,e),this.Ln=t,this.buffer=new gx(nI),this.qn=0}return g(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();nI(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),iI=function(){function e(t,n,r){d(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return g(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;Pb("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Ew(e.t0)){e.next=12;break}Pb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,yw(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),oI=function(){function e(t,n){d(this,e),this.jn=t,this.params=n}return g(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return bw.resolve(Ow.ct);var r=new rI(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Pb("LruGarbageCollector","Garbage collection skipped; disabled"),bw.resolve(zC)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Pb("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),zC):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Pb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Nb()<=us.DEBUG&&Pb("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),bw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function aI(e,t){return new oI(e,t)}var sI=function(){function e(t,n){d(this,e),this.db=t,this.garbageCollector=aI(this,n)}return g(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return uI(e,n)}},{key:"removeReference",value:function(e,t,n){return uI(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return uI(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return ZC(e).Z((function(r){return KC(e,r,t).next((function(e){return e&&(n=!0),bw.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.Yn(e,(function(a,s){if(s<=t){var u=n.Xn(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a,tw.min()),tI(e).delete([0,Mw(a.path)])}))}));i.push(u)}})).next((function(){return bw.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return uI(e,t)}},{key:"Yn",value:function(e,t){var n,r=tI(e),i=Ow.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var o=l(e,2),a=o[0],s=(o[1],r.path),u=r.sequenceNumber;0===a?(i!==Ow.ct&&t(new aw(Uw(n)),i),i=u,n=s):i=Ow.ct})).next((function(){i!==Ow.ct&&t(new aw(Uw(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function uI(e,t){return tI(e).put(function(e,t){return{targetId:0,path:Mw(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var cI=function(){function e(){d(this,e),this.changes=new $_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return g(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,t_.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?bw.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),lI=function(){function e(t){d(this,e),this.serializer=t}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return pI(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return pI(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],$E(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=t_.newInvalidDocument(t);return pI(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(vI(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:t_.newInvalidDocument(t)};return pI(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(vI(t))},(function(e,i){r={document:n.ts(t,i),size:HC(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=eS();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=eS(),i=new px(aw.comparator);return this.ns(e,t,(function(e,t){var o=n.ts(e,t);r=r.insert(e,o),i=i.insert(e,HC(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return bw.resolve();var r=new gx(gI);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(vI(r.first()),vI(r.last())),o=r.getIterator(),a=o.getNext();return pI(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=aw.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));a&&gI(a,i)<0;)n(a,null),a=o.getNext();a&&a.isEqual(i)&&(n(a,t),a=o.hasNext()?o.getNext():null),a?r.G(vI(a)):r.done()})).next((function(){for(;a;)n(a,null),a=o.hasNext()?o.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,o=t.path,a=[o.popLast().toArray(),o.lastSegment(),$E(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return pI(e).j(IDBKeyRange.bound(a,s,!0)).next((function(e){var n,o=eS(),a=I(e);try{for(a.s();!(n=a.n()).done;){var s=n.value,u=i.ts(aw.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(Q_(t,u)||r.has(u.key))&&(o=o.insert(u.key,u))}}catch(c){a.e(c)}finally{a.f()}return o}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,o=eS(),a=mI(t,n),s=mI(t,pw.max());return pI(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,s,!0)},(function(e,t,n){var a=i.ts(aw.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(o=o.insert(a.key,a)).size===r&&n.done()})).next((function(){return o}))}},{key:"newChangeBuffer",value:function(e){return new hI(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return dI(e).get("remoteDocumentGlobalKey").next((function(e){return Mb(!!e),e}))}},{key:"Zn",value:function(e,t){return dI(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=AE(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=aw.fromSegments(t.noDocument.path),i=eC(t.noDocument.readTime);n=t_.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Db();var o=aw.fromSegments(t.unknownDocument.path),a=eC(t.unknownDocument.version);n=t_.newUnknownDocument(o,a)}return t.readTime&&n.setReadTime(function(e){var t=new ew(e[0],e[1]);return tw.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(tw.min()))return n}return t_.newInvalidDocument(e)}}]),e}();function fI(e){return new lI(e)}var hI=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new $_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new gx((function(e,t){return Yb(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.us.get(o);if(n.push(t.os.removeEntry(e,o,s.readTime)),a.isValidDocument()){var u=YE(t.os.serializer,a);i=i.add(o.path.popLast());var c=HC(u);r+=c-s.size,n.push(t.os.addEntry(e,o,u))}else if(r-=s.size,t.trackRemovals){var l=YE(t.os.serializer,a.convertToNoDocument(tw.min()));n.push(t.os.addEntry(e,o,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),bw.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(cI);function dI(e){return lx(e,"remoteDocumentGlobal")}function pI(e){return lx(e,"remoteDocumentsV14")}function vI(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function mI(e,t){var n=t.documentKey.path.toArray();return[e,$E(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function gI(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,o=0;o<n.length-2&&o<r.length-2;++o)if(i=Yb(n[o],r[o]))return i;return(i=Yb(n.length,r.length))||((i=Yb(n[n.length-2],r[r.length-2]))||Yb(n[n.length-1],r[r.length-1]))}var yI=g((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),kI=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return g(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&jS(r.mutation,e,bx.empty(),ew.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,cS()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cS(),i=iS();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=nS();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=iS();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,cS())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=eS(),o=aS(),a=aS();return t.forEach((function(e,t){var a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof FS)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),jS(a.mutation,t,a.mutation.getFieldMask(),ew.now())):o.set(t.key,bx.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return o.set(e,t)})),t.forEach((function(e,t){var n;return a.set(e,new yI(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=aS(),i=new px((function(e,t){return e-t})),o=cS();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,o=I(e);try{var a=function(){var e=n.value;e.keys().forEach((function(n){var o=t.get(n);if(null!==o){var a=r.get(n)||bx.empty();a=e.applyToLocalView(o,a),r.set(n,a);var s=(i.get(e.batchId)||cS()).add(n);i=i.insert(e.batchId,s)}}))};for(o.s();!(n=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}})).next((function(){for(var a=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=oS();c.forEach((function(e){if(!o.has(e)){var n=OS(t.get(e),r.get(e));null!==n&&l.set(e,n),o=o.add(e)}})),a.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return bw.waitFor(a)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return aw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):V_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(o){var a=r-o.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):bw.resolve(iS()),s=-1,u=o;return a.next((function(t){return bw.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),o.get(t)?bw.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,o)})).next((function(){return i.computeViews(e,u,t,cS())})).next((function(e){return{batchId:s,changes:rS(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new aw(t)).next((function(e){var t=nS();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,o=nS();return this.indexManager.getCollectionParents(e,i).next((function(a){return bw.forEach(a,(function(a){var s=function(e,t){return new j_(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return r=o,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,t_.newInvalidDocument(r)))}));var n=nS();return e.forEach((function(e,i){var o=r.get(e);void 0!==o&&jS(o.mutation,i,bx.empty(),ew.now()),Q_(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),bI=function(){function e(t){d(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return g(e,[{key:"getBundleMetadata",value:function(e,t){return bw.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:_E(n.createTime)}),bw.resolve()}},{key:"getNamedQuery",value:function(e,t){return bw.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:iC(e.bundledQuery),readTime:_E(e.readTime)}}(t)),bw.resolve()}}]),e}(),wI=function(){function e(){d(this,e),this.overlays=new px(aw.comparator),this.ls=new Map}return g(e,[{key:"getOverlay",value:function(e,t){return bw.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=iS();return bw.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),bw.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),bw.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=iS(),i=t.length+1,o=new aw(t.child("")),a=this.overlays.getIteratorFrom(o);a.hasNext();){var s=a.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return bw.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new px((function(e,t){return e-t})),o=this.overlays.getIterator();o.hasNext();){var a=o.getNext().value;if(a.getKey().getCollectionGroup()===t&&a.largestBatchId>n){var s=i.get(a.largestBatchId);null===s&&(s=iS(),i=i.insert(a.largestBatchId,s)),s.set(a.getKey(),a)}}for(var u=iS(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return bw.resolve(u)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new QS(t,n));var o=this.ls.get(t);void 0===o&&(o=cS(),this.ls.set(t,o)),this.ls.set(t,o.add(n.key))}}]),e}(),xI=function(){function e(){d(this,e),this.fs=new gx(_I.ds),this.ws=new gx(_I._s)}return g(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new _I(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new _I(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new aw(new rw([])),r=new _I(n,e),i=new _I(n,e+1),o=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),o.push(e.key)})),o}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new aw(new rw([])),n=new _I(t,e),r=new _I(t,e+1),i=cS();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new _I(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),_I=function(){function e(t,n){d(this,e),this.key=t,this.As=n}return g(e,null,[{key:"ds",value:function(e,t){return aw.comparator(e.key,t.key)||Yb(e.As,t.As)}},{key:"_s",value:function(e,t){return Yb(e.As,t.As)||aw.comparator(e.key,t.key)}}]),e}(),SI=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new gx(_I.ds)}return g(e,[{key:"checkEmpty",value:function(e){return bw.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var o=new GS(i,t,n,r);this.mutationQueue.push(o);var a,s=I(r);try{for(s.s();!(a=s.n()).done;){var u=a.value;this.Rs=this.Rs.add(new _I(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return bw.resolve(o)}},{key:"lookupMutationBatch",value:function(e,t){return bw.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return bw.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return bw.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return bw.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new _I(t,0),i=new _I(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);o.push(t)})),bw.resolve(o)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new gx(Yb);return t.forEach((function(e){var t=new _I(e,0),i=new _I(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),bw.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;aw.isDocumentKey(i)||(i=i.child(""));var o=new _I(new aw(i),0),a=new gx(Yb);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)}),o),bw.resolve(this.Vs(a))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Mb(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return bw.forEach(t.mutations,(function(i){var o=new _I(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new _I(t,0),r=this.Rs.firstAfterOrEqual(n);return bw.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,bw.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),EI=function(){function e(t){d(this,e),this.Ds=t,this.docs=new px(aw.comparator),this.size=0}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return bw.resolve(n?n.document.mutableCopy():t_.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=eS();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():t_.newInvalidDocument(e))})),bw.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=eS(),o=t.path,a=new aw(o.child("")),s=this.docs.getIteratorFrom(a);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||vw(dw(l),n)<=0||(r.has(l.key)||Q_(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return bw.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Db()}},{key:"Cs",value:function(e,t){return bw.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new CI(this)}},{key:"getSize",value:function(e){return bw.resolve(this.size)}}]),e}(),CI=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).os=e,r}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),bw.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(cI),II=function(){function e(t){d(this,e),this.persistence=t,this.xs=new $_((function(e){return T_(e)}),L_),this.lastRemoteSnapshotVersion=tw.min(),this.highestTargetId=0,this.Ns=0,this.ks=new xI,this.targetCount=0,this.Ms=YC.kn()}return g(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),bw.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return bw.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return bw.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),bw.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),bw.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new YC(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,bw.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),bw.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,bw.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,o=[];return this.xs.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.xs.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),bw.waitFor(o).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return bw.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return bw.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),bw.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),bw.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),bw.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return bw.resolve(n)}},{key:"containsKey",value:function(e,t){return bw.resolve(this.ks.containsKey(t))}}]),e}(),TI=function(){function e(t,n){var r=this;d(this,e),this.$s={},this.overlays={},this.Os=new Ow(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new II(this),this.indexManager=new AC,this.remoteDocumentCache=new EI((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new ZE(n),this.qs=new bI(this.serializer)}return g(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new wI,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new SI(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;Pb("MemoryPersistence","Starting transaction:",e);var i=new LI(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return bw.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),LI=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return g(n)}(gw),NI=function(){function e(t){d(this,e),this.persistence=t,this.Qs=new xI,this.js=null}return g(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw Db()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),bw.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),bw.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),bw.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bw.forEach(this.Ws,(function(r){var i=aw.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,tw.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return bw.or([function(){return bw.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),PI=function(){function e(t){d(this,e),this.serializer=t}return g(e,[{key:"O",value:function(e,t,n,r){var i=this,o=new ww("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vw,{unique:!0}),e.createObjectStore("documentMutations")}(e),OI(e),function(e){e.createObjectStore("remoteDocuments")}(e));var a=bw.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),OI(e)),a=a.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:tw.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vw,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return bw.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Ys(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.Zs(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.ti(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.ei(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(a=a.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:tx});t.createIndex("collectionPathOverlayIndex",nx,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",rx,{unique:!1})}(e)}))),n<13&&r>=13&&(a=a.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Ww});t.createIndex("documentKeyIndex",Hw),t.createIndex("collectionGroupIndex",Gw)}(e)})).next((function(){return i.ni(e,o)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(a=a.next((function(){return i.si(e,o)}))),n<15&&r>=15&&(a=a.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Yw}).createIndex("sequenceNumberIndex",$w,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Xw}).createIndex("documentKeyIndex",ex,{unique:!1})}(e)}))),a}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=HC(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return bw.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return bw.forEach(r,(function(r){Mb(r.userId===n.userId);var i=tC(t.serializer,r);return WC(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var o=new rw(n),a=function(e){return[0,Mw(e)]}(o);r.push(t.get(a).next((function(n){return n?bw.resolve():function(n){return t.put({targetId:0,path:Mw(n),sequenceNumber:e.highestListenSequenceNumber})}(o)})))})).next((function(){return bw.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Zw});var n=t.store("collectionParents"),r=new jC,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Mw(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new rw(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),o=(n[2],Uw(r));return i(o.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=nC(r),o=rC(t.serializer,i);return n.put(o)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,o=t.store("remoteDocumentsV14"),a=(i=n,i.document?new aw(rw.fromString(i.document.name).popFirst(5)):i.noDocument?aw.fromSegments(i.noDocument.path):i.unknownDocument?aw.fromSegments(i.unknownDocument.path):Db()).path.toArray(),s={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(o.put(s))})).next((function(){return bw.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=fI(this.serializer),o=new TI(NI.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:cS();tC(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),bw.forEach(r,(function(e,r){var a=new Ib(r),s=fC.de(n.serializer,a),u=o.getIndexManager(a),c=GC.de(a,n.serializer,u,o.referenceDelegate);return new kI(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new cx(t,Ow.ct),e).next()}))}))}}]),e}();function OI(e){e.createObjectStore("targetDocuments",{keyPath:Qw}).createIndex("documentTargetsIndex",Jw,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Kw,{unique:!0}),e.createObjectStore("targetGlobal")}var AI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",jI=function(){function e(t,n,r,i,o,a,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(d(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=o,this.window=a,this.document=s,this.ri=c,this.oi=l,this.ui=f,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new Ub(Fb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sI(this,i),this.di=n+"main",this.serializer=new ZE(u),this.wi=new xw(this.di,this.ui,new PI(this.serializer)),this.Bs=new $C(this.referenceDelegate,this.serializer),this.remoteDocumentCache=fI(this.serializer),this.qs=new uC,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&Ob("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return g(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ub(Fb.FAILED_PRECONDITION,AI);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new Ow(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=It(Et().mark((function n(r){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=It(Et().mark((function t(n){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return MI(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if(Ew(t))return Pb("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Pb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return DI(e).get("owner").next((function(e){return bw.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return MI(e).delete(this.clientId)}},{key:"bi",value:function(){var e=It(Et().mark((function e(){var t,n,r,i,o=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=lx(e,"clientMetadata");return t.j().next((function(e){var n=o.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return bw.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=I(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(a){n.e(a)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?bw.resolve(!0):DI(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new Ub(Fb.FAILED_PRECONDITION,AI);return!1}}return!(!t.networkEnabled||!t.inForeground)||MI(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Pb("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=It(Et().mark((function e(){var t=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new cx(e,Ow.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return MI(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return GC.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new MC(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return fC.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;Pb("IndexedDbPersistence","Starting transaction:",e);var i,o,a="readonly"===t?"readonly":"readwrite",s=15===(i=this.ui)?ux:14===i?sx:13===i?ax:12===i?ox:11===i?ix:void Db();return this.wi.runTransaction(e,a,s,(function(i){return o=new cx(i,r.Os?r.Os.next():Ow.ct),"readwrite-primary"===t?r.Ti(o).next((function(e){return!!e||r.Ei(o)})).next((function(t){if(!t)throw Ob("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new Ub(Fb.FAILED_PRECONDITION,mw);return n(o)})).next((function(e){return r.vi(o).next((function(){return e}))})):r.Oi(o).next((function(){return n(o)}))})).then((function(e){return o.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return DI(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ub(Fb.FAILED_PRECONDITION,AI)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return DI(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=DI(e);return n.get("owner").next((function(e){return t.Ri(e)?(Pb("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):bw.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ob("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!Ua()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Pb("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ob("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(Lr){Ob("Failed to set zombie client id.",Lr)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(Lr){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return xw.D()}}]),e}();function DI(e){return lx(e,"owner")}function MI(e){return lx(e,"clientMetadata")}function RI(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var FI=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return g(e,null,[{key:"Li",value:function(t,n){var r,i=cS(),o=cS(),a=I(n.docChanges);try{for(a.s();!(r=a.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}}}catch(u){a.e(u)}finally{a.f()}return new e(t,n.fromCache,i,o)}}]),e}(),UI=function(){function e(){d(this,e),this.qi=!1}return g(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(o){return o||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(R_(t))return bw.resolve(null);var r=z_(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=W_(t,null,"F"),r=z_(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var o=cS.apply(void 0,h(i));return n.Ui.getDocuments(e,o).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var a=n.ji(t,i);return n.zi(t,a,o,r.readTime)?n.Ki(e,W_(t,null,"F")):n.Wi(e,a,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return R_(t)||r.isEqual(tw.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(o){var a=i.ji(t,o);return i.zi(t,a,n,r)?i.Qi(e,t):(Nb()<=us.DEBUG&&Pb("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),K_(t)),i.Wi(e,a,t,hw(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new gx(Z_(e));return t.forEach((function(t,r){Q_(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return Nb()<=us.DEBUG&&Pb("QueryEngine","Using full collection scan to execute query:",K_(t)),this.Ui.getDocumentsMatchingQuery(e,t,pw.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),VI=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new px(Yb),this.Yi=new $_((function(e){return T_(e)}),L_),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return g(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kI(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function BI(e,t,n,r){return new VI(e,t,n,r)}function zI(e,t){return qI.apply(this,arguments)}function qI(){return qI=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rb(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,o=[],a=[],s=cS(),u=I(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;o.push(c.batchId);var l,f=I(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=I(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;a.push(v.batchId);var m,g=I(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{er:e,removedBatchIds:o,addedBatchIds:a}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),qI.apply(this,arguments)}function WI(e,t){var n=Rb(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=bw.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Mb(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=cS(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function HI(e){var t=Rb(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function GI(e,t){var n=Rb(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var a=[];t.targetChanges.forEach((function(o,s){var u=i.get(s);if(u){a.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,s).next((function(){return n.Bs.addMatchingKeys(e,o.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(xx.EMPTY_BYTE_STRING,tw.min()).withLastLimboFreeSnapshotVersion(tw.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,o)&&a.push(n.Bs.updateTargetData(e,c))}}));var s=eS(),u=cS();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(KI(e,o,t.documentUpdates).next((function(e){s=e.nr,u=e.sr}))),!r.isEqual(tw.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(c)}return bw.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function KI(e,t,n){var r=cS(),i=cS();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=eS();return n.forEach((function(n,o){var a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(tw.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Pb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{nr:r,sr:i}}))}function QI(e,t){var n=Rb(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function JI(e,t){var n=Rb(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,bw.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new JE(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function ZI(e,t,n){return YI.apply(this,arguments)}function YI(){return YI=It(Et().mark((function e(t,n,r){var i,o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Rb(t),o=i.Ji.get(n),a=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",a,(function(e){return i.persistence.referenceDelegate.removeTarget(e,o)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Ew(e.t1)){e.next=12;break}throw e.t1;case 12:Pb("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(o.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),YI.apply(this,arguments)}function $I(e,t,n){var r=Rb(e),i=tw.min(),o=cS();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Rb(e),i=r.Yi.get(n);return void 0!==i?bw.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,z_(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:tw.min(),n?o:cS())})).next((function(e){return tT(r,J_(t),e),{documents:e,ir:o}}))}))}function XI(e,t){var n=Rb(e),r=Rb(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function eT(e,t){var n=Rb(e),r=n.Xi.get(t)||tw.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,hw(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return tT(n,t,e),e}))}function tT(e,t,n){var r=e.Xi.get(t)||tw.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function nT(e,t,n,r){return rT.apply(this,arguments)}function rT(){return rT=It(Et().mark((function e(t,n,r,i){var o,a,s,u,c,l,f,h,d,p;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Rb(t),a=cS(),s=eS(),u=I(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.rr(l.metadata.name),l.document&&(a=a.add(f)),(h=n.ur(l)).setReadTime(n.cr(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=o.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,JI(o,function(e){return z_(M_(rw.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",o.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return KI(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return o.Bs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return o.Bs.addMatchingKeys(e,a,p.targetId)})).next((function(){return o.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)}))),rT.apply(this,arguments)}function iT(e,t){return oT.apply(this,arguments)}function oT(){return oT=It(Et().mark((function e(t,n){var r,i,o,a=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:cS(),e.next=3,JI(t,z_(iC(n.bundledQuery)));case 3:return i=e.sent,o=Rb(t),e.abrupt("return",o.persistence.runTransaction("Save named query","readwrite",(function(e){var t=_E(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return o.qs.saveNamedQuery(e,n);var a=i.withResumeToken(xx.EMPTY_BYTE_STRING,t);return o.Ji=o.Ji.insert(a.targetId,a),o.Bs.updateTargetData(e,a).next((function(){return o.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return o.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return o.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),oT.apply(this,arguments)}function aT(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function sT(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function uT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var cT=function(){function e(t,n,r,i){d(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return g(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&((a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ub(o.error.code,o.error.message))),a?new e(t,n,o.state,i):(Ob("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),lT=function(){function e(t,n,r){d(this,e),this.targetId=t,this.state=n,this.error=r}return g(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&((o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ub(i.error.code,i.error.message))),o?new e(t,i.state,r):(Ob("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),fT=function(){function e(t,n){d(this,e),this.clientId=t,this.activeTargetIds=n}return g(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=fS(),a=0;i&&a<r.activeTargetIds.length;++a)i=Dw(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Ob("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),hT=function(){function e(t,n){d(this,e),this.clientId=t,this.onlineState=n}return g(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ob("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),dT=function(){function e(){d(this,e),this.activeTargetIds=fS()}return g(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),pT=function(){function e(t,n,r,i,o){d(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new px(Yb),this.started=!1,this.yr=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=aT(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new dT),this.Tr=new RegExp("^firestore_clients_".concat(a,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(a,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(a,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return g(e,[{key:"start",value:function(){var e=It(Et().mark((function e(){var t,n,r,i,o,a,s,u,c,l,f,h=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=I(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(o=this.getItem(aT(this.persistenceKey,i)))&&(a=fT.ar(i,o))&&(this.gr=this.gr.insert(a.clientId,a));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(s=this.storage.getItem(this.vr))&&(u=this.br(s))&&this.Vr(u),c=I(this.yr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.mr(f)}catch(d){c.e(d)}finally{c.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(uT(this.persistenceKey,e));if(n){var r=lT.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(uT(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Pb("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Pb("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Pb("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Pb("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void Ob("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(It(Et().mark((function e(){var r,i,o,a,s,u,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(o=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(o));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(a=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(a));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(s));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}u=function(e){var t=Ow.ct;if(null!=e)try{var n=JSON.parse(e);Mb("number"==typeof n),t=n}catch(e){Ob("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Ow.ct&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Gr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new cT(this.currentUser,e,t,n),i=sT(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=sT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=uT(this.persistenceKey,e),i=new lT(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return fT.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return cT.ar(new Ib(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return lT.ar(r,t)}},{key:"br",value:function(e){return hT.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:Pb("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),o=this.Sr(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.Wr(a,s).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=fS();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),vT=function(){function e(){d(this,e),this.Hr=new dT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return g(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new dT,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),mT=function(){function e(){d(this,e)}return g(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),gT=function(){function e(){var t=this;d(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return g(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){Pb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=I(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){Pb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=I(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),yT=null;function kT(){return null===yT?yT=268435456+Math.round(2147483648*Math.random()):yT++,"0x"+yT.toString(16)}var bT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},wT=function(){function e(t){d(this,e),this.ro=t.ro,this.oo=t.oo}return g(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),xT="WebChannelConnection",_T=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return g(n,[{key:"Ao",value:function(e,t,n,r){var i=kT();return new Promise((function(o,a){var s=new _b;s.setWithCredentials(!0),s.listenOnce(yb.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case gb.NO_ERROR:var t=s.getResponseJson();Pb(xT,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case gb.TIMEOUT:Pb(xT,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Ub(Fb.DEADLINE_EXCEEDED,"Request time out"));break;case gb.HTTP_ERROR:var n=s.getStatus();if(Pb(xT,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Fb).indexOf(t)>=0?t:Fb.UNKNOWN}(u.status);a(new Ub(c,u.message))}else a(new Ub(Fb.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Ub(Fb.UNAVAILABLE,"Connection failed."));break;default:Db()}}finally{Pb(xT,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Pb(xT,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=kT(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vb(),a=mb(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new wb({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");Pb(xT,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=o.createWebChannel(c,s),f=!1,h=!1,d=new wT({ro:function(t){h?Pb(xT,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(Pb(xT,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),Pb(xT,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,xb.EventType.OPEN,(function(){h||Pb(xT,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,xb.EventType.CLOSE,(function(){h||(h=!0,Pb(xT,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,xb.EventType.ERROR,(function(t){h||(h=!0,Ab(xT,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new Ub(Fb.UNAVAILABLE,"The operation could not be completed")))})),p(l,xb.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];Mb(!!i);var o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){Pb(xT,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);var s=a.status,u=function(e){var t=zS[e];if(void 0!==t)return YS(t)}(s),c=a.message;void 0===u&&(u=Fb.INTERNAL,c="Unknown error status: "+s+" with message "+a.message),h=!0,d.wo(new Ub(u,c)),l.close()}else Pb(xT,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(a,kb.STAT_EVENT,(function(t){t.stat===bb.PROXY?Pb(xT,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===bb.NOPROXY&&Pb(xT,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return g(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var o=kT(),a=this.To(e,t);Pb("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),a,n);var s={};return this.Eo(s,r,i),this.Ao(e,a,s,n).then((function(t){return Pb("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t}),(function(t){throw Ab("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Tb,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=bT[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function ST(){return"undefined"!=typeof window?window:null}function ET(){return"undefined"!=typeof document?document:null}function CT(e){return new yE(e,!0)}var IT=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return g(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&Pb("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),TT=function(){function e(t,n,r,i,o,a,s,u){d(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new IT(t,n)}return g(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===Fb.RESOURCE_EXHAUSTED?(Ob(n.toString()),Ob("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===Fb.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],o=r[1];e.Fo===n&&e.Zo(i,o)}),(function(n){t((function(){var t=new Ub(Fb.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(It(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return Pb("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(Pb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),LT=function(e){k(n,e);var t=_(n);function n(e,r,i,o,a,s){var u;return d(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,o,s)).serializer=a,u}return g(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Db()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Mb(void 0===t||"string"==typeof t),xx.fromBase64String(t||"")):(Mb(void 0===t||t instanceof Uint8Array),xx.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){var t=void 0===e.code?Fb.UNKNOWN:YS(e.code);return new Ub(t,e.message||"")}(a);n=new lE(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=IE(e,u.document.name),l=_E(u.document.updateTime),f=u.document.createTime?_E(u.document.createTime):tw.min(),h=new Xx({mapValue:{fields:u.document.fields}}),d=t_.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new uE(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=IE(e,m.document),y=m.readTime?_E(m.readTime):tw.min(),k=t_.newNoDocument(g,y),b=m.removedTargetIds||[];n=new uE([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=IE(e,w.document),_=w.removedTargetIds||[];n=new uE([],_,x,null)}else{if(!("filter"in t))return Db();t.filter;var S=t.filter;S.targetId;var E=S.count,C=void 0===E?0:E,I=S.unchangedNames,T=new JS(C,I),L=S.targetId;n=new cE(L,T)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return tw.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?tw.min():t.readTime?_E(t.readTime):tw.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=NE(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=N_(r)?{documents:RE(e,r)}:{query:FE(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=wE(e,t.resumeToken);var i=kE(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(tw.min())>0){n.readTime=bE(e,t.snapshotVersion.toTimestamp());var o=kE(e,t.expectedCount);null!==o&&(n.expectedCount=o)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Db()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=NE(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(TT),NT=function(e){k(n,e);var t=_(n);function n(e,r,i,o,a,s){var u;return d(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,o,s)).serializer=a,u.ru=!1,u}return g(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,Pu(b(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(Mb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(Mb(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?_E(e.updateTime):_E(t);return n.isEqual(tw.min())&&(n=_E(t)),new TS(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=_E(e.commitTime);return this.listener.cu(n,t)}return Mb(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=NE(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return DE(t.serializer,e)}))};this.Wo(n)}}]),n}(TT),PT=function(e){k(n,e);var t=_(n);function n(e,r,i,o){var a;return d(this,n),(a=t.call(this)).authCredentials=e,a.appCheckCredentials=r,a.connection=i,a.serializer=o,a.lu=!1,a}return g(n,[{key:"fu",value:function(){if(this.lu)throw new Ub(Fb.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=l(i,2),a=o[0],s=o[1];return r.connection.Io(e,t,n,a,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Fb.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ub(Fb.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var a=l(o,2),s=a[0],u=a[1];return i.connection.vo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Fb.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Ub(Fb.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return g((function e(){d(this,e)}))}());var OT=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return g(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Ob(t),this.mu=!1):Pb("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),AT=g((function e(t,n,r,i,o){var a=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr((function(e){r.enqueueAndForget(It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=WT(a),!e.t0){e.next=5;break}return Pb("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Rb(t)).vu.add(4),e.next=4,MT(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,jT(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(a);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new OT(r,i)}));function jT(e){return DT.apply(this,arguments)}function DT(){return DT=It(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!WT(t)){e.next=18;break}n=I(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),DT.apply(this,arguments)}function MT(e){return RT.apply(this,arguments)}function RT(){return RT=It(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=I(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),RT.apply(this,arguments)}function FT(e,t){var n=Rb(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),qT(n)?zT(n):kL(n).Ko()&&VT(n,t))}function UT(e,t){var n=Rb(e),r=kL(n);n.Au.delete(t),r.Ko()&&BT(n,t),0===n.Au.size&&(r.Ko()?r.jo():WT(n)&&n.bu.set("Unknown"))}function VT(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(tw.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}kL(e).su(t)}function BT(e,t){e.Vu.qt(t),kL(e).iu(t)}function zT(e){e.Vu=new hE({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),kL(e).start(),e.bu.gu()}function qT(e){return WT(e)&&!kL(e).Uo()&&e.Au.size>0}function WT(e){return 0===Rb(e).vu.size}function HT(e){e.Vu=void 0}function GT(e){return KT.apply(this,arguments)}function KT(){return KT=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){VT(t,e)}));case 1:case"end":return e.stop()}}),e)}))),KT.apply(this,arguments)}function QT(e,t){return JT.apply(this,arguments)}function JT(){return JT=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:HT(t),qT(t)?(t.bu.Iu(n),zT(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),JT.apply(this,arguments)}function ZT(e,t,n){return YT.apply(this,arguments)}function YT(){return YT=It(Et().mark((function e(t,n,r){var i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof lE&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=It(Et().mark((function e(t,n){var r,i,o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=I(n.targetIds),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=14;break}if(a=o.value,e.t0=t.Au.has(a),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(a,r);case 10:t.Au.delete(a),t.Vu.removeTarget(a);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Pb("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,$T(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof uE?t.Vu.Ht(n):n instanceof cE?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(tw.min())){e.next=29;break}return e.prev=14,e.next=17,HI(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(xx.EMPTY_BYTE_STRING,r.snapshotVersion)),BT(e,t);var i=new JE(r.target,t,n,r.sequenceNumber);VT(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Pb("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,$T(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),YT.apply(this,arguments)}function $T(e,t,n){return XT.apply(this,arguments)}function XT(){return XT=It(Et().mark((function e(t,n,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ew(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,MT(t);case 5:t.bu.set("Offline"),r||(r=function(){return HI(t.localStore)}),t.asyncQueue.enqueueRetryable(It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pb("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,jT(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),XT.apply(this,arguments)}function eL(e,t){return t().catch((function(n){return $T(e,n,t)}))}function tL(e){return nL.apply(this,arguments)}function nL(){return nL=It(Et().mark((function e(t){var n,r,i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Rb(t),r=bL(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!rL(n)){e.next=19;break}return e.prev=3,e.next=6,QI(n.localStore,i);case 6:if(null!==(o=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=o.batchId,iL(n,o),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,$T(n,e.t0);case 17:e.next=2;break;case 19:oL(n)&&aL(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),nL.apply(this,arguments)}function rL(e){return WT(e)&&e.Eu.length<10}function iL(e,t){e.Eu.push(t);var n=bL(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function oL(e){return WT(e)&&!bL(e).Uo()&&e.Eu.length>0}function aL(e){bL(e).start()}function sL(e){return uL.apply(this,arguments)}function uL(){return uL=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bL(t).hu();case 1:case"end":return e.stop()}}),e)}))),uL.apply(this,arguments)}function cL(e){return lL.apply(this,arguments)}function lL(){return lL=It(Et().mark((function e(t){var n,r,i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=bL(t),r=I(t.Eu);try{for(r.s();!(i=r.n()).done;)o=i.value,n.uu(o.mutations)}catch(a){r.e(a)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),lL.apply(this,arguments)}function fL(e,t,n){return hL.apply(this,arguments)}function hL(){return hL=It(Et().mark((function e(t,n,r){var i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),o=KS.from(i,n,r),e.next=3,eL(t,(function(){return t.remoteSyncer.applySuccessfulWrite(o)}));case 3:return e.next=5,tL(t);case 5:case"end":return e.stop()}}),e)}))),hL.apply(this,arguments)}function dL(e,t){return pL.apply(this,arguments)}function pL(){return pL=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&bL(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=It(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ZS(i=n.code)||i===Fb.ABORTED){e.next=7;break}return r=t.Eu.shift(),bL(t).Qo(),e.next=5,eL(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,tL(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:oL(t)&&aL(t);case 5:case"end":return e.stop()}}),e)}))),pL.apply(this,arguments)}function vL(e,t){return mL.apply(this,arguments)}function mL(){return mL=It(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Rb(t)).asyncQueue.verifyOperationInProgress(),Pb("RemoteStore","RemoteStore received new credentials"),i=WT(r),r.vu.add(3),e.next=6,MT(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,jT(r);case 12:case"end":return e.stop()}}),e)}))),mL.apply(this,arguments)}function gL(e,t){return yL.apply(this,arguments)}function yL(){return yL=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rb(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,jT(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,MT(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),yL.apply(this,arguments)}function kL(e){return e.Su||(e.Su=function(e,t,n){var r=Rb(e);return r.fu(),new LT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:GT.bind(null,e),ao:QT.bind(null,e),nu:ZT.bind(null,e)}),e.Ru.push(function(){var t=It(Et().mark((function t(n){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),qT(e)?zT(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:HT(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function bL(e){return e.Du||(e.Du=function(e,t,n){var r=Rb(e);return r.fu(),new NT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:sL.bind(null,e),ao:dL.bind(null,e),au:cL.bind(null,e),cu:fL.bind(null,e)}),e.Ru.push(function(){var t=It(Et().mark((function t(n){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,tL(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(Pb("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var wL=function(){function e(t,n,r,i,o){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return g(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ub(Fb.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a}}]),e}();function xL(e,t){if(Ob("AsyncQueue","".concat(t,": ").concat(e)),Ew(e))return new Ub(Fb.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var _L=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||aw.comparator(e.key,n.key)}:function(e,t){return aw.comparator(e.key,t.key)},this.keyedMap=nS(),this.sortedSet=new px(this.comparator)}return g(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),SL=function(){function e(){d(this,e),this.Cu=new px(aw.comparator)}return g(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Db():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),EL=function(){function e(t,n,r,i,o,a,s,u,c){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return g(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&H_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,o){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,_L.emptySet(n),a,r,i,!0,!1,o)}}]),e}(),CL=g((function e(){d(this,e),this.Nu=void 0,this.listeners=[]})),IL=g((function e(){d(this,e),this.queries=new $_((function(e){return G_(e)}),H_),this.onlineState="Unknown",this.ku=new Set}));function TL(e,t){return LL.apply(this,arguments)}function LL(){return LL=It(Et().mark((function e(t,n){var r,i,o,a,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rb(t),i=n.query,o=!1,(a=r.queries.get(i))||(o=!0,a=new CL),!o){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:a.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=xL(e.t0,"Initialization of query '".concat(K_(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,a),a.listeners.push(n),n.Mu(r.onlineState),a.Nu&&n.$u(a.Nu)&&jL(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),LL.apply(this,arguments)}function NL(e,t){return PL.apply(this,arguments)}function PL(){return PL=It(Et().mark((function e(t,n){var r,i,o,a,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rb(t),i=n.query,o=!1,(a=r.queries.get(i))&&(s=a.listeners.indexOf(n))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),!o){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),PL.apply(this,arguments)}function OL(e,t){var n,r=Rb(e),i=!1,o=I(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a.query,u=r.queries.get(s);if(u){var c,l=I(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(a)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Nu=a}}}catch(f){o.e(f)}finally{o.f()}i&&jL(r)}function AL(e,t,n){var r=Rb(e),i=r.queries.get(t);if(i){var o,a=I(i.listeners);try{for(a.s();!(o=a.n()).done;){o.value.onError(n)}}catch(s){a.e(s)}finally{a.f()}}r.queries.delete(t)}function jL(e){e.ku.forEach((function(e){e.next()}))}var DL=function(){function e(t,n,r){d(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return g(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=I(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}e=new EL(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var o=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),o=!0):this.qu(e,this.onlineState)&&(this.Uu(e),o=!0),this.Bu=e,o}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=EL.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),ML=function(){function e(t,n){d(this,e),this.Gu=t,this.byteLength=n}return g(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),RL=function(){function e(t){d(this,e),this.serializer=t}return g(e,[{key:"rr",value:function(e){return IE(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?AE(this.serializer,e.document,!1):t_.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return _E(e)}}]),e}(),FL=function(){function e(t,n,r){d(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=UL(t)}return g(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=rw.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new RL(this.serializer),i=I(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.metadata.queries){var a,s=r.rr(o.metadata.name),u=I(o.metadata.queries);try{for(u.s();!(a=u.n()).done;){var c=a.value,l=(n.get(c)||cS()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=It(Et().mark((function e(){var t,n,r,i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nT(this.localStore,new RL(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=I(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return o=i.value,e.next=11,iT(this.localStore,o,n.get(o.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function UL(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var VL=g((function e(t){d(this,e),this.key=t})),BL=g((function e(t){d(this,e),this.key=t})),zL=function(){function e(t,n){d(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=cS(),this.mutatedKeys=cS(),this.tc=Z_(t),this.ec=new _L(this.tc)}return g(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new SL,i=t?t.ec:this.ec,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Q_(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.tc(f,u)>0||c&&n.tc(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){var l="F"===this.query.limitType?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ec:a,ic:r,zi:s,mutatedKeys:o}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var o=e.ic.xu();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Db()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var a=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,u=s!==this.Xu;return this.Xu=s,0!==o.length||u?{snapshot:new EL(this.query,e.ec,i,o,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new SL,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=cS(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new BL(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new VL(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=cS();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return EL.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),qL=g((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),WL=g((function e(t){d(this,e),this.key=t,this.fc=!1})),HL=function(){function e(t,n,r,i,o,a){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new $_((function(e){return G_(e)}),H_),this._c=new Map,this.mc=new Set,this.gc=new px(aw.comparator),this.yc=new Map,this.Ic=new xI,this.Tc={},this.Ec=new Map,this.Ac=YC.Mn(),this.onlineState="Unknown",this.vc=void 0}return g(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function GL(e,t){return KL.apply(this,arguments)}function KL(){return KL=It(Et().mark((function e(t,n){var r,i,o,a,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=UN(t),!(a=r.wc.get(n))){e.next=6;break}i=a.targetId,r.sharedClientState.addLocalQueryTarget(i),o=a.view.lc(),e.next=15;break;case 6:return e.next=8,JI(r.localStore,z_(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,QL(r,n,i,"current"===u,s.resumeToken);case 13:o=e.sent,r.isPrimaryClient&&FT(r.remoteStore,s);case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)}))),KL.apply(this,arguments)}function QL(e,t,n,r,i){return JL.apply(this,arguments)}function JL(){return JL=It(Et().mark((function e(t,n,r,i,o){var a,s,u,c,l,f;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=It(Et().mark((function e(t,n,r,i){var o,a,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.view.sc(r),e.t0=o.zi,!e.t0){e.next=6;break}return e.next=5,$I(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,o)}));case 5:o=e.sent;case 6:return a=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(o,t.isPrimaryClient,a),e.abrupt("return",(vN(t,n.targetId,s.cc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,$I(t.localStore,n,!0);case 3:return a=e.sent,s=new zL(n,a.ir),u=s.sc(a.documents),c=sE.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,o),l=s.applyChanges(u,t.isPrimaryClient,c),vN(t,r,l.cc),f=new qL(n,r,s),e.abrupt("return",(t.wc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),JL.apply(this,arguments)}function ZL(e,t){return YL.apply(this,arguments)}function YL(){return YL=It(Et().mark((function e(t,n){var r,i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rb(t),i=r.wc.get(n),!((o=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,o.filter((function(e){return!H_(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,ZI(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),UT(r.remoteStore,i.targetId),dN(r,i.targetId)})).catch(yw);case 9:e.next=14;break;case 11:return dN(r,i.targetId),e.next=14,ZI(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),YL.apply(this,arguments)}function $L(e,t,n){return XL.apply(this,arguments)}function XL(){return XL=It(Et().mark((function e(t,n,r){var i,o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=VN(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Rb(e),o=ew.now(),a=t.reduce((function(e,t){return e.add(t.key)}),cS());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=eS(),u=cS();return i.Zi.getEntries(e,a).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var a,s=[],u=I(t);try{for(u.s();!(a=u.n()).done;){var c=a.value,l=DS(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new FS(c.key,l,e_(l.value.mapValue),LS.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,o,s,t)})).next((function(t){r=t;var o=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,o)}))})).then((function(){return{batchId:r.batchId,changes:rS(n)}}))}(i.localStore,n);case 4:return o=e.sent,i.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new px(Yb)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,o.batchId,r),e.next=9,yN(i,o.changes);case 9:return e.next=11,tL(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),a=xL(e.t0,"Failed to persist write"),r.reject(a);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),XL.apply(this,arguments)}function eN(e,t){return tN.apply(this,arguments)}function tN(){return tN=It(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rb(t),e.prev=1,e.next=4,GI(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(Mb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?Mb(n.fc):e.removedDocuments.size>0&&(Mb(n.fc),n.fc=!1))})),e.next=8,yN(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,yw(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),tN.apply(this,arguments)}function nN(e,t,n){var r=Rb(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Rb(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,o=I(n.listeners);try{for(o.s();!(i=o.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(a){o.e(a)}finally{o.f()}})),r&&jL(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function rN(e,t,n){return iN.apply(this,arguments)}function iN(){return iN=It(Et().mark((function e(t,n,r){var i,o,a,s,u,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Rb(t)).sharedClientState.updateQueryState(n,"rejected",r),o=i.yc.get(n),!(a=o&&o.key)){e.next=14;break}return s=(s=new px(aw.comparator)).insert(a,t_.newNoDocument(a,tw.min())),u=cS().add(a),c=new aE(tw.min(),new Map,new px(Yb),s,u),e.next=9,eN(i,c);case 9:i.gc=i.gc.remove(a),i.yc.delete(n),gN(i),e.next=16;break;case 14:return e.next=16,ZI(i.localStore,n,!1).then((function(){return dN(i,n,r)})).catch(yw);case 16:case"end":return e.stop()}}),e)}))),iN.apply(this,arguments)}function oN(e,t){return aN.apply(this,arguments)}function aN(){return aN=It(Et().mark((function e(t,n){var r,i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rb(t),i=n.batch.batchId,e.prev=1,e.next=4,WI(r.localStore,n);case 4:return o=e.sent,hN(r,i,null),fN(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,yN(r,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),aN.apply(this,arguments)}function sN(e,t,n){return uN.apply(this,arguments)}function uN(){return uN=It(Et().mark((function e(t,n,r){var i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rb(t),e.prev=1,e.next=4,function(e,t){var n=Rb(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Mb(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return o=e.sent,hN(i,n,r),fN(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,yN(i,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),uN.apply(this,arguments)}function cN(e,t){return lN.apply(this,arguments)}function lN(){return lN=It(Et().mark((function e(t,n){var r,i,o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return WT((r=Rb(t)).remoteStore)||Pb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Rb(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(o=r.Ec.get(i)||[]).push(n),r.Ec.set(i,o),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),a=xL(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(a);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),lN.apply(this,arguments)}function fN(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function hN(e,t,n){var r=Rb(e),i=r.Tc[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function dN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=I(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var o=r.value;e.wc.delete(o),n&&e.dc.Pc(o,n)}}catch(a){i.e(a)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||pN(e,t)}))}function pN(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(UT(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),gN(e))}function vN(e,t,n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;o instanceof VL?(e.Ic.addReference(o.key,t),mN(e,o)):o instanceof BL?(Pb("SyncEngine","Document no longer in limbo: "+o.key),e.Ic.removeReference(o.key,t),e.Ic.containsKey(o.key)||pN(e,o.key)):Db()}}catch(a){i.e(a)}finally{i.f()}}function mN(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Pb("SyncEngine","New document in limbo: "+n),e.mc.add(r),gN(e))}function gN(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new aw(rw.fromString(t)),r=e.Ac.next();e.yc.set(r,new WL(n)),e.gc=e.gc.insert(n,r),FT(e.remoteStore,new JE(z_(M_(n.path)),r,"TargetPurposeLimboResolution",Ow.ct))}}function yN(e,t,n){return kN.apply(this,arguments)}function kN(){return kN=It(Et().mark((function e(t,n,r){var i,o,a,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Rb(t),o=[],a=[],s=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){o.push(e);var n=FI.Li(t.targetId,e);a.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.dc.nu(o),e.next=9,function(){var e=It(Et().mark((function e(t,n){var r,i,o,a,s,u,c,l;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rb(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return bw.forEach(n,(function(t){return bw.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return bw.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ew(e.t0)){e.next=10;break}throw e.t0;case 10:Pb("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=I(n);try{for(i.s();!(o=i.n()).done;)a=o.value,s=a.targetId,a.fromCache||(u=r.Ji.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,a);case 9:case"end":return e.stop()}}),e)}))),kN.apply(this,arguments)}function bN(e,t){return wN.apply(this,arguments)}function wN(){return wN=It(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Rb(t)).currentUser.isEqual(n)){e.next=11;break}return Pb("SyncEngine","User change. New user:",n.toKey()),e.next=5,zI(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new Ub(Fb.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,yN(r,i.er);case 11:case"end":return e.stop()}}),e)}))),wN.apply(this,arguments)}function xN(e,t){var n=Rb(e),r=n.yc.get(t);if(r&&r.fc)return cS().add(r.key);var i=cS(),o=n._c.get(t);if(!o)return i;var a,s=I(o);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=n.wc.get(u);i=i.unionWith(c.view.nc)}}catch(l){s.e(l)}finally{s.f()}return i}function _N(e,t){return SN.apply(this,arguments)}function SN(){return SN=It(Et().mark((function e(t,n){var r,i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rb(t),e.next=3,$I(r.localStore,n.query,!0);case 3:return i=e.sent,o=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&vN(r,n.targetId,o.cc),o));case 6:case"end":return e.stop()}}),e)}))),SN.apply(this,arguments)}function EN(e,t){return CN.apply(this,arguments)}function CN(){return CN=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rb(t),e.abrupt("return",eT(r.localStore,n).then((function(e){return yN(r,e)})));case 2:case"end":return e.stop()}}),e)}))),CN.apply(this,arguments)}function IN(e,t,n,r){return TN.apply(this,arguments)}function TN(){return TN=It(Et().mark((function e(t,n,r,i){var o,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Rb(t),e.next=3,function(e,t){var n=Rb(e),r=Rb(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):bw.resolve(null)}))}))}(o.localStore,n);case 3:if(null===(a=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,tL(o.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(hN(o,n,i||null),fN(o,n),function(e,t){Rb(Rb(e).mutationQueue).Cn(t)}(o.localStore,n)):Db();case 11:return e.next=13,yN(o,a);case 13:e.next=16;break;case 15:Pb("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),TN.apply(this,arguments)}function LN(e,t){return NN.apply(this,arguments)}function NN(){return NN=It(Et().mark((function e(t,n){var r,i,o,a,s,u,c,l;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(UN(r=Rb(t)),VN(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,PN(r,i.toArray());case 5:return o=e.sent,r.vc=!0,e.next=9,gL(r.remoteStore,!0);case 9:a=I(o);try{for(a.s();!(s=a.n()).done;)u=s.value,FT(r.remoteStore,u)}catch(f){a.e(f)}finally{a.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return dN(r,t),ZI(r.localStore,t,!0)})),UT(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,PN(r,c);case 21:return function(e){var t=Rb(e);t.yc.forEach((function(e,n){UT(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new px(aw.comparator)}(r),r.vc=!1,e.next=25,gL(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),NN.apply(this,arguments)}function PN(e,t,n){return ON.apply(this,arguments)}function ON(){return ON=It(Et().mark((function e(t,n,r){var i,o,a,s,u,c,l,f,h,d,p,v,m,g;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Rb(t),o=[],a=[],s=I(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,JI(i.localStore,z_(f[0]));case 11:l=e.sent,h=I(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.wc.get(p),e.next=20,_N(i,v);case 20:(m=e.sent).snapshot&&a.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,XI(i.localStore,c);case 36:return g=e.sent,e.next=39,JI(i.localStore,g);case 39:return l=e.sent,e.next=42,QL(i,AN(g),c,!1,l.resumeToken);case 42:o.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(a),o));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),ON.apply(this,arguments)}function AN(e){return D_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function jN(e){var t=Rb(e);return Rb(Rb(t.localStore).persistence).$i()}function DN(e,t,n,r){return MN.apply(this,arguments)}function MN(){return MN=It(Et().mark((function e(t,n,r,i){var o,a,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=Rb(t)).vc){e.next=3;break}return e.abrupt("return",void Pb("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((a=o._c.get(n))&&a.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,eT(o.localStore,J_(a[0]));case 10:return s=e.sent,u=aE.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,xx.EMPTY_BYTE_STRING),e.next=14,yN(o,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,ZI(o.localStore,n,!0);case 17:return dN(o,n,i),e.abrupt("break",20);case 19:Db();case 20:case"end":return e.stop()}}),e)}))),MN.apply(this,arguments)}function RN(e,t,n){return FN.apply(this,arguments)}function FN(){return FN=It(Et().mark((function e(t,n,r){var i,o,a,s,u,c,l,f,h;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=UN(t)).vc){e.next=45;break}o=I(n),e.prev=3,o.s();case 5:if((a=o.n()).done){e.next=21;break}if(s=a.value,!i._c.has(s)){e.next=10;break}return Pb("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,XI(i.localStore,s);case 12:return u=e.sent,e.next=15,JI(i.localStore,u);case 15:return c=e.sent,e.next=18,QL(i,AN(u),c.targetId,!1,c.resumeToken);case 18:FT(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),o.e(e.t0);case 26:return e.prev=26,o.f(),e.finish(26);case 29:l=I(r),e.prev=30,h=Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,ZI(i.localStore,t,!1).then((function(){UT(i.remoteStore,t),dN(i,t)})).catch(yw);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),FN.apply(this,arguments)}function UN(e){var t=Rb(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=eN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rN.bind(null,t),t.dc.nu=OL.bind(null,t.eventManager),t.dc.Pc=AL.bind(null,t.eventManager),t}function VN(e){var t=Rb(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sN.bind(null,t),t}function BN(e,t,n){var r=Rb(e);(function(){var e=It(Et().mark((function e(t,n,r){var i,o,a,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Rb(e),r=_E(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(UL(i)),o=new FL(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:a=e.sent;case 16:if(!a){e.next=26;break}return e.next=19,o.zu(a);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.bc();case 23:a=e.sent;case 24:e.next=16;break;case 26:return e.next=28,o.complete();case 28:return u=e.sent,e.next=31,yN(t,u.Ju,void 0);case 31:return e.next=33,function(e,t){var n=Rb(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Ab("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var zN=function(){function e(){d(this,e),this.synchronizeTabs=!1}return g(e,[{key:"initialize",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=CT(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return BI(this.persistence,new UI,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new TI(NI.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new vT}},{key:"terminate",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),qN=function(e){k(n,e);var t=_(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this)).Vc=e,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return g(n,[{key:"initialize",value:function(){var e=It(Et().mark((function e(t){var r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pu(b(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,VN(this.Vc.syncEngine);case 6:return e.next=8,tL(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return BI(this.persistence,new UI,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new iI(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Pw(t,this.persistence);return new Nw(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=RI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?qC.withCacheSize(this.cacheSizeBytes):qC.DEFAULT;return new jI(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ST(),ET(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new vT}}]),n}(zN),WN=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return g(n,[{key:"initialize",value:function(){var e=It(Et().mark((function e(t){var r,i=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pu(b(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof pT,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:IN.bind(null,r),zr:DN.bind(null,r),Wr:RN.bind(null,r),$i:jN.bind(null,r),Qr:EN.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,LN(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=ST();if(!pT.D(t))throw new Ub(Fb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=RI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new pT(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(qN),HN=function(){function e(){d(this,e)}return g(e,[{key:"initialize",value:function(){var e=It(Et().mark((function e(t,n){var r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return nN(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=bN.bind(null,this.syncEngine),e.next=12,gL(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new IL}},{key:"createDatastore",value:function(e){var t,n=CT(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new _T(t));return function(e,t,n,r){return new PT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return nN(a.syncEngine,e,0)},o=gT.D()?new gT:new mT,new AT(t,n,r,i,o)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,o,a){var s=new HL(e,t,n,r,i,o);return a&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rb(t),Pb("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,MT(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function GN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return It(Et().mark((function r(){var i;return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var KN=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return g(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):Ob("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),QN=function(){function e(t,n){var r=this;d(this,e),this.Cc=t,this.serializer=n,this.metadata=new Vb,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return g(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=It(Et().mark((function e(){var t,n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new ML(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=It(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=It(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),JN=function(){function e(t){d(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return g(e,[{key:"lookup",value:function(){var e=It(Et().mark((function e(t){var n,r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Ub(Fb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=It(Et().mark((function e(t,n){var r,i,o,a,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rb(t),i=NE(r.serializer)+"/documents",o={documents:n.map((function(e){return CE(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,o,n.length);case 5:return a=e.sent,s=new Map,a.forEach((function(e){var t=jE(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Mb(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new WS(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=It(Et().mark((function e(){var t,n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=aw.fromPath(t);n.mutations.push(new HS(r,n.precondition(r)))})),e.next=7,function(){var e=It(Et().mark((function e(t,n){var r,i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rb(t),i=NE(r.serializer)+"/documents",o={writes:n.map((function(e){return DE(r.serializer,e)}))},e.next=3,r.Io("Commit",i,o);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Db();t=tw.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ub(Fb.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(tw.min())?LS.exists(!1):LS.updateTime(t):LS.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(tw.min()))throw new Ub(Fb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return LS.updateTime(t)}return LS.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),ZN=function(){function e(t,n,r,i,o){d(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Bc=r.maxAttempts,this.qo=new IT(this.asyncQueue,"transaction_retry")}return g(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(It(Et().mark((function t(){var n,r;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new JN(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!Aw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ZS(t)}return!1}}]),e}(),YN=function(){function e(t,n,r,i){var o=this;d(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ib.UNAUTHENTICATED,this.clientId=Zb.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pb("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Pb("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return g(e,[{key:"getConfiguration",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Ub(Fb.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Vb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(It(Et().mark((function n(){var r;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=xL(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function $N(e,t){return XN.apply(this,arguments)}function XN(){return XN=It(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Pb("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,zI(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),XN.apply(this,arguments)}function eP(e,t){return tP.apply(this,arguments)}function tP(){return tP=It(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,rP(t);case 3:return r=e.sent,Pb("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return vL(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return vL(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),tP.apply(this,arguments)}function nP(e){return"FirebaseError"===e.name?e.code===Fb.FAILED_PRECONDITION||e.code===Fb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function rP(e){return iP.apply(this,arguments)}function iP(){return iP=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Pb("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,$N(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),nP(n=e.t0)){e.next=13;break}throw n;case 13:return Ab("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,$N(t,new zN);case 16:e.next=21;break;case 18:return Pb("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,$N(t,new zN);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),iP.apply(this,arguments)}function oP(e){return aP.apply(this,arguments)}function aP(){return aP=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Pb("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,eP(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Pb("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,eP(t,new HN);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),aP.apply(this,arguments)}function sP(e){return rP(e).then((function(e){return e.persistence}))}function uP(e){return rP(e).then((function(e){return e.localStore}))}function cP(e){return oP(e).then((function(e){return e.remoteStore}))}function lP(e){return oP(e).then((function(e){return e.syncEngine}))}function fP(e){return oP(e).then((function(e){return e.datastore}))}function hP(e){return dP.apply(this,arguments)}function dP(){return dP=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oP(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=GL.bind(null,n.syncEngine),r.onUnlisten=ZL.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),dP.apply(this,arguments)}function pP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Vb;return e.asyncQueue.enqueueAndForget(It(Et().mark((function i(){return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var o=new KN({next:function(o){t.enqueueAndForget((function(){return NL(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Ub(Fb.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Ub(Fb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new DL(M_(n.path),o,{includeMetadataChanges:!0,Ku:!0});return TL(e,a)},i.next=3,hP(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function vP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Vb;return e.asyncQueue.enqueueAndForget(It(Et().mark((function i(){return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var o=new KN({next:function(n){t.enqueueAndForget((function(){return NL(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Ub(Fb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new DL(n,o,{includeMetadataChanges:!0,Ku:!0});return TL(e,a)},i.next=3,hP(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function mP(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var gP=new Map;function yP(e,t,n){if(!n)throw new Ub(Fb.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function kP(e,t,n,r){if(!0===t&&!0===r)throw new Ub(Fb.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function bP(e){if(!aw.isDocumentKey(e))throw new Ub(Fb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function wP(e){if(aw.isDocumentKey(e))throw new Ub(Fb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function xP(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Db()}function _P(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ub(Fb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=xP(e);throw new Ub(Fb.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function SP(e,t){if(t<=0)throw new Ub(Fb.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var EP=function(){function e(t){var n,r;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Ub(Fb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ub(Fb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mP(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ub(Fb.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Ub(Fb.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Ub(Fb.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return g(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),CP=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EP({}),this._settingsFrozen=!1}return g(e,[{key:"app",get:function(){if(!this._app)throw new Ub(Fb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Ub(Fb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EP(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new zb;switch(e.type){case"firstParty":return new Gb(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ub(Fb.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=gP.get(e);t&&(Pb("ComponentProvider","Removing Datastore"),gP.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function IP(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(e=_P(e,CP))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&Ab("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=Ib.MOCK_USER;else{s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Pa(JSON.stringify({alg:"none",type:"JWT"})),Pa(JSON.stringify(o)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Ub(Fb.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ib(c)}e._authCredentials=new qb(new Bb(s,u))}}var TP=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return g(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new NP(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),LP=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return g(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),NP=function(e){k(n,e);var t=_(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this,e,r,M_(i)))._path=i,o.type="collection",o}return g(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new TP(this.firestore,null,new aw(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(LP);function PP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=rs(e),yP("collection","path",t),e instanceof CP){var o=rw.fromString.apply(rw,[t].concat(r));return wP(o),new NP(e,null,o)}if(!(e instanceof TP||e instanceof NP))throw new Ub(Fb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(rw.fromString.apply(rw,[t].concat(r)));return wP(a),new NP(e.firestore,null,a)}function OP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=rs(e),1===arguments.length&&(t=Zb.A()),yP("doc","path",t),e instanceof CP){var o=rw.fromString.apply(rw,[t].concat(r));return bP(o),new TP(e,null,new aw(o))}if(!(e instanceof TP||e instanceof NP))throw new Ub(Fb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(rw.fromString.apply(rw,[t].concat(r)));return bP(a),new TP(e.firestore,e instanceof NP?e.converter:null,new aw(a))}function AP(e,t){return e=rs(e),t=rs(t),(e instanceof TP||e instanceof NP)&&(t instanceof TP||t instanceof NP)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function jP(e,t){return e=rs(e),t=rs(t),e instanceof LP&&t instanceof LP&&e.firestore===t.firestore&&H_(e._query,t._query)&&e.converter===t.converter}var DP=function(){function e(){var t=this;d(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new IT(this,"async_queue_retry"),this.Xc=function(){var e=ET();e&&Pb("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=ET();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return g(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=ET();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new Vb;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=It(Et().mark((function e(){var t=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ew(e.t0)){e.next=12;break}throw e.t0;case 12:Pb("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ob("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=wL.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&Db()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=I(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=I(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(o){r.e(o)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function MP(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=I(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o in r&&"function"==typeof r[o])return!0}}catch(a){i.e(a)}finally{i.f()}return!1}(e)}var RP=function(){function e(){d(this,e),this._progressObserver={},this._taskCompletionResolver=new Vb,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return g(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),FP=function(e){k(n,e);var t=_(n);function n(e,r,i,o){var a;return d(this,n),(a=t.call(this,e,r,i,o)).type="firestore",a._queue=new DP,a._persistenceKey=(null==o?void 0:o.name)||"[DEFAULT]",a}return g(n,[{key:"_terminate",value:function(){return this._firestoreClient||VP(this),this._firestoreClient.terminate()}}]),n}(CP);function UP(e){return e._firestoreClient||VP(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function VP(e){var t,n,r,i=e._freezeSettings(),o=function(e,t,n,r){return new Nx(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,mP(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new YN(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function BP(e,t,n){var r=new Vb;return e.asyncQueue.enqueue(It(Et().mark((function i(){var o;return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,$N(e,n);case 3:return i.next=5,eP(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),nP(o=i.t0)){i.next=13;break}throw o;case 13:Ab("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function zP(e){return function(e){return e.asyncQueue.enqueue(It(Et().mark((function t(){var n,r;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sP(e);case 2:return n=t.sent,t.next=5,cP(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Rb(e);return t.vu.delete(0),jT(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(UP(e=_P(e,FP)))}function qP(e){return function(e){return e.asyncQueue.enqueue(It(Et().mark((function t(){var n,r;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sP(e);case 2:return n=t.sent,t.next=5,cP(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Rb(t)).vu.add(0),e.next=4,MT(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(UP(e=_P(e,FP)))}function WP(e,t){var n=UP(e=_P(e,FP)),r=new RP;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new QN(e,t)}(function(e,t){if(e instanceof Uint8Array)return GN(e,t);if(e instanceof ArrayBuffer)return GN(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?eE().encode(e):e),t)}(n,CT(t));e.asyncQueue.enqueueAndForget(It(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=BN,t.next=3,lP(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function HP(e,t){return function(e,t){return e.asyncQueue.enqueue(It(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Rb(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,uP(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(UP(e=_P(e,FP)),t).then((function(t){return t?new LP(e,null,t.query):null}))}function GP(e){if(e._initialized||e._terminated)throw new Ub(Fb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var KP=function(){function e(t){d(this,e),this._byteString=t}return g(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(xx.fromBase64String(t))}catch(t){throw new Ub(Fb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(xx.fromUint8Array(t))}}]),e}(),QP=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Ub(Fb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ow(n)}return g(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var JP=g((function e(t){d(this,e),this._methodName=t})),ZP=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new Ub(Fb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ub(Fb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return g(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Yb(this._lat,e._lat)||Yb(this._long,e._long)}}]),e}(),YP=/^__.*__$/,$P=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new FS(e,this.data,this.fieldMask,t,this.fieldTransforms):new RS(e,this.data,t,this.fieldTransforms)}}]),e}(),XP=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return new FS(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function eO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Db()}}var tO=function(){function e(t,n,r,i,o,a){d(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return g(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return wO(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(eO(this.ca)&&YP.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),nO=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||CT(t)}return g(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new tO({ca:e,methodName:t,ga:n,path:ow.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function rO(e){var t=e._freezeSettings(),n=CT(e._databaseId);return new nO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function iO(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=e.ya(o.merge||o.mergeFields?2:0,t,n,i);gO("Data must be an object, but it was:",a,r);var s,u,c=vO(r,a);if(o.merge)s=new bx(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){var l,f=[],h=I(o.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=yO(t,l.value,n);if(!a.contains(d))throw new Ub(Fb.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));xO(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new bx(f),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new $P(new Xx(c),s,u)}var oO=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(JP);function aO(e,t,n){return new tO({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var sO=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){return new IS(e.path,new kS)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(JP),uO=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).pa=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=aO(this,e,!0),n=this.pa.map((function(e){return pO(e,t)})),r=new bS(n);return new IS(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(JP),cO=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).pa=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=aO(this,e,!0),n=this.pa.map((function(e){return pO(e,t)})),r=new xS(n);return new IS(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(JP),lO=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).Ia=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=new SS(e.serializer,pS(e.serializer,this.Ia));return new IS(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(JP);function fO(e,t,n,r){var i=e.ya(1,t,n);gO("Data must be an object, but it was:",i,r);var o=[],a=Xx.empty();hx(r,(function(e,r){var s=bO(t,e,n);r=rs(r);var u=i.da(s);if(r instanceof oO)o.push(s);else{var c=pO(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new bx(o);return new XP(a,s,i.fieldTransforms)}function hO(e,t,n,r,i,o){var a=e.ya(1,t,n),s=[yO(t,r,n)],u=[i];if(o.length%2!=0)throw new Ub(Fb.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<o.length;c+=2)s.push(yO(t,o[c])),u.push(o[c+1]);for(var l=[],f=Xx.empty(),h=s.length-1;h>=0;--h)if(!xO(l,s[h])){var d=s[h],p=u[h];p=rs(p);var v=a.da(d);if(p instanceof oO)l.push(d);else{var m=pO(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new bx(l);return new XP(f,g,a.fieldTransforms)}function dO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return pO(n,e.ya(r?4:3,t))}function pO(e,t){if(mO(e=rs(e)))return gO("Unsupported field value:",t,e),vO(e,t);if(e instanceof JP)return function(e,t){if(!eO(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,o=I(e);try{for(o.s();!(n=o.n()).done;){var a=pO(n.value,t.wa(i));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}}catch(s){o.e(s)}finally{o.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=rs(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pS(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ew.fromDate(e);return{timestampValue:bE(t.serializer,n)}}if(e instanceof ew){var r=new ew(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:bE(t.serializer,r)}}if(e instanceof ZP)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof KP)return{bytesValue:wE(t.serializer,e._byteString)};if(e instanceof TP){var i=t.databaseId,o=e.firestore._databaseId;if(!o.isEqual(i))throw t._a("Document reference is for database ".concat(o.projectId,"/").concat(o.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:SE(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(xP(e)))}(e,t)}function vO(e,t){var n={};return dx(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hx(e,(function(e,r){var i=pO(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function mO(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ew||e instanceof ZP||e instanceof KP||e instanceof TP||e instanceof JP)}function gO(e,t,n){if(!mO(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=xP(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function yO(e,t,n){if((t=rs(t))instanceof QP)return t._internalPath;if("string"==typeof t)return bO(e,t);throw wO("Field path arguments must be of type string or ",e,!1,void 0,n)}var kO=new RegExp("[~\\*/\\[\\]]");function bO(e,t,n){if(t.search(kO)>=0)throw wO("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return S(QP,h(t.split(".")))._internalPath}catch(Mr){throw wO("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function wO(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field ".concat(r)),a&&(u+=" in document ".concat(i)),u+=")"),new Ub(Fb.INVALID_ARGUMENT,s+e+u)}function xO(e,t){return e.some((function(e){return e.isEqual(t)}))}var _O=function(){function e(t,n,r,i,o){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return g(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new TP(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new SO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(EO("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),SO=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){return Pu(b(n.prototype),"data",this).call(this)}}]),n}(_O);function EO(e,t){return"string"==typeof t?bO(e,t):t instanceof QP?t._internalPath:t._delegate._internalPath}function CO(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ub(Fb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var IO=g((function e(){d(this,e)})),TO=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(IO);function LO(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof IO&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof PO})).length,n=e.filter((function(e){return e instanceof NO})).length;if(t>1||t>0&&n>0)throw new Ub(Fb.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var a,s=I(n);try{for(s.s();!(a=s.n()).done;){e=a.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var NO=function(e){k(n,e);var t=_(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this))._field=e,o._op=r,o._value=i,o.type="where",o}return g(n,[{key:"_apply",value:function(e){var t=this._parse(e);return qO(e._query,t),new LP(e.firestore,e.converter,q_(e._query,t))}},{key:"_parse",value:function(e){var t=rO(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ub(Fb.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){zO(a,o);var u,c=[],l=I(a);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(BO(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=BO(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||zO(a,o),s=dO(n,"where",a,"in"===o||"not-in"===o);return u_.create(i,o,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(TO);var PO=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return g(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:c_.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=I(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var o=n.value;qO(r,o),r=q_(r,o)}}catch(a){i.e(a)}finally{i.f()}}(e._query,t),new LP(e.firestore,e.converter,q_(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(IO);var OO=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return g(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ub(Fb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ub(Fb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new o_(t,n);return function(e,t){if(null===F_(e)){var n=U_(e);null!==n&&WO(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new LP(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new j_(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(TO);var AO=function(e){k(n,e);var t=_(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this)).type=e,o._limit=r,o._limitType=i,o}return g(n,[{key:"_apply",value:function(e){return new LP(e.firestore,e.converter,W_(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(TO);var jO=function(e){k(n,e);var t=_(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this)).type=e,o._docOrFields=r,o._inclusive=i,o}return g(n,[{key:"_apply",value:function(e){var t=VO(e,this.type,this._docOrFields,this._inclusive);return new LP(e.firestore,e.converter,function(e,t){return new j_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(TO);function DO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return jO._create("startAt",t,!0)}function MO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return jO._create("startAfter",t,!1)}var RO=function(e){k(n,e);var t=_(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this)).type=e,o._docOrFields=r,o._inclusive=i,o}return g(n,[{key:"_apply",value:function(e){var t=VO(e,this.type,this._docOrFields,this._inclusive);return new LP(e.firestore,e.converter,function(e,t){return new j_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(TO);function FO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return RO._create("endBefore",t,!1)}function UO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return RO._create("endAt",t,!0)}function VO(e,t,n,r){if(n[0]=rs(n[0]),n[0]instanceof _O)return function(e,t,n,r,i){if(!r)throw new Ub(Fb.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var o,a=[],s=I(B_(e));try{for(s.s();!(o=s.n()).done;){var u=o.value;if(u.field.isKeyField())a.push(Bx(t,r.key));else{var c=r.data.field(u.field);if(Ix(c))throw new Ub(Fb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ub(Fb.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}a.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new n_(a,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=rO(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Ub(Fb.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Ub(Fb.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!V_(e)&&-1!==c.indexOf("/"))throw new Ub(Fb.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(rw.fromString(c));if(!aw.isDocumentKey(l))throw new Ub(Fb.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new aw(l);s.push(Bx(t,f))}else{var h=dO(n,r,c);s.push(h)}}return new n_(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function BO(e,t,n){if("string"==typeof(n=rs(n))){if(""===n)throw new Ub(Fb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V_(t)&&-1!==n.indexOf("/"))throw new Ub(Fb.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(rw.fromString(n));if(!aw.isDocumentKey(r))throw new Ub(Fb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Bx(e,new aw(r))}if(n instanceof TP)return Bx(e,n._key);throw new Ub(Fb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(xP(n),"."))}function zO(e,t){if(!Array.isArray(e)||0===e.length)throw new Ub(Fb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function qO(e,t){if(t.isInequality()){var n=U_(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Ub(Fb.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=F_(e);null!==i&&WO(e,r,i)}var o=function(e,t){var n,r=I(e);try{for(r.s();!(n=r.n()).done;){var i,o=I(n.value.getFlattenedFilters());try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.indexOf(a.op)>=0)return a.op}}catch(s){o.e(s)}finally{o.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==o)throw o===t.op?new Ub(Fb.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ub(Fb.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(o.toString(),"' filters."))}function WO(e,t,n){if(!n.isEqual(t))throw new Ub(Fb.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var HO=function(){function e(){d(this,e)}return g(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(jx(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ex(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cx(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Db()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return hx(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new ZP(Ex(e.latitude),Ex(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Tx(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Lx(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Sx(e);return new ew(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=rw.fromString(e);Mb(QE(n));var r=new Px(n.get(1),n.get(3)),i=new aw(n.popFirst(5));return r.isEqual(t)||Ob("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function GO(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var KO=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new KP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new TP(this.firestore,null,t)}}]),n}(HO);var QO=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return g(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),JO=function(e){k(n,e);var t=_(n);function n(e,r,i,o,a,s){var u;return d(this,n),(u=t.call(this,e,r,i,o,s))._firestore=e,u._firestoreImpl=e,u.metadata=a,u}return g(n,[{key:"exists",value:function(){return Pu(b(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new ZO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(EO("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(_O),ZO=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Pu(b(n.prototype),"data",this).call(this,e)}}]),n}(JO),YO=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new QO(i.hasPendingWrites,i.fromCache),this.query=r}return g(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new ZO(n._firestore,n._userDataWriter,r.key,r,new QO(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ub(Fb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new ZO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new QO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new ZO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new QO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:$O(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function $O(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Db()}}function XO(e,t){return e instanceof JO&&t instanceof JO?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof YO&&t instanceof YO&&e._firestore===t._firestore&&jP(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var eA=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new KP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new TP(this.firestore,null,t)}}]),n}(HO);function tA(e){e=_P(e,TP);var t=_P(e.firestore,FP),n=UP(t),r=new eA(t);return function(e,t){var n=new Vb;return e.asyncQueue.enqueueAndForget(It(Et().mark((function r(){return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=It(Et().mark((function e(t,n,r){var i,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Rb(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Ub(Fb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o=xL(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(o);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,uP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new JO(t,r,e._key,n,new QO(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function nA(e){e=_P(e,LP);var t=_P(e.firestore,FP),n=UP(t),r=new eA(t);return function(e,t){var n=new Vb;return e.asyncQueue.enqueueAndForget(It(Et().mark((function r(){return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=It(Et().mark((function e(t,n,r){var i,o,a,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$I(t,n,!0);case 3:i=e.sent,o=new zL(n,i.ir),a=o.sc(i.documents),s=o.applyChanges(a,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=xL(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,uP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new YO(t,r,e,n)}))}function rA(e,t,n){e=_P(e,TP);var r=_P(e.firestore,FP),i=GO(e.converter,t,n);return sA(r,[iO(rO(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,LS.none())])}function iA(e,t,n){e=_P(e,TP);for(var r=_P(e.firestore,FP),i=rO(r),o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return sA(r,[("string"==typeof(t=rs(t))||t instanceof QP?hO(i,"updateDoc",e._key,t,n,a):fO(i,"updateDoc",e._key,t)).toMutation(e._key,LS.exists(!0))])}function oA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=rs(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||MP(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(MP(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(o=d.error)||void 0===o?void 0:o.bind(d),n[u+2]=null===(a=d.complete)||void 0===a?void 0:a.bind(d)}if(e instanceof TP)l=_P(e.firestore,FP),f=M_(e._key.path),c={next:function(t){n[u]&&n[u](uA(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=_P(e,LP);l=_P(p.firestore,FP),f=p._query;var v=new eA(l);c={next:function(e){n[u]&&n[u](new YO(l,v,p,e))},error:n[u+1],complete:n[u+2]},CO(e._query)}return function(e,t,n,r){var i=new KN(r),o=new DL(t,i,n);return e.asyncQueue.enqueueAndForget(It(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=TL,t.next=3,hP(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(It(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=NL,t.next=3,hP(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(UP(l),f,h,c)}function aA(e,t){return function(e,t){var n=new KN(t);return e.asyncQueue.enqueueAndForget(It(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Rb(e).ku.add(t),t.next()},t.next=3,hP(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(It(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Rb(e).ku.delete(t)},t.next=3,hP(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(UP(e=_P(e,FP)),MP(t)?t:{next:t})}function sA(e,t){return function(e,t){var n=new Vb;return e.asyncQueue.enqueueAndForget(It(Et().mark((function r(){return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=$L,r.next=3,lP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(UP(e),t)}function uA(e,t,n){var r=n.docs.get(t._key),i=new eA(e);return new JO(e,i,t._key,r,new QO(n.hasPendingWrites,n.fromCache),t.converter)}var cA={maxAttempts:5},lA=function(){function e(t,n){d(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=rO(t)}return g(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=fA(e,this._firestore),i=GO(r.converter,t,n),o=iO(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,LS.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=fA(e,this._firestore),o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return r="string"==typeof(t=rs(t))||t instanceof QP?hO(this._dataReader,"WriteBatch.update",i._key,t,n,a):fO(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,LS.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=fA(e,this._firestore);return this._mutations=this._mutations.concat(new WS(t._key,LS.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Ub(Fb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function fA(e,t){if((e=rs(e)).firestore!==t)throw new Ub(Fb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var hA=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r))._firestore=e,i}return g(n,[{key:"get",value:function(e){var t=this,r=fA(e,this._firestore),i=new eA(this._firestore);return Pu(b(n.prototype),"get",this).call(this,e).then((function(e){return new JO(t._firestore,i,r._key,e._document,new QO(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){d(this,e),this._firestore=t,this._transaction=n,this._dataReader=rO(t)}return g(e,[{key:"get",value:function(e){var t=this,n=fA(e,this._firestore),r=new KO(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Db();var i=e[0];if(i.isFoundDocument())return new _O(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new _O(t._firestore,r,n._key,null,n.converter);throw Db()}))}},{key:"set",value:function(e,t,n){var r=fA(e,this._firestore),i=GO(r.converter,t,n),o=iO(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}},{key:"update",value:function(e,t,n){for(var r,i=fA(e,this._firestore),o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return r="string"==typeof(t=rs(t))||t instanceof QP?hO(this._dataReader,"Transaction.update",i._key,t,n,a):fO(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=fA(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function dA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uO("arrayUnion",t)}function pA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cO("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Tb=e}($s),Hs(new is("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,o=e.getProvider("app").getImmediate(),a=new FP(new Wb(e.getProvider("auth-internal")),new Qb(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ub(Fb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Px(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),iu(Cb,"3.12.2",e),iu(Cb,"3.12.2","esm2017")}();function vA(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ub("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function mA(){if("undefined"===typeof Uint8Array)throw new Ub("unimplemented","Uint8Arrays are not available in this environment.")}function gA(){if("undefined"==typeof atob)throw new Ub("unimplemented","Blobs are unavailable in Firestore in this environment.")}var yA=function(){function e(t){d(this,e),this._delegate=t}return g(e,[{key:"toBase64",value:function(){return gA(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return mA(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return gA(),new e(KP.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return mA(),new e(KP.fromUint8Array(t))}}]),e}();function kA(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=I(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o in r&&"function"===typeof r[o])return!0}}catch(a){i.e(a)}finally{i.f()}return!1}(e,["next","error","complete"])}var bA=function(){function e(){d(this,e)}return g(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){GP(e=_P(e,FP));var n=UP(e);if(n._uninitializedComponentsProvider)throw new Ub(Fb.FAILED_PRECONDITION,"SDK cache is already specified.");Ab("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new HN;return BP(n,i,new qN(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){GP(e=_P(e,FP));var t=UP(e);if(t._uninitializedComponentsProvider)throw new Ub(Fb.FAILED_PRECONDITION,"SDK cache is already specified.");Ab("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new HN;return BP(t,r,new WN(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Ub(Fb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Vb;return e._queue.enqueueAndForgetEvenWhileRestricted(It(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xw.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,xw.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(RI(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),wA=function(){function e(t,n,r){var i=this;d(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Px||(this._appCompat=t)}return g(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ab("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};IP(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return zP(this._delegate)}},{key:"disableNetwork",value:function(){return qP(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&kP("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Vb;return e.asyncQueue.enqueueAndForget(It(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=cN,n.next=3,lP(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(UP(e=_P(e,FP)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return aA(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Ub("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new DA(this,PP(this._delegate,e))}catch(t){throw IA(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new CA(this,OP(this._delegate,e))}catch(t){throw IA(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new OA(this,function(e,t){if(e=_P(e,CP),yP("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ub(Fb.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new LP(e,null,function(e){return new j_(rw.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw IA(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=_P(e,FP);var r=Object.assign(Object.assign({},cA),n);return function(e){if(e.maxAttempts<1)throw new Ub(Fb.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Vb;return e.asyncQueue.enqueueAndForget(It(Et().mark((function i(){var o;return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fP(e);case 2:o=i.sent,new ZN(e.asyncQueue,o,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(UP(e),(function(n){return t(new hA(e,n))}),r)}(this._delegate,(function(n){return e(new _A(t,n))}))}},{key:"batch",value:function(){var e=this;return UP(this._delegate),new SA(new lA(this._delegate,(function(t){return sA(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return WP(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return HP(this._delegate,e).then((function(e){return e?new OA(t,e):null}))}}]),e}(),xA=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new yA(new KP(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return CA.forKey(t,this.firestore,null)}}]),n}(HO);var _A=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new xA(t)}return g(e,[{key:"get",value:function(e){var t=this,n=MA(e);return this._delegate.get(n).then((function(e){return new NA(t._firestore,new JO(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=MA(e);return n?(vA("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a,s=MA(e);2===arguments.length?this._delegate.update(s,t):(a=this._delegate).update.apply(a,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=MA(e);return this._delegate.delete(t),this}}]),e}(),SA=function(){function e(t){d(this,e),this._delegate=t}return g(e,[{key:"set",value:function(e,t,n){var r=MA(e);return n?(vA("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a,s=MA(e);2===arguments.length?this._delegate.update(s,t):(a=this._delegate).update.apply(a,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=MA(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),EA=function(){function e(t,n,r){d(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return g(e,[{key:"fromFirestore",value:function(e,t){var n=new ZO(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new PA(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new xA(t),n),i.set(n,o)),o}}]),e}();EA.INSTANCES=new WeakMap;var CA=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new xA(t)}return g(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new DA(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new DA(this.firestore,PP(this._delegate,e))}catch(t){throw IA(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=rs(e))instanceof TP&&AP(this._delegate,e)}},{key:"set",value:function(e,t){t=vA("DocumentReference.set",t);try{return t?rA(this._delegate,e,t):rA(this._delegate,e)}catch(n){throw IA(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?iA(this._delegate,e):iA.apply(void 0,[this._delegate,e,t].concat(r))}catch(o){throw IA(o,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return sA(_P(e.firestore,FP),[new WS(e._key,LS.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=TA(n),o=LA(n,(function(t){return new NA(e.firestore,new JO(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return oA(this._delegate,i,o)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?tA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=_P(e,TP);var t=_P(e.firestore,FP);return pP(UP(t),e._key,{source:"server"}).then((function(n){return uA(t,e,n)}))}(this._delegate):function(e){e=_P(e,TP);var t=_P(e.firestore,FP);return pP(UP(t),e._key).then((function(n){return uA(t,e,n)}))}(this._delegate),t.then((function(e){return new NA(n.firestore,new JO(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(EA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Ub("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new TP(n._delegate,r,new aw(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new TP(n._delegate,r,t))}}]),e}();function IA(e,t,n){return e.message=e.message.replace(t,n),e}function TA(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!kA(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function LA(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=kA(e[0])?e[0]:kA(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var NA=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"ref",get:function(){return new CA(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return XO(this._delegate,e._delegate)}}]),e}(),PA=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Db()}(void 0!==t),t}}]),n}(NA),OA=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new xA(t)}return g(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,LO(this._delegate,function(e,t,n){var r=t,i=EO("where",e);return NO._create(i,r,n)}(t,n,r)))}catch(i){throw IA(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,LO(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=EO("orderBy",e);return OO._create(n,t)}(t,n)))}catch(r){throw IA(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,LO(this._delegate,function(e){return SP("limit",e),AO._create("limit",e,"F")}(t)))}catch(n){throw IA(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,LO(this._delegate,function(e){return SP("limitToLast",e),AO._create("limitToLast",e,"L")}(t)))}catch(n){throw IA(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,LO(this._delegate,DO.apply(void 0,arguments)))}catch(t){throw IA(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,LO(this._delegate,MO.apply(void 0,arguments)))}catch(t){throw IA(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,LO(this._delegate,FO.apply(void 0,arguments)))}catch(t){throw IA(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,LO(this._delegate,UO.apply(void 0,arguments)))}catch(t){throw IA(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return jP(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?nA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=_P(e,LP);var t=_P(e.firestore,FP),n=UP(t),r=new eA(t);return vP(n,e._query,{source:"server"}).then((function(n){return new YO(t,r,e,n)}))}(this._delegate):function(e){e=_P(e,LP);var t=_P(e.firestore,FP),n=UP(t),r=new eA(t);return CO(e._query),vP(n,e._query).then((function(n){return new YO(t,r,e,n)}))}(this._delegate),t.then((function(e){return new jA(n.firestore,new YO(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=TA(n),o=LA(n,(function(t){return new jA(e.firestore,new YO(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return oA(this._delegate,i,o)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(EA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),AA=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new PA(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),jA=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"query",get:function(){return new OA(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new PA(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new AA(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new PA(n._firestore,r))}))}},{key:"isEqual",value:function(e){return XO(this._delegate,e._delegate)}}]),e}(),DA=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return g(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new CA(this.firestore,e):null}},{key:"doc",value:function(e){try{return new CA(this.firestore,void 0===e?OP(this._delegate):OP(this._delegate,e))}catch(t){throw IA(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=_P(e.firestore,FP),r=OP(e),i=GO(e.converter,t);return sA(n,[iO(rO(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,LS.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new CA(t.firestore,e)}))}},{key:"isEqual",value:function(e){return AP(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(EA.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(OA);function MA(e){return _P(e,TP)}var RA=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=S(QP,n)}return g(e,[{key:"isEqual",value:function(e){return(e=rs(e))instanceof QP&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ow.keyField().canonicalString())}}]),e}(),FA=function(){function e(t){d(this,e),this._delegate=t}return g(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new sO("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new oO("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=dA.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=pA.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new lO("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),UA={Firestore:wA,GeoPoint:ZP,Timestamp:ew,Blob:yA,Transaction:_A,WriteBatch:SA,DocumentReference:CA,DocumentSnapshot:NA,Query:OA,QueryDocumentSnapshot:PA,QuerySnapshot:jA,CollectionReference:DA,FieldPath:RA,FieldValue:FA,setLogLevel:function(e){!function(e){Lb.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new is("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},UA)))}(e,(function(e,t){return new wA(e,t,new bA)})),e.registerVersion("@firebase/firestore-compat","0.3.11")}(Nu);var VA=function(e){return(0,st.jsxs)("label",{className:"inputText",children:[(0,st.jsx)("span",{children:e.name}),(0,st.jsx)("input",{type:"text",placeholder:e.placeholder,value:e.inputValue&&e.inputValue,onChange:function(t){return e.onChange(t.target.value)}})]})},BA="https://polarpelmeni-api.work-set.eu/",zA=function(){var e=at(),t=we(),n=(Ye((function(e){return e.user})),l((0,r.useState)("STEP_01"),2)),i=n[0],o=n[1],a=l((0,r.useState)(""),2),s=a[0],u=a[1],c=l((0,r.useState)(""),2),f=c[0],h=c[1],d=l((0,r.useState)(""),2),p=d[0],v=d[1],m=l((0,r.useState)(""),2),g=m[0],y=m[1],k=l((0,r.useState)(null),2),b=k[0],w=k[1],x=l((0,r.useState)(""),2),_=x[0],S=x[1],E=l((0,r.useState)(!0),2),C=E[0],I=E[1];(0,r.useEffect)((function(){var e=s.replace(/\s|[()]/g,"");e.includes("_")?I(!0):I(!1),u(e)}),[s]);var T=function(e){var t=new Nu.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(){}});Nu.auth().signInWithPhoneNumber(s,t).then((function(e){o("STEP_02"),w(e)})).catch((function(e){console.log(e)}))};(0,r.useEffect)((function(){"STEP_02"===i&&(I(!0),6===_.length?I(!1):I(!0))}),[_,i]),(0,r.useEffect)((function(){"STEP_03"===i&&(I(!0),6===_.length?I(!1):I(!0))}),[_,i]);var L=function(){b.confirm(_).then((function(e){console.log("handleVerificationCodeSubmit:",e.user);var t=e.user.multiFactor.user.uid;console.log("accessToken:",t),y(t),N(t)})).catch((function(e){console.error("ERROR:",e)}))},N=function(n){var r={token:n};console.log("AUTH TOKEN in AUTH:",r);var i=JSON.stringify(r);console.log("tokenJSON:",i),kr.post("".concat(BA,"api/auth"),i,{headers:{"Content-Type":"application/json"}}).then((function(n){console.log(n),200===n.status&&(e(To({name:n.data.name,phone:n.data.phone,email:n.data.email,token:n.data.token,promocode40:n.data.promocode40})),e(ma({isOpen:!1})),t("/profile/info"))})).catch((function(e){console.error(e),o("STEP_03")}))};(0,r.useEffect)((function(){"STEP_03"===i&&(I(!0),I(""===f||""===p))}),[i,f,p]);return(0,st.jsxs)("div",{className:"singup",children:[(0,st.jsx)("div",{id:"recaptcha-container"}),(0,st.jsx)("div",{className:"singup__content",children:"STEP_01"===i?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{className:"singup__description",children:[(0,st.jsx)("h3",{className:"singup__title",children:"\u0412\u0445\u0456\u0434 \u043d\u0430 \u0441\u0430\u0439\u0442"}),(0,st.jsx)("p",{className:"singup__text",children:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0441\u0432\u0456\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443, \u0449\u043e\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u0431\u043e\u043d\u0443\u0441\u043d\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438 \u0442\u0430 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0438\u043c \u0430\u0434\u0440\u0435\u0441\u0430\u043c \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"})]}),(0,st.jsx)(Ca,{onChange:function(e){return u(e)}}),(0,st.jsx)(ta,{name:"\u041f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438",disabled:C,onClick:T})]}):"STEP_02"===i?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{className:"singup__description",children:[(0,st.jsx)("h3",{className:"singup__title",children:"\u0412\u0445\u0456\u0434 \u043d\u0430 \u0441\u0430\u0439\u0442"}),(0,st.jsxs)("p",{className:"singup__text",children:["\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u0434 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f, \u044f\u043a\u0438\u0439 \u043c\u0438 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u043d\u0430 ",s," ",(0,st.jsx)("span",{className:"singup__text singup__text-action",onClick:function(){return o("STEP_01")},children:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438"})]})]}),(0,st.jsx)("form",{className:"singup__form",children:(0,st.jsx)(Ia,{onData:function(e){return S(e)}})}),(0,st.jsx)(ta,{name:"\u041f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438",disabled:C,onClick:L})]}):"STEP_03"===i?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{className:"singup__description",children:[(0,st.jsx)("h3",{className:"singup__title",children:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"}),(0,st.jsx)("p",{className:"singup__text",children:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u0432\u043e\u0457 \u0434\u0430\u043d\u0456"})]}),(0,st.jsxs)("form",{className:"singup__form",children:[(0,st.jsx)(VA,{name:"\u0406\u043c\u2019\u044f",placeholder:"\u0406\u043c\u2019\u044f",onChange:function(e){return h(e)}}),(0,st.jsx)(VA,{name:"\u041f\u043e\u0448\u0442\u0430",placeholder:"xxx@gmail.com",onChange:function(e){return v(e)}})]}),(0,st.jsx)(ta,{name:"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f",disabled:C,onClick:function(){return function(){var n={name:f,email:p,token:g,phone:s},r=JSON.stringify(n);console.log(r),kr.post("".concat(BA,"api/registrate"),r,{headers:{"Content-Type":"application/json"}}).then((function(n){var r=n.data;200===n.status&&(console.log(r),console.log("user data",{name:f,phone:s,email:p,token:g}),e(To({name:f,phone:s,email:p,token:g,promocode40:r.promocode40})),e(ma({isOpen:!1})),t("/profile/info"))})).catch((function(e){return console.error(e)}))}()}})]}):void 0})]})},qA=function(){var e=ke(),t=l((0,r.useState)(!1),2),n=t[0],i=t[1],o=l((0,r.useState)(!1),2),a=o[0],s=o[1],u=l((0,r.useState)([]),2),c=u[0],f=u[1],h=we(),d=at(),p=Ye((function(e){return e.user}));(0,r.useEffect)((function(){"/"!==e.pathname&&(i(!1),s(!1))}),[e]);var v=Ye((function(e){return e.modals.authModal}));return(0,r.useEffect)((function(){kr.get("https://polarpelmeni-api.work-set.eu/api/menu",{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){var t=e.data.response.filter((function(e){return e.category_name.startsWith("onlineOrder:")})).map((function(e,t){return{category_name:e.category_name.replace(/onlineOrder: /,""),category_id:e.category_id,category_position_index:t}}));t[13].category_position_index=0,t[12].category_position_index=1,t[11].category_position_index=2,t[8].category_position_index=3,t[10].category_position_index=4,t[9].category_position_index=5,t[2].category_position_index=6,t[3].category_position_index=7,t[0].category_position_index=8,t[6].category_position_index=9,t[4].category_position_index=10,t[7].category_position_index=11,t[1].category_position_index=12,t[5].category_position_index=13,t.sort((function(e,t){return e.category_position_index-t.category_position_index})),f(t)})).catch((function(e){return console.error(e)}))}),[]),"/profile/info"===e.pathname?(0,st.jsxs)(st.Fragment,{children:[v&&(0,st.jsx)(wr,{closeModal:function(){return d(ma({isOpen:!1}))},children:(0,st.jsx)(zA,{})}),(0,st.jsx)("header",{className:"header",children:(0,st.jsxs)(ut,{children:[(0,st.jsxs)("div",{className:"header__content",children:[(0,st.jsxs)("div",{className:"header__left",children:[(0,st.jsx)(kt,{className:"header__logo",to:"/",children:(0,st.jsx)("img",{src:ba,alt:"Polar Pelmeni \u2013 \u0430\u0432\u0442\u043e\u0440\u0441\u044c\u043a\u0456 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456"})}),(0,st.jsxs)("div",{className:"header__selectors",children:[(0,st.jsxs)("div",{className:"header__selector header__selector-city",children:[(0,st.jsx)("svg",{width:"12",height:"15",viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M10.2427 10.576L6 14.8187L1.75734 10.576C0.918228 9.73687 0.346791 8.66777 0.115286 7.50389C-0.11622 6.34 0.00260456 5.13361 0.456732 4.03726C0.91086 2.9409 1.6799 2.00384 2.66659 1.34455C3.65328 0.685266 4.81332 0.333374 6 0.333374C7.18669 0.333374 8.34672 0.685266 9.33342 1.34455C10.3201 2.00384 11.0891 2.9409 11.5433 4.03726C11.9974 5.13361 12.1162 6.34 11.8847 7.50389C11.6532 8.66777 11.0818 9.73687 10.2427 10.576ZM6 7.66666C6.35362 7.66666 6.69276 7.52618 6.94281 7.27613C7.19286 7.02608 7.33334 6.68694 7.33334 6.33332C7.33334 5.9797 7.19286 5.64056 6.94281 5.39051C6.69276 5.14046 6.35362 4.99999 6 4.99999C5.64638 4.99999 5.30724 5.14046 5.05719 5.39051C4.80715 5.64056 4.66667 5.9797 4.66667 6.33332C4.66667 6.68694 4.80715 7.02608 5.05719 7.27613C5.30724 7.52618 5.64638 7.66666 6 7.66666Z",fill:"#12130F"})}),(0,st.jsx)("span",{children:p.city}),(0,st.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M5 3.78132L8.3 0.481323L9.24267 1.42399L5 5.66666L0.757332 1.42399L1.7 0.481323L5 3.78132Z",fill:"#12130F"})})]}),(0,st.jsxs)("div",{className:"header__selector header__selector-lang",children:[(0,st.jsx)("span",{children:"UA"}),(0,st.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M5 3.78132L8.3 0.481323L9.24267 1.42399L5 5.66666L0.757332 1.42399L1.7 0.481323L5 3.78132Z",fill:"#12130F"})})]})]})]}),(0,st.jsxs)("nav",{className:"header__navigation",children:[(0,st.jsx)(kt,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),(0,st.jsx)(kt,{to:"/menu",children:"\u041c\u0435\u043d\u044e"}),(0,st.jsx)(kt,{to:"/about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"}),(0,st.jsx)(kt,{to:"/contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})]}),(0,st.jsxs)("div",{className:"header__right",children:[(0,st.jsx)(_a,{}),p.isAuthenticated?(0,st.jsxs)("div",{className:"header__profile-btn",onClick:function(){return h("/profile/info")},children:[(0,st.jsx)("div",{className:"header__avatar",children:(0,st.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:""})}),(0,st.jsx)("span",{className:"header__username",children:p.name}),(0,st.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M5.00048 3.78132L8.30048 0.481323L9.24315 1.42399L5.00048 5.66666L0.757812 1.42399L1.70048 0.481323L5.00048 3.78132Z",fill:"#12130F"})})]}):(0,st.jsx)(ta,{name:"\u0423\u0432\u0456\u0439\u0442\u0438",onClick:function(){return d(ma({isOpen:!0}))}}),(0,st.jsx)("div",{className:"header__hamburger ".concat(n&&"header__hamburger--active"),onClick:function(){return i(!n)},children:(0,st.jsx)("span",{})})]})]}),n&&(0,st.jsx)("div",{className:"mobile-menu",children:(0,st.jsxs)("nav",{className:"mobile-menu__navigation",children:[(0,st.jsx)("div",{className:"mobile-menu__auth",children:!0===p.isAuthenticated?(0,st.jsxs)("div",{className:"mobile-menu__profile-btn mobile-menu__profile-btn--profile",onClick:function(){return h("/profile/info")},children:[(0,st.jsx)("div",{className:"mobile-menu__avatar",children:(0,st.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:"avatar"})}),(0,st.jsxs)("div",{children:[(0,st.jsx)("span",{className:"mobile-menu__username",children:p.name}),(0,st.jsx)("p",{className:"mobile-menu__phone",children:p.phone}),(0,st.jsx)("p",{className:"mobile-menu__bonus",children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e 23 \u0431\u043e\u043d\u0443\u0441\u0438"})]})]}):(0,st.jsx)(ta,{name:"\u0423\u0432\u0456\u0439\u0442\u0438 \u0432 \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u0438\u0439 \u043a\u0430\u0431\u0456\u043d\u0435\u0442",onClick:function(){return d(ma({isOpen:!0}))}})}),(0,st.jsxs)("ul",{className:"mobile-menu__menu",children:[(0,st.jsx)("li",{className:"mobile-menu__link",children:(0,st.jsx)(kt,{children:"\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f"})}),(0,st.jsx)("li",{className:"mobile-menu__link",children:(0,st.jsx)(kt,{children:"\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0456 \u0431\u043b\u044e\u0434\u0430"})}),(0,st.jsx)("li",{className:"mobile-menu__link",children:(0,st.jsx)(kt,{children:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0430\u0434\u0440\u0435\u0441\u0438"})}),(0,st.jsx)("li",{className:"mobile-menu__link",children:(0,st.jsx)(kt,{children:"\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c"})}),(0,st.jsx)("li",{className:"mobile-menu__link",children:(0,st.jsx)(kt,{children:"\u0411\u043e\u043d\u0443\u0441\u0438"})}),(0,st.jsx)("li",{className:"mobile-menu__link mobile-menu__link--exit",children:(0,st.jsx)(kt,{children:"\u0412\u0438\u0445\u0456\u0434"})})]}),(0,st.jsxs)("ul",{className:"mobile-menu__nav",children:[(0,st.jsx)("li",{children:(0,st.jsx)(kt,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"})}),(0,st.jsx)("li",{children:(0,st.jsx)(kt,{to:"/menu",children:"\u041c\u0435\u043d\u044e"})}),(0,st.jsx)("li",{children:(0,st.jsx)(kt,{to:"/about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"})}),(0,st.jsx)("li",{children:(0,st.jsx)(kt,{to:"/contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})})]})]})})]})})]}):(0,st.jsxs)(st.Fragment,{children:[v&&(0,st.jsx)(wr,{closeModal:function(){return d(ma({isOpen:!1}))},children:(0,st.jsx)(zA,{})}),(0,st.jsx)("header",{className:"header ".concat(n&&"header__fh"),children:(0,st.jsxs)(ut,{children:[(0,st.jsxs)("div",{className:"header__content",children:[(0,st.jsxs)("div",{className:"header__left",children:[(0,st.jsx)(kt,{className:"header__logo",to:"/",children:(0,st.jsx)("img",{src:ba,alt:"Polar Pelmeni \u2013 \u0430\u0432\u0442\u043e\u0440\u0441\u044c\u043a\u0456 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456"})}),(0,st.jsxs)("div",{className:"header__selectors",children:[(0,st.jsxs)("div",{className:"header__selector header__selector-city",children:[(0,st.jsx)("svg",{width:"12",height:"15",viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M10.2427 10.576L6 14.8187L1.75734 10.576C0.918228 9.73687 0.346791 8.66777 0.115286 7.50389C-0.11622 6.34 0.00260456 5.13361 0.456732 4.03726C0.91086 2.9409 1.6799 2.00384 2.66659 1.34455C3.65328 0.685266 4.81332 0.333374 6 0.333374C7.18669 0.333374 8.34672 0.685266 9.33342 1.34455C10.3201 2.00384 11.0891 2.9409 11.5433 4.03726C11.9974 5.13361 12.1162 6.34 11.8847 7.50389C11.6532 8.66777 11.0818 9.73687 10.2427 10.576ZM6 7.66666C6.35362 7.66666 6.69276 7.52618 6.94281 7.27613C7.19286 7.02608 7.33334 6.68694 7.33334 6.33332C7.33334 5.9797 7.19286 5.64056 6.94281 5.39051C6.69276 5.14046 6.35362 4.99999 6 4.99999C5.64638 4.99999 5.30724 5.14046 5.05719 5.39051C4.80715 5.64056 4.66667 5.9797 4.66667 6.33332C4.66667 6.68694 4.80715 7.02608 5.05719 7.27613C5.30724 7.52618 5.64638 7.66666 6 7.66666Z",fill:"#12130F"})}),(0,st.jsx)("span",{children:p.city}),(0,st.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M5 3.78132L8.3 0.481323L9.24267 1.42399L5 5.66666L0.757332 1.42399L1.7 0.481323L5 3.78132Z",fill:"#12130F"})})]}),(0,st.jsxs)("div",{className:"header__selector header__selector-lang",children:[(0,st.jsx)("span",{children:"UA"}),(0,st.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M5 3.78132L8.3 0.481323L9.24267 1.42399L5 5.66666L0.757332 1.42399L1.7 0.481323L5 3.78132Z",fill:"#12130F"})})]})]})]}),(0,st.jsxs)("nav",{className:"header__navigation",children:[(0,st.jsx)(kt,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),(0,st.jsx)(kt,{to:"/menu",children:"\u041c\u0435\u043d\u044e"}),(0,st.jsx)(kt,{to:"/about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"}),(0,st.jsx)(kt,{to:"/contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})]}),(0,st.jsxs)("div",{className:"header__right",children:[(0,st.jsx)(_a,{}),p.isAuthenticated?(0,st.jsxs)("div",{className:"header__profile-btn",onClick:function(){return h("/profile/info")},children:[(0,st.jsx)("div",{className:"header__avatar",children:(0,st.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:""})}),(0,st.jsx)("span",{className:"header__username",children:p.name}),(0,st.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M5.00048 3.78132L8.30048 0.481323L9.24315 1.42399L5.00048 5.66666L0.757812 1.42399L1.70048 0.481323L5.00048 3.78132Z",fill:"#12130F"})})]}):(0,st.jsx)(ta,{name:"\u0423\u0432\u0456\u0439\u0442\u0438",onClick:function(){return d(ma({isOpen:!0}))}}),(0,st.jsx)("div",{className:"header__hamburger ".concat(n&&"header__hamburger--active"),onClick:function(){return i(!n)},children:(0,st.jsx)("span",{})})]})]}),n&&(0,st.jsx)("div",{className:"mobile-menu",children:(0,st.jsxs)("nav",{className:"mobile-menu__navigation",children:[(0,st.jsxs)("ul",{className:"mobile-menu__menu",children:[(0,st.jsx)("li",{className:"mobile-menu__link",children:(0,st.jsx)(kt,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"})}),(0,st.jsxs)("li",{className:"mobile-menu__link ",children:[(0,st.jsxs)("div",{className:"mobile-menu__dropdown",onClick:function(){s(!a)},children:[(0,st.jsx)("span",{children:"\u041c\u0435\u043d\u044e"}),(0,st.jsx)("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M5.99959 4.97618L10.1244 0.85141L11.3029 2.02992L5.99959 7.33326L0.696289 2.02992L1.87481 0.85141L5.99959 4.97618Z",fill:"black"})})]}),a&&(0,st.jsx)("ul",{className:"mobile-menu__submenu",children:c.map((function(e){return(0,st.jsx)(kt,{className:"mobile-menu__sublink",to:"menu/".concat(e.category_id),children:e.category_name},e.category_id)}))})]}),(0,st.jsx)("li",{className:"mobile-menu__link",children:(0,st.jsx)(kt,{to:"about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"})}),(0,st.jsx)("li",{className:"mobile-menu__link",children:(0,st.jsx)(kt,{to:"contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})})]}),(0,st.jsx)("div",{className:"mobile-menu__auth",children:p.isAuthenticated?(0,st.jsxs)("div",{className:"mobile-menu__profile-btn",onClick:function(){return h("/profile/info")},children:[(0,st.jsx)("div",{className:"mobile-menu__avatar",children:(0,st.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:""})}),(0,st.jsxs)("div",{children:[(0,st.jsx)("span",{className:"mobile-menu__username",children:p.name}),(0,st.jsx)("div",{className:"mobile-menu__goto",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0456\u043b\u044c"})]})]}):(0,st.jsx)(ta,{name:"\u0423\u0432\u0456\u0439\u0442\u0438 \u0432 \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u0438\u0439 \u043a\u0430\u0431\u0456\u043d\u0435\u0442",onClick:function(){return d(ma({isOpen:!0}))}})})]})})]})})]})};iu("firebase","9.22.2","app");var WA={apiKey:"AIzaSyAZTy2mx9Oje6LQvaiaaCxx0rq0Cm3jGvM",authDomain:"polar-pelmeni.firebaseapp.com",projectId:"polar-pelmeni",storageBucket:"polar-pelmeni.appspot.com",messagingSenderId:"1051342657269",appId:"1:1051342657269:web:4a5d1cc8eb468172dcd7bc"},HA=(Xs(WA),n.p+"static/media/about-1-desc.91b817798bf8b5956683.png"),GA=n.p+"static/media/about-2-desc.92d4c3085097a9bb8178.png",KA=n.p+"static/media/about-3-desc.b5bef9ba9ec67b6c4900.png",QA=n.p+"static/media/hero_preview.33f32bcff4c534ce22a3.png";var JA=n.p+"static/media/sprite.846e26b8e4d965e90cf93dc64c8476cc.svg",ZA=function(){return(0,st.jsxs)(ut,{children:[(0,st.jsx)("section",{className:"about__hero",children:(0,st.jsx)("div",{class:"about-container container",children:(0,st.jsxs)("div",{className:"about__hero-content",children:[(0,st.jsx)("h1",{className:"title__h1",children:"\u041d\u0430\u0448\u0430 \u0456\u0441\u0442\u043e\u0440\u0456\u044f"}),(0,st.jsx)("p",{className:"text",children:"\u041a\u043e\u043b\u0438 \u043b\u044e\u0434\u044f\u043c \u0445\u043e\u0447\u0435\u0442\u044c\u0441\u044f \u0448\u0432\u0438\u0434\u043a\u043e \u0456 \u0441\u043c\u0430\u0447\u043d\u043e, \u0432\u043e\u043d\u0438 \u043e\u0431\u0438\u0440\u0430\u044e\u0442\u044c Polar"}),(0,st.jsx)("div",{className:"about__hero-preview",children:(0,st.jsx)("img",{src:QA,alt:""})})]})})}),(0,st.jsx)("section",{class:"about-section",children:(0,st.jsxs)("div",{class:"about-container container",children:[(0,st.jsxs)("div",{class:"about-top-wrap",children:[(0,st.jsxs)("ul",{class:"about-top-list list",children:[(0,st.jsxs)("li",{class:"about-top-item",children:[(0,st.jsx)("p",{class:"about-top-subtitle",children:"\u041d\u0430\u0448\u0430 \u0456\u0441\u0442\u043e\u0440\u0456\u044f"}),(0,st.jsx)("h2",{class:"about-top-title title",children:"\u0417 \u0447\u043e\u0433\u043e \u0432\u0441\u0435 \u043f\u043e\u0447\u0430\u043b\u043e\u0441\u044f?"})]}),(0,st.jsx)("li",{class:"about-top-item",children:(0,st.jsx)("p",{class:"about-top-text text",children:"\u0417\u0430\u0441\u043d\u043e\u0432\u043d\u0438\u043a Polar \u2014 \u0454\u0432\u0440\u043e\u043f\u0435\u0454\u0446\u044c \u0437 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0438\u043c \u043a\u043e\u0440\u0456\u043d\u043d\u044f\u043c \u2014 \u043a\u0456\u043b\u044c\u043a\u0430 \u0440\u043e\u043a\u0456\u0432 \u0442\u043e\u043c\u0443 \u0432\u0456\u0434\u0432\u0456\u0434\u0430\u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0443. \u0410 \u041e\u0434\u0435\u0441\u0443, \u0439\u043e\u0433\u043e \u0436\u0438\u0442\u0435\u043b\u0456\u0432 \u0456 \u043a\u043e\u043b\u043e\u0440\u0438\u0442 \u0432\u0438 \u0437\u043d\u0430\u0454\u0442\u0435 \u2014 \u043d\u0435 \u0437\u0430\u043a\u043e\u0445\u0430\u0442\u0438\u0441\u044f \u043d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u043e."})}),(0,st.jsx)("li",{class:"about-top-item",children:(0,st.jsx)("p",{class:"about-top-text text",children:"\u0406\u0441\u043a\u0440\u0430, \u0431\u0443\u0440\u044f, \u0431\u043e\u0436\u0435\u0432\u0456\u043b\u043b\u044f, \u0456 \u043e\u0442 \u043d\u0430\u0448 \u041a\u043e\u0441\u0442\u044f \u0432\u0438\u0440\u0456\u0448\u0438\u0432 \u0437\u0430\u043b\u0438\u0448\u0438\u0442\u0438\u0441\u044f \u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0456, \u0430\u0431\u0438 \u0440\u0430\u0434\u0443\u0432\u0430\u0442\u0438 \u043b\u044e\u0434\u0435\u0439 \u0432\u0438\u0448\u0443\u043a\u0430\u043d\u0438\u043c\u0438 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u044f\u043c\u0438 \u0439 \u043f\u0456\u0434\u043d\u0456\u043c\u0430\u0442\u0438 \u0435\u043a\u043e\u043d\u043e\u043c\u0456\u043a\u0443 \u043d\u0430\u0448\u043e\u0457 \u043a\u0440\u0430\u0457\u043d\u0438."})}),(0,st.jsx)("li",{class:"about-top-item",children:(0,st.jsx)("p",{class:"about-top-text text",children:"\u041f\u0456\u0446\u0430, \u0441\u0443\u0448\u0456, \u0431\u0443\u0440\u0433\u0435\u0440\u0438, \u0440\u0430\u043c\u0435\u043d\u2026 \u0410 \u0434\u0435 \u0436 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456, \u044f\u043a\u0456 \u0442\u043e\u0447\u043d\u043e \u0437\u0430\u0439\u043c\u0430\u044e\u0442\u044c \u043e\u043a\u0440\u0435\u043c\u0435 \u043c\u0456\u0441\u0446\u0435 \u0432 \u0441\u0435\u0440\u0434\u0435\u0447\u043a\u0443 \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u0443\u043a\u0440\u0430\u0457\u043d\u0446\u044f?"})}),(0,st.jsx)("li",{class:"about-top-item",children:(0,st.jsx)("p",{class:"about-top-text text",children:"\u0426\u0435 \u043f\u0438\u0442\u0430\u043d\u043d\u044f \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0432 \u0441\u043e\u0431\u0456 \u0437\u0430\u0441\u043d\u043e\u0432\u043d\u0438\u043a Polar, \u044f\u043a\u0438\u0439 \u043d\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0432 \u043d\u0430 \u0440\u0438\u043d\u043a\u0443 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0446\u0456\u0454\u0457 \u0441\u0442\u0440\u0430\u0432\u0438 \u0456 \u0441\u043c\u0430\u0447\u043d\u0438\u0445 \u0441\u043e\u0443\u0441\u0456\u0432 \u0434\u043e \u043d\u0435\u0457. \u0406 \u043f\u043e\u043d\u0435\u0441\u043b\u0430\u0441\u044f\u2026"})})]}),(0,st.jsx)("img",{src:HA,alt:"women",class:"about-top-img first"})]}),(0,st.jsx)("svg",{class:"about-icon first",children:(0,st.jsx)("use",{href:"".concat(JA,"#icon-arrow-1")})}),(0,st.jsxs)("div",{class:"about-wrap",children:[(0,st.jsxs)("ul",{class:"about-list list",children:[(0,st.jsx)("li",{class:"about-item",children:(0,st.jsxs)("h2",{class:"about-title title",children:["\u042f\u043a \u0432\u0441\u0435",(0,st.jsx)("br",{}),"\u043f\u0440\u0438\u0437\u0443\u043f\u0438\u043d\u0438\u043b\u043e\u0441\u044f?"]})}),(0,st.jsx)("li",{class:"about-item",children:(0,st.jsx)("p",{class:"about-text text",children:"23 \u043b\u044e\u0442\u043e\u0433\u043e \u0431\u0443\u043b\u0430 \u043f\u0440\u0435-\u043f\u0430\u0442\u0456 \u0434\u0435\u0433\u0443\u0441\u0442\u0430\u0446\u0456\u044f \u0432 \u041e\u0434\u0435\u0441\u0456:\u043b\u044e\u0434\u0438 \u0433\u0456\u0434\u043d\u043e \u043e\u0446\u0456\u043d\u0438\u043b\u0438 \u043d\u0430\u0448\u0456 \u0441\u0442\u0430\u0440\u0430\u043d\u043d\u044f, \u0441\u043c\u0430\u043a \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432, \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0456\u0441\u0442\u044c \u0432\u0438\u0431\u043e\u0440\u0443 \u0456 \u0448\u0432\u0438\u0434\u043a\u0456\u0441\u0442\u044c \u043f\u0440\u0438\u0433\u043e\u0442\u0443\u0432\u0430\u043d\u043d\u044f."})}),(0,st.jsx)("li",{class:"about-item",children:(0,st.jsx)("p",{class:"about-text text",children:"\u041d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e \u0434\u043d\u044f \u043f\u043e\u0447\u0430\u043b\u0430\u0441\u044f \u0432\u0456\u0439\u043d\u0430."})}),(0,st.jsx)("li",{class:"about-item",children:(0,st.jsx)("p",{class:"about-text text",children:"\u041c\u0438, \u044f\u043a \u0456 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u0431\u0456\u0437\u043d\u0435\u0441 \u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0456, \u043d\u0435 \u043c\u043e\u0433\u043b\u0438 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u044f\u043a \u0440\u0430\u043d\u0456\u0448\u0435."})}),(0,st.jsx)("li",{class:"about-item",children:(0,st.jsx)("p",{class:"about-text text",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 Polar \u043d\u0435 \u0437\u0434\u0430\u043b\u0430\u0441\u044f \u0456 \u043f\u0440\u0438\u0439\u043d\u044f\u043b\u0430 \u0440\u0456\u0448\u0435\u043d\u043d\u044f \u0432\u0456\u0434\u0447\u0438\u043d\u0438\u0442\u0438\u0441\u044f \u0432 \u0431\u0456\u043b\u044c\u0448 \u0431\u0435\u0437\u043f\u0435\u0447\u043d\u043e\u043c\u0443 \u043c\u0456\u0441\u0442\u0456 \u0423\u043a\u0440\u0430\u0457\u043d\u0438 \u2014 \u0423\u0436\u0433\u043e\u0440\u043e\u0434\u0456."})}),(0,st.jsx)("li",{class:"about-item",children:(0,st.jsx)("p",{class:"about-text text",children:"\u0421\u0442\u0432\u043e\u0440\u0438\u043b\u0438 \u0446\u0435\u0445 \u0443 \u0417\u0430\u043a\u0430\u0440\u043f\u0430\u0442\u0442\u0456, \u043f\u043e\u043b\u0456\u043f\u0448\u0438\u043b\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0443\u0440\u0443 \u0456 \u0437\u0440\u043e\u0431\u0438\u043b\u0438 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456 \u0449\u0435 \u043a\u0440\u0430\u0449\u0438\u043c\u0438 \u0437 \u0456\u0434\u0435\u0430\u043b\u044c\u043d\u0438\u043c \u0442\u0456\u0441\u0442\u043e\u043c \u0456 \u043d\u0430\u0447\u0438\u043d\u043a\u0430\u043c\u0438!"})})]}),(0,st.jsx)("img",{src:GA,alt:"dishes",class:"about-img second"})]}),(0,st.jsx)("svg",{class:"about-icon second",children:(0,st.jsx)("use",{href:"".concat(JA,"#icon-arrow-2")})}),(0,st.jsxs)("div",{class:"about-bottom-wrap",children:[(0,st.jsxs)("ul",{class:"about-bottom-list list",children:[(0,st.jsx)("li",{class:"about-bottom-item",children:(0,st.jsxs)("h2",{class:"about-bottom-title title",children:["\u041c\u0438 \u043f\u0440\u043e\u0434\u0443\u043c\u0430\u043b\u0438 \u0432\u0441\u0435",(0,st.jsx)("br",{}),"\u0434\u043e \u0434\u0440\u0456\u0431\u043d\u0438\u0446\u044c"]})}),(0,st.jsx)("li",{class:"about-bottom-item",children:(0,st.jsx)("p",{class:"about-bottom-text text",children:"\u0423 \u0442\u0435\u0440\u043c\u0456\u043d\u043e\u0432\u043e\u043c\u0443 \u043f\u043e\u0440\u044f\u0434\u043a\u0443 (\u043c\u043e\u0432\u0430 \u0436 \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0440\u043e \u0457\u0436\u0443, \u0430 \u043f\u0440\u043e \u041f\u0415\u041b\u042c\u041c\u0415\u041d\u0406) \u0437\u0456\u0431\u0440\u0430\u043b\u0430\u0441\u044f \u0441\u0438\u043b\u044c\u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u043d\u0430 \u0447\u043e\u043b\u0456 \u0456\u0437 \u0448\u0435\u0444-\u043a\u0443\u0445\u0430\u0440\u0435\u043c."})}),(0,st.jsx)("li",{class:"about-bottom-item",children:(0,st.jsx)("p",{class:"about-bottom-text text",children:"\u0414\u043d\u044f\u043c\u0438 \u0439 \u043d\u043e\u0447\u0430\u043c\u0438 \u043c\u0438 \u0440\u043e\u0437\u0440\u043e\u0431\u043b\u044f\u043b\u0438 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0456\u044e, \u043e\u0441\u043e\u0431\u043b\u0438\u0432\u0443 \u0440\u0435\u0446\u0435\u043f\u0442\u0443\u0440\u0443, \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0456\u044e \u043c\u0435\u043d\u044e \u0437 \u043f\u0440\u043e\u0444\u0435\u0441\u0456\u043e\u043d\u0430\u043b\u0430\u043c\u0438, \u0449\u043e\u0431\u0438 \u043d\u0430\u0441\u043e\u043b\u043e\u0434\u0436\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u044f\u043c\u0438 \u043c\u0456\u0433 \u043a\u043e\u0436\u0435\u043d."})}),(0,st.jsx)("li",{class:"about-bottom-item",children:(0,st.jsx)("p",{class:"about-bottom-text text",children:"\u041d\u0435 \u0437\u0430\u043b\u0438\u0448\u0438\u043b\u0438 \u0431\u0435\u0437 \u0443\u0432\u0430\u0433\u0438 \u043d\u0456\u043a\u043e\u0433\u043e."})}),(0,st.jsx)("li",{class:"about-bottom-item",children:(0,st.jsx)("p",{class:"about-bottom-text text",children:"\u0406 \u0432\u0435\u0433\u0435\u0442\u0430\u0440\u0456\u0430\u043d\u0446\u0456, \u0456 \u0432\u0435\u0433\u0430\u043d\u0438, \u0456 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u043d\u0456 \u043c\u2019\u044f\u0441\u043e\u0457\u0434\u0438, \u0456 \u043b\u044e\u0431\u0438\u0442\u0435\u043b\u0456 \u0440\u0438\u0431\u043a\u0438, \u043e\u0432\u043e\u0447\u0456\u0432, \u043d\u0430\u0432\u0456\u0442\u044c \u0441\u043e\u043b\u043e\u0434\u043e\u0449\u0456\u0432 \u0442\u043e\u0447\u043d\u043e \u0437\u043d\u0430\u0439\u0434\u0443\u0442\u044c \u043f\u043e\u0440\u0446\u0456\u044e \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u0445 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432 \u0434\u043b\u044f \u0441\u0435\u0431\u0435 \u0432 Polar"})})]}),(0,st.jsx)("img",{src:KA,alt:"women",class:"about-bottom-img"})]})]})}),(0,st.jsx)("section",{class:"facts-section",children:(0,st.jsxs)("div",{class:"facts-container container",children:[(0,st.jsx)("h2",{class:"facts-main-title title",children:"\u0412\u0430\u0436\u043b\u0438\u0432\u0456 \u0444\u0430\u043a\u0442\u0438 \u043f\u0440\u043e Polar"}),(0,st.jsx)("div",{class:"facts-list-wrap",children:(0,st.jsxs)("ul",{class:"facts-list list",children:[(0,st.jsxs)("li",{class:"facts-item",children:[(0,st.jsx)("div",{class:"facts-icon-wrap",children:(0,st.jsx)("svg",{class:"facts-icon",children:(0,st.jsx)("use",{href:"".concat(JA,"#icon-facts-1")})})}),(0,st.jsx)("h3",{class:"facts-title",children:"\u041c\u0438 \u0441\u0430\u043c\u0456 \u0432\u0438\u0440\u043e\u0431\u043b\u044f\u0454\u043c\u043e \u0432\u0441\u0435"}),(0,st.jsx)("p",{class:"facts-text",children:"\u0444\u0430\u0440\u0448, \u0431\u0443\u043b\u044c\u0439\u043e\u043d\u0438, \u0441\u043e\u0443\u0441\u0438. \u0406 \u0446\u0435 \u0437 \u043d\u0430\u0439\u044f\u043a\u0456\u0441\u043d\u0456\u0448\u0438\u0445 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432 \u0432\u0456\u0434 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u0438\u0445 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0456\u0432. \u0422\u043e\u043c\u0443 \u0449\u043e, \u0445\u043e\u0440\u043e\u0448\u0456 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456 \u043f\u043e\u0447\u0438\u043d\u0430\u044e\u0442\u044c\u0441\u044f \u0437\u0456 \u0441\u0432\u0456\u0436\u0438\u0445 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432"})]}),(0,st.jsxs)("li",{class:"facts-item",children:[(0,st.jsx)("div",{class:"facts-icon-wrap",children:(0,st.jsx)("svg",{class:"facts-icon",children:(0,st.jsx)("use",{href:"".concat(JA,"#icon-facts-2")})})}),(0,st.jsx)("h3",{class:"facts-title",children:"10 \u0432\u0438\u0434\u0456\u0432 \u0440\u0456\u0437\u043d\u0438\u0445 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432"}),(0,st.jsx)("p",{class:"facts-text",children:"\u0406 \u0432\u0435\u0433\u0435\u0442\u0430\u0440\u0456\u0430\u043d\u0446\u0456, \u0456 \u0432\u0435\u0433\u0430\u043d\u0438, \u0456 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u043d\u0456 \u043c\u2019\u044f\u0441\u043e\u0457\u0434\u0438, \u0456 \u043b\u044e\u0431\u0438\u0442\u0435\u043b\u0456 \u0440\u0438\u0431\u043a\u0438, \u043e\u0432\u043e\u0447\u0456\u0432, \u043d\u0430\u0432\u0456\u0442\u044c \u0441\u043e\u043b\u043e\u0434\u043e\u0449\u0456\u0432 \u0442\u043e\u0447\u043d\u043e \u0437\u043d\u0430\u0439\u0434\u0443\u0442\u044c \u043f\u043e\u0440\u0446\u0456\u044e \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u0445 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432"})]}),(0,st.jsxs)("li",{class:"facts-item",children:[(0,st.jsx)("div",{class:"facts-icon-wrap",children:(0,st.jsx)("svg",{class:"facts-icon",children:(0,st.jsx)("use",{href:"".concat(JA,"#icon-facts-3")})})}),(0,st.jsx)("h3",{class:"facts-title",children:"4 \u0445\u0432\u0438\u043b\u0438\u043d\u0438"}),(0,st.jsx)("p",{class:"facts-text",children:"\u041c\u0430\u043b\u043e \u0449\u043e \u043c\u043e\u0436\u043d\u0430 \u0432\u0441\u0442\u0438\u0433\u043d\u0443\u0442\u0438 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0437\u0430 \u0446\u0435\u0439 \u0447\u0430\u0441, \u0430\u043b\u0435 \u043c\u0438 \u0442\u043e\u0447\u043d\u043e \u0437\u043d\u0430\u0454\u043c\u043e, \u0449\u043e \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456 \u0432\u0456\u0434 Polar \u0432\u0436\u0435 \u0431\u0443\u0434\u0443\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u0456"})]}),(0,st.jsxs)("li",{class:"facts-item",children:[(0,st.jsx)("div",{class:"facts-icon-wrap",children:(0,st.jsx)("svg",{class:"facts-icon",children:(0,st.jsx)("use",{href:"".concat(JA,"#icon-facts-4")})})}),(0,st.jsx)("h3",{class:"facts-title",children:"Polar \u0437 \u0435\u043a\u043e\u043b\u043e\u0433\u0456\u0454\u044e"}),(0,st.jsx)("p",{class:"facts-text",children:"\u041d\u0430 \u0432\u0441\u0456\u0445 \u0435\u0442\u0430\u043f\u0430\u0445 \u0432\u0438\u0440\u043e\u0431\u043d\u0438\u0446\u0442\u0432\u0430 \u0439 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u043c\u0438 \u043d\u0430\u043c\u0430\u0433\u0430\u0454\u043c\u043e\u0441\u044f \u043c\u0456\u043d\u0456\u043c\u0456\u0437\u0443\u0432\u0430\u0442\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u043f\u043b\u0430\u0441\u0442\u0438\u043a\u0443"})]})]})})]})}),(0,st.jsx)("section",{class:"gallery-section",children:(0,st.jsxs)("div",{class:"gallery-container container",children:[(0,st.jsxs)("picture",{children:[(0,st.jsx)("source",{srcset:"./images/about/about-8-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,st.jsx)("img",{src:"./images/about/about-8-mobile.jpg",alt:"",class:"gallery-img"})]}),(0,st.jsxs)("div",{class:"gallery-img-wrap",children:[(0,st.jsxs)("picture",{children:[(0,st.jsx)("source",{srcset:"./images/about/about-7-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,st.jsx)("img",{src:"./images/about/about-7-mobile.jpg",alt:"",class:"gallery-img"})]}),(0,st.jsxs)("picture",{children:[(0,st.jsx)("source",{srcset:"./images/about/about-13-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,st.jsx)("img",{src:"./images/about/about-13-mobile.jpg",alt:"",class:"gallery-img"})]})]}),(0,st.jsxs)("div",{class:"gallery-img-wrap",children:[(0,st.jsxs)("picture",{children:[(0,st.jsx)("source",{srcset:"./images/about/about-9-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,st.jsx)("img",{src:"./images/about/about-9-mobile.jpg",alt:"",class:"gallery-img"})]}),(0,st.jsxs)("picture",{children:[(0,st.jsx)("source",{srcset:"./images/about/about-15-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,st.jsx)("img",{src:"./images/about/about-15-mobile.jpg",alt:"",class:"gallery-img"})]})]}),(0,st.jsxs)("div",{class:"gallery-img-wrap",children:[(0,st.jsxs)("picture",{children:[(0,st.jsx)("source",{srcset:"./images/about/about-12-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,st.jsx)("img",{src:"./images/about/about-12-mobile.jpg",alt:"",class:"gallery-img"})]}),(0,st.jsxs)("picture",{children:[(0,st.jsx)("source",{srcset:"./images/about/about-14-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,st.jsx)("img",{src:"./images/about/about-14-mobile.jpg",alt:"",class:"gallery-img"})]})]}),(0,st.jsxs)("div",{class:"gallery-img-wrap",children:[(0,st.jsxs)("picture",{children:[(0,st.jsx)("source",{srcset:"./images/about/about-11-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,st.jsx)("img",{src:"./images/about/about-11-mobile.jpg",alt:"",class:"gallery-img"})]}),(0,st.jsxs)("picture",{children:[(0,st.jsx)("source",{srcset:"./images/about/about-10-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,st.jsx)("img",{src:"./images/about/about-10-mobile.jpg",alt:"",class:"gallery-img"})]})]})]})})]})},YA=function(e){var t=new Date;return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)+" "+e.split(" - ")[0]+":00"},$A=function(e){var t=0;return e.forEach((function(e){t+=e.totalPrice})),t};var XA=function(e){var t=e.name,n=e.placeholder,r=e.onChange,i=e.data;return(0,st.jsxs)("label",{className:"inputText",children:[(0,st.jsx)("span",{children:t}),(0,st.jsx)("select",{type:"selector",placeholder:n,onChange:function(e){return r(e.target.value)},children:i.map((function(e){return(0,st.jsx)("option",{value:e.value,children:e.label},e.id)}))})]})},ej=function(e){var t=e.data,n=e.selectedOption,r=e.onOptionChange,i=e.column;return(0,st.jsx)("div",{className:"radio-button ".concat(i&&"radio-button-column"),n:!0,children:t.map((function(e){return(0,st.jsxs)("label",{children:[(0,st.jsxs)("div",{className:"radio-button__flex-content",children:[(0,st.jsx)("input",{type:"radio",value:e.value,checked:n===e.value,onChange:r}),(0,st.jsx)("span",{}),e.label]}),e.info&&(0,st.jsx)("p",{className:"radio-button__info",children:e.info})]},e.id)}))})},tj=function(e){return(0,st.jsxs)("label",{className:"inputTextArea",children:[(0,st.jsx)("span",{children:e.name}),(0,st.jsx)("textarea",{type:"textarea",placeholder:e.placeholder,onChange:function(t){return e.onChange(t.target.value)}})]})},nj=function(e){var t=e.isChecked,n=e.onCheckboxChange,r=e.label;return(0,st.jsxs)("label",{className:"checkbox-container",children:[(0,st.jsx)("input",{type:"checkbox",checked:t,onChange:function(){n(!t)}}),(0,st.jsx)("span",{className:"checkmark"}),(0,st.jsx)("span",{className:"checkbox-label",children:r})]})},rj=function(e){return(0,st.jsxs)("button",{className:"btn btn-secondary ".concat(!0===e.fullWide&&"btn-secondary-fw"," "),onClick:e.onClick,disabled:e.disabled,children:[e.name,e.arrow&&(0,st.jsx)("svg",{width:"17",height:"20",viewBox:"0 0 17 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M9.16645 11.7814L12.7425 8.20535L13.6851 9.14802L8.49979 14.3334L3.31445 9.14802L4.25712 8.20535L7.83312 11.7814V3.66669H9.16645V11.7814Z",fill:"#12130F"})})]})},ij=function(e){var t=e.orderId,n=e.deliveryTime,r=we();return(0,st.jsx)("div",{children:(0,st.jsx)("div",{className:"thanks",children:(0,st.jsxs)("div",{className:"thanks__content",children:[(0,st.jsx)("div",{className:"thanks__ico",children:(0,st.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M11.602 13.7599L13.014 15.1719L21.4795 6.7063L22.8938 8.12051L13.014 18.0003L6.65 11.6363L8.06421 10.2221L10.189 12.3469L11.602 13.7599ZM11.6037 10.9322L16.5563 5.97949L17.9666 7.38977L13.014 12.3424L11.6037 10.9322ZM8.77698 16.5873L7.36396 18.0003L1 11.6363L2.41421 10.2221L3.82723 11.6352L3.82604 11.6363L8.77698 16.5873Z",fill:"#DF643A"})})}),(0,st.jsx)("h4",{className:"title__h4",children:"\u0414\u044f\u043a\u0443\u0454\u043c\u043e"}),(0,st.jsxs)("p",{className:"thanks__text",children:["\u041d\u043e\u043c\u0435\u0440 \u0432\u0430\u0448\u043e\u0433\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u2116",t]}),(0,st.jsx)("div",{className:"thanks__delivery-time",children:(0,st.jsxs)("p",{children:["\u041e\u0440\u0456\u0454\u043d\u0442\u043e\u0432\u043d\u0438\u0439 \u0447\u0430\u0441 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f: ",(0,st.jsx)("b",{children:n})]})}),(0,st.jsx)(rj,{name:"\u0417\u0432\u2019\u044f\u0437\u0430\u0442\u0438\u0441\u044f \u0437 \u043d\u0430\u043c\u0438",onClick:function(){return r("/contact")},fullWide:!0})]})})})},oj=so({name:"order",initialState:{paymentData:null,orderData:null,posterOrder:null,promocode:!1},reducers:{setPaymentData:function(e,t){e.paymentData=t.payload.paymentData,localStorage.setItem("user_payment_data",JSON.stringify(t.payload.paymentData))},setOrderData:function(e,t){e.orderData=t.payload.orderData,localStorage.setItem("user_order_data",JSON.stringify(t.payload.orderData))},setPosterResponsea:function(e,t){e.posterOrder=t.payload.posterOrder,localStorage.setItem("poster_order",JSON.stringify(t.payload.posterOrder))},usedPromocode:function(e){e.promocode=!e.promocode}}}),aj=oj.actions,sj=aj.setPaymentData,uj=aj.setOrderData,cj=aj.setPosterResponsea,lj=(aj.usedPromocode,oj.reducer),fj=[{id:1,label:"12:00 - 12:30",value:"12:00 - 12:30"},{id:2,label:"12:30 - 13:00",value:"12:30 - 13:00"},{id:3,label:"13:00 - 13:30",value:"13:00 - 13:30"},{id:4,label:"13:30 - 14:00",value:"13:30 - 14:00"},{id:5,label:"14:00 - 14:30",value:"14:00 - 14:30"},{id:6,label:"14:30 - 15:00",value:"14:30 - 15:00"},{id:7,label:"15:00 - 15:30",value:"15:00 - 15:30"},{id:8,label:"15:30 - 16:00",value:"15:30 - 16:00"},{id:9,label:"16:00 - 16:30",value:"16:00 - 16:30"},{id:10,label:"16:30 - 17:00",value:"16:30 - 17:00"},{id:11,label:"17:00 - 17:30",value:"17:00 - 17:30"},{id:12,label:"17:30 - 18:00",value:"17:30 - 18:00"},{id:13,label:"18:00 - 18:30",value:"18:00 - 18:30"},{id:14,label:"18:30 - 19:00",value:"18:30 - 19:00"},{id:15,label:"19:00 - 19:30",value:"19:00 - 19:30"},{id:16,label:"19:30 - 20:00",value:"19:30 - 20:00"},{id:17,label:"22:00 - 22:30",value:"22:00 - 22:30"},{id:16,label:"23:00 - 23:30",value:"23:00 - 23:30"}],hj=function(){var e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()+5).padStart(2,"0"),a=String(e.getSeconds()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r," ").concat(i,":").concat(o,":").concat(a)},dj=function(){var e="https://polarpelmeni-api.work-set.eu/api",t={"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},n=l((0,r.useState)(!1),2),i=n[0],o=n[1],a=l((0,r.useState)(!1),2),s=a[0],u=a[1],c=l((0,r.useState)(!1),2),f=c[0],h=c[1],d=l((0,r.useState)(null),2),p=d[0],v=d[1],m=l((0,r.useState)({status:!1,currentError:""}),2),g=m[0],y=m[1],k=l((0,r.useState)(!1),2),b=k[0],w=k[1],x=ke(),_=at(),S=we(),E=Ye((function(e){return e.shoppingCart.products})),C=E.map((function(e){return{product_id:e.id,count:e.count}})),I=E.map((function(e){return{id:"2",involved_products:[{id:e.id,count:e.count}]}})),T=Ye((function(e){return e.modals})),L=Ye((function(e){return e.user})),N=(Ye((function(e){return e.order})),function(e){var t=new Date,n=t.getHours(),r=t.getMinutes(),i="".concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"));return e.filter((function(e){return e.label.split(" - ")[0]>=i}))}(fj)),P=l((0,r.useState)({spot_id:1,name:"",number:"",selectedAddress:"",street:"",houseNumber:"",deliveryTime:"",howToReciveOrder:"",entrance:"",apartment:"",buildingCode:"",floor:"",selectedTime:hj(),promoCode:"",bonus:"",paymentMethod:1,change:"",withoutDevices:!1,personCount:1,comment:"",doNotCall:!1}),2),O=P[0],A=P[1],j={spot_id:1,first_name:O.name,phone:O.number,products:C,client_address:{address1:"\u0412\u0443\u043b\u0438\u0446\u044f: ".concat(O.street,", \u0414\u0456\u043c: ").concat(O.houseNumber),address2:"\u041f\u0430\u0440\u0430\u0434\u043d\u0430\u044f: ".concat(O.entrance,", \u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430: ").concat(O.apartment,", \u041a\u043e\u0434: ").concat(O.buildingCode,", \u041f\u043e\u0432\u0435\u0440\u0445: ").concat(O.floor,", ")},service_mode:"\u0421\u0430\u043c\u043e\u0432\u0438\u0432\u0456\u0437"===O.howToReciveOrder?2:3,delivery_time:"".concat("\u041d\u0430 \u0437\u0430\u0440\u0430\u0437"===O.deliveryTime?hj():YA(O.selectedTime)),payment:{type:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430"===O.paymentMethod?0:1,sum:i?0:$A(E),currency:"UAH"},promotion:i?I:"",comment:"\n    \u041a\u043e\u043b-\u0432\u043e \u043f\u0435\u0440\u0441\u043e\u043d: ".concat(O.personCount,",\n      ").concat(O.comment&&" ".concat(O.comment),", ").concat(O.withoutDevices&&"\u0411\u0435\u0437 \u043f\u0440\u0438\u0431\u043e\u0440\u043e\u0432",",").concat(O.doNotCall&&"\u041d\u0435 \u043f\u0435\u0440\u0435\u0437\u0432\u0430\u043d\u0438\u0432\u0430\u0442\u044c",", ").concat(2===O.howToReciveOrder&&"\u0421\u0410\u041c\u041e\u0412\u042b\u0412\u041e\u0417"," ").concat(i&&"\u0421\u041a\u0418\u0414\u041a\u0410 40%")};(0,r.useEffect)((function(){console.log(j)}),[j]);var D=function(e,t){A((function(n){return Nt(Nt({},n),{},Tt({},e,t))}))};(0,r.useEffect)((function(){kr.post("https://polarpelmeni-api.work-set.eu/api/auth",{token:L.token},{headers:{"Content-Type":"application/json"}}).then((function(e){var t=e.data;200===e.status&&(console.log("checkCurrentUserPromo",t.promocode40),!0===t.promocode40?_(Do()):_(jo()))})).catch((function(e){return console.error(e)}))}),[L.isAuthenticated]);var M=function(){var n=JSON.parse(localStorage.getItem("user_payment_data")),r=JSON.parse(localStorage.getItem("user_order_data")),o=n?n.order_id:null;kr.post(e+"/createOrder",{order_id:o,data:r},{headers:t}).then((function(n){var r=n.data;r.error||(console.log("createOrder:",r),_(cj({posterOrder:r.response})),w(!0),(i||""!==r.promotion)&&kr.post(e+"/promocode",{token:L.token},{headers:t}).then((function(e){var t=e.data;console.log("usagePromotion:",t)})).catch((function(e){return console.error(e)})))})).catch((function(e){return console.error(e)}))},R=function(){""===j.phone?y({status:!0,currentError:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0443 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443"}):""===O.howToReciveOrder?y({status:!0,currentError:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u043e\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u043f\u043e\u0441\u0456\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}):$A(E)<=200?(y({status:!0,currentError:"\u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u0441\u0443\u043c\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f 200 \u20b4"}),setTimeout((function(){y({status:!1,currentError:""})}),3e3)):(_(uj({orderData:j})),1===j.payment.type&&function(n){var r={amount:n};kr.post(e+"/pay",r,{headers:t}).then((function(e){var t=e.data,n="https://liqpay.ua/api/3/checkout?data=".concat(t.data,"&signature=").concat(t.signature);_(sj({paymentData:t})),console.log("createTransaction:",t,n),window.location.replace(n)})).catch((function(e){return console.error(e)}))}(i?.6*$A(E):$A(E)),0===j.payment.type&&(M(),console.log("cash")))};return(0,r.useEffect)((function(){i&&(u(!0),setTimeout((function(){u(!1)}),3e3))}),[i]),(0,r.useEffect)((function(){"checkout"===new URLSearchParams(x.search).get("status")&&function(){var n={order_id:JSON.parse(localStorage.getItem("user_payment_data")).order_id};kr.post(e+"/getStatus",n,{headers:t}).then((function(e){var t=e.data;console.log("checkTransactionStatus:",t),"success"===t?h(!0):"unpaid"===t&&(_(Do()),y({status:!0,currentError:"\u041e\u043f\u043b\u0430\u0442\u0430 \u043d\u0435 \u0432\u0434\u0430\u043b\u0430"}),localStorage.removeItem("posterOrder"),localStorage.removeItem("user_payment_data"),localStorage.removeItem("user_order_data"),setTimeout((function(){S("/order")}),2e3))})).catch((function(e){return console.error(e)}))}()}),[]),(0,r.useEffect)((function(){f&&M()}),[f]),(0,r.useEffect)((function(){if(b){JSON.parse(localStorage.getItem("user_order_data"));v(JSON.parse(localStorage.getItem("poster_order"))),setTimeout((function(){localStorage.removeItem("posterOrder"),localStorage.removeItem("poster_order"),localStorage.removeItem("user_payment_data"),localStorage.removeItem("user_order_data"),_(So()),_(ya({isOpen:!1})),S("/")}),5e3)}}),[b]),(0,r.useEffect)((function(){null!==p&&(console.log("posterOrder",p),_(ya({isOpen:!0})))}),[p]),(0,r.useEffect)((function(){L.isAuthenticated&&(D("name",L.name),D("number",L.phone),O.name=L.name,O.number=L.phone)}),[L]),(0,st.jsxs)(st.Fragment,{children:[T.thanksModal&&(0,st.jsx)(wr,{closeModal:function(){_(ya({isOpen:!1}))},children:(0,st.jsx)(ij,{orderId:p.incoming_order_id,deliveryTime:p.delivery_time})}),!0===g.status&&(0,st.jsx)(xa,{action:g.currentError,onClick:function(){return y({status:!1,currentError:""})},error:!0}),!0===s&&(0,st.jsx)(xa,{action:"\u0412\u0430\u0448 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434 \u0437\u0430\u0441\u0442\u043e\u0441\u043e\u0432\u0430\u043d",onClick:function(){u(!1)}}),(0,st.jsxs)("section",{className:"order-page__form",children:[(0,st.jsxs)("section",{className:"order-page__section",children:[(0,st.jsx)("h3",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"}),(0,st.jsxs)("div",{className:"order-page__section-inputs",children:[(0,st.jsx)(VA,{name:"\u0412\u0430\u0448\u0435 \u0456\u043c\u2019\u044f",placeholder:"\u0412\u0430\u0448\u0435 \u0456\u043c\u2019\u044f",inputValue:O.name,value:O.name,onChange:function(e){return D("name",e)}}),(0,st.jsx)(Ca,{value:O.number,inputValue:O.number,onChange:function(e){return D("number",e)}})]})]}),(0,st.jsxs)("section",{className:"order-page__section",children:[(0,st.jsx)("h3",{children:"\u0421\u043f\u043e\u0441\u0456\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,st.jsx)("section",{className:"order-page__section-inputs",children:(0,st.jsx)(XA,{name:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0430\u0434\u0440\u0435\u0441\u0438",data:[{id:1,label:"\u041d\u0435\u043c\u0430\u0454",value:"\u041d\u0435\u043c\u0430\u0454"}],placeholder:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0443",value:O.selectedAddress,onChange:function(e){return D("selectedAddress",e)}})}),(0,st.jsxs)("section",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,st.jsx)(VA,{name:"\u0412\u0443\u043b\u0438\u0446\u044f",placeholder:"\u0412\u0443\u043b\u0438\u0446\u044f",value:O.street,onChange:function(e){return D("street",e)}}),(0,st.jsx)(VA,{name:"\u2116 \u0411\u0443\u0434\u0438\u043d\u043a\u0443",placeholder:"\u2116 \u0411\u0443\u0434\u0438\u043d\u043a\u0443",value:O.houseNumber,onChange:function(e){return D("houseNumber",e)}})]}),(0,st.jsx)("section",{className:"order-page__section-inputs",children:(0,st.jsx)(ej,{data:[{id:1,value:"\u0414\u043e \u0434\u0432\u0435\u0440\u0435\u0439",label:"\u0414\u043e \u0434\u0432\u0435\u0440\u0435\u0439"},{id:2,value:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a",label:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a"},{id:4,value:"\u0412\u0438\u0439\u0434\u0443 \u0434\u043e \u043c\u0430\u0448\u0438\u043d\u0438",label:"\u0412\u0438\u0439\u0434\u0443 \u0434\u043e \u043c\u0430\u0448\u0438\u043d\u0438"},{id:3,value:"\u0421\u0430\u043c\u043e\u0432\u0438\u0432\u0456\u0437",label:"\u0421\u0430\u043c\u043e\u0432\u0438\u0432\u0456\u0437",info:"(\u041e\u0434\u0435\u0441\u0430, \u0432\u0443\u043b. \u041b\u0435\u0439\u0442\u0435\u043d\u0430\u043d\u0442\u0430 \u0428\u043c\u0456\u0434\u0442\u0430 25)"}],selectedOption:O.howToReciveOrder,onOptionChange:function(e){return D("howToReciveOrder",e.target.value)}})}),"\u0414\u043e \u0434\u0432\u0435\u0440\u0435\u0439"===O.howToReciveOrder&&(0,st.jsxs)("section",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,st.jsx)(VA,{name:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430",placeholder:"\u2116 \u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0438",value:O.apartment,onChange:function(e){return D("apartment",e)}}),(0,st.jsx)(VA,{name:"\u041f\u0430\u0440\u0430\u0434\u043d\u0430",placeholder:"\u2116 \u041f\u0430\u0440\u0430\u0434\u043d\u043e\u0457",value:O.entrance,onChange:function(e){return D("entrance",e)}}),(0,st.jsx)(VA,{name:"\u041a\u043e\u0434",placeholder:"\u041a\u043e\u0434",value:O.buildingCode,onChange:function(e){return D("buildingCode",e)}}),(0,st.jsx)(VA,{name:"\u041f\u043e\u0432\u0435\u0440\u0445",placeholder:"\u041f\u043e\u0432\u0435\u0440\u0445",value:O.floor,onChange:function(e){return D("floor",e)}})]})]}),(0,st.jsxs)("section",{className:"order-page__section",children:[(0,st.jsx)("h3",{children:"\u0427\u0430\u0441 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f"}),(0,st.jsxs)("section",{className:"order-page__section-inputs",children:[(0,st.jsx)(ej,{data:[{id:1,value:"\u041d\u0430 \u0437\u0430\u0440\u0430\u0437",label:"\u041d\u0430 \u0437\u0430\u0440\u0430\u0437"},{id:2,value:"\u0412\u043a\u0430\u0437\u0430\u0442\u0438 \u0442\u043e\u0447\u043d\u0438\u0439 \u0447\u0430\u0441",label:"\u0412\u043a\u0430\u0437\u0430\u0442\u0438 \u0442\u043e\u0447\u043d\u0438\u0439 \u0447\u0430\u0441"}],selectedOption:O.deliveryTime,onOptionChange:function(e){return D("deliveryTime",e.target.value)},column:!0}),"\u0412\u043a\u0430\u0437\u0430\u0442\u0438 \u0442\u043e\u0447\u043d\u0438\u0439 \u0447\u0430\u0441"===O.deliveryTime&&(0,st.jsx)(XA,{name:"\u0427\u0430\u0441",placeholder:"\u0427\u0430\u0441",data:N,value:O.selectedTime,onChange:function(e){return D("selectedTime",e)}})]})]}),(0,st.jsxs)("section",{className:"order-page__section",children:[(0,st.jsx)("h3",{children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434"}),(0,st.jsxs)("section",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,st.jsx)(XA,{name:"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434",placeholder:"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434",data:L.isAuthenticated&&L.promocode40?[{id:0,label:"40%",value:"40%"}]:[],value:O.paymentMethod,onChange:function(e){return D("promoCode",e)}}),(0,st.jsx)(ta,{name:"\u0417\u0430\u0441\u0442\u043e\u0441\u0443\u0432\u0430\u0442\u0438",onClick:function(){.6*$A(E)<=200?(y({status:!0,currentError:"\u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u0441\u0443\u043c\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f 200 \u20b4"}),setTimeout((function(){y({status:!1,currentError:""})}),2e3)):(console.log("usage"),_(jo()),o(!0))},disabled:!L.promocode40})]}),L.isAuthenticated&&L.promocode40&&(0,st.jsxs)("div",{className:"order-page__have-promocode",children:[(0,st.jsx)("span",{children:"\u0423 \u0412\u0410\u0421 \u0415 \u041f\u0420\u041e\u041c\u041e\u041a\u041e\u0414 \u041d\u0410 \u0421\u041a\u0418\u0414\u041a\u0423 40%"}),(0,st.jsx)("div",{className:"order-page__arrow",children:(0,st.jsx)("svg",{width:"17",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M9.16645 11.7814L12.7425 8.20535L13.6851 9.14802L8.49979 14.3334L3.31445 9.14802L4.25712 8.20535L7.83312 11.7814V3.66669H9.16645V11.7814Z",fill:"#12130F"})})})]})]}),(0,st.jsxs)("section",{className:"order-page__section",children:[(0,st.jsx)("h3",{children:"\u0421\u043f\u043e\u0441\u0456\u0431 \u043e\u043f\u043b\u0430\u0442\u0438"}),(0,st.jsx)("div",{className:"order-page__section-inputs",children:(0,st.jsx)(VA,{name:"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0442\u0438 \u0431\u043e\u043d\u0443\u0441\u0438",placeholder:"0",value:O.bonus,onChange:function(e){return D("bonus",e)}})}),(0,st.jsxs)("div",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,st.jsx)(XA,{name:"\u041e\u043f\u043b\u0430\u0442\u0430",placeholder:"\u041e\u043d\u043b\u0430\u0439\u043d",data:[{id:0,label:"\u041e\u043d\u043b\u0430\u0439\u043d",value:"\u041e\u043d\u043b\u0430\u0439\u043d"},{id:1,label:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430",value:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430"}],value:O.paymentMethod,onChange:function(e){return D("paymentMethod",e)}}),(0,st.jsx)(VA,{name:"\u0421\u0434\u0430\u0447\u0430 \u0441",placeholder:"500",value:O.change,onChange:function(e){return D("change",e)}})]})]}),(0,st.jsxs)("section",{className:"order-page__section",children:[(0,st.jsx)("h3",{children:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u043e"}),(0,st.jsxs)("section",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,st.jsxs)("div",{className:"order-page__block",children:[(0,st.jsx)("span",{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d:"}),(0,st.jsx)(nj,{isChecked:O.withoutDevices,onCheckboxChange:function(){return D("withoutDevices",!O.withoutDevices)},label:"\u0411\u0435\u0437 \u043f\u0440\u0438\u0431\u043e\u0440\u0456\u0432"})]}),(0,st.jsxs)("div",{className:"order-page__block",children:[(0,st.jsx)("span",{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d:"}),(0,st.jsxs)("div",{className:"counter",children:[(0,st.jsx)("div",{className:"counter__btn",onClick:function(){O.personCount>1&&D("personCount",O.personCount-1)},children:"-"}),(0,st.jsx)("div",{className:"counter__value",children:O.personCount}),(0,st.jsx)("div",{className:"counter__btn",onClick:function(){return D("personCount",O.personCount+1)},children:"+"})]})]})]}),(0,st.jsx)("section",{className:"order-page__section-inputs",children:(0,st.jsx)(tj,{name:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440 \u0434\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f",placeholder:"\u041c\u043e\u0436\u0435\u0442\u0435 \u0442\u0443\u0442 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u0431\u0443\u0434\u044c-\u0449\u043e:)",value:O.comment,onChange:function(e){return D("comment",e)}})}),(0,st.jsx)("section",{className:"order-page__section-inputs",children:(0,st.jsx)("div",{className:"order-page__block",children:(0,st.jsx)(nj,{isChecked:O.doNotCall,onCheckboxChange:function(){return D("doNotCall",!O.doNotCall)},label:"\u041d\u0435 \u043f\u0435\u0440\u0435\u0434\u0437\u0432\u043e\u043d\u044e\u0432\u0430\u0442\u0438 \u043c\u0435\u043d\u0456"})})})]}),(0,st.jsx)(ta,{name:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f",fullWide:!0,onClick:function(){return R()}})]})]})},pj=function(){at();var e=Ye((function(e){return e.shoppingCart})),t=(Ye((function(e){return e.modals})),Ye((function(e){return e.order})),Ye((function(e){return e.user}))),n=function(e){var t=0;return e.forEach((function(e){t+=e.totalPrice})),t};return(0,r.useEffect)((function(){console.log(e.promocode)}),[e.promocode]),(0,st.jsx)(st.Fragment,{children:(0,st.jsx)(ut,{children:(0,st.jsx)("div",{className:"order-page",children:(0,st.jsxs)("div",{className:"order-page__content",children:[(0,st.jsx)(dj,{}),(0,st.jsx)("div",{className:"checkout",children:(0,st.jsxs)("div",{className:"checkout__content",children:[(0,st.jsx)("h3",{className:"title__h3 text__color--secondary",children:"\u0412\u0430\u0448\u0435 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,st.jsx)("ul",{className:"checkout__list",children:e.products.map((function(e){return(0,st.jsxs)("li",{className:"checkout__item",children:[(0,st.jsxs)("div",{className:"checkout__row",children:[(0,st.jsxs)("p",{className:"checkout__item-name",children:[" ",e.name]}),(0,st.jsxs)("p",{className:"checkout__item-count",children:[" x",e.count]})]}),(0,st.jsxs)("div",{className:"checkout__row",children:[(0,st.jsxs)("p",{className:"checkout__item-weight",children:[e.weight,"\u0433"]}),(0,st.jsxs)("p",{className:"checkout__item-price",children:[e.totalPrice," \u20b4"]})]})]})}))}),(0,st.jsxs)("div",{className:"checkout__total",children:[(0,st.jsxs)("div",{className:"checkout__row",children:[(0,st.jsx)("p",{className:"checkout__text",children:"\u0421\u0443\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f:"}),(0,st.jsxs)("p",{className:"checkout__text",children:[n(e.products)," \u20b4"]})]}),(0,st.jsxs)("div",{className:"checkout__row checkout__row-delivery",children:[(0,st.jsx)("p",{className:"checkout__text",children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:"}),(0,st.jsx)("p",{className:"checkout__text",children:e.products.reduce((function(e,t){return e+t.totalPrice}),0)<500?"\u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0442\u0430\u043a\u0441\u0456 (\u043e\u043f\u043b\u0430\u0447\u0443\u0454\u0442\u044c\u0441\u044f \u043e\u043a\u0440\u0435\u043c\u043e)":"\u0411\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0430"})]}),!t.promocode40&&(0,st.jsxs)("div",{className:"checkout__row",children:[(0,st.jsx)("p",{className:"checkout__text",children:"\u0421\u043a\u0438\u0434\u043a\u0430:"}),(0,st.jsxs)("p",{className:"checkout__text",children:[(n(e.products)-.6*n(e.products)).toFixed(2)," \u20b4"]})]}),(0,st.jsxs)("div",{className:"checkout__row",children:[(0,st.jsx)("p",{className:"checkout__text checkout__text-bold",children:"\u0412\u0441\u044c\u043e\u0433\u043e \u0434\u043e \u0441\u043f\u043b\u0430\u0442\u0438:"}),(0,st.jsxs)("p",{className:"checkout__text-bold",children:[t.promocode40?n(e.products):.6*n(e.products)," \u20b4"]})]})]})]})})]})})})})},vj=n.p+"static/media/logo.66639dc3934ecf41123d.png",mj=function(){var e=l((0,r.useState)(null),2),t=(e[0],e[1]),n=l((0,r.useState)([]),2),i=n[0],o=n[1];return(0,r.useEffect)((function(){kr.get("https://polarpelmeni-api.work-set.eu/api/menu",{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){var n=e.data.response.filter((function(e){return e.category_name.startsWith("onlineOrder:")})).map((function(e,t){return{category_name:e.category_name.replace(/onlineOrder: /,""),category_id:e.category_id,category_position_index:t}}));n[13].category_position_index=0,n[12].category_position_index=1,n[11].category_position_index=2,n[8].category_position_index=3,n[10].category_position_index=4,n[9].category_position_index=5,n[2].category_position_index=6,n[3].category_position_index=7,n[0].category_position_index=8,n[6].category_position_index=9,n[4].category_position_index=10,n[7].category_position_index=11,n[1].category_position_index=12,n[5].category_position_index=13,n.sort((function(e,t){return e.category_position_index-t.category_position_index})),t(n[0].category_id),o(n)})).catch((function(e){return console.error(e)}))}),[]),(0,st.jsx)("footer",{className:"footer",children:(0,st.jsx)(ut,{children:(0,st.jsxs)("div",{className:"footer__content",children:[(0,st.jsxs)("div",{className:"footer__top",children:[(0,st.jsx)("div",{className:"footer__logo",children:(0,st.jsx)("img",{src:vj,alt:""})}),(0,st.jsxs)("nav",{className:"footer__column",children:[(0,st.jsx)("p",{className:"footer__title",children:"\u041c\u0435\u043d\u044e:"}),(0,st.jsx)("ul",{className:"footer__menu",children:i&&i.map((function(e,t){return(0,st.jsx)("li",{className:"footer__link",children:(0,st.jsx)(kt,{to:"/menu/".concat(e.category_id),children:e.category_name})},t)}))})]}),(0,st.jsxs)("div",{className:"footer__column",children:[(0,st.jsxs)("div",{className:"footer__contact",children:[(0,st.jsx)("p",{className:"footer__title",children:"\u041e\u0434\u0435\u0441\u0430:"}),(0,st.jsxs)("ul",{className:"footer__contacts",children:[(0,st.jsx)("a",{href:"tel:+380987271991",children:"+380 (98) 727-19-91"}),(0,st.jsx)("p",{children:"\u0432\u0443\u043b. \u041c\u0430\u0440\u0448\u0430\u043b\u0430 \u041c\u0430\u043b\u0438\u043d\u043e\u0432\u0441\u043a\u044c\u043e\u0433\u043e 18"})]})]}),(0,st.jsxs)("div",{className:"footer__contact",children:[(0,st.jsx)("p",{className:"footer__title",children:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434:"}),(0,st.jsxs)("ul",{className:"footer__contacts",children:[(0,st.jsx)("a",{href:"tel:+380677149659",children:"+380 (67) 714-96-59"}),(0,st.jsx)("p",{children:"\u0432\u0443\u043b. \u041a\u0430\u043f\u0443\u0448\u0430\u043d\u0441\u044c\u043a\u0430, 7\u0430"})]})]}),(0,st.jsx)("p",{className:"footer__title"})]})]}),(0,st.jsxs)("div",{className:"footer__bottom",children:[(0,st.jsxs)("ul",{className:"footer__bottom-nav",children:[(0,st.jsx)("li",{children:(0,st.jsx)(kt,{children:"\xa9 2023 Polar Pelmeni"})}),(0,st.jsx)("li",{children:(0,st.jsx)(kt,{children:"\u041f\u0440\u043e \u043d\u0430\u0441"})}),(0,st.jsx)("li",{children:(0,st.jsx)(kt,{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})}),(0,st.jsx)("li",{children:(0,st.jsx)(kt,{children:"\u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u0441\u0442\u0456"})})]}),(0,st.jsxs)("div",{className:"footer__bottom-contacts",children:[(0,st.jsx)("a",{href:"mailto:support@polarpelmeni.com",children:"support@polarpelmeni.com"}),(0,st.jsxs)("div",{className:"footer__social-icons",children:[(0,st.jsx)("a",{href:"",className:"footer__social",children:(0,st.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,st.jsx)("g",{opacity:"0.8",clipPath:"url(#clip0_588_31750)",children:(0,st.jsx)("path",{d:"M7.99908 6.18163C7.51687 6.18163 7.05441 6.37319 6.71343 6.71417C6.37246 7.05514 6.1809 7.5176 6.1809 7.99982C6.1809 8.48203 6.37246 8.94449 6.71343 9.28546C7.05441 9.62644 7.51687 9.818 7.99908 9.818C8.48129 9.818 8.94376 9.62644 9.28473 9.28546C9.62571 8.94449 9.81726 8.48203 9.81726 7.99982C9.81726 7.5176 9.62571 7.05514 9.28473 6.71417C8.94376 6.37319 8.48129 6.18163 7.99908 6.18163ZM7.99908 4.96951C8.80277 4.96951 9.57354 5.28878 10.1418 5.85707C10.7101 6.42536 11.0294 7.19613 11.0294 7.99982C11.0294 8.8035 10.7101 9.57427 10.1418 10.1426C9.57354 10.7109 8.80277 11.0301 7.99908 11.0301C7.1954 11.0301 6.42463 10.7109 5.85633 10.1426C5.28804 9.57427 4.96878 8.8035 4.96878 7.99982C4.96878 7.19613 5.28804 6.42536 5.85633 5.85707C6.42463 5.28878 7.1954 4.96951 7.99908 4.96951ZM11.9385 4.818C11.9385 5.01892 11.8587 5.21161 11.7166 5.35368C11.5745 5.49576 11.3818 5.57557 11.1809 5.57557C10.98 5.57557 10.7873 5.49576 10.6452 5.35368C10.5031 5.21161 10.4233 5.01892 10.4233 4.818C10.4233 4.61708 10.5031 4.42438 10.6452 4.28231C10.7873 4.14024 10.98 4.06042 11.1809 4.06042C11.3818 4.06042 11.5745 4.14024 11.7166 4.28231C11.8587 4.42438 11.9385 4.61708 11.9385 4.818ZM7.99908 3.15133C6.49969 3.15133 6.25484 3.15557 5.55726 3.18648C5.08211 3.20891 4.76333 3.27254 4.46757 3.38769C4.20454 3.48951 4.01484 3.61133 3.81302 3.81375C3.62333 3.99703 3.47748 4.22077 3.38636 4.4683C3.2712 4.76527 3.20757 5.08345 3.18575 5.558C3.15423 6.22709 3.1506 6.46103 3.1506 7.99982C3.1506 9.49921 3.15484 9.74406 3.18575 10.4416C3.20817 10.9162 3.27181 11.2356 3.38636 11.5307C3.48939 11.7944 3.6106 11.9841 3.81181 12.1853C4.01605 12.3889 4.20575 12.5107 4.46636 12.6113C4.76575 12.7271 5.08454 12.7913 5.55726 12.8131C6.22636 12.8447 6.46029 12.8483 7.99908 12.8483C9.49848 12.8483 9.74332 12.8441 10.4409 12.8131C10.9148 12.7907 11.2342 12.7271 11.53 12.6125C11.7924 12.5101 11.9833 12.3883 12.1845 12.1871C12.3888 11.9828 12.5106 11.7931 12.6112 11.5325C12.7264 11.2338 12.7906 10.9144 12.8124 10.4416C12.8439 9.77254 12.8476 9.5386 12.8476 7.99982C12.8476 6.50042 12.8433 6.25557 12.8124 5.558C12.79 5.08406 12.7264 4.76406 12.6112 4.4683C12.5199 4.22103 12.3743 3.99737 12.1851 3.81375C12.002 3.62396 11.7782 3.4781 11.5306 3.38709C11.2336 3.27194 10.9148 3.2083 10.4409 3.18648C9.77181 3.15497 9.53787 3.15133 7.99908 3.15133ZM7.99908 1.93921C9.64575 1.93921 9.8512 1.94527 10.4973 1.97557C11.1427 2.00588 11.5821 2.10709 11.9688 2.25739C12.3688 2.41133 12.7057 2.61982 13.0427 2.95618C13.3509 3.25915 13.5894 3.62563 13.7415 4.03012C13.8912 4.41618 13.993 4.85618 14.0233 5.50163C14.0518 6.14769 14.0597 6.35315 14.0597 7.99982C14.0597 9.64648 14.0536 9.85194 14.0233 10.498C13.993 11.1435 13.8912 11.5828 13.7415 11.9695C13.5898 12.3742 13.3513 12.7408 13.0427 13.0435C12.7397 13.3515 12.3732 13.59 11.9688 13.7422C11.5827 13.8919 11.1427 13.9938 10.4973 14.0241C9.8512 14.0525 9.64575 14.0604 7.99908 14.0604C6.35242 14.0604 6.14696 14.0544 5.5009 14.0241C4.85545 13.9938 4.41605 13.8919 4.02939 13.7422C3.62473 13.5904 3.25819 13.3519 2.95545 13.0435C2.64721 12.7405 2.40874 12.374 2.25666 11.9695C2.10636 11.5835 2.00514 11.1435 1.97484 10.498C1.94636 9.85194 1.93848 9.64648 1.93848 7.99982C1.93848 6.35315 1.94454 6.14769 1.97484 5.50163C2.00514 4.85557 2.10636 4.41678 2.25666 4.03012C2.40832 3.62538 2.64684 3.2588 2.95545 2.95618C3.25828 2.64783 3.6248 2.40935 4.02939 2.25739C4.41605 2.10709 4.85484 2.00588 5.5009 1.97557C6.14696 1.94709 6.35242 1.93921 7.99908 1.93921Z",fill:"#DF643A"})}),(0,st.jsx)("defs",{children:(0,st.jsx)("clipPath",{id:"clip0_588_31750",children:(0,st.jsx)("rect",{width:"14.5455",height:"14.5455",fill:"white",transform:"translate(0.727539 0.727539)"})})})]})}),(0,st.jsx)("a",{href:"",className:"footer__social",children:(0,st.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,st.jsx)("g",{clipPath:"url(#clip0_588_31755)",children:(0,st.jsx)("path",{d:"M7.99908 1.93921C4.65181 1.93921 1.93848 4.65254 1.93848 7.99981C1.93848 11.0247 4.15484 13.5319 7.05242 13.9871V9.75133H5.51302V7.99981H7.05242V6.66466C7.05242 5.14588 7.95666 4.30709 9.34151 4.30709C10.0045 4.30709 10.6979 4.42527 10.6979 4.42527V5.91618H9.93423C9.1809 5.91618 8.94636 6.38345 8.94636 6.86285V7.99981H10.627L10.3585 9.75133H8.94636V13.9871C11.8433 13.5325 14.0597 11.0241 14.0597 7.99981C14.0597 4.65254 11.3464 1.93921 7.99908 1.93921Z",fill:"#DF643A"})}),(0,st.jsx)("defs",{children:(0,st.jsx)("clipPath",{id:"clip0_588_31755",children:(0,st.jsx)("rect",{width:"14.5455",height:"14.5455",fill:"white",transform:"translate(0.727539 0.727539)"})})})]})})]}),(0,st.jsx)("li",{className:"pp-mob",children:(0,st.jsx)(kt,{children:"\xa9 2023 Polar Pelmeni"})})]})]})]})})})},gj=function(){var e=at();return(0,st.jsx)("div",{className:"select-city",children:(0,st.jsxs)("div",{className:"select-city__content",children:[(0,st.jsxs)("svg",{width:"65",height:"65",viewBox:"0 0 65 65",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,st.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32.5",fill:"#DF643A",fillOpacity:"0.1"}),(0,st.jsx)("path",{d:"M39.364 37.364L33 43.7279L26.636 37.364C23.1213 33.8492 23.1213 28.1508 26.636 24.636C30.1508 21.1213 35.8492 21.1213 39.364 24.636C42.8787 28.1508 42.8787 33.8492 39.364 37.364ZM33 33C34.1046 33 35 32.1046 35 31C35 29.8954 34.1046 29 33 29C31.8954 29 31 29.8954 31 31C31 32.1046 31.8954 33 33 33Z",fill:"#DF643A"})]}),(0,st.jsx)("h4",{className:"title__h4",children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u0432\u043e\u0454 \u043c\u0456\u0441\u0442\u043e"}),(0,st.jsxs)("div",{className:"select-city__buttons",children:[(0,st.jsx)("button",{className:"select-city__btn",onClick:function(){e(No({city:"\u041e\u0434\u0435\u0441\u0430"})),e(ga({state:!1}))},children:"\u041e\u0434\u0435\u0441\u0430"}),(0,st.jsx)("button",{className:"select-city__btn",onClick:function(){e(No({city:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434"})),e(ga({state:!1}))},disabled:!0,children:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434"})]})]})})},yj=function(){return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("div",{className:"slider__container",children:(0,st.jsx)(ca,{})}),(0,st.jsx)(ut,{children:(0,st.jsx)(la,{})})]})},kj=function(){return(0,st.jsx)(ut,{children:(0,st.jsx)(la,{})})},bj=("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self&&self,function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}),wj=(0,r.createContext)(null);function xj(e,t,n,r){var i={};return function(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}(e,(function(e,o){var a=n[o];a!==t[o]&&(i[o]=a,e(r,a))})),i}function _j(e,t,n){var r=function(e,t,n){return Object.keys(e).reduce((function(n,r){return t(n,e[r],r)}),n)}(n,(function(n,r,i){return"function"===typeof e[i]&&n.push(google.maps.event.addListener(t,r,e[i])),n}),[]);return r}function Sj(e){google.maps.event.removeListener(e)}function Ej(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(Sj)}function Cj(e){var t=e.updaterMap,n=e.eventMap,r=e.prevProps,i=e.nextProps,o=e.instance,a=_j(i,o,n);return xj(t,r,i,o),a}var Ij={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},Tj={extraMapTypes:function(e,t){t.forEach((function(t,n){e.mapTypes.set(String(n),t)}))},center:function(e,t){e.setCenter(t)},clickableIcons:function(e,t){e.setClickableIcons(t)},heading:function(e,t){e.setHeading(t)},mapTypeId:function(e,t){e.setMapTypeId(t)},options:function(e,t){e.setOptions(t)},streetView:function(e,t){e.setStreetView(t)},tilt:function(e,t){e.setTilt(t)},zoom:function(e,t){e.setZoom(t)}};(0,r.memo)((function(e){var t=e.children,n=e.options,i=e.id,o=e.mapContainerStyle,a=e.mapContainerClassName,s=e.center,u=e.onClick,c=e.onDblClick,f=e.onDrag,h=e.onDragEnd,d=e.onDragStart,p=e.onMouseMove,v=e.onMouseOut,m=e.onMouseOver,g=e.onMouseDown,y=e.onMouseUp,k=e.onRightClick,b=e.onCenterChanged,w=e.onLoad,x=e.onUnmount,_=l((0,r.useState)(null),2),S=_[0],E=_[1],C=(0,r.useRef)(null),I=l((0,r.useState)(null),2),T=I[0],L=I[1],N=l((0,r.useState)(null),2),P=N[0],O=N[1],A=l((0,r.useState)(null),2),j=A[0],D=A[1],M=l((0,r.useState)(null),2),R=M[0],F=M[1],U=l((0,r.useState)(null),2),V=U[0],B=U[1],z=l((0,r.useState)(null),2),q=z[0],W=z[1],H=l((0,r.useState)(null),2),G=H[0],K=H[1],Q=l((0,r.useState)(null),2),J=Q[0],Z=Q[1],Y=l((0,r.useState)(null),2),$=Y[0],X=Y[1],ee=l((0,r.useState)(null),2),te=ee[0],ne=ee[1],re=l((0,r.useState)(null),2),ie=re[0],oe=re[1],ae=l((0,r.useState)(null),2),se=ae[0],ue=ae[1];return(0,r.useEffect)((function(){n&&null!==S&&S.setOptions(n)}),[S,n]),(0,r.useEffect)((function(){null!==S&&"undefined"!==typeof s&&S.setCenter(s)}),[S,s]),(0,r.useEffect)((function(){S&&c&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(S,"dblclick",c)))}),[c]),(0,r.useEffect)((function(){S&&h&&(null!==j&&google.maps.event.removeListener(j),D(google.maps.event.addListener(S,"dragend",h)))}),[h]),(0,r.useEffect)((function(){S&&d&&(null!==R&&google.maps.event.removeListener(R),F(google.maps.event.addListener(S,"dragstart",d)))}),[d]),(0,r.useEffect)((function(){S&&g&&(null!==V&&google.maps.event.removeListener(V),B(google.maps.event.addListener(S,"mousedown",g)))}),[g]),(0,r.useEffect)((function(){S&&p&&(null!==q&&google.maps.event.removeListener(q),W(google.maps.event.addListener(S,"mousemove",p)))}),[p]),(0,r.useEffect)((function(){S&&v&&(null!==G&&google.maps.event.removeListener(G),K(google.maps.event.addListener(S,"mouseout",v)))}),[v]),(0,r.useEffect)((function(){S&&m&&(null!==J&&google.maps.event.removeListener(J),Z(google.maps.event.addListener(S,"mouseover",m)))}),[m]),(0,r.useEffect)((function(){S&&y&&(null!==$&&google.maps.event.removeListener($),X(google.maps.event.addListener(S,"mouseup",y)))}),[y]),(0,r.useEffect)((function(){S&&k&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(S,"rightclick",k)))}),[k]),(0,r.useEffect)((function(){S&&u&&(null!==ie&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener(S,"click",u)))}),[u]),(0,r.useEffect)((function(){S&&f&&(null!==se&&google.maps.event.removeListener(se),ue(google.maps.event.addListener(S,"drag",f)))}),[f]),(0,r.useEffect)((function(){S&&b&&(null!==T&&google.maps.event.removeListener(T),L(google.maps.event.addListener(S,"center_changed",b)))}),[u]),(0,r.useEffect)((function(){var e=null===C.current?null:new google.maps.Map(C.current,n);return E(e),null!==e&&w&&w(e),function(){null!==e&&x&&x(e)}}),[]),(0,st.jsx)("div",Object.assign({id:i,ref:C,style:o,className:a},{children:(0,st.jsx)(wj.Provider,Object.assign({value:S},{children:null!==S?t:(0,st.jsx)(st.Fragment,{})}))}))}));var Lj=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).state={map:null},e.registeredEvents=[],e.mapRef=null,e.getInstance=function(){return null===e.mapRef?null:new google.maps.Map(e.mapRef,e.props.options)},e.panTo=function(t){var n=e.getInstance();n&&n.panTo(t)},e.setMapCallback=function(){null!==e.state.map&&e.props.onLoad&&e.props.onLoad(e.state.map)},e.getRef=function(t){e.mapRef=t},e}return g(n,[{key:"componentDidMount",value:function(){var e=this.getInstance();this.registeredEvents=Cj({updaterMap:Tj,eventMap:Ij,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{map:e}}),this.setMapCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.map&&(Ej(this.registeredEvents),this.registeredEvents=Cj({updaterMap:Tj,eventMap:Ij,prevProps:e,nextProps:this.props,instance:this.state.map}))}},{key:"componentWillUnmount",value:function(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Ej(this.registeredEvents))}},{key:"render",value:function(){return(0,st.jsx)("div",Object.assign({id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName},{children:(0,st.jsx)(wj.Provider,Object.assign({value:this.state.map},{children:null!==this.state.map?this.props.children:(0,st.jsx)(st.Fragment,{})}))}))}}]),n}(r.PureComponent);function Nj(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Pj(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}var Oj="undefined"!==typeof document;function Aj(e){var t=e.url,n=e.id,r=e.nonce;return Oj?new Promise((function(e,i){var o=document.getElementById(n),a=window;if(o){var s=o.getAttribute("data-state");if(o.src===t&&"error"!==s){if("ready"===s)return e(n);var u=a.initMap,c=o.onerror;return a.initMap=function(){u&&u(),e(n)},void(o.onerror=function(e){c&&c(e),i(e)})}o.remove()}var l=document.createElement("script");l.type="text/javascript",l.src=t,l.id=n,l.async=!0,l.nonce=r,l.onerror=function(e){l.setAttribute("data-state","error"),i(e)},a.initMap=function(){l.setAttribute("data-state","ready"),e(n)},document.head.appendChild(l)})).catch((function(e){throw console.error("injectScript error: ",e),e})):Promise.reject(new Error("document is undefined"))}function jj(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function Dj(){var e=document.getElementsByTagName("head")[0],t=e.insertBefore.bind(e);e.insertBefore=function(n,r){jj(n)||Reflect.apply(t,e,[n,r])};var n=e.appendChild.bind(e);e.appendChild=function(t){jj(t)||Reflect.apply(n,e,[t])}}function Mj(e){var t=e.googleMapsApiKey,n=e.googleMapsClientId,r=e.version,i=void 0===r?"weekly":r,o=e.language,a=e.region,s=e.libraries,u=e.channel,c=e.mapIds,l=e.authReferrerPolicy,f=[];return bj(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?f.push("key=".concat(t)):n&&f.push("client=".concat(n)),i&&f.push("v=".concat(i)),o&&f.push("language=".concat(o)),a&&f.push("region=".concat(a)),s&&s.length&&f.push("libraries=".concat(s.sort().join(","))),u&&f.push("channel=".concat(u)),c&&c.length&&f.push("map_ids=".concat(c.join(","))),l&&f.push("auth_referrer_policy=".concat(l)),f.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(f.join("&"))}var Rj=!1;function Fj(){return(0,st.jsx)("div",{children:"Loading..."})}var Uj,Vj={id:"script-loader",version:"weekly"},Bj=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).check=(0,r.createRef)(),e.state={loaded:!1},e.cleanupCallback=function(){delete window.google.maps,e.injectScript()},e.isCleaningUp=function(){return Pj(x(e),void 0,void 0,Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){if(Rj){if(Oj)var t=window.setInterval((function(){Rj||(window.clearInterval(t),e())}),1)}else e()},e.abrupt("return",new Promise(t));case 2:case"end":return e.stop()}}),e)})))},e.cleanup=function(){Rj=!0;var t=document.getElementById(e.props.id);t&&t.parentNode&&t.parentNode.removeChild(t),Array.prototype.slice.call(document.getElementsByTagName("script")).filter((function(e){return"string"===typeof e.src&&e.src.includes("maps.googleapis")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("link")).filter((function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("style")).filter((function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},e.injectScript=function(){e.props.preventGoogleFontsLoading&&Dj(),bj(!!e.props.id,'LoadScript requires "id" prop to be a string: %s',e.props.id),Aj({id:e.props.id,nonce:e.props.nonce,url:Mj(e.props)}).then((function(){e.props.onLoad&&e.props.onLoad(),e.setState((function(){return{loaded:!0}}))})).catch((function(t){e.props.onError&&e.props.onError(t),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(e.props.googleMapsApiKey||"-",") or Client ID (").concat(e.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))}))},e}return g(n,[{key:"componentDidMount",value:function(){if(Oj){if(window.google&&window.google.maps&&!Rj)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch((function(e){console.error("Error at injecting script after cleaning up: ",e)}))}}},{key:"componentDidUpdate",value:function(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Oj&&e.language!==this.props.language&&(this.cleanup(),this.setState((function(){return{loaded:!1}}),this.cleanupCallback))}},{key:"componentWillUnmount",value:function(){var e=this;if(Oj){this.cleanup();window.setTimeout((function(){e.check.current||(delete window.google,Rj=!1)}),1),this.props.onUnmount&&this.props.onUnmount()}}},{key:"render",value:function(){return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||(0,st.jsx)(Fj,{})]})}}]),n}(r.PureComponent);Bj.defaultProps=Vj;var zj=(0,st.jsx)(Fj,{});var qj;(0,r.memo)((function(e){var t=e.loadingElement,n=e.onLoad,i=e.onError,o=e.onUnmount,a=e.children,s=function(e){var t=e.id,n=void 0===t?Vj.id:t,i=e.version,o=void 0===i?Vj.version:i,a=e.nonce,s=e.googleMapsApiKey,u=e.googleMapsClientId,c=e.language,f=e.region,h=e.libraries,d=e.preventGoogleFontsLoading,p=e.channel,v=e.mapIds,m=e.authReferrerPolicy,g=(0,r.useRef)(!1),y=l((0,r.useState)(!1),2),k=y[0],b=y[1],w=l((0,r.useState)(void 0),2),x=w[0],_=w[1];(0,r.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]),(0,r.useEffect)((function(){Oj&&d&&Dj()}),[d]),(0,r.useEffect)((function(){k&&bj(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")}),[k]);var S=Mj({version:o,googleMapsApiKey:s,googleMapsClientId:u,language:c,region:f,libraries:h,channel:p,mapIds:v,authReferrerPolicy:m});(0,r.useEffect)((function(){function e(){g.current&&(b(!0),Uj=S)}Oj&&(window.google&&window.google.maps&&Uj===S?e():Aj({id:n,url:S,nonce:a}).then(e).catch((function(e){g.current&&_(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(s||"-",") or Client ID (").concat(u||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)})))}),[n,S,a]);var E=(0,r.useRef)();return(0,r.useEffect)((function(){E.current&&h!==E.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),E.current=h}),[h]),{isLoaded:k,loadError:x,url:S}}(Nj(e,["loadingElement","onLoad","onError","onUnmount","children"])),u=s.isLoaded,c=s.loadError;return(0,r.useEffect)((function(){u&&"function"===typeof n&&n()}),[u,n]),(0,r.useEffect)((function(){c&&"function"===typeof i&&i(c)}),[c,i]),(0,r.useEffect)((function(){return function(){o&&o()}}),[o]),u?a:t||zj}));!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(qj||(qj={}));var Wj={},Hj={options:function(e,t){e.setOptions(t)}};(0,r.memo)((function(e){var t=e.options,n=e.onLoad,i=e.onUnmount,o=(0,r.useContext)(wj),a=l((0,r.useState)(null),2),s=a[0],u=a[1];return(0,r.useEffect)((function(){null!==s&&s.setMap(o)}),[o]),(0,r.useEffect)((function(){t&&null!==s&&s.setOptions(t)}),[s,t]),(0,r.useEffect)((function(){var e=new google.maps.TrafficLayer(Object.assign(Object.assign({},t||{}),{map:o}));return u(e),n&&n(e),function(){null!==s&&(i&&i(s),s.setMap(null))}}),[]),null}));var Gj=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).state={trafficLayer:null},e.setTrafficLayerCallback=function(){null!==e.state.trafficLayer&&e.props.onLoad&&e.props.onLoad(e.state.trafficLayer)},e.registeredEvents=[],e}return g(n,[{key:"componentDidMount",value:function(){var e=new google.maps.TrafficLayer(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Cj({updaterMap:Hj,eventMap:Wj,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{trafficLayer:e}}),this.setTrafficLayerCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.trafficLayer&&(Ej(this.registeredEvents),this.registeredEvents=Cj({updaterMap:Hj,eventMap:Wj,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}},{key:"componentWillUnmount",value:function(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Ej(this.registeredEvents),this.state.trafficLayer.setMap(null))}},{key:"render",value:function(){return null}}]),n}(r.PureComponent);Gj.contextType=wj;(0,r.memo)((function(e){var t=e.onLoad,n=e.onUnmount,i=(0,r.useContext)(wj),o=l((0,r.useState)(null),2),a=o[0],s=o[1];return(0,r.useEffect)((function(){null!==a&&a.setMap(i)}),[i]),(0,r.useEffect)((function(){var e=new google.maps.BicyclingLayer;return s(e),e.setMap(i),t&&t(e),function(){null!==e&&(n&&n(e),e.setMap(null))}}),[]),null}));var Kj=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).state={bicyclingLayer:null},e.setBicyclingLayerCallback=function(){null!==e.state.bicyclingLayer&&(e.state.bicyclingLayer.setMap(e.context),e.props.onLoad&&e.props.onLoad(e.state.bicyclingLayer))},e}return g(n,[{key:"componentDidMount",value:function(){var e=new google.maps.BicyclingLayer;this.setState((function(){return{bicyclingLayer:e}}),this.setBicyclingLayerCallback)}},{key:"componentWillUnmount",value:function(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}},{key:"render",value:function(){return null}}]),n}(r.PureComponent);Kj.contextType=wj;(0,r.memo)((function(e){var t=this,n=e.onLoad,i=e.onUnmount,o=(0,r.useContext)(wj),a=l((0,r.useState)(null),2),s=a[0],u=a[1];return(0,r.useEffect)((function(){null!==s&&s.setMap(o)}),[o]),(0,r.useEffect)((function(){var e=new google.maps.TransitLayer;return u(e),e.setMap(o),n&&n(e),function(){null!==s&&(i&&i(s),t.state.transitLayer.setMap(null))}}),[]),null}));var Qj=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).state={transitLayer:null},e.setTransitLayerCallback=function(){null!==e.state.transitLayer&&(e.state.transitLayer.setMap(e.context),e.props.onLoad&&e.props.onLoad(e.state.transitLayer))},e}return g(n,[{key:"componentDidMount",value:function(){var e=new google.maps.TransitLayer;this.setState((function(){return{transitLayer:e}}),this.setTransitLayerCallback)}},{key:"componentWillUnmount",value:function(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}},{key:"render",value:function(){return null}}]),n}(r.PureComponent);Qj.contextType=wj;var Jj={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Zj={drawingMode:function(e,t){e.setDrawingMode(t)},options:function(e,t){e.setOptions(t)}};(0,r.memo)((function(e){var t=e.options,n=e.drawingMode,i=e.onCircleComplete,o=e.onMarkerComplete,a=e.onOverlayComplete,s=e.onPolygonComplete,u=e.onPolylineComplete,c=e.onRectangleComplete,f=e.onLoad,h=e.onUnmount,d=(0,r.useContext)(wj),p=l((0,r.useState)(null),2),v=p[0],m=p[1],g=l((0,r.useState)(null),2),y=g[0],k=g[1],b=l((0,r.useState)(null),2),w=b[0],x=b[1],_=l((0,r.useState)(null),2),S=_[0],E=_[1],C=l((0,r.useState)(null),2),I=C[0],T=C[1],L=l((0,r.useState)(null),2),N=L[0],P=L[1],O=l((0,r.useState)(null),2),A=O[0],j=O[1];return(0,r.useEffect)((function(){null!==v&&v.setMap(d)}),[d]),(0,r.useEffect)((function(){t&&null!==v&&v.setOptions(t)}),[v,t]),(0,r.useEffect)((function(){n&&null!==v&&v.setDrawingMode(n)}),[v,n]),(0,r.useEffect)((function(){v&&i&&(null!==y&&google.maps.event.removeListener(y),k(google.maps.event.addListener(v,"circlecomplete",i)))}),[v,i]),(0,r.useEffect)((function(){v&&o&&(null!==w&&google.maps.event.removeListener(w),x(google.maps.event.addListener(v,"markercomplete",o)))}),[v,o]),(0,r.useEffect)((function(){v&&a&&(null!==S&&google.maps.event.removeListener(S),E(google.maps.event.addListener(v,"overlaycomplete",a)))}),[v,a]),(0,r.useEffect)((function(){v&&s&&(null!==I&&google.maps.event.removeListener(I),T(google.maps.event.addListener(v,"polygoncomplete",s)))}),[v,s]),(0,r.useEffect)((function(){v&&u&&(null!==N&&google.maps.event.removeListener(N),P(google.maps.event.addListener(v,"polylinecomplete",u)))}),[v,u]),(0,r.useEffect)((function(){v&&c&&(null!==A&&google.maps.event.removeListener(A),j(google.maps.event.addListener(v,"rectanglecomplete",c)))}),[v,c]),(0,r.useEffect)((function(){bj(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(Object.assign(Object.assign({},t||{}),{map:d}));return n&&e.setDrawingMode(n),i&&k(google.maps.event.addListener(e,"circlecomplete",i)),o&&x(google.maps.event.addListener(e,"markercomplete",o)),a&&E(google.maps.event.addListener(e,"overlaycomplete",a)),s&&T(google.maps.event.addListener(e,"polygoncomplete",s)),u&&P(google.maps.event.addListener(e,"polylinecomplete",u)),c&&j(google.maps.event.addListener(e,"rectanglecomplete",c)),m(e),f&&f(e),function(){null!==v&&(y&&google.maps.event.removeListener(y),w&&google.maps.event.removeListener(w),S&&google.maps.event.removeListener(S),I&&google.maps.event.removeListener(I),N&&google.maps.event.removeListener(N),A&&google.maps.event.removeListener(A),h&&h(v),v.setMap(null))}}),[]),null}));(function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).registeredEvents=[],r.state={drawingManager:null},r.setDrawingManagerCallback=function(){null!==r.state.drawingManager&&r.props.onLoad&&r.props.onLoad(r.state.drawingManager)},bj(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),r}return g(n,[{key:"componentDidMount",value:function(){var e=new google.maps.drawing.DrawingManager(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Cj({updaterMap:Zj,eventMap:Jj,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{drawingManager:e}}),this.setDrawingManagerCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.drawingManager&&(Ej(this.registeredEvents),this.registeredEvents=Cj({updaterMap:Zj,eventMap:Jj,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}},{key:"componentWillUnmount",value:function(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Ej(this.registeredEvents),this.state.drawingManager.setMap(null))}},{key:"render",value:function(){return null}}]),n}(r.PureComponent)).contextType=wj;var Yj={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},$j={animation:function(e,t){e.setAnimation(t)},clickable:function(e,t){e.setClickable(t)},cursor:function(e,t){e.setCursor(t)},draggable:function(e,t){e.setDraggable(t)},icon:function(e,t){e.setIcon(t)},label:function(e,t){e.setLabel(t)},map:function(e,t){e.setMap(t)},opacity:function(e,t){e.setOpacity(t)},options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},shape:function(e,t){e.setShape(t)},title:function(e,t){e.setTitle(t)},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},Xj={};var eD=(0,r.memo)((function(e){var t=e.position,n=e.options,i=e.clusterer,o=e.noClustererRedraw,a=e.children,s=e.draggable,u=e.visible,c=e.animation,f=e.clickable,h=e.cursor,d=e.icon,p=e.label,v=e.opacity,m=e.shape,g=e.title,y=e.zIndex,k=e.onClick,b=e.onDblClick,w=e.onDrag,x=e.onDragEnd,_=e.onDragStart,S=e.onMouseOut,E=e.onMouseOver,C=e.onMouseUp,I=e.onMouseDown,T=e.onRightClick,L=e.onClickableChanged,N=e.onCursorChanged,P=e.onAnimationChanged,O=e.onDraggableChanged,A=e.onFlatChanged,j=e.onIconChanged,D=e.onPositionChanged,M=e.onShapeChanged,R=e.onTitleChanged,F=e.onVisibleChanged,U=e.onZindexChanged,V=e.onLoad,B=e.onUnmount,z=(0,r.useContext)(wj),q=l((0,r.useState)(null),2),W=q[0],H=q[1],G=l((0,r.useState)(null),2),K=G[0],Q=G[1],J=l((0,r.useState)(null),2),Z=J[0],Y=J[1],$=l((0,r.useState)(null),2),X=$[0],ee=$[1],te=l((0,r.useState)(null),2),ne=te[0],re=te[1],ie=l((0,r.useState)(null),2),oe=ie[0],ae=ie[1],se=l((0,r.useState)(null),2),ue=se[0],ce=se[1],le=l((0,r.useState)(null),2),fe=le[0],he=le[1],de=l((0,r.useState)(null),2),pe=de[0],ve=de[1],me=l((0,r.useState)(null),2),ge=me[0],ye=me[1],ke=l((0,r.useState)(null),2),be=ke[0],we=ke[1],xe=l((0,r.useState)(null),2),_e=xe[0],Se=xe[1],Ee=l((0,r.useState)(null),2),Ce=Ee[0],Ie=Ee[1],Te=l((0,r.useState)(null),2),Le=Te[0],Ne=Te[1],Pe=l((0,r.useState)(null),2),Oe=Pe[0],Ae=Pe[1],je=l((0,r.useState)(null),2),De=je[0],Me=je[1],Re=l((0,r.useState)(null),2),Fe=Re[0],Ue=Re[1],Ve=l((0,r.useState)(null),2),Be=Ve[0],ze=Ve[1],qe=l((0,r.useState)(null),2),We=qe[0],He=qe[1],Ge=l((0,r.useState)(null),2),Ke=Ge[0],Qe=Ge[1],Je=l((0,r.useState)(null),2),Ze=Je[0],Ye=Je[1],$e=l((0,r.useState)(null),2),Xe=$e[0],et=$e[1];(0,r.useEffect)((function(){null!==W&&W.setMap(z)}),[z]),(0,r.useEffect)((function(){"undefined"!==typeof n&&null!==W&&W.setOptions(n)}),[W,n]),(0,r.useEffect)((function(){"undefined"!==typeof s&&null!==W&&W.setDraggable(s)}),[W,s]),(0,r.useEffect)((function(){t&&null!==W&&W.setPosition(t)}),[W,t]),(0,r.useEffect)((function(){"undefined"!==typeof u&&null!==W&&W.setVisible(u)}),[W,u]),(0,r.useEffect)((function(){c&&null!==W&&W.setAnimation(c)}),[W,c]),(0,r.useEffect)((function(){W&&b&&(null!==K&&google.maps.event.removeListener(K),Q(google.maps.event.addListener(W,"dblclick",b)))}),[b]),(0,r.useEffect)((function(){W&&x&&(null!==Z&&google.maps.event.removeListener(Z),Y(google.maps.event.addListener(W,"dragend",x)))}),[x]),(0,r.useEffect)((function(){W&&_&&(null!==X&&google.maps.event.removeListener(X),ee(google.maps.event.addListener(W,"dragstart",_)))}),[_]),(0,r.useEffect)((function(){W&&I&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(W,"mousedown",I)))}),[I]),(0,r.useEffect)((function(){W&&S&&(null!==oe&&google.maps.event.removeListener(oe),ae(google.maps.event.addListener(W,"mouseout",S)))}),[S]),(0,r.useEffect)((function(){W&&E&&(null!==ue&&google.maps.event.removeListener(ue),ce(google.maps.event.addListener(W,"mouseover",E)))}),[E]),(0,r.useEffect)((function(){W&&C&&(null!==fe&&google.maps.event.removeListener(fe),he(google.maps.event.addListener(W,"mouseup",C)))}),[C]),(0,r.useEffect)((function(){W&&T&&(null!==pe&&google.maps.event.removeListener(pe),ve(google.maps.event.addListener(W,"rightclick",T)))}),[T]),(0,r.useEffect)((function(){W&&k&&(null!==ge&&google.maps.event.removeListener(ge),ye(google.maps.event.addListener(W,"click",k)))}),[k]),(0,r.useEffect)((function(){W&&w&&(null!==be&&google.maps.event.removeListener(be),we(google.maps.event.addListener(W,"drag",w)))}),[w]),(0,r.useEffect)((function(){W&&L&&(null!==_e&&google.maps.event.removeListener(_e),Se(google.maps.event.addListener(W,"clickable_changed",L)))}),[L]),(0,r.useEffect)((function(){W&&N&&(null!==Ce&&google.maps.event.removeListener(Ce),Ie(google.maps.event.addListener(W,"cursor_changed",N)))}),[N]),(0,r.useEffect)((function(){W&&P&&(null!==Le&&google.maps.event.removeListener(Le),Ne(google.maps.event.addListener(W,"animation_changed",P)))}),[P]),(0,r.useEffect)((function(){W&&O&&(null!==Oe&&google.maps.event.removeListener(Oe),Ae(google.maps.event.addListener(W,"draggable_changed",O)))}),[O]),(0,r.useEffect)((function(){W&&A&&(null!==De&&google.maps.event.removeListener(De),Me(google.maps.event.addListener(W,"flat_changed",A)))}),[A]),(0,r.useEffect)((function(){W&&j&&(null!==Fe&&google.maps.event.removeListener(Fe),Ue(google.maps.event.addListener(W,"icon_changed",j)))}),[j]),(0,r.useEffect)((function(){W&&D&&(null!==Be&&google.maps.event.removeListener(Be),ze(google.maps.event.addListener(W,"position_changed",D)))}),[D]),(0,r.useEffect)((function(){W&&M&&(null!==We&&google.maps.event.removeListener(We),He(google.maps.event.addListener(W,"shape_changed",M)))}),[M]),(0,r.useEffect)((function(){W&&R&&(null!==Ke&&google.maps.event.removeListener(Ke),Qe(google.maps.event.addListener(W,"title_changed",R)))}),[R]),(0,r.useEffect)((function(){W&&F&&(null!==Ze&&google.maps.event.removeListener(Ze),Ye(google.maps.event.addListener(W,"visible_changed",F)))}),[F]),(0,r.useEffect)((function(){W&&U&&(null!==Xe&&google.maps.event.removeListener(Xe),et(google.maps.event.addListener(W,"zindex_changed",U)))}),[U]),(0,r.useEffect)((function(){var e=Object.assign(Object.assign(Object.assign({},n||Xj),i?Xj:{map:z}),{position:t}),r=new google.maps.Marker(e);return i?i.addMarker(r,!!o):r.setMap(z),t&&r.setPosition(t),"undefined"!==typeof u&&r.setVisible(u),"undefined"!==typeof s&&r.setDraggable(s),"undefined"!==typeof f&&r.setClickable(f),"string"===typeof h&&r.setCursor(h),d&&r.setIcon(d),"undefined"!==typeof p&&r.setLabel(p),"undefined"!==typeof v&&r.setOpacity(v),m&&r.setShape(m),"string"===typeof g&&r.setTitle(g),"number"===typeof y&&r.setZIndex(y),b&&Q(google.maps.event.addListener(r,"dblclick",b)),x&&Y(google.maps.event.addListener(r,"dragend",x)),_&&ee(google.maps.event.addListener(r,"dragstart",_)),I&&re(google.maps.event.addListener(r,"mousedown",I)),S&&ae(google.maps.event.addListener(r,"mouseout",S)),E&&ce(google.maps.event.addListener(r,"mouseover",E)),C&&he(google.maps.event.addListener(r,"mouseup",C)),T&&ve(google.maps.event.addListener(r,"rightclick",T)),k&&ye(google.maps.event.addListener(r,"click",k)),w&&we(google.maps.event.addListener(r,"drag",w)),L&&Se(google.maps.event.addListener(r,"clickable_changed",L)),N&&Ie(google.maps.event.addListener(r,"cursor_changed",N)),P&&Ne(google.maps.event.addListener(r,"animation_changed",P)),O&&Ae(google.maps.event.addListener(r,"draggable_changed",O)),A&&Me(google.maps.event.addListener(r,"flat_changed",A)),j&&Ue(google.maps.event.addListener(r,"icon_changed",j)),D&&ze(google.maps.event.addListener(r,"position_changed",D)),M&&He(google.maps.event.addListener(r,"shape_changed",M)),R&&Qe(google.maps.event.addListener(r,"title_changed",R)),F&&Ye(google.maps.event.addListener(r,"visible_changed",F)),U&&et(google.maps.event.addListener(r,"zindex_changed",U)),H(r),V&&V(r),function(){null!==K&&google.maps.event.removeListener(K),null!==Z&&google.maps.event.removeListener(Z),null!==X&&google.maps.event.removeListener(X),null!==ne&&google.maps.event.removeListener(ne),null!==oe&&google.maps.event.removeListener(oe),null!==ue&&google.maps.event.removeListener(ue),null!==fe&&google.maps.event.removeListener(fe),null!==pe&&google.maps.event.removeListener(pe),null!==ge&&google.maps.event.removeListener(ge),null!==_e&&google.maps.event.removeListener(_e),null!==Ce&&google.maps.event.removeListener(Ce),null!==Le&&google.maps.event.removeListener(Le),null!==Oe&&google.maps.event.removeListener(Oe),null!==De&&google.maps.event.removeListener(De),null!==Fe&&google.maps.event.removeListener(Fe),null!==Be&&google.maps.event.removeListener(Be),null!==Ke&&google.maps.event.removeListener(Ke),null!==Ze&&google.maps.event.removeListener(Ze),null!==Xe&&google.maps.event.removeListener(Xe),B&&B(r),i?i.removeMarker(r,!!o):r&&r.setMap(null)}}),[]);var tt=(0,r.useMemo)((function(){return a?r.Children.map(a,(function(e){if(!(0,r.isValidElement)(e))return e;var t=e;return(0,r.cloneElement)(t,{anchor:W})})):null}),[a,W]);return(0,st.jsx)(st.Fragment,{children:tt})||null})),tD=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e}return g(n,[{key:"componentDidMount",value:function(){var e=Object.assign(Object.assign(Object.assign({},this.props.options||Xj),this.props.clusterer?Xj:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(e),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=Cj({updaterMap:$j,eventMap:Yj,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)}},{key:"componentDidUpdate",value:function(e){this.marker&&(Ej(this.registeredEvents),this.registeredEvents=Cj({updaterMap:$j,eventMap:Yj,prevProps:e,nextProps:this.props,instance:this.marker}))}},{key:"componentWillUnmount",value:function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Ej(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}},{key:"render",value:function(){var e=this,t=null;return this.props.children&&(t=r.Children.map(this.props.children,(function(t){if(!(0,r.isValidElement)(t))return t;var n=t;return(0,r.cloneElement)(n,{anchor:e.marker})}))),t||null}}]),n}(r.PureComponent);tD.contextType=wj;var nD=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),r=this.cluster.getBounds(),i=t.getMap();null!==i&&"fitBounds"in i&&i.fitBounds(r),this.timeOut=window.setTimeout((function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(r);var i=e.getZoom()||0;null!==n&&i>n&&e.setZoom(n+1)}}),100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,n,r;if(this.div&&this.center){var i=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,o=this.backgroundPosition.split(" "),a=parseInt(o[0].replace(/^\s+|\s+$/g,""),10),s=parseInt(o[1].replace(/^\s+|\s+$/g,""),10),u=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==u?"".concat(u.y,"px"):"0","; left: ").concat(null!==u?"".concat(u.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var c=document.createElement("img");c.alt=i,c.src=this.url,c.width=this.width,c.height=this.height,c.setAttribute("style","position: absolute; top: ".concat(s,"px; left: ").concat(a,"px")),this.cluster.getClusterer().enableRetinaIcons||(c.style.clip="rect(-".concat(s,"px, -").concat(a+this.width,"px, -").concat(s+this.height,", -").concat(a,")"));var l=document.createElement("div");l.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(e=this.sums)||void 0===e?void 0:e.text)&&(l.innerText="".concat(null===(t=this.sums)||void 0===t?void 0:t.text)),(null===(n=this.sums)||void 0===n?void 0:n.html)&&(l.innerHTML="".concat(null===(r=this.sums)||void 0===r?void 0:r.html)),this.div.innerHTML="",this.div.appendChild(c),this.div.appendChild(l),this.div.title=i,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0"},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}(),rD=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new nD(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=this.getMarkers(),n=0;n<t.length;n++){var r=t[n].getPosition();r&&e.extend(r)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(n=e.getPosition())){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+n.lat())/r,(this.center.lng()*(r-1)+n.lng())/r),this.calculateBounds()}}else(n=e.getPosition())&&(this.center=n,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var i=this.markers.length,o=this.markerClusterer.getMaxZoom(),a=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==o&&"undefined"!==typeof a&&a>o)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var s=0;s<i;s++)this.markers[s].setMap(null);else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),r=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==n&&"undefined"!==typeof r&&r>n||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function iD(e,t){var n=e.length,r=n.toString().length,i=Math.min(r,t);return{text:n.toString(),index:i,title:""}}var oD=[53,56,66,78,90],aD=function(){function e(t,n,r){void 0===n&&(n=[]),void 0===r&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.extend=this.extend.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,void 0!==r.zoomOnClick&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,void 0!==r.averageCenter&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,void 0!==r.ignoreHidden&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,void 0!==r.enableRetinaIcons&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=r.imageExtension||"png",this.imageSizes=r.imageSizes||oD,this.calculator=r.calculator||iD,this.batchSize=r.batchSize||2e3,this.batchSizeIE=r.batchSizeIE||500,this.clusterClass=r.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0;e<this.markers.length;e++)this.markers[e].getMap()!==this.activeMap&&this.markers[e].setMap(this.activeMap);for(e=0;e<this.clusters.length;e++)this.clusters[e].remove();this.clusters=[];for(e=0;e<this.listeners.length;e++)google.maps.event.removeListener(this.listeners[e]);this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e],width:this.imageSizes[e]})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0;n<e.length;n++){var r=e[n].getPosition();r&&t.extend(r)}var i=this.getMap();null!==i&&"fitBounds"in i&&i.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.pushMarkerTo(e[n]);t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",(function(){t.ready&&(e.isAdded=!1,t.repaint())})),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},e.prototype.removeMarkers=function(e,t){for(var n=!1,r=0;r<e.length;r++)n=n||this.removeMarker_(e[r]);return!t&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout((function(){for(var t=0;t<e.length;t++)e[t].remove()}),0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==n&&(n.x+=this.gridSize,n.y-=this.gridSize);var r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==r&&(r.x-=this.gridSize,r.y+=this.gridSize),null!==n){var i=t.fromDivPixelToLatLng(n);null!==i&&e.extend(i)}if(null!==r){var o=t.fromDivPixelToLatLng(r);null!==o&&e.extend(o)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0;t<this.clusters.length;t++)this.clusters[t].remove();this.clusters=[];for(t=0;t<this.markers.length;t++){var n=this.markers[t];n.isAdded=!1,e&&n.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,r=(t.lng()-e.lng())*Math.PI/180,i=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371},e.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return!!n&&t.contains(n)},e.prototype.addToClosestCluster=function(e){for(var t,n=4e4,r=null,i=0;i<this.clusters.length;i++){var o=(t=this.clusters[i]).getCenter(),a=e.getPosition();if(o&&a){var s=this.distanceBetweenPoints(o,a);s<n&&(n=s,r=t)}}r&&r.isMarkerInClusterBounds(e)?r.addMarker(e):((t=new rD(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),r=(null!==n&&"getBounds"in n?n.getBounds():null),i=((null===n||void 0===n?void 0:n.getZoom())||0)>3?new google.maps.LatLngBounds(null===r||void 0===r?void 0:r.getSouthWest(),null===r||void 0===r?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),o=this.getExtendedBounds(i),a=Math.min(e+this.batchSize,this.markers.length),s=e;s<a;s++){var u=this.markers[s];!u.isAdded&&this.isMarkerInBounds(u,o)&&(!this.ignoreHidden||this.ignoreHidden&&u.getVisible())&&this.addToClosestCluster(u)}if(a<this.markers.length)this.timerRefStatic=window.setTimeout((function(){t.createClusters(a)}),0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(s=0;s<this.clusters.length;s++)this.clusters[s].updateIcon()}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},e}(),sD={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},uD={averageCenter:function(e,t){e.setAverageCenter(t)},batchSizeIE:function(e,t){e.setBatchSizeIE(t)},calculator:function(e,t){e.setCalculator(t)},clusterClass:function(e,t){e.setClusterClass(t)},enableRetinaIcons:function(e,t){e.setEnableRetinaIcons(t)},gridSize:function(e,t){e.setGridSize(t)},ignoreHidden:function(e,t){e.setIgnoreHidden(t)},imageExtension:function(e,t){e.setImageExtension(t)},imagePath:function(e,t){e.setImagePath(t)},imageSizes:function(e,t){e.setImageSizes(t)},maxZoom:function(e,t){e.setMaxZoom(t)},minimumClusterSize:function(e,t){e.setMinimumClusterSize(t)},styles:function(e,t){e.setStyles(t)},title:function(e,t){e.setTitle(t)},zoomOnClick:function(e,t){e.setZoomOnClick(t)}},cD={};(0,r.memo)((function(e){var t=e.children,n=e.options,i=e.averageCenter,o=e.batchSizeIE,a=e.calculator,s=e.clusterClass,u=e.enableRetinaIcons,c=e.gridSize,f=e.ignoreHidden,h=e.imageExtension,d=e.imagePath,p=e.imageSizes,v=e.maxZoom,m=e.minimumClusterSize,g=e.styles,y=e.title,k=e.zoomOnClick,b=e.onClick,w=e.onClusteringBegin,x=e.onClusteringEnd,_=e.onMouseOver,S=e.onMouseOut,E=e.onLoad,C=e.onUnmount,I=l((0,r.useState)(null),2),T=I[0],L=I[1],N=(0,r.useContext)(wj),P=l((0,r.useState)(null),2),O=P[0],A=P[1],j=l((0,r.useState)(null),2),D=j[0],M=j[1],R=l((0,r.useState)(null),2),F=R[0],U=R[1],V=l((0,r.useState)(null),2),B=V[0],z=V[1],q=l((0,r.useState)(null),2),W=q[0],H=q[1];return(0,r.useEffect)((function(){T&&S&&(null!==B&&google.maps.event.removeListener(B),z(google.maps.event.addListener(T,sD.onMouseOut,S)))}),[S]),(0,r.useEffect)((function(){T&&_&&(null!==W&&google.maps.event.removeListener(W),H(google.maps.event.addListener(T,sD.onMouseOver,_)))}),[_]),(0,r.useEffect)((function(){T&&b&&(null!==O&&google.maps.event.removeListener(O),A(google.maps.event.addListener(T,sD.onClick,b)))}),[b]),(0,r.useEffect)((function(){T&&w&&(null!==D&&google.maps.event.removeListener(D),M(google.maps.event.addListener(T,sD.onClusteringBegin,w)))}),[w]),(0,r.useEffect)((function(){T&&x&&(null!==F&&google.maps.event.removeListener(F),M(google.maps.event.addListener(T,sD.onClusteringEnd,x)))}),[x]),(0,r.useEffect)((function(){"undefined"!==typeof i&&null!==T&&uD.averageCenter(T,i)}),[T,i]),(0,r.useEffect)((function(){"undefined"!==typeof o&&null!==T&&uD.batchSizeIE(T,o)}),[T,o]),(0,r.useEffect)((function(){"undefined"!==typeof a&&null!==T&&uD.calculator(T,a)}),[T,a]),(0,r.useEffect)((function(){"undefined"!==typeof s&&null!==T&&uD.clusterClass(T,s)}),[T,s]),(0,r.useEffect)((function(){"undefined"!==typeof u&&null!==T&&uD.enableRetinaIcons(T,u)}),[T,u]),(0,r.useEffect)((function(){"undefined"!==typeof c&&null!==T&&uD.gridSize(T,c)}),[T,c]),(0,r.useEffect)((function(){"undefined"!==typeof f&&null!==T&&uD.ignoreHidden(T,f)}),[T,f]),(0,r.useEffect)((function(){"undefined"!==typeof h&&null!==T&&uD.imageExtension(T,h)}),[T,h]),(0,r.useEffect)((function(){"undefined"!==typeof d&&null!==T&&uD.imagePath(T,d)}),[T,d]),(0,r.useEffect)((function(){"undefined"!==typeof p&&null!==T&&uD.imageSizes(T,p)}),[T,p]),(0,r.useEffect)((function(){"undefined"!==typeof v&&null!==T&&uD.maxZoom(T,v)}),[T,v]),(0,r.useEffect)((function(){"undefined"!==typeof m&&null!==T&&uD.minimumClusterSize(T,m)}),[T,m]),(0,r.useEffect)((function(){"undefined"!==typeof g&&null!==T&&uD.styles(T,g)}),[T,g]),(0,r.useEffect)((function(){"undefined"!==typeof y&&null!==T&&uD.title(T,y)}),[T,y]),(0,r.useEffect)((function(){"undefined"!==typeof k&&null!==T&&uD.zoomOnClick(T,k)}),[T,k]),(0,r.useEffect)((function(){if(N){var e=Object.assign({},n||cD),t=new aD(N,[],e);return i&&uD.averageCenter(t,i),o&&uD.batchSizeIE(t,o),a&&uD.calculator(t,a),s&&uD.clusterClass(t,s),u&&uD.enableRetinaIcons(t,u),c&&uD.gridSize(t,c),f&&uD.ignoreHidden(t,f),h&&uD.imageExtension(t,h),d&&uD.imagePath(t,d),p&&uD.imageSizes(t,p),v&&uD.maxZoom(t,v),m&&uD.minimumClusterSize(t,m),g&&uD.styles(t,g),y&&uD.title(t,y),k&&uD.zoomOnClick(t,k),S&&z(google.maps.event.addListener(t,sD.onMouseOut,S)),_&&H(google.maps.event.addListener(t,sD.onMouseOver,_)),b&&A(google.maps.event.addListener(t,sD.onClick,b)),w&&M(google.maps.event.addListener(t,sD.onClusteringBegin,w)),x&&U(google.maps.event.addListener(t,sD.onClusteringEnd,x)),L(t),E&&E(t),function(){null!==B&&google.maps.event.removeListener(B),null!==W&&google.maps.event.removeListener(W),null!==O&&google.maps.event.removeListener(O),null!==D&&google.maps.event.removeListener(D),null!==F&&google.maps.event.removeListener(F),C&&C(t)}}}),[]),null!==T&&t(T)||null}));var lD=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={markerClusterer:null},e.setClustererCallback=function(){null!==e.state.markerClusterer&&e.props.onLoad&&e.props.onLoad(e.state.markerClusterer)},e}return g(n,[{key:"componentDidMount",value:function(){if(this.context){var e=new aD(this.context,[],this.props.options);this.registeredEvents=Cj({updaterMap:uD,eventMap:sD,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{markerClusterer:e}}),this.setClustererCallback)}}},{key:"componentDidUpdate",value:function(e){this.state.markerClusterer&&(Ej(this.registeredEvents),this.registeredEvents=Cj({updaterMap:uD,eventMap:sD,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}},{key:"componentWillUnmount",value:function(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Ej(this.registeredEvents),this.state.markerClusterer.setMap(null))}},{key:"render",value:function(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null}}]),n}(r.PureComponent);function fD(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}lD.contextType=wj;var hD=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof t.visible&&("undefined"===typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var r=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],i=0;i<r.length;i++)this.eventListeners.push(google.maps.event.addListener(this.div,r[i],fD));this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",(function(){e.div&&(e.div.style.cursor="default")})))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",(function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||fD(t)})),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,r=0,i=t.getBounds();i&&!i.contains(this.position)&&t.setCenter(this.position);var o=t.getDiv(),a=o.offsetWidth,s=o.offsetHeight,u=this.pixelOffset.width,c=this.pixelOffset.height,l=this.div.offsetWidth,f=this.div.offsetHeight,h=this.infoBoxClearance.width,d=this.infoBoxClearance.height,p=this.getProjection().fromLatLngToContainerPixel(this.position);null!==p&&(p.x<-u+h?n=p.x+u-h:p.x+l+u+h>a&&(n=p.x+l+u+h-a),this.alignBottom?p.y<-c+d+f?r=p.y+c-d-f:p.y+c+d>s&&(r=p.y+c+d-s):p.y<-c+d?r=p.y+c-d:p.y+f+c+d>s&&(r=p.y+f+c+d-s)),0===n&&0===r||t.panBy(n,r)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*n+')"',this.div.style.filter="alpha(opacity="+100*n+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),"undefined"!==typeof e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),"undefined"!==typeof e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),"undefined"!==typeof e.content&&this.setContent(e.content),"undefined"!==typeof e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),"undefined"!==typeof e.maxWidth&&(this.maxWidth=e.maxWidth),"undefined"!==typeof e.pixelOffset&&(this.pixelOffset=e.pixelOffset),"undefined"!==typeof e.alignBottom&&(this.alignBottom=e.alignBottom),"undefined"!==typeof e.position&&this.setPosition(e.position),"undefined"!==typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!==typeof e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),"undefined"!==typeof e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),"undefined"!==typeof e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),"undefined"!==typeof e.isHidden&&(this.isHidden=e.isHidden),"undefined"!==typeof e.visible&&(this.isHidden=!e.visible),"undefined"!==typeof e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return"undefined"!==typeof e&&null!==e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",(function(){var e=t.getPosition();n.setPosition(e)})),this.mapListener=google.maps.event.addListener(t,"map_changed",(function(){n.setMap(t.map)}))),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0;e<this.eventListeners.length;e++)google.maps.event.removeListener(this.eventListeners[e]);this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),dD={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},pD={options:function(e,t){e.setOptions(t)},position:function(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},vD={};(0,r.memo)((function(e){var t=e.children,n=e.anchor,i=e.options,o=e.position,a=e.zIndex,s=e.onCloseClick,u=e.onDomReady,c=e.onContentChanged,f=e.onPositionChanged,h=e.onZindexChanged,d=e.onLoad,p=e.onUnmount,v=(0,r.useContext)(wj),m=l((0,r.useState)(null),2),g=m[0],y=m[1],k=l((0,r.useState)(null),2),b=k[0],w=k[1],x=l((0,r.useState)(null),2),_=x[0],S=x[1],E=l((0,r.useState)(null),2),C=E[0],I=E[1],T=l((0,r.useState)(null),2),L=T[0],N=T[1],P=l((0,r.useState)(null),2),O=P[0],A=P[1],j=(0,r.useRef)(null);return(0,r.useEffect)((function(){v&&null!==g&&(g.close(),n?g.open(v,n):g.getPosition()&&g.open(v))}),[v,g,n]),(0,r.useEffect)((function(){i&&null!==g&&g.setOptions(i)}),[g,i]),(0,r.useEffect)((function(){if(o&&null!==g){var e=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);g.setPosition(e)}}),[o]),(0,r.useEffect)((function(){"number"===typeof a&&null!==g&&g.setZIndex(a)}),[a]),(0,r.useEffect)((function(){g&&s&&(null!==b&&google.maps.event.removeListener(b),w(google.maps.event.addListener(g,"closeclick",s)))}),[s]),(0,r.useEffect)((function(){g&&u&&(null!==_&&google.maps.event.removeListener(_),S(google.maps.event.addListener(g,"domready",u)))}),[u]),(0,r.useEffect)((function(){g&&c&&(null!==C&&google.maps.event.removeListener(C),I(google.maps.event.addListener(g,"content_changed",c)))}),[c]),(0,r.useEffect)((function(){g&&f&&(null!==L&&google.maps.event.removeListener(L),N(google.maps.event.addListener(g,"position_changed",f)))}),[f]),(0,r.useEffect)((function(){g&&h&&(null!==O&&google.maps.event.removeListener(O),A(google.maps.event.addListener(g,"zindex_changed",h)))}),[h]),(0,r.useEffect)((function(){if(v){var e,t=i||vD,r=t.position,o=Nj(t,["position"]);!r||r instanceof google.maps.LatLng||(e=new google.maps.LatLng(r.lat,r.lng));var a=new hD(Object.assign(Object.assign({},o),e?{position:e}:{}));j.current=document.createElement("div"),y(a),s&&w(google.maps.event.addListener(a,"closeclick",s)),u&&S(google.maps.event.addListener(a,"domready",u)),c&&I(google.maps.event.addListener(a,"content_changed",c)),f&&N(google.maps.event.addListener(a,"position_changed",f)),h&&A(google.maps.event.addListener(a,"zindex_changed",h)),a.setContent(j.current),n?a.open(v,n):a.getPosition()?a.open(v):bj(!1,"You must provide either an anchor or a position prop for <InfoBox>."),d&&d(a)}return function(){null!==g&&(b&&google.maps.event.removeListener(b),C&&google.maps.event.removeListener(C),_&&google.maps.event.removeListener(_),L&&google.maps.event.removeListener(L),O&&google.maps.event.removeListener(O),p&&p(g),g.close())}}),[]),j.current?(0,qe.createPortal)(r.Children.only(t),j.current):null}));var mD=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.containerElement=null,e.state={infoBox:null},e.open=function(t,n){n?t.open(e.context,n):t.getPosition()?t.open(e.context):bj(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},e.setInfoBoxCallback=function(){null!==e.state.infoBox&&null!==e.containerElement&&(e.state.infoBox.setContent(e.containerElement),e.open(e.state.infoBox,e.props.anchor),e.props.onLoad&&e.props.onLoad(e.state.infoBox))},e}return g(n,[{key:"componentDidMount",value:function(){var e,t=this.props.options||{},n=t.position,r=Nj(t,["position"]);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var i=new hD(Object.assign(Object.assign({},r),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Cj({updaterMap:pD,eventMap:dD,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)}},{key:"componentDidUpdate",value:function(e){var t=this.state.infoBox;null!==t&&(Ej(this.registeredEvents),this.registeredEvents=Cj({updaterMap:pD,eventMap:dD,prevProps:e,nextProps:this.props,instance:t}))}},{key:"componentWillUnmount",value:function(){var e=this.props.onUnmount,t=this.state.infoBox;null!==t&&(e&&e(t),Ej(this.registeredEvents),t.close())}},{key:"render",value:function(){return this.containerElement?(0,qe.createPortal)(r.Children.only(this.props.children),this.containerElement):null}}]),n}(r.PureComponent);mD.contextType=wj;var gD=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n},yD={exports:{}};yD.exports=function(){function e(n,r,i,o,a,s){if(!(a-o<=i)){var u=o+a>>1;t(n,r,u,o,a,s%2),e(n,r,i,o,u-1,s+1),e(n,r,i,u+1,a,s+1)}}function t(e,r,i,o,a,s){for(;a>o;){if(a-o>600){var u=a-o+1,c=i-o+1,l=Math.log(u),f=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*f*(u-f)/u)*(c-u/2<0?-1:1);t(e,r,i,Math.max(o,Math.floor(i-c*f/u+h)),Math.min(a,Math.floor(i+(u-c)*f/u+h)),s)}var d=r[2*i+s],p=o,v=a;for(n(e,r,o,i),r[2*a+s]>d&&n(e,r,o,a);p<v;){for(n(e,r,p,v),p++,v--;r[2*p+s]<d;)p++;for(;r[2*v+s]>d;)v--}r[2*o+s]===d?n(e,r,o,v):n(e,r,++v,a),v<=i&&(o=v+1),i<=v&&(a=v-1)}}function n(e,t,n,i){r(e,n,i),r(t,2*n,2*i),r(t,2*n+1,2*i+1)}function r(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function i(e,t,n,r,i,o,a){for(var s,u,c=[0,e.length-1,0],l=[];c.length;){var f=c.pop(),h=c.pop(),d=c.pop();if(h-d<=a)for(var p=d;p<=h;p++)s=t[2*p],u=t[2*p+1],s>=n&&s<=i&&u>=r&&u<=o&&l.push(e[p]);else{var v=Math.floor((d+h)/2);s=t[2*v],u=t[2*v+1],s>=n&&s<=i&&u>=r&&u<=o&&l.push(e[v]);var m=(f+1)%2;(0===f?n<=s:r<=u)&&(c.push(d),c.push(v-1),c.push(m)),(0===f?i>=s:o>=u)&&(c.push(v+1),c.push(h),c.push(m))}}return l}function o(e,t,n,r,i,o){for(var s=[0,e.length-1,0],u=[],c=i*i;s.length;){var l=s.pop(),f=s.pop(),h=s.pop();if(f-h<=o)for(var d=h;d<=f;d++)a(t[2*d],t[2*d+1],n,r)<=c&&u.push(e[d]);else{var p=Math.floor((h+f)/2),v=t[2*p],m=t[2*p+1];a(v,m,n,r)<=c&&u.push(e[p]);var g=(l+1)%2;(0===l?n-i<=v:r-i<=m)&&(s.push(h),s.push(p-1),s.push(g)),(0===l?n+i>=v:r+i>=m)&&(s.push(p+1),s.push(f),s.push(g))}}return u}function a(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}var s=function(e){return e[0]},u=function(e){return e[1]},c=function(t,n,r,i,o){void 0===n&&(n=s),void 0===r&&(r=u),void 0===i&&(i=64),void 0===o&&(o=Float64Array),this.nodeSize=i,this.points=t;for(var a=t.length<65536?Uint16Array:Uint32Array,c=this.ids=new a(t.length),l=this.coords=new o(2*t.length),f=0;f<t.length;f++)c[f]=f,l[2*f]=n(t[f]),l[2*f+1]=r(t[f]);e(c,l,i,0,c.length-1,0)};return c.prototype.range=function(e,t,n,r){return i(this.ids,this.coords,e,t,n,r,this.nodeSize)},c.prototype.within=function(e,t,n){return o(this.ids,this.coords,e,t,n,this.nodeSize)},c}();var kD,bD=yD.exports,wD={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},xD=Math.fround||(kD=new Float32Array(1),function(e){return kD[0]=+e,kD[0]}),_D=function(){function e(t){d(this,e),this.options=OD(Object.create(wD),t),this.trees=new Array(this.options.maxZoom+1)}return g(e,[{key:"load",value:function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom,o=t.nodeSize;n&&console.time("total time");var a="prepare ".concat(e.length," points");n&&console.time(a),this.points=e;for(var s=[],u=0;u<e.length;u++)e[u].geometry&&s.push(ED(e[u],u));this.trees[i+1]=new bD(s,AD,jD,o,Float32Array),n&&console.timeEnd(a);for(var c=i;c>=r;c--){var l=+Date.now();s=this._cluster(s,c),this.trees[c]=new bD(s,AD,jD,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",c,s.length,+Date.now()-l)}return n&&console.timeEnd("total time"),this}},{key:"getClusters",value:function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],t),s=this.getClusters([-180,r,i,o],t);return a.concat(s)}var u,c=this.trees[this._limitZoom(t)],l=[],f=I(c.range(TD(n),LD(o),TD(i),LD(r)));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=c.points[h];l.push(d.numPoints?CD(d):this.points[d.index])}}catch(p){f.e(p)}finally{f.f()}return l}},{key:"getChildren",value:function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[t];if(!o)throw new Error(r);var a,s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),u=[],c=I(i.within(o.x,o.y,s));try{for(c.s();!(a=c.n()).done;){var l=a.value,f=i.points[l];f.parentId===e&&u.push(f.numPoints?CD(f):this.points[f.index])}}catch(h){c.e(h)}finally{c.f()}if(0===u.length)throw new Error(r);return u}},{key:"getLeaves",value:function(e,t,n){t=t||10,n=n||0;var r=[];return this._appendLeaves(r,e,t,n,0),r}},{key:"getTile",value:function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),o=this.options,a=o.extent,s=o.radius/a,u=(n-s)/i,c=(n+1+s)/i,l={features:[]};return this._addTileFeatures(r.range((t-s)/i,u,(t+1+s)/i,c),r.points,t,n,i,l),0===t&&this._addTileFeatures(r.range(1-s/i,u,1,c),r.points,i,n,i,l),t===i-1&&this._addTileFeatures(r.range(0,u,s/i,c),r.points,-1,n,i,l),l.features.length?l:null}},{key:"getClusterExpansionZoom",value:function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}},{key:"_appendLeaves",value:function(e,t,n,r,i){var o,a=I(this.getChildren(t));try{for(a.s();!(o=a.n()).done;){var s=o.value,u=s.properties;if(u&&u.cluster?i+u.point_count<=r?i+=u.point_count:i=this._appendLeaves(e,u.cluster_id,n,r,i):i<r?i++:e.push(s),e.length===n)break}}catch(c){a.e(c)}finally{a.f()}return i}},{key:"_addTileFeatures",value:function(e,t,n,r,i,o){var a,s=I(e);try{for(s.s();!(a=s.n()).done;){var u=t[a.value],c=u.numPoints,l=void 0,f=void 0,h=void 0;if(c)l=ID(u),f=u.x,h=u.y;else{var d=this.points[u.index];l=d.properties,f=TD(d.geometry.coordinates[0]),h=LD(d.geometry.coordinates[1])}var p={type:1,geometry:[[Math.round(this.options.extent*(f*i-n)),Math.round(this.options.extent*(h*i-r))]],tags:l},v=void 0;c?v=u.id:this.options.generateId?v=u.index:this.points[u.index].id&&(v=this.points[u.index].id),void 0!==v&&(p.id=v),o.features.push(p)}}catch(m){s.e(m)}finally{s.f()}}},{key:"_limitZoom",value:function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))}},{key:"_cluster",value:function(e,t){for(var n=[],r=this.options,i=r.radius,o=r.extent,a=r.reduce,s=r.minPoints,u=i/(o*Math.pow(2,t)),c=0;c<e.length;c++){var l=e[c];if(!(l.zoom<=t)){l.zoom=t;var f,h=this.trees[t+1],d=h.within(l.x,l.y,u),p=l.numPoints||1,v=p,m=I(d);try{for(m.s();!(f=m.n()).done;){var g=f.value,y=h.points[g];y.zoom>t&&(v+=y.numPoints||1)}}catch(A){m.e(A)}finally{m.f()}if(v>p&&v>=s){var k,b=l.x*p,w=l.y*p,x=a&&p>1?this._map(l,!0):null,_=(c<<5)+(t+1)+this.points.length,S=I(d);try{for(S.s();!(k=S.n()).done;){var E=k.value,C=h.points[E];if(!(C.zoom<=t)){C.zoom=t;var T=C.numPoints||1;b+=C.x*T,w+=C.y*T,C.parentId=_,a&&(x||(x=this._map(l,!0)),a(x,this._map(C)))}}}catch(A){S.e(A)}finally{S.f()}l.parentId=_,n.push(SD(b/v,w/v,_,v,x))}else if(n.push(l),v>1){var L,N=I(d);try{for(N.s();!(L=N.n()).done;){var P=L.value,O=h.points[P];O.zoom<=t||(O.zoom=t,n.push(O))}}catch(A){N.e(A)}finally{N.f()}}}}return n}},{key:"_getOriginId",value:function(e){return e-this.points.length>>5}},{key:"_getOriginZoom",value:function(e){return(e-this.points.length)%32}},{key:"_map",value:function(e,t){if(e.numPoints)return t?OD({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?OD({},r):r}}]),e}();function SD(e,t,n,r,i){return{x:xD(e),y:xD(t),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function ED(e,t){var n=l(e.geometry.coordinates,2),r=n[0],i=n[1];return{x:xD(TD(r)),y:xD(LD(i)),zoom:1/0,index:t,parentId:-1}}function CD(e){return{type:"Feature",id:e.id,properties:ID(e),geometry:{type:"Point",coordinates:[ND(e.x),PD(e.y)]}}}function ID(e){var t=e.numPoints,n=t>=1e4?"".concat(Math.round(t/1e3),"k"):t>=1e3?"".concat(Math.round(t/100)/10,"k"):t;return OD(OD({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function TD(e){return e/360+.5}function LD(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function ND(e){return 360*(e-.5)}function PD(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function OD(e,t){for(var n in t)e[n]=t[n];return e}function AD(e){return e.x}function jD(e){return e.y}function DD(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var MD=function(){function e(t){var n=t.markers,r=t.position;d(this,e),this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}return g(e,[{key:"bounds",get:function(){if(0!==this.markers.length||this._position)return this.markers.reduce((function(e,t){return e.extend(t.getPosition())}),new google.maps.LatLngBounds(this._position,this._position))}},{key:"position",get:function(){return this._position||this.bounds.getCenter()}},{key:"count",get:function(){return this.markers.filter((function(e){return e.getVisible()})).length}},{key:"push",value:function(e){this.markers.push(e)}},{key:"delete",value:function(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}]),e}(),RD=function(){function e(t){var n=t.maxZoom,r=void 0===n?16:n;d(this,e),this.maxZoom=r}return g(e,[{key:"noop",value:function(e){var t=e.markers;return FD(t)}}]),e}(),FD=function(e){return e.map((function(e){return new MD({position:e.getPosition(),markers:[e]})}))},UD=function(e){k(n,e);var t=_(n);function n(e){var r;d(this,n);var i=e.maxZoom,o=e.radius,a=void 0===o?60:o,s=DD(e,["maxZoom","radius"]);return(r=t.call(this,{maxZoom:i})).superCluster=new _D(Object.assign({maxZoom:r.maxZoom,radius:a},s)),r.state={zoom:null},r}return g(n,[{key:"calculate",value:function(e){var t=!1;if(!gD(e.markers,this.markers)){t=!0,this.markers=h(e.markers);var n=this.markers.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[e.getPosition().lng(),e.getPosition().lat()]},properties:{marker:e}}}));this.superCluster.load(n)}var r={zoom:e.map.getZoom()};return t||this.state.zoom>this.maxZoom&&r.zoom>this.maxZoom||(t=t||!gD(this.state,r)),this.state=r,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}},{key:"cluster",value:function(e){var t=e.map;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(this.transformCluster.bind(this))}},{key:"transformCluster",value:function(e){var t=l(e.geometry.coordinates,2),n=t[0],r=t[1],i=e.properties;if(i.cluster)return new MD({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map((function(e){return e.properties.marker})),position:new google.maps.LatLng({lat:r,lng:n})});var o=i.marker;return new MD({markers:[o],position:o.getPosition()})}}]),n}(RD),VD=g((function e(t,n){d(this,e),this.markers={sum:t.length};var r=n.map((function(e){return e.count})),i=r.reduce((function(e,t){return e+t}),0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min.apply(Math,h(r)),max:Math.max.apply(Math,h(r))}}})),BD=function(){function e(){d(this,e)}return g(e,[{key:"render",value:function(e,t){var n=e.count,r=e.position,i=n>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",o=window.btoa('\n  <svg fill="'.concat(i,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">\n    <circle cx="120" cy="120" opacity=".6" r="70" />\n    <circle cx="120" cy="120" opacity=".3" r="90" />\n    <circle cx="120" cy="120" opacity=".2" r="110" />\n  </svg>'));return new google.maps.Marker({position:r,icon:{url:"data:image/svg+xml;base64,".concat(o),scaledSize:new google.maps.Size(45,45)},label:{text:String(n),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:"Cluster of ".concat(n," markers"),zIndex:Number(google.maps.Marker.MAX_ZINDEX)+n})}}]),e}();var zD,qD=g((function e(){d(this,e),function(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}(e,google.maps.OverlayView)}));!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(zD||(zD={}));var WD=function(e,t,n){n.fitBounds(t.bounds)},HD=function(e){k(n,e);var t=_(n);function n(e){var r,i=e.map,o=e.markers,a=void 0===o?[]:o,s=e.algorithm,u=void 0===s?new UD({}):s,c=e.renderer,l=void 0===c?new BD:c,f=e.onClusterClick,p=void 0===f?WD:f;return d(this,n),(r=t.call(this)).markers=h(a),r.clusters=[],r.algorithm=u,r.renderer=l,r.onClusterClick=p,i&&r.setMap(i),r}return g(n,[{key:"addMarker",value:function(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}},{key:"addMarkers",value:function(e,t){var n=this;e.forEach((function(e){n.addMarker(e,!0)})),t||this.render()}},{key:"removeMarker",value:function(e,t){var n=this.markers.indexOf(e);return-1!==n&&(e.setMap(null),this.markers.splice(n,1),t||this.render(),!0)}},{key:"removeMarkers",value:function(e,t){var n=this,r=!1;return e.forEach((function(e){r=n.removeMarker(e,!0)||r})),r&&!t&&this.render(),r}},{key:"clearMarkers",value:function(e){this.markers.length=0,e||this.render()}},{key:"render",value:function(){var e=this.getMap();if(e instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,zD.CLUSTERING_BEGIN,this);var t=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()}),n=t.clusters,r=t.changed;(r||void 0==r)&&(this.reset(),this.clusters=n,this.renderClusters()),google.maps.event.trigger(this,zD.CLUSTERING_END,this)}}},{key:"onAdd",value:function(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}},{key:"onRemove",value:function(){google.maps.event.removeListener(this.idleListener),this.reset()}},{key:"reset",value:function(){this.markers.forEach((function(e){return e.setMap(null)})),this.clusters.forEach((function(e){return e.delete()})),this.clusters=[]}},{key:"renderClusters",value:function(){var e=this,t=new VD(this.markers,this.clusters),n=this.getMap();this.clusters.forEach((function(r){1===r.markers.length?r.marker=r.markers[0]:(r.marker=e.renderer.render(r,t),e.onClusterClick&&r.marker.addListener("click",(function(t){google.maps.event.trigger(e,zD.CLUSTER_CLICK,r),e.onClusterClick(t,r,n)}))),r.marker.setMap(n)}))}}]),n}(qD);function GD(e){var t=function(){bj(!!r.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=(0,r.useContext)(wj);return bj(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}(),n=l((0,r.useState)(null),2),i=n[0],o=n[1];return(0,r.useEffect)((function(){if(t&&null===i){var n=new HD(Object.assign(Object.assign({},e),{map:t}));o(n)}}),[t]),i}(0,r.memo)((function(e){var t=e.children,n=GD(e.options);return null!==n?t(n):null}));var KD={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},QD={options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},zIndex:function(e,t){e.setZIndex(t)}};(0,r.memo)((function(e){var t=e.children,n=e.anchor,i=e.options,o=e.position,a=e.zIndex,s=e.onCloseClick,u=e.onDomReady,c=e.onContentChanged,f=e.onPositionChanged,h=e.onZindexChanged,d=e.onLoad,p=e.onUnmount,v=(0,r.useContext)(wj),m=l((0,r.useState)(null),2),g=m[0],y=m[1],k=l((0,r.useState)(null),2),b=k[0],w=k[1],x=l((0,r.useState)(null),2),_=x[0],S=x[1],E=l((0,r.useState)(null),2),C=E[0],I=E[1],T=l((0,r.useState)(null),2),L=T[0],N=T[1],P=l((0,r.useState)(null),2),O=P[0],A=P[1],j=(0,r.useRef)(null);return(0,r.useEffect)((function(){null!==g&&(g.close(),n?g.open(v,n):g.getPosition()&&g.open(v))}),[v,g,n]),(0,r.useEffect)((function(){i&&null!==g&&g.setOptions(i)}),[g,i]),(0,r.useEffect)((function(){o&&null!==g&&g.setPosition(o)}),[o]),(0,r.useEffect)((function(){"number"===typeof a&&null!==g&&g.setZIndex(a)}),[a]),(0,r.useEffect)((function(){g&&s&&(null!==b&&google.maps.event.removeListener(b),w(google.maps.event.addListener(g,"closeclick",s)))}),[s]),(0,r.useEffect)((function(){g&&u&&(null!==_&&google.maps.event.removeListener(_),S(google.maps.event.addListener(g,"domready",u)))}),[u]),(0,r.useEffect)((function(){g&&c&&(null!==C&&google.maps.event.removeListener(C),I(google.maps.event.addListener(g,"content_changed",c)))}),[c]),(0,r.useEffect)((function(){g&&f&&(null!==L&&google.maps.event.removeListener(L),N(google.maps.event.addListener(g,"position_changed",f)))}),[f]),(0,r.useEffect)((function(){g&&h&&(null!==O&&google.maps.event.removeListener(O),A(google.maps.event.addListener(g,"zindex_changed",h)))}),[h]),(0,r.useEffect)((function(){var e=new google.maps.InfoWindow(Object.assign({},i||{}));return y(e),j.current=document.createElement("div"),s&&w(google.maps.event.addListener(e,"closeclick",s)),u&&S(google.maps.event.addListener(e,"domready",u)),c&&I(google.maps.event.addListener(e,"content_changed",c)),f&&N(google.maps.event.addListener(e,"position_changed",f)),h&&A(google.maps.event.addListener(e,"zindex_changed",h)),e.setContent(j.current),o&&e.setPosition(o),a&&e.setZIndex(a),n?e.open(v,n):e.getPosition()?e.open(v):bj(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),d&&d(e),function(){b&&google.maps.event.removeListener(b),C&&google.maps.event.removeListener(C),_&&google.maps.event.removeListener(_),L&&google.maps.event.removeListener(L),O&&google.maps.event.removeListener(O),p&&p(e),e.close()}}),[]),j.current?(0,qe.createPortal)(r.Children.only(t),j.current):null}));var JD=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.containerElement=null,e.state={infoWindow:null},e.open=function(t,n){n?t.open(e.context,n):t.getPosition()?t.open(e.context):bj(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},e.setInfoWindowCallback=function(){null!==e.state.infoWindow&&null!==e.containerElement&&(e.state.infoWindow.setContent(e.containerElement),e.open(e.state.infoWindow,e.props.anchor),e.props.onLoad&&e.props.onLoad(e.state.infoWindow))},e}return g(n,[{key:"componentDidMount",value:function(){var e=new google.maps.InfoWindow(Object.assign({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=Cj({updaterMap:QD,eventMap:KD,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{infoWindow:e}}),this.setInfoWindowCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.infoWindow&&(Ej(this.registeredEvents),this.registeredEvents=Cj({updaterMap:QD,eventMap:KD,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}},{key:"componentWillUnmount",value:function(){null!==this.state.infoWindow&&(Ej(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}},{key:"render",value:function(){return this.containerElement?(0,qe.createPortal)(r.Children.only(this.props.children),this.containerElement):null}}]),n}(r.PureComponent);JD.contextType=wj;var ZD={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},YD={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},visible:function(e,t){e.setVisible(t)}},$D={};(0,r.memo)((function(e){var t=e.options,n=e.draggable,i=e.editable,o=e.visible,a=e.path,s=e.onDblClick,u=e.onDragEnd,c=e.onDragStart,f=e.onMouseDown,h=e.onMouseMove,d=e.onMouseOut,p=e.onMouseOver,v=e.onMouseUp,m=e.onRightClick,g=e.onClick,y=e.onDrag,k=e.onLoad,b=e.onUnmount,w=(0,r.useContext)(wj),x=l((0,r.useState)(null),2),_=x[0],S=x[1],E=l((0,r.useState)(null),2),C=E[0],I=E[1],T=l((0,r.useState)(null),2),L=T[0],N=T[1],P=l((0,r.useState)(null),2),O=P[0],A=P[1],j=l((0,r.useState)(null),2),D=j[0],M=j[1],R=l((0,r.useState)(null),2),F=R[0],U=R[1],V=l((0,r.useState)(null),2),B=V[0],z=V[1],q=l((0,r.useState)(null),2),W=q[0],H=q[1],G=l((0,r.useState)(null),2),K=G[0],Q=G[1],J=l((0,r.useState)(null),2),Z=J[0],Y=J[1],$=l((0,r.useState)(null),2),X=$[0],ee=$[1],te=l((0,r.useState)(null),2),ne=te[0],re=te[1];return(0,r.useEffect)((function(){null!==_&&_.setMap(w)}),[w]),(0,r.useEffect)((function(){"undefined"!==typeof t&&null!==_&&_.setOptions(t)}),[_,t]),(0,r.useEffect)((function(){"undefined"!==typeof n&&null!==_&&_.setDraggable(n)}),[_,n]),(0,r.useEffect)((function(){"undefined"!==typeof i&&null!==_&&_.setEditable(i)}),[_,i]),(0,r.useEffect)((function(){"undefined"!==typeof o&&null!==_&&_.setVisible(o)}),[_,o]),(0,r.useEffect)((function(){"undefined"!==typeof a&&null!==_&&_.setPath(a)}),[_,a]),(0,r.useEffect)((function(){_&&s&&(null!==C&&google.maps.event.removeListener(C),I(google.maps.event.addListener(_,"dblclick",s)))}),[s]),(0,r.useEffect)((function(){_&&u&&(null!==L&&google.maps.event.removeListener(L),N(google.maps.event.addListener(_,"dragend",u)))}),[u]),(0,r.useEffect)((function(){_&&c&&(null!==O&&google.maps.event.removeListener(O),A(google.maps.event.addListener(_,"dragstart",c)))}),[c]),(0,r.useEffect)((function(){_&&f&&(null!==D&&google.maps.event.removeListener(D),M(google.maps.event.addListener(_,"mousedown",f)))}),[f]),(0,r.useEffect)((function(){_&&h&&(null!==F&&google.maps.event.removeListener(F),U(google.maps.event.addListener(_,"mousemove",h)))}),[h]),(0,r.useEffect)((function(){_&&d&&(null!==B&&google.maps.event.removeListener(B),z(google.maps.event.addListener(_,"mouseout",d)))}),[d]),(0,r.useEffect)((function(){_&&p&&(null!==W&&google.maps.event.removeListener(W),H(google.maps.event.addListener(_,"mouseover",p)))}),[p]),(0,r.useEffect)((function(){_&&v&&(null!==K&&google.maps.event.removeListener(K),Q(google.maps.event.addListener(_,"mouseup",v)))}),[v]),(0,r.useEffect)((function(){_&&m&&(null!==Z&&google.maps.event.removeListener(Z),Y(google.maps.event.addListener(_,"rightclick",m)))}),[m]),(0,r.useEffect)((function(){_&&g&&(null!==X&&google.maps.event.removeListener(X),ee(google.maps.event.addListener(_,"click",g)))}),[g]),(0,r.useEffect)((function(){_&&y&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(_,"drag",y)))}),[y]),(0,r.useEffect)((function(){var e=new google.maps.Polyline(Object.assign(Object.assign({},t||$D),{map:w}));return a&&e.setPath(a),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof n&&e.setDraggable(n),s&&I(google.maps.event.addListener(e,"dblclick",s)),u&&N(google.maps.event.addListener(e,"dragend",u)),c&&A(google.maps.event.addListener(e,"dragstart",c)),f&&M(google.maps.event.addListener(e,"mousedown",f)),h&&U(google.maps.event.addListener(e,"mousemove",h)),d&&z(google.maps.event.addListener(e,"mouseout",d)),p&&H(google.maps.event.addListener(e,"mouseover",p)),v&&Q(google.maps.event.addListener(e,"mouseup",v)),m&&Y(google.maps.event.addListener(e,"rightclick",m)),g&&ee(google.maps.event.addListener(e,"click",g)),y&&re(google.maps.event.addListener(e,"drag",y)),S(e),k&&k(e),function(){null!==C&&google.maps.event.removeListener(C),null!==L&&google.maps.event.removeListener(L),null!==O&&google.maps.event.removeListener(O),null!==D&&google.maps.event.removeListener(D),null!==F&&google.maps.event.removeListener(F),null!==B&&google.maps.event.removeListener(B),null!==W&&google.maps.event.removeListener(W),null!==K&&google.maps.event.removeListener(K),null!==Z&&google.maps.event.removeListener(Z),null!==X&&google.maps.event.removeListener(X),b&&b(e),e.setMap(null)}}),[]),null}));var XD=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={polyline:null},e.setPolylineCallback=function(){null!==e.state.polyline&&e.props.onLoad&&e.props.onLoad(e.state.polyline)},e}return g(n,[{key:"componentDidMount",value:function(){var e=new google.maps.Polyline(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Cj({updaterMap:YD,eventMap:ZD,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polyline:e}}),this.setPolylineCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.polyline&&(Ej(this.registeredEvents),this.registeredEvents=Cj({updaterMap:YD,eventMap:ZD,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}},{key:"componentWillUnmount",value:function(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Ej(this.registeredEvents),this.state.polyline.setMap(null))}},{key:"render",value:function(){return null}}]),n}(r.PureComponent);XD.contextType=wj;var eM={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},tM={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},paths:function(e,t){e.setPaths(t)},visible:function(e,t){e.setVisible(t)}};(0,r.memo)((function(e){var t=e.options,n=e.draggable,i=e.editable,o=e.visible,a=e.path,s=e.paths,u=e.onDblClick,c=e.onDragEnd,f=e.onDragStart,h=e.onMouseDown,d=e.onMouseMove,p=e.onMouseOut,v=e.onMouseOver,m=e.onMouseUp,g=e.onRightClick,y=e.onClick,k=e.onDrag,b=e.onLoad,w=e.onUnmount,x=(0,r.useContext)(wj),_=l((0,r.useState)(null),2),S=_[0],E=_[1],C=l((0,r.useState)(null),2),I=C[0],T=C[1],L=l((0,r.useState)(null),2),N=L[0],P=L[1],O=l((0,r.useState)(null),2),A=O[0],j=O[1],D=l((0,r.useState)(null),2),M=D[0],R=D[1],F=l((0,r.useState)(null),2),U=F[0],V=F[1],B=l((0,r.useState)(null),2),z=B[0],q=B[1],W=l((0,r.useState)(null),2),H=W[0],G=W[1],K=l((0,r.useState)(null),2),Q=K[0],J=K[1],Z=l((0,r.useState)(null),2),Y=Z[0],$=Z[1],X=l((0,r.useState)(null),2),ee=X[0],te=X[1],ne=l((0,r.useState)(null),2),re=ne[0],ie=ne[1];return(0,r.useEffect)((function(){null!==S&&S.setMap(x)}),[x]),(0,r.useEffect)((function(){"undefined"!==typeof t&&null!==S&&S.setOptions(t)}),[S,t]),(0,r.useEffect)((function(){"undefined"!==typeof n&&null!==S&&S.setDraggable(n)}),[S,n]),(0,r.useEffect)((function(){"undefined"!==typeof i&&null!==S&&S.setEditable(i)}),[S,i]),(0,r.useEffect)((function(){"undefined"!==typeof o&&null!==S&&S.setVisible(o)}),[S,o]),(0,r.useEffect)((function(){"undefined"!==typeof a&&null!==S&&S.setPath(a)}),[S,a]),(0,r.useEffect)((function(){"undefined"!==typeof s&&null!==S&&S.setPaths(s)}),[S,s]),(0,r.useEffect)((function(){S&&u&&(null!==I&&google.maps.event.removeListener(I),T(google.maps.event.addListener(S,"dblclick",u)))}),[u]),(0,r.useEffect)((function(){S&&c&&(null!==N&&google.maps.event.removeListener(N),P(google.maps.event.addListener(S,"dragend",c)))}),[c]),(0,r.useEffect)((function(){S&&f&&(null!==A&&google.maps.event.removeListener(A),j(google.maps.event.addListener(S,"dragstart",f)))}),[f]),(0,r.useEffect)((function(){S&&h&&(null!==M&&google.maps.event.removeListener(M),R(google.maps.event.addListener(S,"mousedown",h)))}),[h]),(0,r.useEffect)((function(){S&&d&&(null!==U&&google.maps.event.removeListener(U),V(google.maps.event.addListener(S,"mousemove",d)))}),[d]),(0,r.useEffect)((function(){S&&p&&(null!==z&&google.maps.event.removeListener(z),q(google.maps.event.addListener(S,"mouseout",p)))}),[p]),(0,r.useEffect)((function(){S&&v&&(null!==H&&google.maps.event.removeListener(H),G(google.maps.event.addListener(S,"mouseover",v)))}),[v]),(0,r.useEffect)((function(){S&&m&&(null!==Q&&google.maps.event.removeListener(Q),J(google.maps.event.addListener(S,"mouseup",m)))}),[m]),(0,r.useEffect)((function(){S&&g&&(null!==Y&&google.maps.event.removeListener(Y),$(google.maps.event.addListener(S,"rightclick",g)))}),[g]),(0,r.useEffect)((function(){S&&y&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(S,"click",y)))}),[y]),(0,r.useEffect)((function(){S&&k&&(null!==re&&google.maps.event.removeListener(re),ie(google.maps.event.addListener(S,"drag",k)))}),[k]),(0,r.useEffect)((function(){var e=new google.maps.Polygon(Object.assign(Object.assign({},t||{}),{map:x}));return a&&e.setPath(a),s&&e.setPaths(s),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof n&&e.setDraggable(n),u&&T(google.maps.event.addListener(e,"dblclick",u)),c&&P(google.maps.event.addListener(e,"dragend",c)),f&&j(google.maps.event.addListener(e,"dragstart",f)),h&&R(google.maps.event.addListener(e,"mousedown",h)),d&&V(google.maps.event.addListener(e,"mousemove",d)),p&&q(google.maps.event.addListener(e,"mouseout",p)),v&&G(google.maps.event.addListener(e,"mouseover",v)),m&&J(google.maps.event.addListener(e,"mouseup",m)),g&&$(google.maps.event.addListener(e,"rightclick",g)),y&&te(google.maps.event.addListener(e,"click",y)),k&&ie(google.maps.event.addListener(e,"drag",k)),E(e),b&&b(e),function(){null!==I&&google.maps.event.removeListener(I),null!==N&&google.maps.event.removeListener(N),null!==A&&google.maps.event.removeListener(A),null!==M&&google.maps.event.removeListener(M),null!==U&&google.maps.event.removeListener(U),null!==z&&google.maps.event.removeListener(z),null!==H&&google.maps.event.removeListener(H),null!==Q&&google.maps.event.removeListener(Q),null!==Y&&google.maps.event.removeListener(Y),null!==ee&&google.maps.event.removeListener(ee),w&&w(e),e.setMap(null)}}),[]),null}));var nM=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={polygon:null},e.setPolygonCallback=function(){null!==e.state.polygon&&e.props.onLoad&&e.props.onLoad(e.state.polygon)},e}return g(n,[{key:"componentDidMount",value:function(){var e=new google.maps.Polygon(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Cj({updaterMap:tM,eventMap:eM,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polygon:e}}),this.setPolygonCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.polygon&&(Ej(this.registeredEvents),this.registeredEvents=Cj({updaterMap:tM,eventMap:eM,prevProps:e,nextProps:this.props,instance:this.state.polygon}))}},{key:"componentWillUnmount",value:function(){null!==this.state.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),Ej(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))}},{key:"render",value:function(){return null}}]),n}(r.PureComponent);nM.contextType=wj;var rM={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},iM={bounds:function(e,t){e.setBounds(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},visible:function(e,t){e.setVisible(t)}};(0,r.memo)((function(e){var t=e.options,n=e.bounds,i=e.draggable,o=e.editable,a=e.visible,s=e.onDblClick,u=e.onDragEnd,c=e.onDragStart,f=e.onMouseDown,h=e.onMouseMove,d=e.onMouseOut,p=e.onMouseOver,v=e.onMouseUp,m=e.onRightClick,g=e.onClick,y=e.onDrag,k=e.onBoundsChanged,b=e.onLoad,w=e.onUnmount,x=(0,r.useContext)(wj),_=l((0,r.useState)(null),2),S=_[0],E=_[1],C=l((0,r.useState)(null),2),I=C[0],T=C[1],L=l((0,r.useState)(null),2),N=L[0],P=L[1],O=l((0,r.useState)(null),2),A=O[0],j=O[1],D=l((0,r.useState)(null),2),M=D[0],R=D[1],F=l((0,r.useState)(null),2),U=F[0],V=F[1],B=l((0,r.useState)(null),2),z=B[0],q=B[1],W=l((0,r.useState)(null),2),H=W[0],G=W[1],K=l((0,r.useState)(null),2),Q=K[0],J=K[1],Z=l((0,r.useState)(null),2),Y=Z[0],$=Z[1],X=l((0,r.useState)(null),2),ee=X[0],te=X[1],ne=l((0,r.useState)(null),2),re=ne[0],ie=ne[1],oe=l((0,r.useState)(null),2),ae=oe[0],se=oe[1];return(0,r.useEffect)((function(){null!==S&&S.setMap(x)}),[x]),(0,r.useEffect)((function(){"undefined"!==typeof t&&null!==S&&S.setOptions(t)}),[S,t]),(0,r.useEffect)((function(){"undefined"!==typeof i&&null!==S&&S.setDraggable(i)}),[S,i]),(0,r.useEffect)((function(){"undefined"!==typeof o&&null!==S&&S.setEditable(o)}),[S,o]),(0,r.useEffect)((function(){"undefined"!==typeof a&&null!==S&&S.setVisible(a)}),[S,a]),(0,r.useEffect)((function(){"undefined"!==typeof n&&null!==S&&S.setBounds(n)}),[S,n]),(0,r.useEffect)((function(){S&&s&&(null!==I&&google.maps.event.removeListener(I),T(google.maps.event.addListener(S,"dblclick",s)))}),[s]),(0,r.useEffect)((function(){S&&u&&(null!==N&&google.maps.event.removeListener(N),P(google.maps.event.addListener(S,"dragend",u)))}),[u]),(0,r.useEffect)((function(){S&&c&&(null!==A&&google.maps.event.removeListener(A),j(google.maps.event.addListener(S,"dragstart",c)))}),[c]),(0,r.useEffect)((function(){S&&f&&(null!==M&&google.maps.event.removeListener(M),R(google.maps.event.addListener(S,"mousedown",f)))}),[f]),(0,r.useEffect)((function(){S&&h&&(null!==U&&google.maps.event.removeListener(U),V(google.maps.event.addListener(S,"mousemove",h)))}),[h]),(0,r.useEffect)((function(){S&&d&&(null!==z&&google.maps.event.removeListener(z),q(google.maps.event.addListener(S,"mouseout",d)))}),[d]),(0,r.useEffect)((function(){S&&p&&(null!==H&&google.maps.event.removeListener(H),G(google.maps.event.addListener(S,"mouseover",p)))}),[p]),(0,r.useEffect)((function(){S&&v&&(null!==Q&&google.maps.event.removeListener(Q),J(google.maps.event.addListener(S,"mouseup",v)))}),[v]),(0,r.useEffect)((function(){S&&m&&(null!==Y&&google.maps.event.removeListener(Y),$(google.maps.event.addListener(S,"rightclick",m)))}),[m]),(0,r.useEffect)((function(){S&&g&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(S,"click",g)))}),[g]),(0,r.useEffect)((function(){S&&y&&(null!==re&&google.maps.event.removeListener(re),ie(google.maps.event.addListener(S,"drag",y)))}),[y]),(0,r.useEffect)((function(){S&&k&&(null!==ae&&google.maps.event.removeListener(ae),se(google.maps.event.addListener(S,"bounds_changed",k)))}),[k]),(0,r.useEffect)((function(){var e=new google.maps.Rectangle(Object.assign(Object.assign({},t||{}),{map:x}));return"undefined"!==typeof a&&e.setVisible(a),"undefined"!==typeof o&&e.setEditable(o),"undefined"!==typeof i&&e.setDraggable(i),"undefined"!==typeof n&&e.setBounds(n),s&&T(google.maps.event.addListener(e,"dblclick",s)),u&&P(google.maps.event.addListener(e,"dragend",u)),c&&j(google.maps.event.addListener(e,"dragstart",c)),f&&R(google.maps.event.addListener(e,"mousedown",f)),h&&V(google.maps.event.addListener(e,"mousemove",h)),d&&q(google.maps.event.addListener(e,"mouseout",d)),p&&G(google.maps.event.addListener(e,"mouseover",p)),v&&J(google.maps.event.addListener(e,"mouseup",v)),m&&$(google.maps.event.addListener(e,"rightclick",m)),g&&te(google.maps.event.addListener(e,"click",g)),y&&ie(google.maps.event.addListener(e,"drag",y)),k&&se(google.maps.event.addListener(e,"bounds_changed",k)),E(e),b&&b(e),function(){null!==I&&google.maps.event.removeListener(I),null!==N&&google.maps.event.removeListener(N),null!==A&&google.maps.event.removeListener(A),null!==M&&google.maps.event.removeListener(M),null!==U&&google.maps.event.removeListener(U),null!==z&&google.maps.event.removeListener(z),null!==H&&google.maps.event.removeListener(H),null!==Q&&google.maps.event.removeListener(Q),null!==Y&&google.maps.event.removeListener(Y),null!==ee&&google.maps.event.removeListener(ee),null!==re&&google.maps.event.removeListener(re),null!==ae&&google.maps.event.removeListener(ae),w&&w(e),e.setMap(null)}}),[]),null}));var oM=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={rectangle:null},e.setRectangleCallback=function(){null!==e.state.rectangle&&e.props.onLoad&&e.props.onLoad(e.state.rectangle)},e}return g(n,[{key:"componentDidMount",value:function(){var e=new google.maps.Rectangle(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Cj({updaterMap:iM,eventMap:rM,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{rectangle:e}}),this.setRectangleCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.rectangle&&(Ej(this.registeredEvents),this.registeredEvents=Cj({updaterMap:iM,eventMap:rM,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}},{key:"componentWillUnmount",value:function(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Ej(this.registeredEvents),this.state.rectangle.setMap(null))}},{key:"render",value:function(){return null}}]),n}(r.PureComponent);oM.contextType=wj;var aM={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},sM={center:function(e,t){e.setCenter(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},radius:function(e,t){e.setRadius(t)},visible:function(e,t){e.setVisible(t)}},uM={};(0,r.memo)((function(e){var t=e.options,n=e.center,i=e.radius,o=e.draggable,a=e.editable,s=e.visible,u=e.onDblClick,c=e.onDragEnd,f=e.onDragStart,h=e.onMouseDown,d=e.onMouseMove,p=e.onMouseOut,v=e.onMouseOver,m=e.onMouseUp,g=e.onRightClick,y=e.onClick,k=e.onDrag,b=e.onCenterChanged,w=e.onRadiusChanged,x=e.onLoad,_=e.onUnmount,S=(0,r.useContext)(wj),E=l((0,r.useState)(null),2),C=E[0],I=E[1],T=l((0,r.useState)(null),2),L=T[0],N=T[1],P=l((0,r.useState)(null),2),O=P[0],A=P[1],j=l((0,r.useState)(null),2),D=j[0],M=j[1],R=l((0,r.useState)(null),2),F=R[0],U=R[1],V=l((0,r.useState)(null),2),B=V[0],z=V[1],q=l((0,r.useState)(null),2),W=q[0],H=q[1],G=l((0,r.useState)(null),2),K=G[0],Q=G[1],J=l((0,r.useState)(null),2),Z=J[0],Y=J[1],$=l((0,r.useState)(null),2),X=$[0],ee=$[1],te=l((0,r.useState)(null),2),ne=te[0],re=te[1],ie=l((0,r.useState)(null),2),oe=ie[0],ae=ie[1],se=l((0,r.useState)(null),2),ue=se[0],ce=se[1],le=l((0,r.useState)(null),2),fe=le[0],he=le[1];return(0,r.useEffect)((function(){null!==C&&C.setMap(S)}),[S]),(0,r.useEffect)((function(){"undefined"!==typeof t&&null!==C&&C.setOptions(t)}),[C,t]),(0,r.useEffect)((function(){"undefined"!==typeof o&&null!==C&&C.setDraggable(o)}),[C,o]),(0,r.useEffect)((function(){"undefined"!==typeof a&&null!==C&&C.setEditable(a)}),[C,a]),(0,r.useEffect)((function(){"undefined"!==typeof s&&null!==C&&C.setVisible(s)}),[C,s]),(0,r.useEffect)((function(){"number"===typeof i&&null!==C&&C.setRadius(i)}),[C,i]),(0,r.useEffect)((function(){"undefined"!==typeof n&&null!==C&&C.setCenter(n)}),[C,n]),(0,r.useEffect)((function(){C&&u&&(null!==L&&google.maps.event.removeListener(L),N(google.maps.event.addListener(C,"dblclick",u)))}),[u]),(0,r.useEffect)((function(){C&&c&&(null!==O&&google.maps.event.removeListener(O),A(google.maps.event.addListener(C,"dragend",c)))}),[c]),(0,r.useEffect)((function(){C&&f&&(null!==D&&google.maps.event.removeListener(D),M(google.maps.event.addListener(C,"dragstart",f)))}),[f]),(0,r.useEffect)((function(){C&&h&&(null!==F&&google.maps.event.removeListener(F),U(google.maps.event.addListener(C,"mousedown",h)))}),[h]),(0,r.useEffect)((function(){C&&d&&(null!==B&&google.maps.event.removeListener(B),z(google.maps.event.addListener(C,"mousemove",d)))}),[d]),(0,r.useEffect)((function(){C&&p&&(null!==W&&google.maps.event.removeListener(W),H(google.maps.event.addListener(C,"mouseout",p)))}),[p]),(0,r.useEffect)((function(){C&&v&&(null!==K&&google.maps.event.removeListener(K),Q(google.maps.event.addListener(C,"mouseover",v)))}),[v]),(0,r.useEffect)((function(){C&&m&&(null!==Z&&google.maps.event.removeListener(Z),Y(google.maps.event.addListener(C,"mouseup",m)))}),[m]),(0,r.useEffect)((function(){C&&g&&(null!==X&&google.maps.event.removeListener(X),ee(google.maps.event.addListener(C,"rightclick",g)))}),[g]),(0,r.useEffect)((function(){C&&y&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(C,"click",y)))}),[y]),(0,r.useEffect)((function(){C&&k&&(null!==oe&&google.maps.event.removeListener(oe),ae(google.maps.event.addListener(C,"drag",k)))}),[k]),(0,r.useEffect)((function(){C&&b&&(null!==ue&&google.maps.event.removeListener(ue),ce(google.maps.event.addListener(C,"center_changed",b)))}),[y]),(0,r.useEffect)((function(){C&&w&&(null!==fe&&google.maps.event.removeListener(fe),he(google.maps.event.addListener(C,"radius_changed",w)))}),[w]),(0,r.useEffect)((function(){var e=new google.maps.Circle(Object.assign(Object.assign({},t||uM),{map:S}));return"number"===typeof i&&e.setRadius(i),"undefined"!==typeof n&&e.setCenter(n),"number"===typeof i&&e.setRadius(i),"undefined"!==typeof s&&e.setVisible(s),"undefined"!==typeof a&&e.setEditable(a),"undefined"!==typeof o&&e.setDraggable(o),u&&N(google.maps.event.addListener(e,"dblclick",u)),c&&A(google.maps.event.addListener(e,"dragend",c)),f&&M(google.maps.event.addListener(e,"dragstart",f)),h&&U(google.maps.event.addListener(e,"mousedown",h)),d&&z(google.maps.event.addListener(e,"mousemove",d)),p&&H(google.maps.event.addListener(e,"mouseout",p)),v&&Q(google.maps.event.addListener(e,"mouseover",v)),m&&Y(google.maps.event.addListener(e,"mouseup",m)),g&&ee(google.maps.event.addListener(e,"rightclick",g)),y&&re(google.maps.event.addListener(e,"click",y)),k&&ae(google.maps.event.addListener(e,"drag",k)),b&&ce(google.maps.event.addListener(e,"center_changed",b)),w&&he(google.maps.event.addListener(e,"radius_changed",w)),I(e),x&&x(e),function(){null!==L&&google.maps.event.removeListener(L),null!==O&&google.maps.event.removeListener(O),null!==D&&google.maps.event.removeListener(D),null!==F&&google.maps.event.removeListener(F),null!==B&&google.maps.event.removeListener(B),null!==W&&google.maps.event.removeListener(W),null!==K&&google.maps.event.removeListener(K),null!==Z&&google.maps.event.removeListener(Z),null!==X&&google.maps.event.removeListener(X),null!==ne&&google.maps.event.removeListener(ne),null!==ue&&google.maps.event.removeListener(ue),null!==fe&&google.maps.event.removeListener(fe),_&&_(e),e.setMap(null)}}),[]),null}));var cM=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={circle:null},e.setCircleCallback=function(){null!==e.state.circle&&e.props.onLoad&&e.props.onLoad(e.state.circle)},e}return g(n,[{key:"componentDidMount",value:function(){var e=new google.maps.Circle(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Cj({updaterMap:sM,eventMap:aM,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{circle:e}}),this.setCircleCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.circle&&(Ej(this.registeredEvents),this.registeredEvents=Cj({updaterMap:sM,eventMap:aM,prevProps:e,nextProps:this.props,instance:this.state.circle}))}},{key:"componentWillUnmount",value:function(){null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),Ej(this.registeredEvents),this.state.circle&&this.state.circle.setMap(null))}},{key:"render",value:function(){return null}}]),n}(r.PureComponent);cM.contextType=wj;var lM={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},fM={add:function(e,t){e.add(t)},addgeojson:function(e,t,n){e.addGeoJson(t,n)},contains:function(e,t){e.contains(t)},foreach:function(e,t){e.forEach(t)},loadgeojson:function(e,t,n,r){e.loadGeoJson(t,n,r)},overridestyle:function(e,t,n){e.overrideStyle(t,n)},remove:function(e,t){e.remove(t)},revertstyle:function(e,t){e.revertStyle(t)},controlposition:function(e,t){e.setControlPosition(t)},controls:function(e,t){e.setControls(t)},drawingmode:function(e,t){e.setDrawingMode(t)},map:function(e,t){e.setMap(t)},style:function(e,t){e.setStyle(t)},togeojson:function(e,t){e.toGeoJson(t)}};(0,r.memo)((function(e){var t=e.options,n=e.onClick,i=e.onDblClick,o=e.onMouseDown,a=e.onMouseMove,s=e.onMouseOut,u=e.onMouseOver,c=e.onMouseUp,f=e.onRightClick,h=e.onAddFeature,d=e.onRemoveFeature,p=e.onRemoveProperty,v=e.onSetGeometry,m=e.onSetProperty,g=e.onLoad,y=e.onUnmount,k=(0,r.useContext)(wj),b=l((0,r.useState)(null),2),w=b[0],x=b[1],_=l((0,r.useState)(null),2),S=_[0],E=_[1],C=l((0,r.useState)(null),2),I=C[0],T=C[1],L=l((0,r.useState)(null),2),N=L[0],P=L[1],O=l((0,r.useState)(null),2),A=O[0],j=O[1],D=l((0,r.useState)(null),2),M=D[0],R=D[1],F=l((0,r.useState)(null),2),U=F[0],V=F[1],B=l((0,r.useState)(null),2),z=B[0],q=B[1],W=l((0,r.useState)(null),2),H=W[0],G=W[1],K=l((0,r.useState)(null),2),Q=K[0],J=K[1],Z=l((0,r.useState)(null),2),Y=Z[0],$=Z[1],X=l((0,r.useState)(null),2),ee=X[0],te=X[1],ne=l((0,r.useState)(null),2),re=ne[0],ie=ne[1],oe=l((0,r.useState)(null),2),ae=oe[0],se=oe[1];return(0,r.useEffect)((function(){null!==w&&w.setMap(k)}),[k]),(0,r.useEffect)((function(){w&&i&&(null!==S&&google.maps.event.removeListener(S),E(google.maps.event.addListener(w,"dblclick",i)))}),[i]),(0,r.useEffect)((function(){w&&o&&(null!==I&&google.maps.event.removeListener(I),T(google.maps.event.addListener(w,"mousedown",o)))}),[o]),(0,r.useEffect)((function(){w&&a&&(null!==N&&google.maps.event.removeListener(N),P(google.maps.event.addListener(w,"mousemove",a)))}),[a]),(0,r.useEffect)((function(){w&&s&&(null!==A&&google.maps.event.removeListener(A),j(google.maps.event.addListener(w,"mouseout",s)))}),[s]),(0,r.useEffect)((function(){w&&u&&(null!==M&&google.maps.event.removeListener(M),R(google.maps.event.addListener(w,"mouseover",u)))}),[u]),(0,r.useEffect)((function(){w&&c&&(null!==U&&google.maps.event.removeListener(U),V(google.maps.event.addListener(w,"mouseup",c)))}),[c]),(0,r.useEffect)((function(){w&&f&&(null!==z&&google.maps.event.removeListener(z),q(google.maps.event.addListener(w,"rightclick",f)))}),[f]),(0,r.useEffect)((function(){w&&n&&(null!==H&&google.maps.event.removeListener(H),G(google.maps.event.addListener(w,"click",n)))}),[n]),(0,r.useEffect)((function(){w&&h&&(null!==Q&&google.maps.event.removeListener(Q),J(google.maps.event.addListener(w,"addfeature",h)))}),[h]),(0,r.useEffect)((function(){w&&d&&(null!==Y&&google.maps.event.removeListener(Y),$(google.maps.event.addListener(w,"removefeature",d)))}),[d]),(0,r.useEffect)((function(){w&&p&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(w,"removeproperty",p)))}),[p]),(0,r.useEffect)((function(){w&&v&&(null!==re&&google.maps.event.removeListener(re),ie(google.maps.event.addListener(w,"setgeometry",v)))}),[v]),(0,r.useEffect)((function(){w&&m&&(null!==ae&&google.maps.event.removeListener(ae),se(google.maps.event.addListener(w,"setproperty",m)))}),[m]),(0,r.useEffect)((function(){if(null!==k){var e=new google.maps.Data(Object.assign(Object.assign({},t||{}),{map:k}));i&&E(google.maps.event.addListener(e,"dblclick",i)),o&&T(google.maps.event.addListener(e,"mousedown",o)),a&&P(google.maps.event.addListener(e,"mousemove",a)),s&&j(google.maps.event.addListener(e,"mouseout",s)),u&&R(google.maps.event.addListener(e,"mouseover",u)),c&&V(google.maps.event.addListener(e,"mouseup",c)),f&&q(google.maps.event.addListener(e,"rightclick",f)),n&&G(google.maps.event.addListener(e,"click",n)),h&&J(google.maps.event.addListener(e,"addfeature",h)),d&&$(google.maps.event.addListener(e,"removefeature",d)),p&&te(google.maps.event.addListener(e,"removeproperty",p)),v&&ie(google.maps.event.addListener(e,"setgeometry",v)),m&&se(google.maps.event.addListener(e,"setproperty",m)),x(e),g&&g(e)}return function(){w&&(null!==S&&google.maps.event.removeListener(S),null!==I&&google.maps.event.removeListener(I),null!==N&&google.maps.event.removeListener(N),null!==A&&google.maps.event.removeListener(A),null!==M&&google.maps.event.removeListener(M),null!==U&&google.maps.event.removeListener(U),null!==z&&google.maps.event.removeListener(z),null!==H&&google.maps.event.removeListener(H),null!==Q&&google.maps.event.removeListener(Q),null!==Y&&google.maps.event.removeListener(Y),null!==ee&&google.maps.event.removeListener(ee),null!==re&&google.maps.event.removeListener(re),null!==ae&&google.maps.event.removeListener(ae),y&&y(w),w.setMap(null))}}),[]),null}));var hM=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={data:null},e.setDataCallback=function(){null!==e.state.data&&e.props.onLoad&&e.props.onLoad(e.state.data)},e}return g(n,[{key:"componentDidMount",value:function(){if(null!==this.context){var e=new google.maps.Data(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Cj({updaterMap:fM,eventMap:lM,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{data:e}}),this.setDataCallback)}}},{key:"componentDidUpdate",value:function(e){null!==this.state.data&&(Ej(this.registeredEvents),this.registeredEvents=Cj({updaterMap:fM,eventMap:lM,prevProps:e,nextProps:this.props,instance:this.state.data}))}},{key:"componentWillUnmount",value:function(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Ej(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}},{key:"render",value:function(){return null}}]),n}(r.PureComponent);hM.contextType=wj;var dM={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},pM={options:function(e,t){e.setOptions(t)},url:function(e,t){e.setUrl(t)},zIndex:function(e,t){e.setZIndex(t)}},vM=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={kmlLayer:null},e.setKmlLayerCallback=function(){null!==e.state.kmlLayer&&e.props.onLoad&&e.props.onLoad(e.state.kmlLayer)},e}return g(n,[{key:"componentDidMount",value:function(){var e=new google.maps.KmlLayer(Object.assign(Object.assign({},this.props.options),{map:this.context}));this.registeredEvents=Cj({updaterMap:pM,eventMap:dM,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{kmlLayer:e}}),this.setKmlLayerCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.kmlLayer&&(Ej(this.registeredEvents),this.registeredEvents=Cj({updaterMap:pM,eventMap:dM,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}},{key:"componentWillUnmount",value:function(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Ej(this.registeredEvents),this.state.kmlLayer.setMap(null))}},{key:"render",value:function(){return null}}]),n}(r.PureComponent);function mM(e,t){return"function"===typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function gM(e,t){return new t(e.lat,e.lng)}function yM(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function kM(e,t,n,r){return void 0!==n?function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n.getNorthEast()),i=e&&e.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+t.x,"px"),top:"".concat(r.y+t.y,"px"),width:"".concat(r.x-i.x-t.x,"px"),height:"".concat(i.y-r.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,(i=n,o=google.maps.LatLngBounds,a=yM,i instanceof o?i:a(i,o))):function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n);if(r){var i=r.x,o=r.y;return{left:"".concat(i+t.x,"px"),top:"".concat(o+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(r,google.maps.LatLng,gM));var i,o,a}function bM(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function wM(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}vM.contextType=wj;(0,r.memo)((function(e){var t=e.position,n=e.bounds,i=e.mapPaneName,o=e.zIndex,a=e.onLoad,s=e.onUnmount,u=e.getPixelPositionOffset,c=e.children,f=(0,r.useContext)(wj),h=(0,r.useMemo)((function(){var e=document.createElement("div");return e.style.position="absolute",e}),[]),p=(0,r.useMemo)((function(){return function(e,t,n,r,i){var o=function(e){k(n,google.maps.OverlayView);var t=_(n);function n(e,r,i,o){var a;return d(this,n),(a=t.call(this)).container=e,a.pane=r,a.position=i,a.bounds=o,a}return g(n,[{key:"onAdd",value:function(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null===t||void 0===t||t.appendChild(this.container)}},{key:"draw",value:function(){for(var e=kM(this.getProjection(),Object.assign({},this.container?mM(this.container,i):{x:0,y:0}),this.bounds,this.position),t=0,n=Object.entries(e);t<n.length;t++){var r=l(n[t],2),o=r[0],a=r[1];this.container.style[o]=a}}},{key:"onRemove",value:function(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}]),n}();return new o(e,t,n,r)}(h,i,t,n,u)}),[h,i,t,n]);return(0,r.useEffect)((function(){return null===a||void 0===a||a(p),null===p||void 0===p||p.setMap(f),function(){null===s||void 0===s||s(p),null===p||void 0===p||p.setMap(null)}}),[f,p]),(0,r.useEffect)((function(){h.style.zIndex="".concat(o)}),[o,h]),qe.createPortal(c,h)}));var xM=function(e){k(n,e);var t=_(n);function n(e){var i;d(this,n),(i=t.call(this,e)).state={paneEl:null,containerStyle:{position:"absolute"}},i.updatePane=function(){var e=i.props.mapPaneName,t=i.overlayView.getPanes();bj(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?i.setState({paneEl:t[e]}):i.setState({paneEl:null})},i.onAdd=function(){var e,t;i.updatePane(),null===(t=(e=i.props).onLoad)||void 0===t||t.call(e,i.overlayView)},i.onPositionElement=function(){var e,t,n=kM(i.overlayView.getProjection(),Object.assign({x:0,y:0},i.containerRef.current?mM(i.containerRef.current,i.props.getPixelPositionOffset):{}),i.props.bounds,i.props.position),r=i.state.containerStyle,o=r.left,a=r.top,s=r.width,u=r.height;t={left:o,top:a,width:s,height:u},((e=n).left!==t.left||e.top!==t.top||e.width!==t.height||e.height!==t.height)&&i.setState({containerStyle:Object.assign(Object.assign({},n),{position:"absolute"})})},i.draw=function(){i.onPositionElement()},i.onRemove=function(){var e,t;i.setState((function(){return{paneEl:null}})),null===(t=(e=i.props).onUnmount)||void 0===t||t.call(e,i.overlayView)},i.containerRef=(0,r.createRef)();var o=new google.maps.OverlayView;return o.onAdd=i.onAdd,o.draw=i.draw,o.onRemove=i.onRemove,i.overlayView=o,i}return g(n,[{key:"componentDidMount",value:function(){this.overlayView.setMap(this.context)}},{key:"componentDidUpdate",value:function(e){var t=bM(e.position),n=bM(this.props.position),r=wM(e.bounds),i=wM(this.props.bounds);t===n&&r===i||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}},{key:"componentWillUnmount",value:function(){this.overlayView.setMap(null)}},{key:"render",value:function(){var e=this.state.paneEl;return e?qe.createPortal((0,st.jsx)("div",Object.assign({ref:this.containerRef,style:this.state.containerStyle},{children:r.Children.only(this.props.children)})),e):null}}]),n}(r.PureComponent);xM.FLOAT_PANE="floatPane",xM.MAP_PANE="mapPane",xM.MARKER_LAYER="markerLayer",xM.OVERLAY_LAYER="overlayLayer",xM.OVERLAY_MOUSE_TARGET="overlayMouseTarget",xM.contextType=wj;var _M={onDblClick:"dblclick",onClick:"click"},SM={opacity:function(e,t){e.setOpacity(t)}};(0,r.memo)((function(e){var t=e.url,n=e.bounds,i=e.options,o=e.visible,a=(0,r.useContext)(wj),s=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),u=(0,r.useMemo)((function(){return new google.maps.GroundOverlay(t,s,Object.assign({},i))}),[]);return(0,r.useEffect)((function(){null!==u&&u.setMap(a)}),[a]),(0,r.useEffect)((function(){"undefined"!==typeof t&&null!==u&&(u.set("url",t),u.setMap(a))}),[u,t]),(0,r.useEffect)((function(){"undefined"!==typeof o&&null!==u&&u.setOpacity(o?1:0)}),[u,o]),(0,r.useEffect)((function(){var e=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));"undefined"!==typeof n&&null!==u&&(u.set("bounds",e),u.setMap(a))}),[u,n]),null}));var EM=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={groundOverlay:null},e.setGroundOverlayCallback=function(){null!==e.state.groundOverlay&&e.props.onLoad&&e.props.onLoad(e.state.groundOverlay)},e}return g(n,[{key:"componentDidMount",value:function(){bj(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Object.assign(Object.assign({},this.props.options),{map:this.context}));this.registeredEvents=Cj({updaterMap:SM,eventMap:_M,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{groundOverlay:e}}),this.setGroundOverlayCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.groundOverlay&&(Ej(this.registeredEvents),this.registeredEvents=Cj({updaterMap:SM,eventMap:_M,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}},{key:"componentWillUnmount",value:function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}},{key:"render",value:function(){return null}}]),n}(r.PureComponent);EM.defaultProps={onLoad:function(){}},EM.contextType=wj;var CM={},IM={data:function(e,t){e.setData(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)}};(0,r.memo)((function(e){var t=e.data,n=e.onLoad,i=e.onUnmount,o=e.options,a=(0,r.useContext)(wj),s=l((0,r.useState)(null),2),u=s[0],c=s[1];return(0,r.useEffect)((function(){google.maps.visualization||bj(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)}),[]),(0,r.useEffect)((function(){bj(!!t,"data property is required in HeatmapLayer %s",t)}),[t]),(0,r.useEffect)((function(){null!==u&&u.setMap(a)}),[a]),(0,r.useEffect)((function(){o&&null!==u&&u.setOptions(o)}),[u,o]),(0,r.useEffect)((function(){var e=new google.maps.visualization.HeatmapLayer(Object.assign(Object.assign({},o||{}),{data:t,map:a}));return c(e),n&&n(e),function(){null!==u&&(i&&i(u),u.setMap(null))}}),[]),null}));var TM=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={heatmapLayer:null},e.setHeatmapLayerCallback=function(){null!==e.state.heatmapLayer&&e.props.onLoad&&e.props.onLoad(e.state.heatmapLayer)},e}return g(n,[{key:"componentDidMount",value:function(){bj(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),bj(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Object.assign(Object.assign({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=Cj({updaterMap:IM,eventMap:CM,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{heatmapLayer:e}}),this.setHeatmapLayerCallback)}},{key:"componentDidUpdate",value:function(e){Ej(this.registeredEvents),this.registeredEvents=Cj({updaterMap:IM,eventMap:CM,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}},{key:"componentWillUnmount",value:function(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Ej(this.registeredEvents),this.state.heatmapLayer.setMap(null))}},{key:"render",value:function(){return null}}]),n}(r.PureComponent);TM.contextType=wj;var LM={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},NM={register:function(e,t,n){e.registerPanoProvider(t,n)},links:function(e,t){e.setLinks(t)},motionTracking:function(e,t){e.setMotionTracking(t)},options:function(e,t){e.setOptions(t)},pano:function(e,t){e.setPano(t)},position:function(e,t){e.setPosition(t)},pov:function(e,t){e.setPov(t)},visible:function(e,t){e.setVisible(t)},zoom:function(e,t){e.setZoom(t)}},PM=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={streetViewPanorama:null},e.setStreetViewPanoramaCallback=function(){null!==e.state.streetViewPanorama&&e.props.onLoad&&e.props.onLoad(e.state.streetViewPanorama)},e}return g(n,[{key:"componentDidMount",value:function(){var e=this.context.getStreetView();this.registeredEvents=Cj({updaterMap:NM,eventMap:LM,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{streetViewPanorama:e}}),this.setStreetViewPanoramaCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.streetViewPanorama&&(Ej(this.registeredEvents),this.registeredEvents=Cj({updaterMap:NM,eventMap:LM,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}},{key:"componentWillUnmount",value:function(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Ej(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}},{key:"render",value:function(){return null}}]),n}(r.PureComponent);PM.contextType=wj;var OM=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).state={streetViewService:null},e.setStreetViewServiceCallback=function(){null!==e.state.streetViewService&&e.props.onLoad&&e.props.onLoad(e.state.streetViewService)},e}return g(n,[{key:"componentDidMount",value:function(){var e=new google.maps.StreetViewService;this.setState((function(){return{streetViewService:e}}),this.setStreetViewServiceCallback)}},{key:"componentWillUnmount",value:function(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}},{key:"render",value:function(){return null}}]),n}(r.PureComponent);OM.contextType=wj;r.PureComponent;var AM={onDirectionsChanged:"directions_changed"},jM={directions:function(e,t){e.setDirections(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},panel:function(e,t){e.setPanel(t)},routeIndex:function(e,t){e.setRouteIndex(t)}},DM=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={directionsRenderer:null},e.setDirectionsRendererCallback=function(){null!==e.state.directionsRenderer&&(e.state.directionsRenderer.setMap(e.context),e.props.onLoad&&e.props.onLoad(e.state.directionsRenderer))},e}return g(n,[{key:"componentDidMount",value:function(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Cj({updaterMap:jM,eventMap:AM,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{directionsRenderer:e}}),this.setDirectionsRendererCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.directionsRenderer&&(Ej(this.registeredEvents),this.registeredEvents=Cj({updaterMap:jM,eventMap:AM,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}},{key:"componentWillUnmount",value:function(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Ej(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}},{key:"render",value:function(){return(0,st.jsx)(st.Fragment,{})}}]),n}(r.PureComponent);DM.contextType=wj;r.PureComponent;var MM={onPlacesChanged:"places_changed"},RM={bounds:function(e,t){e.setBounds(t)}},FM=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.containerElement=(0,r.createRef)(),e.state={searchBox:null},e.setSearchBoxCallback=function(){null!==e.state.searchBox&&e.props.onLoad&&e.props.onLoad(e.state.searchBox)},e}return g(n,[{key:"componentDidMount",value:function(){if(bj(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Cj({updaterMap:RM,eventMap:MM,prevProps:{},nextProps:this.props,instance:t}),this.setState((function(){return{searchBox:t}}),this.setSearchBoxCallback)}}}},{key:"componentDidUpdate",value:function(e){null!==this.state.searchBox&&(Ej(this.registeredEvents),this.registeredEvents=Cj({updaterMap:RM,eventMap:MM,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}},{key:"componentWillUnmount",value:function(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Ej(this.registeredEvents))}},{key:"render",value:function(){return(0,st.jsx)("div",Object.assign({ref:this.containerElement},{children:r.Children.only(this.props.children)}))}}]),n}(r.PureComponent);FM.contextType=wj;var UM={onPlaceChanged:"place_changed"},VM={bounds:function(e,t){e.setBounds(t)},restrictions:function(e,t){e.setComponentRestrictions(t)},fields:function(e,t){e.setFields(t)},options:function(e,t){e.setOptions(t)},types:function(e,t){e.setTypes(t)}},BM=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.containerElement=(0,r.createRef)(),e.state={autocomplete:null},e.setAutocompleteCallback=function(){null!==e.state.autocomplete&&e.props.onLoad&&e.props.onLoad(e.state.autocomplete)},e}return g(n,[{key:"componentDidMount",value:function(){bj(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var e=this.containerElement.current.querySelector("input");if(e){var t=new google.maps.places.Autocomplete(e,this.props.options);this.registeredEvents=Cj({updaterMap:VM,eventMap:UM,prevProps:{},nextProps:this.props,instance:t}),this.setState((function(){return{autocomplete:t}}),this.setAutocompleteCallback)}}},{key:"componentDidUpdate",value:function(e){Ej(this.registeredEvents),this.registeredEvents=Cj({updaterMap:VM,eventMap:UM,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}},{key:"componentWillUnmount",value:function(){null!==this.state.autocomplete&&Ej(this.registeredEvents)}},{key:"render",value:function(){return(0,st.jsx)("div",Object.assign({ref:this.containerElement,className:this.props.className},{children:r.Children.only(this.props.children)}))}}]),n}(r.PureComponent);BM.defaultProps={className:""},BM.contextType=wj;var zM=function(){var e={lat:46.44037226802607,lng:30.721339215781278};return(0,st.jsx)("div",{className:"contact",children:(0,st.jsx)(ut,{children:(0,st.jsxs)("div",{className:"contact__content",children:[(0,st.jsxs)("div",{className:"contact__column",children:[(0,st.jsx)("h1",{className:"title__h1",children:"\u0417\u0432\u2019\u044f\u0437\u0430\u0442\u0438\u0441\u044f \u0437 \u043d\u0430\u043c\u0438"}),(0,st.jsxs)("div",{className:"contact__section",children:[(0,st.jsx)("span",{className:"contact__text",children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e:"}),(0,st.jsxs)("div",{className:"contact__btns",children:[(0,st.jsx)("button",{className:"contact__btn contact__btn-active",children:"\u041e\u0434\u0435\u0441\u0430"}),(0,st.jsx)("button",{className:"contact__btn ",disabled:!0,children:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434"})]})]}),(0,st.jsxs)("ul",{className:"contact__list",children:[(0,st.jsxs)("li",{className:"contact__item",children:[(0,st.jsx)("span",{className:"contact__item-title",children:"\u0410\u0434\u0440\u0435\u0441\u0430"}),(0,st.jsx)("span",{className:"contact__item-link",children:"\u0432\u0443\u043b. \u041c\u0430\u0440\u0448\u0430\u043b\u0430 \u041c\u0430\u043b\u0438\u043d\u043e\u0432\u0441\u043a\u044c\u043e\u0433\u043e 18"})]}),(0,st.jsxs)("li",{className:"contact__item",children:[(0,st.jsx)("span",{className:"contact__item-title",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,st.jsx)("a",{href:"tel:+390987271991",className:"contact__item-link",children:"+39 (098) 727 19 91"})]}),(0,st.jsxs)("li",{className:"contact__item",children:[(0,st.jsx)("span",{className:"contact__item-title",children:"\u0413\u0440\u0430\u0444\u0456\u043a \u0440\u043e\u0431\u043e\u0442\u0438"}),(0,st.jsx)("span",{className:"contact__item-link",children:"\u041d\u0435\u0434\u0456\u043b\u044f - \u0427\u0435\u0442\u0432\u0435\u0440: 9:00 - 21:00"}),(0,st.jsx)("span",{className:"contact__item-link",children:"\u041f\u2019\u044f\u0442\u043d\u0438\u0446\u044f - \u0421\u0443\u0431\u043e\u0442\u0430: 10:00 - 22:00"})]}),(0,st.jsxs)("li",{className:"contact__item",children:[(0,st.jsx)("span",{className:"contact__item-title",children:"Email"}),(0,st.jsx)("a",{href:"mailto:support@polarpelmeni.com",className:"contact__item-link",children:"support@polarpelmeni.com"})]})]})]}),(0,st.jsx)("div",{className:"contact__column",children:(0,st.jsx)("div",{className:"contact__map",children:(0,st.jsx)(Bj,{googleMapsApiKey:"AIzaSyCFu2436NGhyXMBwq8mLiAhsl_SSYYRhvI",children:(0,st.jsx)(Lj,{mapContainerStyle:{height:"100%"},center:e,zoom:16,options:{streetViewControl:!1,mapTypeControl:!1,zoomControl:!1,styles:[{featureType:"all",elementType:"all",stylers:[{saturation:-100},{lightness:20},{gamma:1.2}]}]},children:(0,st.jsx)(eD,{position:e})})})})})]})})})};Nu.initializeApp(WA);var qM=function(){var e=Ye((function(e){return e.modals})),t=Ye((function(e){return e.user})),n=l((0,r.useState)(!0),2),i=n[0],o=n[1],a=at(),s=ke(),u=we();(0,r.useEffect)((function(){!function(){var e=localStorage.getItem("userData"),t=JSON.parse(e);e&&(a(_o()),!0===t.isAuthenticated&&(a(No({city:t.city})),a(To(t))))}(),a(Ao())}),[]),(0,r.useEffect)((function(){var e=localStorage.getItem("favoritProducts");JSON.parse(e)&&a(Ao())}),[t.isAuthenticated]),(0,r.useEffect)((function(){"/profile/signout"===s.pathname&&(a(Lo()),u("/"))}),[s]),(0,r.useEffect)((function(){var e=function(){var e=s.pathname.includes("/profile");window.innerWidth<=768&&e?o(!1):o(!0)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[s]),(0,r.useEffect)((function(){window.scrollTo(0,0)}),[s]);var c,f=Ye((function(e){return e.popupActions.currentAction}));return(0,r.useEffect)((function(){null!==t.city?a(ga({isOpen:!1})):a(ga({isOpen:!0}))}),[t]),(0,st.jsxs)(st.Fragment,{children:[(c=f,"addToCard"===c?(0,st.jsx)(xa,{action:"\u0411\u043b\u044e\u0434\u043e \u0434\u043e\u0434\u0430\u043d\u043e \u0443 \u043a\u043e\u0448\u0438\u043a"}):"addToFavorit"===c?(0,st.jsx)(xa,{action:"\u0411\u043b\u044e\u0434\u043e \u0434\u043e\u0434\u0430\u043d\u043e \u0432 \xab\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0435\xbb"}):null),e.cityModal&&(0,st.jsx)(wr,{small:!0,closeModal:function(){return a(ga({isOpen:!1}))},children:(0,st.jsx)(gj,{})}),i&&(0,st.jsx)(qA,{}),(0,st.jsxs)(Fe,{children:[(0,st.jsx)(Me,{path:"/",element:(0,st.jsx)(yj,{})}),(0,st.jsx)(Me,{path:"/menu",element:(0,st.jsx)(kj,{}),children:(0,st.jsx)(Me,{path:":id",element:(0,st.jsx)(kj,{})})}),(0,st.jsx)(Me,{path:"/product/:id",element:(0,st.jsx)(da,{})}),(0,st.jsx)(Me,{path:"/about-us",element:(0,st.jsx)(ZA,{})}),(0,st.jsx)(Me,{path:"/order",element:(0,st.jsx)(pj,{})}),(0,st.jsx)(Me,{path:"/contact",element:(0,st.jsx)(zM,{})}),(0,st.jsxs)(Me,{path:"/profile",children:[(0,st.jsx)(Me,{index:!0,element:(0,st.jsx)(Wo,{})}),(0,st.jsx)(Me,{path:":item",element:(0,st.jsx)(Wo,{})})]})]}),(0,st.jsx)(mj,{})]})},WM=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))},HM=function(e){var t,n=io(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof o)t=o;else{if(!eo(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=ji(o)}var p=s;"function"===typeof p&&(p=p(n));var v=Mi.apply(void 0,p),m=Di;c&&(m=Xi(Zi({trace:!1},"object"===typeof c&&c)));var g=new no(v),y=g;return Array.isArray(d)?y=zi([v],d):"function"===typeof d&&(y=d(g)),Ai(t,f,m.apply(void 0,y))}({reducer:{user:Mo,modals:ka,popupActions:Uo,shoppingCart:Eo,order:lj}});o.createRoot(document.getElementById("root")).render((0,st.jsx)(r.StrictMode,{children:(0,st.jsx)(tt,{store:HM,children:(0,st.jsx)(mt,{children:(0,st.jsx)(qM,{})})})})),WM()}()}();
//# sourceMappingURL=main.cb818b2c.js.map