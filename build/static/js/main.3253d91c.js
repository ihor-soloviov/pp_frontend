/*! For license information please see main.3253d91c.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=h(n,g);try{c(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===k||e.$$typeof===g)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Ce(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Ae=!1;function je(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==_e||null!==Se)&&(Ne(),Ce())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Pe=!1}function Re(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Me=null,Fe=!1,Ve=null,Ue={onError:function(e){Le=!0,Me=e}};function Be(e,t,n,r,i,a,o,s,u){Le=!1,Me=null,Re.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Je=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,Et,It=!1,Ct=[],Tt=null,Nt=null,At=null,jt=new Map,Ot=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){It=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),jt.forEach(Vt),Ot.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),jt.forEach(t),Ot.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var qt=k.ReactCurrentBatchConfig,Kt=!0;function Ht(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Wt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){if(Kt){var i=Jt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return jt.set(a,Lt(jt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Jt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Jt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),gn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),kn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Sn}var In=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(In),Tn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(jn),Pn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Rn=null;l&&"documentMode"in document&&(Rn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Rn,Mn=l&&(!Dn||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ie(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){Fr(e,0)}function Jn(e){if(G(ki(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Jn(Gn)){var t=[];Hn(t,Gn,e,we(e)),je(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Gn)}function ar(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Er("animationend"),Cr=Er("animationiteration"),Tr=Er("animationstart"),Nr=Er("transitionend"),Ar=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),u(t,[e])}for(var Pr=0;Pr<jr.length;Pr++){var Dr=jr[Pr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Ir,"onAnimationEnd"),Or(Cr,"onAnimationIteration"),Or(Tr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Me;Le=!1,Me=null,Fe||(Fe=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}je((function(){var r=a,i=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Ir:case Cr:case Tr:u=gn;break;case Nr:u=An;break;case"scroll":u=hn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Kn(s))if(Yn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?ki(r):window,e){case"focusin":(Kn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(g=Wr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Xt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Oe(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Oe(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ii(e,t){_i++,xi[_i]=e.current,e.current=t}var Ci={},Ti=Si(Ci),Ni=Si(!1),Ai=Ci;function ji(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ei(Ni),Ei(Ti)}function Di(e,t,n){if(Ti.current!==Ci)throw Error(a(168));Ii(Ti,t),Ii(Ni,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=Ti.current,Ii(Ti,e),Ii(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ri(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ti),Ii(Ti,e)):Ei(Ni),Ii(Ni,n)}var Fi=null,Vi=!1,Ui=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,zi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Ki=0,Hi=null,Wi=0,Gi=[],Qi=0,Ji=null,$i=1,Yi="";function Xi(e,t){qi[Ki++]=Wi,qi[Ki++]=Hi,Hi=e,Wi=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Yi,Gi[Qi++]=Ji,Ji=e;var r=$i;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else $i=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Ki],qi[Ki]=null,Wi=qi[--Ki],qi[Ki]=null;for(;e===Ji;)Ji=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Si(null),ya=null,ba=null,ka=null;function wa(){ka=ba=ya=null}function xa(e){var t=ga.current;Ei(ga),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ya=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ia=null;function Ca(e){null===Ia?Ia=[e]:Ia.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function ja(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),Ra(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),Ra(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),Ra(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Oi(t)?Ai:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?ji(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,ja(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Oi(t)?Ai:Ti.current,i.context=ji(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ja(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,s,u,c){var l=R(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return ia&&Xi(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Rc(o.type,o.key,o.props,null,r.mode,u)).ref=Wa(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,u)).return=r,r=a}return s(r);case O:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(R(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Ja(!0),Ya=Ja(!1),Xa={},Za=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ii(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Co(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function To(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function jo(){}function Oo(e,t){var n=vo,r=Co(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Ko(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Vo(9,Do.bind(null,n,r,i,t),void 0,null),null===Au)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Mo(e)}function Ro(e,t,n){return n((function(){Lo(t)&&Mo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Mo(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return Co().memoizedState}function Bo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Ho(e,t){return zo(4,2,e,t)}function Wo(e,t){return zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function Jo(){}function $o(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return Co().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ta(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ca(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ta(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:Fo,useDebugValue:Jo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Au)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Ro.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Au.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Yo,useReducer:No,useRef:Uo,useState:function(){return No(To)},useDebugValue:Jo,useDeferredValue:function(e){return Xo(Co(),mo.memoizedState,e)},useTransition:function(){return[No(To)[0],Co().memoizedState]},useMutableSource:jo,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Yo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(To)},useDebugValue:Jo,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(To)[0],Co().memoizedState]},useMutableSource:jo,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Ya(t,null,n,r):$a(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Cs(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Du,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Du,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Du,Pu),Pu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Du,Pu),Pu|=r;return ws(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Oi(n)?Ai:Ti.current;return a=ji(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ts(e,t,n,r,i){if(Oi(n)){var a=!0;Li(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Ks(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=ji(t,c=Oi(n)?Ai:Ti.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ka(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ni.current||Aa?("function"===typeof l&&(Ua(t,n,l,r),u=t.memoizedState),(s=Aa||za(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=ji(t,u=Oi(n)?Ai:Ti.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ka(t,o,r,u),Aa=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Aa||za(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Is(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Hs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function js(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Os,Ps,Ds,Rs,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Vs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Au)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rc(r,e,i,-1))}return mc(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Yi,Gi[Qi++]=Ji,$i=e.id,Yi=e.overflow,Ji=t),t=Vs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Oi(t.type)&&Pi(),Gs(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ti),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Ps(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Vr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=J(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ru&&(Ru=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Ps(e,t),null===e&&zr(t.stateNode.containerInfo),Gs(t),null;case 10:return xa(t.type._context),Gs(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Ru||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>qu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Ye()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=so.current,Ii(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Js(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ti),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Ys=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Ys&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,du(e,t,n),Ys=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Ec(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&Y(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(u){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Ye())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||f,mu(t,e),Ys=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){xu(h);continue}}null!==p?(p.return=d,Zs=p):xu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Zs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=$s;var c=Ys;if($s=o,(Ys=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Zs=u):_u(i);for(;null!==a;)Zs=a,ku(a,t,n),a=a.sibling;Zs=i,$s=s,Ys=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&au(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function _u(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{au(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Su,Eu=Math.ceil,Iu=k.ReactCurrentDispatcher,Cu=k.ReactCurrentOwner,Tu=k.ReactCurrentBatchConfig,Nu=0,Au=null,ju=null,Ou=0,Pu=0,Du=Si(0),Ru=0,Lu=null,Mu=0,Fu=0,Vu=0,Uu=null,Bu=null,zu=0,qu=1/0,Ku=null,Hu=!1,Wu=null,Gu=null,Qu=!1,Ju=null,$u=0,Yu=0,Xu=null,Zu=-1,ec=0;function tc(){return 0!==(6&Nu)?Ye():-1!==Zu?Zu:Zu=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Ou?Ou&-Ou:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Yu)throw Yu=0,Xu=null,Error(a(185));gt(e,n,r),0!==(2&Nu)&&e===Au||(e===Au&&(0===(2&Nu)&&(Fu|=n),4===Ru&&uc(e,Ou)),ic(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(qu=Ye()+500,Vi&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Au?Ou:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),oi((function(){0===(6&Nu)&&zi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Nu))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Au?Ou:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Nu;Nu|=2;var o=vc();for(Au===e&&Ou===t||(Ku=null,qu=Ye()+500,dc(e,t));;)try{bc();break}catch(u){pc(e,u)}wa(),Iu.current=o,Nu=i,null!==ju?t=0:(Au=null,Ou=0,t=Ru)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Lu,dc(e,0),uc(e,r),ic(e,Ye()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Lu,dc(e,0),uc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Bu,Ku);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zu+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Bu,Ku),t);break}xc(e,Bu,Ku);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Bu,Ku),r);break}xc(e,Bu,Ku);break;default:throw Error(a(329))}}}return ic(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bu,Bu=n,null!==t&&sc(t)),e}function sc(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function uc(e,t){for(t&=~Vu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nu))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Lu,dc(e,0),uc(e,t),ic(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bu,Ku),ic(e,Ye()),null}function lc(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(qu=Ye()+500,Vi&&zi())}}function fc(e){null!==Ju&&0===Ju.tag&&0===(6&Nu)&&_c();var t=Nu;Nu|=1;var n=Tu.transition,r=bt;try{if(Tu.transition=null,bt=1,e)return e()}finally{bt=r,Tu.transition=n,0===(6&(Nu=t))&&zi()}}function hc(){Pu=Du.current,Ei(Du)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==ju)for(n=ju.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ei(Ni),Ei(Ti),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Au=e,ju=e=Dc(e.current,null),Ou=Pu=t,Ru=0,Lu=null,Vu=Fu=Mu=0,Bu=Uu=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function pc(e,t){for(;;){var n=ju;try{if(wa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,bo=!1,ko=0,Cu.current=null,null===n||null===n.return){Ru=1,Lu=t,ju=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ou,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Ru&&(Ru=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gu||!Gu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,ju===n&&null!==n&&(ju=n=n.return);continue}break}}function vc(){var e=Iu.current;return Iu.current=os,null===e?os:e}function mc(){0!==Ru&&3!==Ru&&2!==Ru||(Ru=4),null===Au||0===(268435455&Mu)&&0===(268435455&Fu)||uc(Au,Ou)}function gc(e,t){var n=Nu;Nu|=2;var r=vc();for(Au===e&&Ou===t||(Ku=null,dc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(wa(),Nu=n,Iu.current=r,null!==ju)throw Error(a(261));return Au=null,Ou=0,Ru}function yc(){for(;null!==ju;)kc(ju)}function bc(){for(;null!==ju&&!Je();)kc(ju)}function kc(e){var t=Su(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?wc(e):ju=t,Cu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Pu)))return void(ju=n)}else{if(null!==(n=Js(n,t)))return n.flags&=32767,void(ju=n);if(null===e)return Ru=6,void(ju=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ju=t);ju=t=e}while(null!==t);0===Ru&&(Ru=5)}function xc(e,t,n){var r=bt,i=Tu.transition;try{Tu.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Ju);if(0!==(6&Nu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Au&&(ju=Au=null,Ou=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Ac(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tu.transition,Tu.transition=null;var s=bt;bt=1;var u=Nu;Nu|=4,Cu.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),$e(),Nu=u,bt=s,Tu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Ju=e,$u=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Wu,Wu=null,e;0!==(1&$u)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Xu?Yu++:(Yu=0,Xu=e):Yu=0,zi()}(e,t,n,r)}finally{Tu.transition=i,bt=r}return null}function _c(){if(null!==Ju){var e=kt($u),t=Tu.transition,n=bt;try{if(Tu.transition=null,bt=16>e?16:e,null===Ju)var r=!1;else{if(e=Ju,Ju=null,$u=0,0!==(6&Nu))throw Error(a(331));var i=Nu;for(Nu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zs=y;break e}Zs=o.return}}var b=e.current;for(Zs=b;null!==Zs;){var k=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Zs=k;else e:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){Ec(u,u.return,x)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Nu=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Tu.transition=t}}return!1}function Sc(e,t,n){e=Da(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Da(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Au===e&&(Ou&n)===n&&(4===Ru||3===Ru&&(130023424&Ou)===Ou&&500>Ye()-zu?dc(e,0):Vu|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Na(e,t))&&(gt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cc(e,n)}function Ac(e,t){return Ge(e,t)}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new jc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Oc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=o,e;case P:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case C:s=9;break e;case T:s=11;break e;case j:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ja(a),e}function zc(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Ri(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Bc(n,r,!0,e,0,a,0,s,u)).context=zc(null),n=e.current,(a=Pa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Kc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),Ra(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:As(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ii(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ii(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ks(e,t),e=t.pendingProps;var i=ji(t,Ti.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ja(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ks(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===j)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Ma(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=js(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=js(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Is(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ii(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_s(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ks(e,t),t.tag=1,Oi(r)?(e=!0,Li(t)):e=!1,Sa(t,n),qa(t,r,i),Ha(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Kc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}$c.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},$c.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Kc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Ye()),0===(6&Nu)&&(qu=Ye()+500,zi()))}break;case 13:fc((function(){var t=Na(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Na(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=lc,Ne=fc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ie,Ce,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},504:function(e,t,n){e.exports=n(269)},269:function(e,t,n){"use strict";var r,i=(r=n(791))&&"object"==typeof r&&"default"in r?r.default:r,a=n(164);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}}(e.prototype.constructor=e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}};function l(e,t,n){if("selectionStart"in e&&"selectionEnd"in e)e.selectionStart=t,e.selectionEnd=n;else{var r=e.createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n-t),r.select()}}var f={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};function h(e,t,n){var r="",i="",a=null,o=[];if(void 0===t&&(t="_"),null==n&&(n=f),!e||"string"!=typeof e)return{maskChar:t,formatChars:n,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var s=!1;return e.split("").forEach((function(e){s=!s&&"\\"===e||(s||!n[e]?(o.push(r.length),r.length===o.length-1&&(i+=e)):a=r.length+1,r+=e,!1)})),{maskChar:t,formatChars:n,prefix:i,mask:r,lastEditablePosition:a,permanents:o}}function d(e,t){return-1!==e.permanents.indexOf(t)}function p(e,t,n){var r=e.mask,i=e.formatChars;if(!n)return!1;if(d(e,t))return r[t]===n;var a=i[r[t]];return new RegExp(a).test(n)}function v(e,t){return t.split("").every((function(t,n){return d(e,n)||!p(e,n,t)}))}function m(e,t){var n=e.maskChar,r=e.prefix;if(!n){for(;t.length>r.length&&d(e,t.length-1);)t=t.slice(0,t.length-1);return t.length}for(var i=r.length,a=t.length;a>=r.length;a--){var o=t[a];if(!d(e,a)&&p(e,a,o)){i=a+1;break}}return i}function g(e,t){return m(e,t)===e.mask.length}function y(e,t){var n=e.maskChar,r=e.mask,i=e.prefix;if(!n){for((t=b(e,"",t,0)).length<i.length&&(t=i);t.length<r.length&&d(e,t.length);)t+=r[t.length];return t}if(t)return b(e,y(e,""),t,0);for(var a=0;a<r.length;a++)d(e,a)?t+=r[a]:t+=n;return t}function b(e,t,n,r){var i=e.mask,a=e.maskChar,o=e.prefix,s=n.split(""),u=g(e,t);return!a&&r>t.length&&(t+=i.slice(t.length,r)),s.every((function(n){for(;l=n,d(e,c=r)&&l!==i[c];){if(r>=t.length&&(t+=i[r]),s=n,a&&d(e,r)&&s===a)return!0;if(++r>=i.length)return!1}var s,c,l;return!p(e,r,n)&&n!==a||(r<t.length?t=a||u||r<o.length?t.slice(0,r)+n+t.slice(r+1):(t=t.slice(0,r)+n+t.slice(r),y(e,t)):a||(t+=n),++r<i.length)})),t}function k(e,t){for(var n=e.mask,r=t;r<n.length;++r)if(!d(e,r))return r;return null}function w(e){return e||0===e?e+"":""}function x(e,t,n,r,i){var a=e.mask,o=e.prefix,s=e.lastEditablePosition,u=t,c="",l=0,f=0,h=Math.min(i.start,n.start);return n.end>i.start?f=(l=function(e,t,n,r){var i=e.mask,a=e.maskChar,o=n.split(""),s=r;return o.every((function(t){for(;o=t,d(e,n=r)&&o!==i[n];)if(++r>=i.length)return!1;var n,o;return(p(e,r,t)||t===a)&&r++,r<i.length})),r-s}(e,0,c=u.slice(i.start,n.end),h))?i.length:0:u.length<r.length&&(f=r.length-u.length),u=r,f&&(1!==f||i.length||(h=i.start===n.start?k(e,n.start):function(e,t){for(var n=t;0<=n;--n)if(!d(e,n))return n;return null}(e,n.start)),u=function(e,t,n,r){var i=n+r,a=e.maskChar,o=e.mask,s=e.prefix,u=t.split("");if(a)return u.map((function(t,r){return r<n||i<=r?t:d(e,r)?o[r]:a})).join("");for(var c=i;c<u.length;c++)d(e,c)&&(u[c]="");return n=Math.max(s.length,n),u.splice(n,i-n),t=u.join(""),y(e,t)}(e,u,h,f)),u=b(e,u,c,h),(h+=l)>=a.length?h=a.length:h<o.length&&!l?h=o.length:h>=o.length&&h<s&&l&&(h=k(e,h)),c||(c=null),{value:u=y(e,u),enteredString:c,selection:{start:h,end:h}}}function _(e){return"function"==typeof e}function S(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function E(e){return(S()?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame:function(){return setTimeout(e,1e3/60)})(e)}function I(e){(S()||clearTimeout)(e)}var C=function(e){function t(t){var n=e.call(this,t)||this;n.focused=!1,n.mounted=!1,n.previousSelection=null,n.selectionDeferId=null,n.saveSelectionLoopDeferId=null,n.saveSelectionLoop=function(){n.previousSelection=n.getSelection(),n.saveSelectionLoopDeferId=E(n.saveSelectionLoop)},n.runSaveSelectionLoop=function(){null===n.saveSelectionLoopDeferId&&n.saveSelectionLoop()},n.stopSaveSelectionLoop=function(){null!==n.saveSelectionLoopDeferId&&(I(n.saveSelectionLoopDeferId),n.saveSelectionLoopDeferId=null,n.previousSelection=null)},n.getInputDOMNode=function(){if(!n.mounted)return null;var e=a.findDOMNode(u(u(n))),t="undefined"!=typeof window&&e instanceof window.Element;if(e&&!t)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},n.getInputValue=function(){var e=n.getInputDOMNode();return e?e.value:null},n.setInputValue=function(e){var t=n.getInputDOMNode();t&&(n.value=e,t.value=e)},n.setCursorToEnd=function(){var e=m(n.maskOptions,n.value),t=k(n.maskOptions,e);null!==t&&n.setCursorPosition(t)},n.setSelection=function(e,t,r){void 0===r&&(r={});var i=n.getInputDOMNode(),a=n.isFocused();i&&a&&(r.deferred||l(i,e,t),null!==n.selectionDeferId&&I(n.selectionDeferId),n.selectionDeferId=E((function(){n.selectionDeferId=null,l(i,e,t)})),n.previousSelection={start:e,end:t,length:Math.abs(t-e)})},n.getSelection=function(){return function(e){var t=0,n=0;if("selectionStart"in e&&"selectionEnd"in e)t=e.selectionStart,n=e.selectionEnd;else{var r=document.selection.createRange();r.parentElement()===e&&(t=-r.moveStart("character",-e.value.length),n=-r.moveEnd("character",-e.value.length))}return{start:t,end:n,length:n-t}}(n.getInputDOMNode())},n.getCursorPosition=function(){return n.getSelection().start},n.setCursorPosition=function(e){n.setSelection(e,e)},n.isFocused=function(){return n.focused},n.getBeforeMaskedValueChangeConfig=function(){var e=n.maskOptions,t=e.mask,r=e.maskChar,i=e.permanents,a=e.formatChars;return{mask:t,maskChar:r,permanents:i,alwaysShowMask:!!n.props.alwaysShowMask,formatChars:a}},n.isInputAutofilled=function(e,t,r,i){var a=n.getInputDOMNode();try{if(a.matches(":-webkit-autofill"))return!0}catch(c){}return!n.focused||i.end<r.length&&t.end===e.length},n.onChange=function(e){var t=u(u(n)).beforePasteState,r=u(u(n)).previousSelection,i=n.props.beforeMaskedValueChange,a=n.getInputValue(),o=n.value,s=n.getSelection();n.isInputAutofilled(a,s,o,r)&&(o=y(n.maskOptions,""),r={start:0,end:0,length:0}),t&&(r=t.selection,o=t.value,s={start:r.start+a.length,end:r.start+a.length,length:0},a=o.slice(0,r.start)+a+o.slice(r.end),n.beforePasteState=null);var c=x(n.maskOptions,a,s,o,r),l=c.enteredString,f=c.selection,h=c.value;if(_(i)){var d=i({value:h,selection:f},{value:o,selection:r},l,n.getBeforeMaskedValueChangeConfig());h=d.value,f=d.selection}n.setInputValue(h),_(n.props.onChange)&&n.props.onChange(e),n.isWindowsPhoneBrowser?n.setSelection(f.start,f.end,{deferred:!0}):n.setSelection(f.start,f.end)},n.onFocus=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions,i=r.mask,a=r.prefix;if(n.focused=!0,n.mounted=!0,i){if(n.value)m(n.maskOptions,n.value)<n.maskOptions.mask.length&&n.setCursorToEnd();else{var o=y(n.maskOptions,a),s=y(n.maskOptions,o),u=m(n.maskOptions,s),c=k(n.maskOptions,u),l={start:c,end:c};if(_(t)){var f=t({value:s,selection:l},{value:n.value,selection:null},null,n.getBeforeMaskedValueChangeConfig());s=f.value,l=f.selection}var h=s!==n.getInputValue();h&&n.setInputValue(s),h&&_(n.props.onChange)&&n.props.onChange(e),n.setSelection(l.start,l.end)}n.runSaveSelectionLoop()}_(n.props.onFocus)&&n.props.onFocus(e)},n.onBlur=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions.mask;if(n.stopSaveSelectionLoop(),n.focused=!1,r&&!n.props.alwaysShowMask&&v(n.maskOptions,n.value)){var i="";_(t)&&(i=t({value:i,selection:null},{value:n.value,selection:n.previousSelection},null,n.getBeforeMaskedValueChangeConfig()).value);var a=i!==n.getInputValue();a&&n.setInputValue(i),a&&_(n.props.onChange)&&n.props.onChange(e)}_(n.props.onBlur)&&n.props.onBlur(e)},n.onMouseDown=function(e){if(!n.focused&&document.addEventListener){n.mouseDownX=e.clientX,n.mouseDownY=e.clientY,n.mouseDownTime=(new Date).getTime();document.addEventListener("mouseup",(function e(t){if(document.removeEventListener("mouseup",e),n.focused){var r=Math.abs(t.clientX-n.mouseDownX),i=Math.abs(t.clientY-n.mouseDownY),a=Math.max(r,i),o=(new Date).getTime()-n.mouseDownTime;(a<=10&&o<=200||a<=5&&o<=300)&&n.setCursorToEnd()}}))}_(n.props.onMouseDown)&&n.props.onMouseDown(e)},n.onPaste=function(e){_(n.props.onPaste)&&n.props.onPaste(e),e.defaultPrevented||(n.beforePasteState={value:n.getInputValue(),selection:n.getSelection()},n.setInputValue(""))},n.handleRef=function(e){null==n.props.children&&_(n.props.inputRef)&&n.props.inputRef(e)};var r=t.mask,i=t.maskChar,o=t.formatChars,s=t.alwaysShowMask,c=t.beforeMaskedValueChange,f=t.defaultValue,d=t.value;n.maskOptions=h(r,i,o),null==f&&(f=""),null==d&&(d=f);var p=w(d);if(n.maskOptions.mask&&(s||p)&&(p=y(n.maskOptions,p),_(c))){var g=t.value;null==t.value&&(g=f),p=c({value:p,selection:null},{value:g=w(g),selection:null},null,n.getBeforeMaskedValueChangeConfig()).value}return n.value=p,n}s(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=function(){var e=new RegExp("windows","i"),t=new RegExp("phone","i"),n=navigator.userAgent;return e.test(n)&&t.test(n)}(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},n.componentDidUpdate=function(){var e=this.previousSelection,t=this.props,n=t.beforeMaskedValueChange,r=t.alwaysShowMask,i=t.mask,a=t.maskChar,o=t.formatChars,s=this.maskOptions,u=r||this.isFocused(),c=null!=this.props.value,l=c?w(this.props.value):this.value,f=e?e.start:null;if(this.maskOptions=h(i,a,o),this.maskOptions.mask){!s.mask&&this.isFocused()&&this.runSaveSelectionLoop();var d=this.maskOptions.mask&&this.maskOptions.mask!==s.mask;if(s.mask||c||(l=this.getInputValue()),(d||this.maskOptions.mask&&(l||u))&&(l=y(this.maskOptions,l)),d){var p=m(this.maskOptions,l);(null===f||p<f)&&(f=g(this.maskOptions,l)?p:k(this.maskOptions,p))}!this.maskOptions.mask||!v(this.maskOptions,l)||u||c&&this.props.value||(l="");var b={start:f,end:f};if(_(n)){var x=n({value:l,selection:b},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());l=x.value,b=x.selection}this.value=l;var S=this.getInputValue()!==this.value;S?(this.setInputValue(this.value),this.forceUpdate()):d&&this.forceUpdate();var E=!1;null!=b.start&&null!=b.end&&(E=!e||e.start!==b.start||e.end!==b.end),(E||S)&&this.setSelection(b.start,b.end)}else s.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},n.componentWillUnmount=function(){this.mounted=!1,null!==this.selectionDeferId&&I(this.selectionDeferId),this.stopSaveSelectionLoop()},n.render=function(){var e,t=this.props,n=(t.mask,t.alwaysShowMask,t.maskChar,t.formatChars,t.inputRef,t.beforeMaskedValueChange,t.children),r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(t,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(n){_(n)||c(!1);var a=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],s=o({},r);a.forEach((function(e){return delete s[e]})),e=n(s),a.filter((function(t){return null!=e.props[t]&&e.props[t]!==r[t]})).length&&c(!1)}else e=i.createElement("input",o({ref:this.handleRef},r));var u={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(r.disabled||r.readOnly||(u.onChange=this.onChange,u.onPaste=this.onPaste,u.onMouseDown=this.onMouseDown),null!=r.value&&(u.value=this.value)),e=i.cloneElement(e,u)},t}(i.Component);e.exports=C},372:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},441:function(e,t,n){"use strict";n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var k=b.prototype=new y;k.constructor=b,v(k,g.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+T(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+T(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+T(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(I),I=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,I=-1,C=5,T=-1;function N(){return!(t.unstable_now()-T<C)}function A(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"===typeof b)_=function(){b(A)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,O=j.port2;j.port1.onmessage=A,_=function(){O.postMessage(null)}}else _=function(){g(A,0)};function P(e){E=e,S||(S=!0,_())}function D(e,n){I=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(I),I=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".c94e6dc2.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="polar-pelmeni-frontend:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkpolar_pelmeni_frontend=self.webpackChunkpolar_pelmeni_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return yu},SDK_VERSION:function(){return Ic},_DEFAULT_ENTRY_NAME:function(){return dc},_addComponent:function(){return gc},_addOrOverwriteComponent:function(){return yc},_apps:function(){return vc},_clearComponents:function(){return xc},_components:function(){return mc},_getProvider:function(){return kc},_registerComponent:function(){return bc},_removeServiceInstance:function(){return wc},deleteApp:function(){return Ac},getApp:function(){return Tc},getApps:function(){return Nc},initializeApp:function(){return Cc},onLog:function(){return Pc},registerVersion:function(){return Oc},setLogLevel:function(){return Dc}});var t,r=n(791),i=n.t(r,2),a=n(250);function o(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||u(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return s(e)}(e)||f(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){var t=w();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,n)}}function S(e,t,n){return S=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},S.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return S(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},E(e)}function I(e){return o(e)||f(e)||u(e)||c()}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var N,A="popstate";function j(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function O(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function P(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),T({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?L(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function R(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function M(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:g.location,delta:n})}function m(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:R(e);return j(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(T({},l.state,{idx:d}),""));var g={get action(){return f},get location(){return e(s,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(A,v),h=e,function(){s.removeEventListener(A,v),h=null}},createHref:function(e){return n(s,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=D(g.location,e,n);r&&r(i,e);var a=P(i,d=p()+1),o=g.createHref(i);try{l.pushState(a,"",o)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(o)}c&&h&&h({action:f,location:g.location,delta:1})},replace:function(e,n){f=t.Replace;var i=D(g.location,e,n);r&&r(i,e);var a=P(i,d=p()),o=g.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(N||(N={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function F(e,t,n){void 0===n&&(n="/");var r=X(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var i=V(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=J(i[o],Y(r));return a}function V(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(j(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ne([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(j(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),V(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Q(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=C(U(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function U(e){var t=e.split("/");if(0===t.length)return[];var n=I(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=U(i.join("/")),u=[];return u.push.apply(u,h(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,h(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var B=/^:\w+$/,z=3,q=2,K=1,H=10,W=-2,G=function(e){return"*"===e};function Q(e,t){var n=e.split("/"),r=n.length;return n.some(G)&&(r+=W),t&&(r+=q),n.filter((function(e){return!G(e)})).reduce((function(e,t){return e+(B.test(t)?z:""===t?K:H)}),r)}function J(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=$({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:ne([i,l.pathname]),pathnameBase:re(ne([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ne([i,l.pathnameBase]))}return a}function $(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);O("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return O(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function Y(e){try{return decodeURI(e)}catch(t){return O(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function X(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Z(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function te(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=L(e):(j(!(i=T({},e)).pathname||!i.pathname.includes("?"),Z("?","pathname","search",i)),j(!i.pathname||!i.pathname.includes("#"),Z("#","pathname","hash",i)),j(!i.search||!i.search.includes("#"),Z("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ie(a),hash:ae(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ne=function(e){return e.join("/").replace(/\/\/+/g,"/")},re=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},oe=function(e){b(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(E(Error));function se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ue=["post","put","patch","delete"],ce=(new Set(ue),["get"].concat(ue));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var fe=r.createContext(null);var he=r.createContext(null);var de=r.createContext(null);var pe=r.createContext(null);var ve=r.createContext(null);var me=r.createContext({outlet:null,matches:[],isDataRoute:!1});var ge=r.createContext(null);function ye(){return null!=r.useContext(ve)}function be(){return ye()||j(!1),r.useContext(ve).location}function ke(e){r.useContext(pe).static||r.useLayoutEffect(e)}function we(){return r.useContext(me).isDataRoute?function(){var e=Oe(Ie.UseNavigateStable).router,t=De(Ce.UseNavigateStable),n=r.useRef(!1);ke((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,le({fromRouteId:t},i)))}),[e,t]);return i}():function(){ye()||j(!1);var e=r.useContext(fe),t=r.useContext(pe),n=t.basename,i=t.navigator,a=r.useContext(me).matches,o=be().pathname,s=JSON.stringify(ee(a).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);ke((function(){u.current=!0}));var c=r.useCallback((function(t,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof t){var a=te(t,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:ne([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}else i.go(t)}),[n,i,s,o,e]);return c}()}function xe(){var e=r.useContext(me).matches,t=e[e.length-1];return t?t.params:{}}function _e(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(me).matches,a=be().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return te(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Se(e,n,i){ye()||j(!1);var a,o=r.useContext(pe).navigator,s=r.useContext(me).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,be());if(n){var h,d="string"===typeof n?L(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||j(!1),a=d}else a=f;var p=a.pathname||"/",v=F(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=je(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ne([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ne([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,i);return n&&m?r.createElement(ve.Provider,{value:{location:le({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},m):m}function Ee(){var e=function(){var e,t=r.useContext(ge),n=Pe(Ce.UseRouteError),i=De(Ce.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=se(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ie,Ce,Te=r.createElement(Ee,null),Ne=function(e){b(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return g(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(me.Provider,{value:this.props.routeContext},r.createElement(ge.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Ae(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(fe);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(me.Provider,{value:t},i)}function je(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,s=null==(i=n)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||j(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;n&&(c=i.route.errorElement||Te);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=u?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Ae,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(Ne,{location:n.location,revalidation:n.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}function Oe(e){var t=r.useContext(fe);return t||j(!1),t}function Pe(e){var t=r.useContext(he);return t||j(!1),t}function De(e){var t=function(e){var t=r.useContext(me);return t||j(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||j(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Ie||(Ie={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Ce||(Ce={}));var Re;function Le(e){j(!1)}function Me(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;ye()&&j(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=L(s));var v=s,m=v.pathname,g=void 0===m?"/":m,y=v.search,b=void 0===y?"":y,k=v.hash,w=void 0===k?"":k,x=v.state,_=void 0===x?null:x,S=v.key,E=void 0===S?"default":S,I=r.useMemo((function(){var e=X(g,d);return null==e?null:{location:{pathname:e,search:b,hash:w,state:_,key:E},navigationType:c}}),[d,g,b,w,_,E,c]);return null==I?null:r.createElement(pe.Provider,{value:p},r.createElement(ve.Provider,{children:o,value:I}))}function Fe(e){var t=e.children,n=e.location;return Se(Ue(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Re||(Re={}));var Ve=new Promise((function(){}));r.Component;function Ue(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(h(t),[i]);if(e.type!==r.Fragment){e.type!==Le&&j(!1),e.props.index&&e.props.children&&j(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ue(e.props.children,a)),n.push(o)}else n.push.apply(n,Ue(e.props.children,a))}})),n}var Be=n(248),ze=n(327),qe=n(164);var Ke=function(e){e()},He=function(){return Ke},We=(0,r.createContext)(null);function Ge(){return(0,r.useContext)(We)}var Qe=function(){throw new Error("uSES not initialized!")},Je=function(e,t){return e===t};function $e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=e===We?Ge:function(){return(0,r.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Je;var i=t(),a=i.store,o=i.subscription,s=i.getServerState,u=Qe(o.addNestedSub,a.getState,s||a.getState,e,n);return(0,r.useDebugValue)(u),u}}var Ye=$e();n(110),n(441);var Xe={notify:function(){},get:function(){return[]}};function Ze(e,t){var n,r=Xe;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=He(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Xe)},getListeners:function(){return r}};return o}var et=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?r.useLayoutEffect:r.useEffect;var tt=function(e){var t=e.store,n=e.context,i=e.children,a=e.serverState,o=(0,r.useMemo)((function(){var e=Ze(t);return{store:t,subscription:e,getServerState:a?function(){return a}:void 0}}),[t,a]),s=(0,r.useMemo)((function(){return t.getState()}),[t]);et((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=n||We;return r.createElement(u.Provider,{value:o},i)};function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=e===We?Ge:function(){return(0,r.useContext)(e)};return function(){return t().store}}var rt=nt();function it(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=e===We?rt:nt(e);return function(){return t().dispatch}}var at,ot=it();!function(e){Qe=e}(ze.useSyncExternalStoreWithSelector),function(e){e}(Be.useSyncExternalStore),at=qe.unstable_batchedUpdates,Ke=at;var st=n(184),ut=function(e){var t=e.children;return(0,st.jsx)("div",{className:"container",children:t})},ct=function(e){var t=e.children;return(0,st.jsx)("div",{className:"grid_layout",children:t})},lt=n(694),ft=n.n(lt);function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ht.apply(this,arguments)}function dt(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var pt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var vt="startTransition";function mt(e){var t,n=e.basename,a=e.children,o=e.window,s=r.useRef();null==s.current&&(s.current=(void 0===(t={window:o,v5Compat:!0})&&(t={}),M((function(e,t){var n=e.location;return D("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:R(t)}),null,t)));var u=s.current,c=l(r.useState({action:u.action,location:u.location}),2),f=c[0],h=c[1],d=r.useCallback((function(e){vt in i?i[vt]((function(){return h(e)})):h(e)}),[h]);return r.useLayoutEffect((function(){return u.listen(d)}),[u,d]),r.createElement(Me,{basename:n,children:a,location:f.location,navigationType:f.action,navigator:u})}var gt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,yt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=dt(e,pt),d=r.useContext(pe).basename,p=!1;if("string"===typeof l&&yt.test(l)&&(n=l,gt))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),g=X(m.pathname,d);m.origin===v.origin&&null!=g?l=g+m.search+m.hash:p=!0}catch(k){}var y=function(e,t){var n=(void 0===t?{}:t).relative;ye()||j(!1);var i=r.useContext(pe),a=i.basename,o=i.navigator,s=_e(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:ne([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),b=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,c=we(),l=be(),f=_e(e,{relative:u});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:R(l)===R(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return r.createElement("a",ht({},h,{href:n||y,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var kt,wt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(kt||(kt={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(wt||(wt={}));var xt=n.p+"static/media/arrow-left.5e864e3fbecea962ed39880526d5b9c8.svg",_t=function(e){var t=e.children,n=e.index,r=e.pathlink,i=e.handleSidebar,a=["info","favourite","addresses","history","bonuses","signout"];return(0,st.jsxs)("li",{className:"profile_sidebar--nav__item sidebar-mobile__item--mobile",children:[(0,st.jsx)(bt,{to:"/profile/".concat(a[n]),onClick:i,className:ft()("profile_sidebar--nav__link sidebar-mobile__link",{sign_out:"\u0412\u0438\u0445\u0456\u0434"===t},{active:r===a[n]}),children:t}),(0,st.jsx)("img",{className:"sidebar-mobile__item--arrow",src:xt,alt:"left"})]})},St=function(e){var t=e.pathlink;return(0,st.jsxs)("aside",{className:"grid_layout--side profile_sidebar",children:[(0,st.jsx)("h3",{className:"profile_sidebar--header",children:"\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0438\u0439 \u043a\u0430\u0431\u0456\u043d\u0435\u0442"}),(0,st.jsx)("ul",{className:"profile_sidebar--nav",children:["\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f","\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0456 \u0431\u043b\u044e\u0434\u0430","\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0430\u0434\u0440\u0435\u0441\u0438","\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c","\u0411\u043e\u043d\u0443\u0441\u0438","\u0412\u0438\u0445\u0456\u0434"].map((function(e,n){return(0,st.jsx)(_t,{pathlink:t,index:n,children:e},n)}))})]})};function Et(){Et=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new I(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f={};function h(){}function d(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(C([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=h.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==p(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),u(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function It(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ct(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){It(a,r,i,o,s,"next",e)}function s(e){It(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Tt(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){Tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jt=n.p+"static/media/Vector.46709a669661462dfb9a0e45d6d89617.svg",Ot=function(e){var t=e.children,n=e.handleSidebar;return(0,st.jsxs)("div",{className:"profile_link--mobile",children:[(0,st.jsx)("h3",{className:"profile_sidebar--header profile_link--mobile--title",children:t}),(0,st.jsx)(bt,{to:"/profile/",className:"profile_link--mobile--button",onClick:n,children:(0,st.jsx)("img",{src:jt,alt:"cross"})})]})};function Pt(e,t){return function(){return e.apply(t,arguments)}}var Dt,Rt=Object.prototype.toString,Lt=Object.getPrototypeOf,Mt=(Dt=Object.create(null),function(e){var t=Rt.call(e);return Dt[t]||(Dt[t]=t.slice(8,-1).toLowerCase())}),Ft=function(e){return e=e.toLowerCase(),function(t){return Mt(t)===e}},Vt=function(e){return function(t){return typeof t===e}},Ut=Array.isArray,Bt=Vt("undefined");var zt=Ft("ArrayBuffer");var qt=Vt("string"),Kt=Vt("function"),Ht=Vt("number"),Wt=function(e){return null!==e&&"object"===typeof e},Gt=function(e){if("object"!==Mt(e))return!1;var t=Lt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qt=Ft("Date"),Jt=Ft("File"),$t=Ft("Blob"),Yt=Ft("FileList"),Xt=Ft("URLSearchParams");function Zt(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ut(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,s=a?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;for(n=0;n<u;n++)o=s[n],t.call(null,e[o],o,e)}}function en(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var tn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,nn=function(e){return!Bt(e)&&e!==tn};var rn,an=(rn="undefined"!==typeof Uint8Array&&Lt(Uint8Array),function(e){return rn&&e instanceof rn}),on=Ft("HTMLFormElement"),sn=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),un=Ft("RegExp"),cn=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};Zt(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},ln="abcdefghijklmnopqrstuvwxyz",fn="0123456789",hn={DIGIT:fn,ALPHA:ln,ALPHA_DIGIT:ln+ln.toUpperCase()+fn};var dn=Ft("AsyncFunction"),pn={isArray:Ut,isArrayBuffer:zt,isBuffer:function(e){return null!==e&&!Bt(e)&&null!==e.constructor&&!Bt(e.constructor)&&Kt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||Kt(e.append)&&("formdata"===(t=Mt(e))||"object"===t&&Kt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&zt(e.buffer)},isString:qt,isNumber:Ht,isBoolean:function(e){return!0===e||!1===e},isObject:Wt,isPlainObject:Gt,isUndefined:Bt,isDate:Qt,isFile:Jt,isBlob:$t,isRegExp:un,isFunction:Kt,isStream:function(e){return Wt(e)&&Kt(e.pipe)},isURLSearchParams:Xt,isTypedArray:an,isFileList:Yt,forEach:Zt,merge:function e(){for(var t=(nn(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&en(n,i)||i;Gt(n[a])&&Gt(r)?n[a]=e(n[a],r):Gt(r)?n[a]=e({},r):Ut(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&Zt(arguments[i],r);return n},extend:function(e,t,n){return Zt(t,(function(t,r){n&&Kt(t)?e[r]=Pt(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&Lt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Mt,kindOfTest:Ft,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(Ut(e))return e;var t=e.length;if(!Ht(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:on,hasOwnProperty:sn,hasOwnProp:sn,reduceDescriptors:cn,freezeMethods:function(e){cn(e,(function(t,n){if(Kt(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];Kt(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return Ut(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:en,global:tn,isContextDefined:nn,ALPHABET:hn,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hn.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Kt(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(Wt(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=Ut(n)?[]:{};return Zt(n,(function(t,n){var a=e(t,r+1);!Bt(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:dn,isThenable:function(e){return e&&(Wt(e)||Kt(e))&&Kt(e.then)&&Kt(e.catch)}};function vn(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}pn.inherits(vn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var mn=vn.prototype,gn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){gn[e]={value:e}})),Object.defineProperties(vn,gn),Object.defineProperty(mn,"isAxiosError",{value:!0}),vn.from=function(e,t,n,r,i,a){var o=Object.create(mn);return pn.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),vn.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var yn=vn;function bn(e){return pn.isPlainObject(e)||pn.isArray(e)}function kn(e){return pn.endsWith(e,"[]")?e.slice(0,-2):e}function wn(e,t,n){return e?e.concat(t).map((function(e,t){return e=kn(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var xn=pn.toFlatObject(pn,{},null,(function(e){return/^is[A-Z]/.test(e)}));var _n=function(e,t,n){if(!pn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=pn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!pn.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&pn.isSpecCompliantForm(t);if(!pn.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(pn.isDate(e))return e.toISOString();if(!s&&pn.isBlob(e))throw new yn("Blob is not supported. Use a Buffer instead.");return pn.isArrayBuffer(e)||pn.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var s=e;if(e&&!i&&"object"===typeof e)if(pn.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(pn.isArray(e)&&function(e){return pn.isArray(e)&&!e.some(bn)}(e)||(pn.isFileList(e)||pn.endsWith(n,"[]"))&&(s=pn.toArray(e)))return n=kn(n),s.forEach((function(e,r){!pn.isUndefined(e)&&null!==e&&t.append(!0===o?wn([n],r,a):null===o?n:n+"[]",u(e))})),!1;return!!bn(e)||(t.append(wn(i,n,a),u(e)),!1)}var l=[],f=Object.assign(xn,{defaultVisitor:c,convertValue:u,isVisitable:bn});if(!pn.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!pn.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),pn.forEach(n,(function(n,a){!0===(!(pn.isUndefined(n)||null===n)&&i.call(t,n,pn.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function Sn(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function En(e,t){this._pairs=[],e&&_n(e,this,t)}var In=En.prototype;In.append=function(e,t){this._pairs.push([e,t])},In.toString=function(e){var t=e?function(t){return e.call(this,t,Sn)}:Sn;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Cn=En;function Tn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Nn(e,t,n){if(!t)return e;var r,i=n&&n.encode||Tn,a=n&&n.serialize;if(r=a?a(t,n):pn.isURLSearchParams(t)?t.toString():new Cn(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var An=function(){function e(){d(this,e),this.handlers=[]}return g(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){pn.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),jn=An,On={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Cn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var Dn=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&pn.isArray(r)?r.length:a,s?(pn.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&pn.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&pn.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(pn.isFormData(e)&&pn.isFunction(e.entries)){var n={};return pn.forEachEntry(e,(function(e,r){t(function(e){return pn.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},Rn={"Content-Type":void 0};var Ln={transitional:On,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=pn.isObject(e);if(a&&pn.isHTMLForm(e)&&(e=new FormData(e)),pn.isFormData(e))return i&&i?JSON.stringify(Dn(e)):e;if(pn.isArrayBuffer(e)||pn.isBuffer(e)||pn.isStream(e)||pn.isFile(e)||pn.isBlob(e))return e;if(pn.isArrayBufferView(e))return e.buffer;if(pn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return _n(e,new Pn.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Pn.isNode&&pn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=pn.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return _n(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(pn.isString(e))try{return(t||JSON.parse)(e),pn.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Ln.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&pn.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw yn.from(a,yn.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pn.classes.FormData,Blob:Pn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};pn.forEach(["delete","get","head"],(function(e){Ln.headers[e]={}})),pn.forEach(["post","put","patch"],(function(e){Ln.headers[e]=pn.merge(Rn)}));var Mn=Ln,Fn=pn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vn=Symbol("internals");function Un(e){return e&&String(e).trim().toLowerCase()}function Bn(e){return!1===e||null==e?e:pn.isArray(e)?e.map(Bn):String(e)}function zn(e,t,n,r,i){return pn.isFunction(r)?r.call(this,t,n):(i&&(t=n),pn.isString(t)?pn.isString(r)?-1!==t.indexOf(r):pn.isRegExp(r)?r.test(t):void 0:void 0)}var qn=function(e,t){function n(e){d(this,n),e&&this.set(e)}return g(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=Un(t);if(!i)throw new Error("header name must be a non-empty string");var a=pn.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Bn(e))}var a=function(e,t){return pn.forEach(e,(function(e,n){return i(e,n,t)}))};return pn.isPlainObject(e)||e instanceof this.constructor?a(e,t):pn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&Fn[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=Un(e)){var n=pn.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(pn.isFunction(t))return t.call(this,r,n);if(pn.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=Un(e)){var n=pn.findKey(this,e);return!(!n||void 0===this[n]||t&&!zn(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=Un(e)){var i=pn.findKey(n,e);!i||t&&!zn(0,n[i],i,t)||(delete n[i],r=!0)}}return pn.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!zn(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return pn.forEach(this,(function(r,i){var a=pn.findKey(n,i);if(a)return t[a]=Bn(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=Bn(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return pn.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&pn.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=l(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[Vn]=this[Vn]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=Un(e);t[r]||(!function(e,t){var n=pn.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return pn.isArray(e)?e.forEach(r):r(e),this}}]),n}();qn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),pn.freezeMethods(qn.prototype),pn.freezeMethods(qn);var Kn=qn;function Hn(e,t){var n=this||Mn,r=t||n,i=Kn.from(r.headers),a=r.data;return pn.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function Wn(e){return!(!e||!e.__CANCEL__)}function Gn(e,t,n){yn.call(this,null==e?"canceled":e,yn.ERR_CANCELED,t,n),this.name="CanceledError"}pn.inherits(Gn,yn,{__CANCEL__:!0});var Qn=Gn;var Jn=Pn.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),pn.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),pn.isString(r)&&o.push("path="+r),pn.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function $n(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Yn=Pn.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=pn.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var Xn=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=i[o];n||(n=u),r[a]=s,i[a]=u;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var h=c&&u-c;return h?Math.round(1e3*f/h):void 0}}};function Zn(e,t){var n=0,r=Xn(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,u=r(s);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&a<=o?(o-a)/u:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var er="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=Kn.from(e.headers).normalize(),o=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}pn.isFormData(i)&&(Pn.isStandardBrowserEnv||Pn.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=$n(e.baseURL,e.url);function h(){if(u){var r=Kn.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new yn("Request failed with status code "+n.status,[yn.ERR_BAD_REQUEST,yn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}}if(u.open(e.method.toUpperCase(),Nn(f,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new yn("Request aborted",yn.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new yn("Network Error",yn.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||On;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new yn(t,r.clarifyTimeoutError?yn.ETIMEDOUT:yn.ECONNABORTED,e,u)),u=null},Pn.isStandardBrowserEnv){var d=(e.withCredentials||Yn(f))&&e.xsrfCookieName&&Jn.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in u&&pn.forEach(a.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),pn.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",Zn(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",Zn(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){u&&(n(!t||t.type?new Qn(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===Pn.protocols.indexOf(p)?n(new yn("Unsupported protocol "+p+":",yn.ERR_BAD_REQUEST,e)):u.send(i||null)}))},tr={http:null,xhr:er};pn.forEach(tr,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var nr=function(e){for(var t,n,r=(e=pn.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=pn.isString(t)?tr[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new yn("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(pn.hasOwnProp(tr,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!pn.isFunction(n))throw new TypeError("adapter is not a function");return n};function rr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qn(null,e)}function ir(e){return rr(e),e.headers=Kn.from(e.headers),e.data=Hn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),nr(e.adapter||Mn.adapter)(e).then((function(t){return rr(e),t.data=Hn.call(e,e.transformResponse,t),t.headers=Kn.from(t.headers),t}),(function(t){return Wn(t)||(rr(e),t&&t.response&&(t.response.data=Hn.call(e,e.transformResponse,t.response),t.response.headers=Kn.from(t.response.headers))),Promise.reject(t)}))}var ar=function(e){return e instanceof Kn?e.toJSON():e};function or(e,t){t=t||{};var n={};function r(e,t,n){return pn.isPlainObject(e)&&pn.isPlainObject(t)?pn.merge.call({caseless:n},e,t):pn.isPlainObject(t)?pn.merge({},t):pn.isArray(t)?t.slice():t}function i(e,t,n){return pn.isUndefined(t)?pn.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!pn.isUndefined(t))return r(void 0,t)}function o(e,t){return pn.isUndefined(t)?pn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return i(ar(e),ar(t),!0)}};return pn.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=u[r]||i,o=a(e[r],t[r],r);pn.isUndefined(o)&&a!==s||(n[r]=o)})),n}var sr="1.4.0",ur={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){ur[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var cr={};ur.transitional=function(e,t,n){function r(e,t){return"[Axios v1.4.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new yn(r(i," has been removed"+(t?" in "+t:"")),yn.ERR_DEPRECATED);return t&&!cr[i]&&(cr[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var lr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new yn("options must be an object",yn.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new yn("option "+a+" must be "+u,yn.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new yn("Unknown option "+a,yn.ERR_BAD_OPTION)}},validators:ur},fr=lr.validators,hr=function(){function e(t){d(this,e),this.defaults=t,this.interceptors={request:new jn,response:new jn}}return g(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=or(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&lr.assertOptions(i,{silentJSONParsing:fr.transitional(fr.boolean),forcedJSONParsing:fr.transitional(fr.boolean),clarifyTimeoutError:fr.transitional(fr.boolean)},!1),null!=a&&(pn.isFunction(a)?t.paramsSerializer={serialize:a}:lr.assertOptions(a,{encode:fr.function,serialize:fr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&pn.merge(o.common,o[t.method]))&&pn.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=Kn.concat(n,o);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!u){var d=[ir.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=s.length;var p=t;for(h=0;h<f;){var v=s[h++],m=s[h++];try{p=v(p)}catch(g){m.call(this,g);break}}try{c=ir.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return Nn($n((e=or(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();pn.forEach(["delete","get","head","options"],(function(e){hr.prototype[e]=function(t,n){return this.request(or(n||{},{method:e,url:t,data:(n||{}).data}))}})),pn.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(or(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}hr.prototype[e]=t(),hr.prototype[e+"Form"]=t(!0)}));var dr=hr,pr=function(){function e(t){if(d(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new Qn(e,t,i),n(r.reason))}))}return g(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),vr=pr;var mr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mr).forEach((function(e){var t=l(e,2),n=t[0],r=t[1];mr[r]=n}));var gr=mr;var yr=function e(t){var n=new dr(t),r=Pt(dr.prototype.request,n);return pn.extend(r,dr.prototype,n,{allOwnKeys:!0}),pn.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(or(t,n))},r}(Mn);yr.Axios=dr,yr.CanceledError=Qn,yr.CancelToken=vr,yr.isCancel=Wn,yr.VERSION=sr,yr.toFormData=_n,yr.AxiosError=yn,yr.Cancel=yr.CanceledError,yr.all=function(e){return Promise.all(e)},yr.spread=function(e){return function(t){return e.apply(null,t)}},yr.isAxiosError=function(e){return pn.isObject(e)&&!0===e.isAxiosError},yr.mergeConfig=or,yr.AxiosHeaders=Kn,yr.formToJSON=function(e){return Dn(pn.isHTMLForm(e)?new FormData(e):e)},yr.HttpStatusCode=gr,yr.default=yr;var br=yr,kr=function(e){var t=e.handleSidebar,n=e.isSidebarClosed,i=l((0,r.useState)({name:"",email:"",birth_date:"",city:""}),2),a=i[0],o=i[1],s=Ye((function(e){return e.user}));console.log(localStorage);var u=function(e){o(At(At({},a),{},Tt({},e.target.name,e.target.value)))},c=function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,br.put("https://api.polarpelmeni.com.ua/api/upload/",a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();if(console.log(n),!n)return(0,st.jsxs)("section",{className:"grid_layout--main profile_info",children:[(0,st.jsxs)("div",{className:"profile_info--head",children:[(0,st.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:"profile",className:"mobile-menu__avatar",width:70}),(0,st.jsxs)("div",{className:"profile_info--head__contacts contacts",children:[(0,st.jsxs)("div",{className:"contacts_name",children:[s.name," "]}),(0,st.jsx)("div",{className:"contacts_phone",children:s.phone})]}),(0,st.jsx)("div",{className:"profile_info--head__button button",children:(0,st.jsx)("a",{href:"#",className:"button_link",children:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u043d\u043e\u043c\u0435\u0440"})}),(0,st.jsx)("div",{className:"profile_info--head__button button",children:(0,st.jsx)("a",{href:"#",className:"button_link",children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0444\u043e\u0442\u043e"})})]}),(0,st.jsx)(Ot,{handleSidebar:t,children:"\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f"}),(0,st.jsxs)("div",{className:"profile_info--head__mobile",children:[(0,st.jsx)("img",{src:"https://via.placeholder.com/70x70",alt:"profile",className:"profile_info--head__photo"}),(0,st.jsxs)("div",{className:"contacts",children:[(0,st.jsx)("div",{className:"contacts_name",children:s.name}),(0,st.jsxs)("div",{className:"contacts_phone",children:[s.phone," ",(0,st.jsx)("a",{href:"#",className:"button_link",children:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438"})]}),(0,st.jsx)("div",{className:"",children:(0,st.jsx)("a",{href:"#",className:"button_link",children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0444\u043e\u0442\u043e"})})]})]}),(0,st.jsx)("div",{className:"profile_info--bonuses__mobile",children:(0,st.jsx)("p",{children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e 23 \u0431\u043e\u043d\u0443\u0441\u0438"})}),(0,st.jsx)("div",{className:"profile_info--form",children:(0,st.jsxs)("form",{onSubmit:c,children:[(0,st.jsxs)("div",{className:"form",children:[(0,st.jsxs)("div",{className:"form_item",children:[(0,st.jsx)("p",{children:"\u0406\u043c'\u044f"}),(0,st.jsx)("label",{className:"form_item--label",children:(0,st.jsx)("input",{type:"text",placeholder:"\u0406\u043c'\u044f",name:"name",value:a.name,onChange:u})})]}),(0,st.jsxs)("div",{className:"form_item",children:[(0,st.jsx)("p",{children:"\u041f\u043e\u0448\u0442\u0430"}),(0,st.jsx)("label",{className:"form_item--label",children:(0,st.jsx)("input",{type:"text",placeholder:"xxx@gmail.com",name:"email",value:a.email,onChange:u})})]}),(0,st.jsxs)("div",{className:"form_item",children:[(0,st.jsx)("p",{children:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f"}),(0,st.jsx)("label",{className:"form_item--label",children:(0,st.jsx)("input",{type:"text",placeholder:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f",name:"birth_date",value:a.birth_date,onChange:u})})]}),(0,st.jsxs)("div",{className:"form_item",children:[(0,st.jsx)("p",{children:"\u041c\u0456\u0441\u0442\u043e"}),(0,st.jsx)("label",{className:"form_item--label",children:(0,st.jsxs)("select",{name:"city",value:a.city,onChange:u,children:[(0,st.jsx)("option",{value:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e",disabled:!0,children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e"}),(0,st.jsx)("option",{value:"\u041e\u0434\u0435\u0441\u0430",children:"\u041e\u0434\u0435\u0441\u0430"}),(0,st.jsx)("option",{value:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434",children:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434"})]})})]})]}),(0,st.jsx)("div",{className:"form-button",children:(0,st.jsx)("button",{className:"btn-main ",type:"submit",style:{justifyContent:"center"},children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"})})]})})]})};function wr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var xr=["name"],_r=["_f"],Sr=["_f"],Er=function(e){return"checkbox"===e.type},Ir=function(e){return e instanceof Date},Cr=function(e){return null==e},Tr=function(e){return"object"===typeof e},Nr=function(e){return!Cr(e)&&!Array.isArray(e)&&Tr(e)&&!Ir(e)},Ar=function(e){return Nr(e)&&e.target?Er(e.target)?e.target.checked:e.target.value:e},jr=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},Or=function(e){var t=e.constructor&&e.constructor.prototype;return Nr(t)&&t.hasOwnProperty("isPrototypeOf")},Pr="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function Dr(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(Pr&&(e instanceof Blob||e instanceof FileList)||!n&&!Nr(e))return e;if(t=n?[]:{},n||Or(e))for(var r in e)e.hasOwnProperty(r)&&(t[r]=Dr(e[r]));else t=e}return t}var Rr=function(e){return Array.isArray(e)?e.filter(Boolean):[]},Lr=function(e){return void 0===e},Mr=function(e,t,n){if(!t||!Nr(e))return n;var r=Rr(t.split(/[,[\].]+?/)).reduce((function(e,t){return Cr(e)?e:e[t]}),e);return Lr(r)||r===e?Lr(e[t])?n:e[t]:r},Fr={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ur="max",Br="min",zr="maxLength",qr="minLength",Kr="pattern",Hr="required",Wr="validate",Gr=(r.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={defaultValues:t._defaultValues},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t._proxyFormState[i]!==Vr.all&&(t._proxyFormState[i]=!r||Vr.all),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),Qr=function(e){return Nr(e)&&!Object.keys(e).length},Jr=function(e,t,n,r){n(e);e.name;var i=wr(e,xr);return Qr(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((function(e){return t[e]===(!r||Vr.all)}))},$r=function(e){return Array.isArray(e)?e:[e]};function Yr(e){var t=r.useRef(e);t.current=e,r.useEffect((function(){var n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return function(){n&&n.unsubscribe()}}),[e.disabled])}var Xr=function(e){return"string"===typeof e},Zr=function(e,t,n,r,i){return Xr(e)?(r&&t.watch.add(e),Mr(n,e,i)):Array.isArray(e)?e.map((function(e){return r&&t.watch.add(e),Mr(n,e)})):(r&&(t.watchAll=!0),n)};var ei=function(e){return/^\w*$/.test(e)},ti=function(e){return Rr(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function ni(e,t,n){for(var r=-1,i=ei(t)?[t]:ti(t),a=i.length,o=a-1;++r<a;){var s=i[r],u=n;if(r!==o){var c=e[s];u=Nr(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[s]=u,e=e[s]}return e}var ri=function(e,t,n,r,i){return t?At(At({},n[e]),{},{types:At(At({},n[e]&&n[e].types?n[e].types:{}),{},Tt({},r,i||!0))}):{}},ii=function e(t,n,r){var i,a=C(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Mr(t,o);if(s){var u=s._f,c=wr(s,_r);if(u&&n(u.name)){if(u.ref.focus){u.ref.focus();break}if(u.refs&&u.refs[0].focus){u.refs[0].focus();break}}else Nr(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}},ai=function(e){return{isOnSubmit:!e||e===Vr.onSubmit,isOnBlur:e===Vr.onBlur,isOnChange:e===Vr.onChange,isOnAll:e===Vr.all,isOnTouch:e===Vr.onTouched}},oi=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||h(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},si=function(e,t,n){var r=Rr(Mr(e,n));return ni(r,"root",t[n]),ni(e,n,r),e},ui=function(e){return"boolean"===typeof e},ci=function(e){return"file"===e.type},li=function(e){return"function"===typeof e},fi=function(e){if(!Pr)return!1;var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},hi=function(e){return Xr(e)},di=function(e){return"radio"===e.type},pi=function(e){return e instanceof RegExp},vi={value:!1,isValid:!1},mi={value:!0,isValid:!0},gi=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Lr(e[0].attributes.value)?Lr(e[0].value)||""===e[0].value?mi:{value:e[0].value,isValid:!0}:mi:vi}return vi},yi={isValid:!1,value:null},bi=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),yi):yi};function ki(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(hi(e)||Array.isArray(e)&&e.every(hi)||ui(e)&&!e)return{type:n,message:hi(e)?e:"",ref:t}}var wi=function(e){return Nr(e)&&!pi(e)?e:{value:e,message:""}},xi=function(){var e=Ct(Et().mark((function e(t,n,r,i,a){var o,s,u,c,l,f,h,d,p,v,m,g,y,b,k,w,x,_,S,E,I,C,T,N,A,j,O,P,D,R,L,M,F,V,U,B,z,q,K,H,W,G,Q,J,$,Y,X,Z;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,s=o.ref,u=o.refs,c=o.required,l=o.maxLength,f=o.minLength,h=o.min,d=o.max,p=o.pattern,v=o.validate,m=o.name,g=o.valueAsNumber,y=o.mount,b=o.disabled,k=Mr(n,m),y&&!b){e.next=4;break}return e.abrupt("return",{});case 4:if(w=u?u[0]:s,x=function(e){i&&w.reportValidity&&(w.setCustomValidity(ui(e)?"":e||""),w.reportValidity())},_={},S=di(s),E=Er(s),I=S||E,C=(g||ci(s))&&Lr(s.value)&&Lr(k)||fi(s)&&""===s.value||""===k||Array.isArray(k)&&!k.length,T=ri.bind(null,m,r,_),N=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:zr,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:qr,a=e?t:n;_[m]=At({type:e?r:i,message:a,ref:s},T(e?r:i,a))},!(a?!Array.isArray(k)||!k.length:c&&(!I&&(C||Cr(k))||ui(k)&&!k||E&&!gi(u).isValid||S&&!bi(u).isValid))){e.next=20;break}if(A=hi(c)?{value:!!c,message:c}:wi(c),j=A.value,O=A.message,!j){e.next=20;break}if(_[m]=At({type:Hr,message:O,ref:w},T(Hr,O)),r){e.next=20;break}return x(O),e.abrupt("return",_);case 20:if(C||Cr(h)&&Cr(d)){e.next=29;break}if(R=wi(d),L=wi(h),Cr(k)||isNaN(k)?(F=s.valueAsDate||new Date(k),V=function(e){return new Date((new Date).toDateString()+" "+e)},U="time"==s.type,B="week"==s.type,Xr(R.value)&&k&&(P=U?V(k)>V(R.value):B?k>R.value:F>new Date(R.value)),Xr(L.value)&&k&&(D=U?V(k)<V(L.value):B?k<L.value:F<new Date(L.value))):(M=s.valueAsNumber||(k?+k:k),Cr(R.value)||(P=M>R.value),Cr(L.value)||(D=M<L.value)),!P&&!D){e.next=29;break}if(N(!!P,R.message,L.message,Ur,Br),r){e.next=29;break}return x(_[m].message),e.abrupt("return",_);case 29:if(!l&&!f||C||!(Xr(k)||a&&Array.isArray(k))){e.next=39;break}if(z=wi(l),q=wi(f),K=!Cr(z.value)&&k.length>+z.value,H=!Cr(q.value)&&k.length<+q.value,!K&&!H){e.next=39;break}if(N(K,z.message,q.message),r){e.next=39;break}return x(_[m].message),e.abrupt("return",_);case 39:if(!p||C||!Xr(k)){e.next=46;break}if(W=wi(p),G=W.value,Q=W.message,!pi(G)||k.match(G)){e.next=46;break}if(_[m]=At({type:Kr,message:Q,ref:s},T(Kr,Q)),r){e.next=46;break}return x(Q),e.abrupt("return",_);case 46:if(!v){e.next=80;break}if(!li(v)){e.next=59;break}return e.next=50,v(k,n);case 50:if(J=e.sent,!($=ki(J,w))){e.next=57;break}if(_[m]=At(At({},$),T(Wr,$.message)),r){e.next=57;break}return x($.message),e.abrupt("return",_);case 57:e.next=80;break;case 59:if(!Nr(v)){e.next=80;break}Y={},e.t0=Et().keys(v);case 62:if((e.t1=e.t0()).done){e.next=76;break}if(X=e.t1.value,Qr(Y)||r){e.next=66;break}return e.abrupt("break",76);case 66:return e.t2=ki,e.next=69,v[X](k,n);case 69:e.t3=e.sent,e.t4=w,e.t5=X,(Z=(0,e.t2)(e.t3,e.t4,e.t5))&&(Y=At(At({},Z),T(X,Z.message)),x(Z.message),r&&(_[m]=Y)),e.next=62;break;case 76:if(Qr(Y)){e.next=80;break}if(_[m]=At({ref:w},Y),r){e.next=80;break}return e.abrupt("return",_);case 80:return x(!0),e.abrupt("return",_);case 82:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();function _i(e,t){var n=Array.isArray(t)?t:ei(t)?[t]:ti(t),r=1===n.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=Lr(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(Nr(r)&&Qr(r)||Array.isArray(r)&&function(e){for(var t in e)if(e.hasOwnProperty(t)&&!Lr(e[t]))return!1;return!0}(r))&&_i(e,n.slice(0,-1)),e}function Si(){var e=[];return{get observers(){return e},next:function(t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.next&&i.next(t)}}catch(a){r.e(a)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var Ei=function(e){return Cr(e)||!Tr(e)};function Ii(e,t){if(Ei(e)||Ei(t))return e===t;if(Ir(e)&&Ir(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],s=e[o];if(!r.includes(o))return!1;if("ref"!==o){var u=t[o];if(Ir(s)&&Ir(u)||Nr(s)&&Nr(u)||Array.isArray(s)&&Array.isArray(u)?!Ii(s,u):s!==u)return!1}}return!0}var Ci=function(e){return"select-multiple"===e.type},Ti=function(e){return di(e)||Er(e)},Ni=function(e){return fi(e)&&e.isConnected},Ai=function(e){for(var t in e)if(li(e[t]))return!0;return!1};function ji(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(Nr(e)||n)for(var r in e)Array.isArray(e[r])||Nr(e[r])&&!Ai(e[r])?(t[r]=Array.isArray(e[r])?[]:{},ji(e[r],t[r])):Cr(e[r])||(t[r]=!0);return t}function Oi(e,t,n){var r=Array.isArray(e);if(Nr(e)||r)for(var i in e)Array.isArray(e[i])||Nr(e[i])&&!Ai(e[i])?Lr(t)||Ei(n[i])?n[i]=Array.isArray(e[i])?ji(e[i],[]):At({},ji(e[i])):Oi(e[i],Cr(t)?{}:t[i],n[i]):n[i]=!Ii(e[i],t[i]);return n}var Pi=function(e,t){return Oi(e,t,ji(t))},Di=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return Lr(e)?e:n?""===e?NaN:e?+e:e:r&&Xr(e)?new Date(e):i?i(e):e};function Ri(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return ci(t)?t.files:di(t)?bi(e.refs).value:Ci(t)?h(t.selectedOptions).map((function(e){return e.value})):Er(t)?gi(e.refs).value:Di(Lr(t.value)?e.ref.value:t.value,e)}var Li=function(e,t,n,r){var i,a={},o=C(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=Mr(t,s);u&&ni(a,s,u._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:h(e),fields:a,shouldUseNativeValidation:r}},Mi=function(e){return Lr(e)?e:pi(e)?e.source:Nr(e)?pi(e.value)?e.value.source:e.value:e},Fi=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function Vi(e,t,n){var r=Mr(e,n);if(r||ei(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=Mr(t,a),s=Mr(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:n}}var Ui=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},Bi=function(e,t){return!Rr(Mr(e,t)).length&&_i(e,t)},zi={mode:Vr.onSubmit,reValidateMode:Vr.onChange,shouldFocusError:!0};function qi(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=At(At({},zi),t),i={submitCount:0,isDirty:!1,isLoading:li(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},o=(Nr(r.defaultValues)||Nr(r.values))&&Dr(r.defaultValues||r.values)||{},s=r.shouldUnregister?{}:Dr(o),u={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l=0,f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Si(),array:Si(),state:Si()},p=t.resetOptions&&t.resetOptions.keepDirtyValues,v=ai(r.mode),m=ai(r.reValidateMode),g=r.criteriaMode===Vr.all,y=function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.isValid&&!t){e.next=14;break}if(!r.resolver){e.next=9;break}return e.t1=Qr,e.next=5,_();case 5:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=12;break;case 9:return e.next=11,E(a,!0);case 11:e.t0=e.sent;case 12:(n=e.t0)!==i.isValid&&d.state.next({isValid:n});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){return f.isValidating&&d.state.next({isValidating:e})},k=function(e,t,n,r){var i=Mr(a,e);if(i){var c=Mr(s,e,Lr(n)?Mr(o,e):n);Lr(c)||r&&r.defaultChecked||t?ni(s,e,t?c:Ri(i._f)):N(e,c),u.mount&&y()}},w=function(e,t,n,r,a){var s=!1,u=!1,c={name:e};if(!n||r){f.isDirty&&(u=i.isDirty,i.isDirty=c.isDirty=I(),s=u!==c.isDirty);var l=Ii(Mr(o,e),t);u=Mr(i.dirtyFields,e),l?_i(i.dirtyFields,e):ni(i.dirtyFields,e,!0),c.dirtyFields=i.dirtyFields,s=s||f.dirtyFields&&u!==!l}if(n){var h=Mr(i.touchedFields,e);h||(ni(i.touchedFields,e,n),c.touchedFields=i.touchedFields,s=s||f.touchedFields&&h!==n)}return s&&a&&d.state.next(c),s?c:{}},x=function(n,r,a,o){var s,u=Mr(i.errors,n),c=f.isValid&&ui(r)&&i.isValid!==r;if(t.delayError&&a?(s=function(){return function(e,t){ni(i.errors,e,t),d.state.next({errors:i.errors})}(n,a)},(e=function(e){clearTimeout(l),l=setTimeout(s,e)})(t.delayError)):(clearTimeout(l),e=null,a?ni(i.errors,n,a):_i(i.errors,n)),(a?!Ii(u,a):u)||!Qr(o)||c){var h=At(At(At({},o),c&&ui(r)?{isValid:r}:{}),{},{errors:i.errors,name:n});i=At(At({},i),h),d.state.next(h)}b(!1)},_=function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.resolver(s,r.context,Li(t||c.mount,a,r.criteriaMode,r.shouldUseNativeValidation)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Ct(Et().mark((function e(t){var n,r,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:if(n=e.sent,r=n.errors,t){a=C(t);try{for(a.s();!(o=a.n()).done;)s=o.value,(u=Mr(r,s))?ni(i.errors,s,u):_i(i.errors,s)}catch(c){a.e(c)}finally{a.f()}}else i.errors=r;return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Ct(Et().mark((function e(t,n){var a,o,u,l,f,h,d,p=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=p.length>2&&void 0!==p[2]?p[2]:{valid:!0},e.t0=Et().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(o=e.t1.value,!(u=t[o])){e.next=21;break}if(l=u._f,f=wr(u,Sr),!l){e.next=17;break}return h=c.array.has(l.name),e.next=11,xi(u,s,g,r.shouldUseNativeValidation&&!n,h);case 11:if(!(d=e.sent)[l.name]){e.next=16;break}if(a.valid=!1,!n){e.next=16;break}return e.abrupt("break",23);case 16:!n&&(Mr(d,l.name)?h?si(i.errors,d,l.name):ni(i.errors,l.name,d[l.name]):_i(i.errors,l.name));case 17:if(e.t2=f,!e.t2){e.next=21;break}return e.next=21,E(f,n,a);case 21:e.next=2;break;case 23:return e.abrupt("return",a.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(e,t){return e&&t&&ni(s,e,t),!Ii(D(),o)},T=function(e,t,n){return Zr(e,c,At({},u.mount?s:Lr(t)?o:Xr(e)?Tt({},e,t):t),n,t)},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Mr(a,e),i=t;if(r){var o=r._f;o&&(!o.disabled&&ni(s,e,Di(t,o)),i=fi(o.ref)&&Cr(t)?"":t,Ci(o.ref)?h(o.ref.options).forEach((function(e){return e.selected=i.includes(e.value)})):o.refs?Er(o.ref)?o.refs.length>1?o.refs.forEach((function(e){return(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((function(t){return t===e.value})):i===e.value)})):o.refs[0]&&(o.refs[0].checked=!!i):o.refs.forEach((function(e){return e.checked=e.value===i})):ci(o.ref)?o.ref.value="":(o.ref.value=i,o.ref.type||d.values.next({name:e,values:At({},s)})))}(n.shouldDirty||n.shouldTouch)&&w(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&P(e)},A=function e(t,n,r){for(var i in n){var o=n[i],s="".concat(t,".").concat(i),u=Mr(a,s);!c.array.has(t)&&Ei(o)&&(!u||u._f)||Ir(o)?N(s,o,r):e(s,o,r)}},j=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=Mr(a,e),h=c.array.has(e),p=Dr(t);ni(s,e,p),h?(d.array.next({name:e,values:At({},s)}),(f.isDirty||f.dirtyFields)&&r.shouldDirty&&d.state.next({name:e,dirtyFields:Pi(o,s),isDirty:I(e,p)})):!l||l._f||Cr(p)?N(e,p,r):A(e,p,r),oi(e,c)&&d.state.next(At({},i)),d.values.next({name:e,values:At({},s)}),!u.mount&&n()},O=function(){var t=Ct(Et().mark((function t(n){var o,u,l,h,p,k,S,I,C,T,N,A,j,O,D,R,L;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.target,u=o.name,l=!0,h=Mr(a,u),p=function(){return o.type?Ri(h._f):Ar(n)},!h){t.next=47;break}if(I=p(),C=n.type===Fr.BLUR||n.type===Fr.FOCUS_OUT,T=!Fi(h._f)&&!r.resolver&&!Mr(i.errors,u)&&!h._f.deps||Ui(C,Mr(i.touchedFields,u),i.isSubmitted,m,v),N=oi(u,c,C),ni(s,u,I),C?(h._f.onBlur&&h._f.onBlur(n),e&&e(0)):h._f.onChange&&h._f.onChange(n),A=w(u,I,C,!1),j=!Qr(A)||N,!C&&d.values.next({name:u,type:n.type,values:At({},s)}),!T){t.next=18;break}return f.isValid&&y(),t.abrupt("return",j&&d.state.next(At({name:u},N?{}:A)));case 18:if(!C&&N&&d.state.next(At({},i)),b(!0),!r.resolver){t.next=32;break}return t.next=23,_([u]);case 23:O=t.sent,D=O.errors,R=Vi(i.errors,a,u),L=Vi(D,a,R.name||u),k=L.error,u=L.name,S=Qr(D),t.next=46;break;case 32:return t.next=34,xi(h,s,g,r.shouldUseNativeValidation);case 34:if(t.t0=u,k=t.sent[t.t0],!(l=isNaN(I)||I===Mr(s,u,I))){t.next=46;break}if(!k){t.next=42;break}S=!1,t.next=46;break;case 42:if(!f.isValid){t.next=46;break}return t.next=45,E(a,!0);case 45:S=t.sent;case 46:l&&(h._f.deps&&P(h._f.deps),x(u,S,k,A));case 47:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){var e=Ct(Et().mark((function e(t){var n,o,s,u,l,h=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:{},u=$r(t),b(!0),!r.resolver){e.next=11;break}return e.next=6,S(Lr(t)?t:u);case 6:l=e.sent,o=Qr(l),s=t?!u.some((function(e){return Mr(l,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(u.map(function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mr(a,t),e.next=3,E(n&&n._f?Tt({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((s=e.sent.every(Boolean))||i.isValid)&&y(),e.next=21;break;case 18:return e.next=20,E(a);case 20:s=o=e.sent;case 21:return d.state.next(At(At(At({},!Xr(t)||f.isValid&&o!==i.isValid?{}:{name:t}),r.resolver||!t?{isValid:o}:{}),{},{errors:i.errors,isValidating:!1})),n.shouldFocus&&!s&&ii(a,(function(e){return e&&Mr(i.errors,e)}),t?u:c.mount),e.abrupt("return",s);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e){var t=At(At({},o),u.mount?s:{});return Lr(e)?t:Xr(e)?Mr(t,e):e.map((function(e){return Mr(t,e)}))},R=function(e,t){return{invalid:!!Mr((t||i).errors,e),isDirty:!!Mr((t||i).dirtyFields,e),isTouched:!!Mr((t||i).touchedFields,e),error:Mr((t||i).errors,e)}},L=function(e,t,n){var r=(Mr(a,e,{_f:{}})._f||{}).ref;ni(i.errors,e,At(At({},t),{},{ref:r})),d.state.next({name:e,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&r&&r.focus&&r.focus()},M=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=C(e?$r(e):c.mount);try{for(u.s();!(t=u.n()).done;){var l=t.value;c.mount.delete(l),c.array.delete(l),n.keepValue||(_i(a,l),_i(s,l)),!n.keepError&&_i(i.errors,l),!n.keepDirty&&_i(i.dirtyFields,l),!n.keepTouched&&_i(i.touchedFields,l),!r.shouldUnregister&&!n.keepDefaultValue&&_i(o,l)}}catch(f){u.e(f)}finally{u.f()}d.values.next({values:At({},s)}),d.state.next(At(At({},i),n.keepDirty?{isDirty:I()}:{})),!n.keepIsValid&&y()},F=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Mr(a,t),l=ui(n.disabled);return ni(a,t,At(At({},i||{}),{},{_f:At(At({},i&&i._f?i._f:{ref:{name:t}}),{},{name:t,mount:!0},n)})),c.mount.add(t),i?l&&ni(s,t,n.disabled?void 0:Mr(s,t,Ri(i._f))):k(t,!0,n.value),At(At(At({},l?{disabled:n.disabled}:{}),r.progressive?{required:!!n.required,min:Mi(n.min),max:Mi(n.max),minLength:Mi(n.minLength),maxLength:Mi(n.maxLength),pattern:Mi(n.pattern)}:{}),{},{name:t,onChange:O,onBlur:O,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(s){if(s){e(t,n),i=Mr(a,t);var l=Lr(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,f=Ti(l),d=i._f.refs||[];if(f?d.find((function(e){return e===l})):l===i._f.ref)return;ni(a,t,{_f:At(At({},i._f),f?{refs:[].concat(h(d.filter(Ni)),[l],h(Array.isArray(Mr(o,t))?[{}]:[])),ref:{type:l.type,name:t}}:{ref:l})}),k(t,!1,void 0,l)}else(i=Mr(a,t,{}))._f&&(i._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&(!jr(c.array,t)||!u.action)&&c.unMount.add(t)}))})},V=function(){return r.shouldFocusError&&ii(a,(function(e){return e&&Mr(i.errors,e)}),c.mount)},U=function(e,t){return function(){var n=Ct(Et().mark((function n(o){var u,c,l,f;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist()),u=Dr(s),d.state.next({isSubmitting:!0}),!r.resolver){n.next=13;break}return n.next=6,_();case 6:c=n.sent,l=c.errors,f=c.values,i.errors=l,u=f,n.next=15;break;case 13:return n.next=15,E(a);case 15:if(_i(i.errors,"root"),!Qr(i.errors)){n.next=22;break}return d.state.next({errors:{}}),n.next=20,e(u,o);case 20:n.next=27;break;case 22:if(!t){n.next=25;break}return n.next=25,t(At({},i.errors),o);case 25:V(),setTimeout(V);case 27:d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qr(i.errors),submitCount:i.submitCount+1,errors:i.errors});case 28:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},B=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=e||o,h=Dr(l),v=e&&!Qr(e)?h:o;if(r.keepDefaultValues||(o=l),!r.keepValues){if(r.keepDirtyValues||p){var m,g=C(c.mount);try{for(g.s();!(m=g.n()).done;){var y=m.value;Mr(i.dirtyFields,y)?ni(v,y,Mr(s,y)):j(y,Mr(v,y))}}catch(E){g.e(E)}finally{g.f()}}else{if(Pr&&Lr(e)){var b,k=C(c.mount);try{for(k.s();!(b=k.n()).done;){var w=b.value,x=Mr(a,w);if(x&&x._f){var _=Array.isArray(x._f.refs)?x._f.refs[0]:x._f.ref;if(fi(_)){var S=_.closest("form");if(S){S.reset();break}}}}}catch(E){k.e(E)}finally{k.f()}}a={}}s=t.shouldUnregister?r.keepDefaultValues?Dr(o):{}:Dr(v),d.array.next({values:At({},v)}),d.values.next({values:At({},v)})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!u.mount&&n(),u.mount=!f.isValid||!!r.keepIsValid,u.watch=!!t.shouldUnregister,d.state.next({submitCount:r.keepSubmitCount?i.submitCount:0,isDirty:r.keepDirty?i.isDirty:!(!r.keepDefaultValues||Ii(e,o)),isSubmitted:!!r.keepIsSubmitted&&i.isSubmitted,dirtyFields:r.keepDirtyValues?i.dirtyFields:r.keepDefaultValues&&e?Pi(o,e):{},touchedFields:r.keepTouched?i.touchedFields:{},errors:r.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},z=function(e,t){return B(li(e)?e(s):e,t)};return{control:{register:F,unregister:M,getFieldState:R,handleSubmit:U,setError:L,_executeSchema:_,_getWatch:T,_getDirty:I,_updateValid:y,_removeUnmounted:function(){var e,t=C(c.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=Mr(a,n);r&&(r._f.refs?r._f.refs.every((function(e){return!Ni(e)})):!Ni(r._f.ref))&&M(n)}}catch(i){t.e(i)}finally{t.f()}c.unMount=new Set},_updateFieldArray:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(r&&n){if(u.action=!0,l&&Array.isArray(Mr(a,e))){var h=n(Mr(a,e),r.argA,r.argB);c&&ni(a,e,h)}if(l&&Array.isArray(Mr(i.errors,e))){var p=n(Mr(i.errors,e),r.argA,r.argB);c&&ni(i.errors,e,p),Bi(i.errors,e)}if(f.touchedFields&&l&&Array.isArray(Mr(i.touchedFields,e))){var v=n(Mr(i.touchedFields,e),r.argA,r.argB);c&&ni(i.touchedFields,e,v)}f.dirtyFields&&(i.dirtyFields=Pi(o,s)),d.state.next({name:e,isDirty:I(e,t),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else ni(s,e,t)},_getFieldArray:function(e){return Rr(Mr(u.mount?s:o,e,t.shouldUnregister?Mr(o,e,[]):[]))},_reset:B,_resetDefaultValues:function(){return li(r.defaultValues)&&r.defaultValues().then((function(e){z(e,r.resetOptions),d.state.next({isLoading:!1})}))},_updateFormState:function(e){i=At(At({},i),e)},_subjects:d,_proxyFormState:f,get _fields(){return a},get _formValues(){return s},get _state(){return u},set _state(e){u=e},get _defaultValues(){return o},get _names(){return c},set _names(e){c=e},get _formState(){return i},set _formState(e){i=e},get _options(){return r},set _options(e){r=At(At({},r),e)}},trigger:P,register:F,handleSubmit:U,watch:function(e,t){return li(e)?d.values.subscribe({next:function(n){return e(T(void 0,t),n)}}):T(e,t,!0)},setValue:j,getValues:D,reset:z,resetField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Mr(a,e)&&(Lr(t.defaultValue)?j(e,Mr(o,e)):(j(e,t.defaultValue),ni(o,e,t.defaultValue)),t.keepTouched||_i(i.touchedFields,e),t.keepDirty||(_i(i.dirtyFields,e),i.isDirty=t.defaultValue?I(e,Mr(o,e)):I()),t.keepError||(_i(i.errors,e),f.isValid&&y()),d.state.next(At({},i)))},clearErrors:function(e){e&&$r(e).forEach((function(e){return _i(i.errors,e)})),d.state.next({errors:e?i.errors:{}})},unregister:M,setError:L,setFocus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Mr(a,e),r=n&&n._f;if(r){var i=r.refs?r.refs[0]:r.ref;i.focus&&(i.focus(),t.shouldSelect&&i.select())}},getFieldState:R}}var Ki=function(e){var t=e.children,n=e.closeModal,r=e.small;return(0,st.jsx)("div",{className:"popup ".concat(r&&"popup-small"),children:(0,st.jsxs)("div",{className:"popup__content ".concat(r&&"popup__content-small"),children:[(0,st.jsx)("button",{className:"popup__close",onClick:n,children:(0,st.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M6.0006 4.82166L10.1256 0.696655L11.3039 1.87499L7.17893 5.99999L11.3039 10.125L10.1256 11.3033L6.0006 7.17832L1.8756 11.3033L0.697266 10.125L4.82227 5.99999L0.697266 1.87499L1.8756 0.696655L6.0006 4.82166Z",fill:"#12130F"})})}),t]})})};var Hi=n.p+"static/media/hover.c0c6d8f5031719e9c62fd78c00ed8fd7.svg";var Wi=n.p+"static/media/selected.7efede4d2f4b8dc5371e558b9fdbe70d.svg",Gi=function(e){var t=e.closeModal,n=e.isModalOpen,i=e.setIsAddressesUpdating,a=Ye((function(e){return e.user})),o=l((0,r.useState)(""),2),s=o[0],u=o[1],c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.useRef(),n=l(r.useState({isDirty:!1,isValidating:!1,isLoading:li(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:li(e.defaultValues)?void 0:e.defaultValues}),2),i=n[0],a=n[1];t.current||(t.current=At(At({},qi(e,(function(){return a((function(e){return At({},e)}))}))),{},{formState:i}));var o=t.current.control;return o._options=e,Yr({subject:o._subjects.state,next:function(e){Jr(e,o._proxyFormState,o._updateFormState,!0)&&a(At({},o._formState))}}),r.useEffect((function(){e.values&&!Ii(e.values,o._defaultValues)?o._reset(e.values,o._options.resetOptions):o._resetDefaultValues()}),[e.values,o]),r.useEffect((function(){o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(At({},o._formState))),o._removeUnmounted()})),t.current.formState=Gr(i,o),t.current}({mode:"onBlur"}),f=c.register,h=c.formState,d=h.errors,p=h.isValid,v=c.handleSubmit,m=c.reset,g=function(e){u(e.target.value)},y=function(){var e=Ct(Et().mark((function e(n,r){var o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,o=JSON.stringify({token:a.token,data:n}),e.next=5,br.post("https://api.polarpelmeni.com.ua/api/addresses",o,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 5:i(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:return e.prev=11,m(),u(""),t(),e.finish(11);case 16:case"end":return e.stop()}}),e,null,[[1,8,11,16]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,st.jsx)(st.Fragment,{children:n&&(0,st.jsx)(Ki,{closeModal:t,children:(0,st.jsxs)("div",{className:"modal-content",children:[(0,st.jsx)("h2",{className:"modal-content--title",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0430\u0434\u0440\u0435\u0441\u0443"}),(0,st.jsxs)("form",{onSubmit:v((function(e,t){return y(e,t)})),children:[(0,st.jsxs)("div",{className:"modal-grid",children:[(0,st.jsxs)("div",{className:"modal-grid--item-0 grid-item",children:[(0,st.jsx)("p",{className:"grid-item__text",children:"\u041d\u0430\u0437\u0432\u0430 \u0430\u0434\u0440\u0435\u0441\u0438"}),(0,st.jsx)("label",{className:"form_item--label",children:(0,st.jsx)("input",At({type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430 \u0430\u0434\u0440\u0435\u0441\u0438"},f("addressName",{required:!0})))}),(null===d||void 0===d?void 0:d.address)&&(0,st.jsx)("p",{children:"Error!"})]}),(0,st.jsxs)("div",{className:"modal-grid--item-1 grid-item",children:[(0,st.jsx)("p",{className:"grid-item__text",children:"\u0412\u0443\u043b\u0438\u0446\u044f"}),(0,st.jsx)("label",{className:"form_item--label",children:(0,st.jsx)("input",At({type:"text",placeholder:"\u0412\u0443\u043b\u0438\u0446\u044f"},f("streetName",{required:!0,pattern:/^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0457\u0407\u0456\u0406\u0454\u0404\u0451\u0401\u0491\u0490\s]*$/})))}),(0,st.jsx)("div",{height:40,children:(null===d||void 0===d?void 0:d.street)&&(0,st.jsx)("p",{children:"Error!"})})]}),(0,st.jsxs)("div",{className:"modal-grid--item-2 grid-item",children:[(0,st.jsx)("p",{className:"grid-item__text",children:"\u2116 \u0411\u0443\u0434\u0438\u043d\u043a\u0443"}),(0,st.jsx)("label",{className:"form_item--label",children:(0,st.jsx)("input",At({type:"text",placeholder:"\u2116 \u0411\u0443\u0434\u0438\u043d\u043a\u0443"},f("homeNumber",{required:!0})))})]}),(0,st.jsx)("div",{className:"modal-grid--item-3 grid-item grid-radio",children:(0,st.jsxs)("label",{className:"radio",children:[(0,st.jsx)("div",{className:"radio-button",onClick:function(){return g({target:{value:"flat"}})},children:"flat"===s?(0,st.jsx)("img",{src:Wi,alt:"flat"}):(0,st.jsx)("img",{src:Hi,alt:"house"})}),(0,st.jsx)("p",{children:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430"})]})}),(0,st.jsx)("div",{className:"modal-grid--item-4 grid-item grid-radio",children:(0,st.jsxs)("label",{className:"radio",children:[(0,st.jsx)("div",{className:"radio-button",onClick:function(){return g({target:{value:"house"}})},children:"house"===s?(0,st.jsx)("img",{src:Wi,alt:"flat"}):(0,st.jsx)("img",{src:Hi,alt:"house"})}),(0,st.jsx)("p",{children:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a"})]})}),"flat"===s&&(0,st.jsxs)("div",{className:"modal-grid--item-5 flat-grid",children:[(0,st.jsxs)("div",{className:"flat-grid--item-0 grid-item",children:[(0,st.jsx)("p",{className:"grid-item__text",children:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430"}),(0,st.jsx)("label",{className:"form_item--label",children:(0,st.jsx)("input",At({type:"text",placeholder:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430"},f("flatNumber",{required:!0})))})]}),(0,st.jsxs)("div",{className:"flat-grid--item-1 grid-item",children:[(0,st.jsx)("p",{className:"grid-item__text",children:"\u041f\u0430\u0440\u0430\u0434\u043d\u0430"}),(0,st.jsx)("label",{className:"form_item--label",children:(0,st.jsx)("input",At({type:"text",placeholder:"\u041f\u0430\u0440\u0430\u0434\u043d\u0430"},f("entranceNumber",{required:!0})))})]}),(0,st.jsxs)("div",{className:"flat-grid--item-2 grid-item",children:[(0,st.jsx)("p",{className:"grid-item__text",children:"\u041a\u043e\u0434"}),(0,st.jsx)("label",{className:"form_item--label",children:(0,st.jsx)("input",At({type:"text",placeholder:"\u041a\u043e\u0434"},f("entranceCode",{required:!0})))})]}),(0,st.jsxs)("div",{className:"flat-grid--item-3 grid-item",children:[(0,st.jsx)("p",{className:"grid-item__text",children:"\u041f\u043e\u0432\u0435\u0440\u0445"}),(0,st.jsx)("label",{className:"form_item--label",children:(0,st.jsx)("input",At({type:"text",placeholder:"\u041f\u043e\u0432\u0435\u0440\u0445"},f("floar",{required:!0})))})]})]}),(0,st.jsxs)("div",{className:"modal-grid--item-9 grid-item",children:[(0,st.jsx)("p",{className:"grid-item__text",children:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"}),(0,st.jsx)("label",{className:"form_item--label",children:(0,st.jsx)("textarea",At({placeholder:"\u041c\u043e\u0436\u0435\u0442\u0435 \u0442\u0443\u0442 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u0431\u0443\u0434\u044c-\u0449\u043e:)",rows:1},f("comment")))})]})]}),(0,st.jsx)("div",{className:"form-button",children:(0,st.jsx)("button",{className:"btn-main ",type:"submit",disabled:!p,children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"})})]})]})})})};var Qi=n.p+"static/media/add.0c1cda4e87d840898097b0e76907bfc8.svg",Ji=function(e){var t=e.openModal;return(0,st.jsx)("div",{className:"addresses_new",children:(0,st.jsxs)("div",{className:"addresses_new__inner",children:[(0,st.jsx)("button",{onClick:t,children:(0,st.jsx)("img",{className:"addresses_new__inner--icon",src:Qi,alt:"add"})}),(0,st.jsx)("p",{className:"addresses_new__inner--text",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0430\u0434\u0440\u0435\u0441\u0443"})]})})},$i=function(e){var t=e.address,n=e.openModal,r=e.setIsAddressesUpdating,i=Ye((function(e){return e.user})),a=function(){var e=Ct(Et().mark((function e(){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=JSON.stringify({token:i.token,data:t}),e.next=4,br.post("https://api.polarpelmeni.com.ua/api/deleteAddress",n,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:r(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),o=null!==t&&void 0!==t&&t.flatNumber?" , \u043a\u0432. ".concat(null===t||void 0===t?void 0:t.flatNumber):"",s="".concat(t.streetName,", ").concat(t.homeNumber+o);return(0,st.jsx)("div",{className:"addresses_created",children:(0,st.jsxs)("div",{className:"addresses_created__container",children:[(0,st.jsxs)("div",{className:"addresses_created__container--top",children:[(0,st.jsxs)("div",{className:"top-name",children:[(0,st.jsx)("h4",{children:t.addressName}),(0,st.jsx)("button",{onClick:a,children:(0,st.jsx)("img",{src:jt,alt:"cross"})})]}),(0,st.jsx)("div",{className:"top-street",children:(0,st.jsxs)("p",{children:[(0,st.jsx)("span",{children:"\u0412\u0443\u043b\u0438\u0446\u044f"})," ",s]})})]}),(0,st.jsxs)("div",{className:"addresses_created__container--bot",children:[(0,st.jsx)("span",{children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440:"}),(0,st.jsx)("p",{children:t.comment}),(0,st.jsx)("button",{onClick:n,children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"})]})]})})},Yi=function(e){var t=e.handleSidebar,n=Ye((function(e){return e.user})),i=l((0,r.useState)(!1),2),a=i[0],o=i[1],s=l((0,r.useState)([]),2),u=s[0],c=s[1],f=l((0,r.useState)(!1),2),h=f[0],d=f[1];(0,r.useEffect)((function(){var e=function(){var e=Ct(Et().mark((function e(){var t,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=JSON.stringify({token:n.token}),e.next=4,br.post("https://api.polarpelmeni.com.ua/api/auth",t,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 4:r=e.sent,c(r.data.addresses),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,d(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[n.token,h,u]);var p=function(){o((function(e){return!e}))};return(0,st.jsxs)("section",{className:"grid_layout--main addresses",children:[(0,st.jsx)(Ot,{handleSidebar:t,children:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0430\u0434\u0440\u0435\u0441\u0438"}),(0,st.jsxs)("div",{className:"addresses_inner",children:[(0,st.jsx)(Ji,{openModal:p}),(0,st.jsx)(Gi,{closeModal:p,isModalOpen:a,setIsAddressesUpdating:d}),u.length>0&&u.map((function(e){return(0,st.jsx)($i,{address:e,openModal:p,setIsAddressesUpdating:d},e.addressName)}))]})]})},Xi=function(e){var t=e.closeConfirmModal;return(0,st.jsx)(Ki,{closeModal:t,children:(0,st.jsxs)("div",{className:"modal-content",children:[(0,st.jsx)("h2",{className:"modal-content--title",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f?"}),(0,st.jsx)("p",{className:"confirm-text",children:"\u041c\u0438 \u043e\u0447\u0438\u0441\u0442\u0438\u043c\u043e \u043a\u043e\u0448\u0438\u043a \u0456 \u0437\u0430\u043c\u0456\u043d\u0438\u043c\u043e \u043f\u043e\u0442\u043e\u0447\u043d\u0456 \u043f\u043e\u0437\u0438\u0446\u0456\u0457 \u043d\u0430 \u043f\u043e\u0437\u0438\u0446\u0456\u0457 \u0437 \u0446\u044c\u043e\u0433\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,st.jsx)("button",{className:"modal-button confirm",type:"submit",children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"})]})})},Zi=function(e){var t=e.isMainModalOpen,n=e.closeMainModal,r=e.closeConfirmModal,i=e.isConfirmModalOpen,a=e.openConfirmModal;return(0,st.jsxs)(st.Fragment,{children:[t&&(0,st.jsx)(Ki,{closeModal:n,children:(0,st.jsxs)("div",{className:"modal-content",children:[(0,st.jsx)("h2",{className:"modal-content--title",children:"\u0414\u0435\u0442\u0430\u043b\u0456 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,st.jsxs)("div",{className:"modal-content__info",children:[(0,st.jsxs)("div",{className:"title-line",children:[(0,st.jsx)("h4",{children:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u21166648"}),(0,st.jsx)("p",{className:"status",children:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u0435"})]}),(0,st.jsxs)("div",{className:"content-lines",children:[(0,st.jsxs)("div",{className:"content-line",children:[(0,st.jsx)("h5",{children:"\u0414\u0430\u0442\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,st.jsx)("p",{className:"info",children:"18.03.2023, 18:39"})]}),(0,st.jsxs)("div",{className:"content-line",children:[(0,st.jsx)("h5",{children:"\u0410\u0434\u0440\u0435\u0441\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),(0,st.jsx)("p",{className:"info",children:"\u0432\u0443\u043b. \u041c\u0430\u0447\u0442\u043e\u0432\u0430, 10"})]}),(0,st.jsxs)("div",{className:"content-line",children:[(0,st.jsx)("h5",{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d"}),(0,st.jsx)("p",{className:"info",children:"2"})]}),(0,st.jsxs)("div",{className:"content-line",children:[(0,st.jsx)("h5",{children:"\u0421\u043f\u043e\u0441\u0456\u0431 \u043e\u043f\u043b\u0430\u0442\u0438"}),(0,st.jsx)("p",{className:"info",children:"\u041e\u043d\u043b\u0430\u0439\u043d"})]}),(0,st.jsxs)("div",{className:"content-line__comment",children:[(0,st.jsx)("h5",{children:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440 \u0434\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f:"}),(0,st.jsx)("div",{className:"comment",children:(0,st.jsx)("p",{children:"\u041d\u0430\u0442\u0438\u0441\u043d\u0443\u0442\u0438 \u043d\u0430 \u0434\u043e\u043c\u043e\u0444\u043e\u043d\u0456 75\u0415"})})]})]})]}),(0,st.jsx)("div",{className:"modal-content__price",children:(0,st.jsxs)("div",{className:"content-lines",children:[(0,st.jsxs)("div",{className:"content-line",children:[(0,st.jsx)("h5",{children:"\u0421\u0443\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f:"}),(0,st.jsx)("h5",{className:"info",children:"870 \u20b4"})]}),(0,st.jsxs)("div",{className:"content-line",children:[(0,st.jsx)("h5",{children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:"}),(0,st.jsx)("h5",{className:"info",children:"70 \u20b4"})]}),(0,st.jsxs)("div",{className:"title-line bottom",children:[(0,st.jsx)("h4",{children:"\u0412\u0441\u044c\u043e\u0433\u043e \u0434\u043e \u0441\u043f\u043b\u0430\u0442\u0438:"}),(0,st.jsx)("h4",{children:"917 \u20b4"})]})]})}),(0,st.jsx)("button",{className:"modal-button",type:"submit",onClick:a,children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"})]})}),i&&(0,st.jsx)(Xi,{closeConfirmModal:r})]})},ea=function(e){var t=e.handleSidebar,n=l((0,r.useState)(!1),2),i=n[0],a=n[1],o=l((0,r.useState)(!1),2),s=o[0],u=o[1];return(0,st.jsx)(st.Fragment,{children:(0,st.jsxs)("section",{className:"grid_layout--main orders",children:[(0,st.jsx)(Ot,{handleSidebar:t,children:"\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c"}),(0,st.jsx)("div",{className:"order",children:(0,st.jsxs)("div",{className:"order-container",children:[(0,st.jsxs)("div",{className:"order-info",children:[(0,st.jsxs)("div",{className:"order-info__number",children:[(0,st.jsx)("h4",{children:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u21162323"}),(0,st.jsx)("p",{className:"status",children:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u0435"})]}),(0,st.jsx)("div",{className:"order-info__datetime",children:"05.01.2023, 12:30"})]}),(0,st.jsxs)("div",{className:"order-details",children:[(0,st.jsx)("h4",{children:"496 \u20b4"}),(0,st.jsx)("button",{onClick:function(){a(!0)},className:"order-details__modal-link",children:"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0456\u0448\u0435"})]})]})}),(0,st.jsx)(Zi,{isConfirmModalOpen:s,openConfirmModal:function(){u(!0)},closeConfirmModal:function(){u(!1)},closeMainModal:function(){a(!1)},isMainModalOpen:i})]})})},ta=function(e){var t=e.handleSidebar,n=Ye((function(e){return e.user}));return(0,st.jsx)(st.Fragment,{children:(0,st.jsxs)("section",{className:"sidebar-mobile animate",children:[(0,st.jsxs)("div",{className:"profile_info--head__mobile sidebar-mobile__header",children:[(0,st.jsxs)("div",{className:"mobile-inner",children:[(0,st.jsx)("img",{src:"https://via.placeholder.com/70x70",alt:"profile",className:"profile_info--head__photo"}),(0,st.jsxs)("div",{className:"contacts",children:[(0,st.jsx)("div",{className:"contacts_name",children:n.name}),(0,st.jsx)("div",{className:"contacts_phone mobile",children:n.phone}),(0,st.jsx)("div",{className:"contacts_bonuses",children:(0,st.jsx)("p",{children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e 23 \u0431\u043e\u043d\u0443\u0441\u0438"})})]})]}),(0,st.jsx)("div",{className:"mobile-inner",children:(0,st.jsx)(bt,{to:"/",className:"profile_link--mobile--button mobile-inner__cross",onClick:t,children:(0,st.jsx)("img",{src:jt,alt:"cross"})})})]}),(0,st.jsx)("ul",{className:"sidebar-mobile__list",children:["\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f","\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0456 \u0431\u043b\u044e\u0434\u0430","\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0430\u0434\u0440\u0435\u0441\u0438","\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c","\u0411\u043e\u043d\u0443\u0441\u0438","\u0412\u0438\u0445\u0456\u0434"].map((function(e,n){return(0,st.jsx)(_t,{index:n,handleSidebar:t,children:e},n)}))}),(0,st.jsx)("div",{className:"sidebar-mobile__footer",children:(0,st.jsxs)("ul",{className:"sidebar-mobile__footer--list",children:[(0,st.jsx)(bt,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),(0,st.jsx)(bt,{to:"/",children:"\u041c\u0435\u043d\u044e"}),(0,st.jsx)(bt,{to:"/about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"}),(0,st.jsx)(bt,{to:"/contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})]})})]})})},na=function(e){var t=e.handleSidebar;return(0,st.jsx)("div",{children:(0,st.jsx)(Ot,{handleSidebar:t,children:"Coming soon"})})};function ra(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ia(e){return!!e&&!!e[Ga]}function aa(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Qa}(e)||Array.isArray(e)||!!e[Wa]||!!(null===(t=e.constructor)||void 0===t?void 0:t[Wa])||ha(e)||da(e))}function oa(e,t,n){void 0===n&&(n=!1),0===sa(e)?(n?Object.keys:Ja)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function sa(e){var t=e[Ga];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:ha(e)?2:da(e)?3:0}function ua(e,t){return 2===sa(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ca(e,t){return 2===sa(e)?e.get(t):e[t]}function la(e,t,n){var r=sa(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function fa(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function ha(e){return za&&e instanceof Map}function da(e){return qa&&e instanceof Set}function pa(e){return e.o||e.t}function va(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=$a(e);delete t[Ga];for(var n=Ja(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function ma(e,t){return void 0===t&&(t=!1),ya(e)||ia(e)||!aa(e)||(sa(e)>1&&(e.set=e.add=e.clear=e.delete=ga),Object.freeze(e),t&&oa(e,(function(e,t){return ma(t,!0)}),!0)),e}function ga(){ra(2)}function ya(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function ba(e){var t=Ya[e];return t||ra(18,e),t}function ka(e,t){Ya[e]||(Ya[e]=t)}function wa(){return Ua}function xa(e,t){t&&(ba("Patches"),e.u=[],e.s=[],e.v=t)}function _a(e){Sa(e),e.p.forEach(Ia),e.p=null}function Sa(e){e===Ua&&(Ua=e.l)}function Ea(e){return Ua={p:[],l:Ua,h:e,m:!0,_:0}}function Ia(e){var t=e[Ga];0===t.i||1===t.i?t.j():t.g=!0}function Ca(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||ba("ES5").S(t,e,r),r?(n[Ga].P&&(_a(t),ra(4)),aa(e)&&(e=Ta(t,e),t.l||Aa(t,e)),t.u&&ba("Patches").M(n[Ga].t,e,t.u,t.s)):e=Ta(t,n,[]),_a(t),t.u&&t.v(t.u,t.s),e!==Ha?e:void 0}function Ta(e,t,n){if(ya(t))return t;var r=t[Ga];if(!r)return oa(t,(function(i,a){return Na(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Aa(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=va(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),oa(a,(function(t,a){return Na(e,r,i,t,a,n,o)})),Aa(e,i,!1),n&&e.u&&ba("Patches").N(r,n,e.u,e.s)}return r.o}function Na(e,t,n,r,i,a,o){if(ia(i)){var s=Ta(e,i,a&&t&&3!==t.i&&!ua(t.R,r)?a.concat(r):void 0);if(la(n,r,s),!ia(s))return;e.m=!1}else o&&n.add(i);if(aa(i)&&!ya(i)){if(!e.h.D&&e._<1)return;Ta(e,i),t&&t.A.l||Aa(e,i)}}function Aa(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&ma(t,n)}function ja(e,t){var n=e[Ga];return(n?pa(n):e)[t]}function Oa(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Pa(e){e.P||(e.P=!0,e.l&&Pa(e.l))}function Da(e){e.o||(e.o=va(e.t))}function Ra(e,t,n){var r=ha(t)?ba("MapSet").F(t,n):da(t)?ba("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:wa(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=Xa;n&&(i=[r],a=Za);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):ba("ES5").J(t,n);return(n?n.A:wa()).p.push(r),r}function La(e){return ia(e)||ra(22,e),function e(t){if(!aa(t))return t;var n,r=t[Ga],i=sa(t);if(r){if(!r.P&&(r.i<4||!ba("ES5").K(r)))return r.t;r.I=!0,n=Ma(t,i),r.I=!1}else n=Ma(t,i);return oa(n,(function(t,i){r&&ca(r.t,t)===i||la(n,t,e(i))})),3===i?new Set(n):n}(e)}function Ma(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return va(e)}function Fa(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Ga];return Xa.get(t,e)},set:function(t){var n=this[Ga];Xa.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Ga];if(!i.P)switch(i.i){case 5:r(i)&&Pa(i);break;case 4:n(i)&&Pa(i)}}}function n(e){for(var t=e.t,n=e.k,r=Ja(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==Ga){var o=t[a];if(void 0===o&&!ua(t,a))return!0;var s=n[a],u=s&&s[Ga];if(u?u.t!==o:!fa(s,o))return!0}}var c=!!t[Ga];return r.length!==Ja(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};ka("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=$a(n);delete a[Ga];for(var o=Ja(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:wa(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Ga,{value:a,writable:!0}),i},S:function(e,n,i){i?ia(n)&&n[Ga].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Ga];if(n){var i=n.t,a=n.k,o=n.R,s=n.i;if(4===s)oa(a,(function(t){t!==Ga&&(void 0!==i[t]||ua(i,t)?o[t]||e(a[t]):(o[t]=!0,Pa(n)))})),oa(i,(function(e){void 0!==a[e]||ua(a,e)||(o[e]=!1,Pa(n))}));else if(5===s){if(r(n)&&(Pa(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var Va,Ua,Ba="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),za="undefined"!=typeof Map,qa="undefined"!=typeof Set,Ka="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Ha=Ba?Symbol.for("immer-nothing"):((Va={})["immer-nothing"]=!0,Va),Wa=Ba?Symbol.for("immer-draftable"):"__$immer_draftable",Ga=Ba?Symbol.for("immer-state"):"__$immer_state",Qa=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Ja="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,$a=Object.getOwnPropertyDescriptors||function(e){var t={};return Ja(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Ya={},Xa={get:function(e,t){if(t===Ga)return e;var n=pa(e);if(!ua(n,t))return function(e,t,n){var r,i=Oa(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!aa(r)?r:r===ja(e.t,t)?(Da(e),e.o[t]=Ra(e.A.h,r,e)):r},has:function(e,t){return t in pa(e)},ownKeys:function(e){return Reflect.ownKeys(pa(e))},set:function(e,t,n){var r=Oa(pa(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=ja(pa(e),t),a=null==i?void 0:i[Ga];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(fa(n,i)&&(void 0!==n||ua(e.t,t)))return!0;Da(e),Pa(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==ja(e.t,t)||t in e.t?(e.R[t]=!1,Da(e),Pa(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=pa(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){ra(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ra(12)}},Za={};oa(Xa,(function(e,t){Za[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Za.deleteProperty=function(e,t){return Za.set.call(this,e,t,void 0)},Za.set=function(e,t,n){return Xa.set.call(this,e[0],t,n,e[0])};var eo=function(){function e(e){var t=this;this.O=Ka,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&ra(6),void 0!==r&&"function"!=typeof r&&ra(7),aa(e)){var s=Ea(t),u=Ra(t,e,void 0),c=!0;try{o=n(u),c=!1}finally{c?_a(s):Sa(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return xa(s,r),Ca(e,s)}),(function(e){throw _a(s),e})):(xa(s,r),Ca(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===Ha&&(o=void 0),t.D&&ma(o,!0),r){var l=[],f=[];ba("Patches").M(e,o,l,f),r(l,f)}return o}ra(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){aa(e)||ra(8),ia(e)&&(e=La(e));var t=Ea(this),n=Ra(this,e,void 0);return n[Ga].C=!0,Sa(t),n},t.finishDraft=function(e,t){var n=(e&&e[Ga]).A;return xa(n,t),Ca(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!Ka&&ra(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=ba("Patches").$;return ia(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),to=new eo,no=to.produce,ro=(to.produceWithPatches.bind(to),to.setAutoFreeze.bind(to),to.setUseProxies.bind(to),to.applyPatches.bind(to),to.createDraft.bind(to),to.finishDraft.bind(to),no);function io(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ao="function"===typeof Symbol&&Symbol.observable||"@@observable",oo=function(){return Math.random().toString(36).substring(7).split("").join(".")},so={INIT:"@@redux/INIT"+oo(),REPLACE:"@@redux/REPLACE"+oo(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+oo()}};function uo(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function co(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(io(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(io(1));return n(co)(e,t)}if("function"!==typeof e)throw new Error(io(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(io(3));return a}function f(e){if("function"!==typeof e)throw new Error(io(4));if(u)throw new Error(io(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(io(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!uo(e))throw new Error(io(7));if("undefined"===typeof e.type)throw new Error(io(8));if(u)throw new Error(io(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:so.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(io(10));i=e,h({type:so.REPLACE})}})[ao]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(io(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[ao]=function(){return this},e},r}function lo(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:so.INIT}))throw new Error(io(12));if("undefined"===typeof n(void 0,{type:so.PROBE_UNKNOWN_ACTION()}))throw new Error(io(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(io(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function fo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function ho(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(io(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=fo.apply(void 0,a)(n.dispatch),At(At({},n),{},{dispatch:r})}}}function po(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var vo=po();vo.withExtraArgument=po;var mo=vo,go=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yo=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},bo=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},ko=Object.defineProperty,wo=Object.defineProperties,xo=Object.getOwnPropertyDescriptors,_o=Object.getOwnPropertySymbols,So=Object.prototype.hasOwnProperty,Eo=Object.prototype.propertyIsEnumerable,Io=function(e,t,n){return t in e?ko(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Co=function(e,t){for(var n in t||(t={}))So.call(t,n)&&Io(e,n,t[n]);if(_o)for(var r=0,i=_o(t);r<i.length;r++){n=i[r];Eo.call(t,n)&&Io(e,n,t[n])}return e},To=function(e,t){return wo(e,xo(t))},No=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},Ao="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?fo:fo.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function jo(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Oo=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return go(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,bo([void 0],e[0].concat(this)))):new(t.bind.apply(t,bo([void 0],e.concat(this))))},t}(Array),Po=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return go(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,bo([void 0],e[0].concat(this)))):new(t.bind.apply(t,bo([void 0],e.concat(this))))},t}(Array);function Do(e){return aa(e)?ro(e,(function(){})):e}function Ro(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Oo);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(mo.withExtraArgument(n.extraArgument)):r.push(mo));0;return r}(e)}}function Lo(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Co(Co({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Mo(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Fo(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Do(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function c(){var t="function"===typeof e.extraReducers?Mo(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,u=t[2],c=void 0===u?void 0:u,l=Co(Co({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?Mo(t):[t,n,r],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return Do(e())};else{var c=Do(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=bo([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(ia(e))return void 0===(r=n(e,t))?e:r;if(aa(e))return ro(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[c]=n,u[e]=r?Lo(c,r):Lo(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var Vo=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Uo=["name","message","stack","code"],Bo=function(e,t){this.payload=e,this.meta=t},zo=function(e,t){this.payload=e,this.meta=t},qo=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=Uo;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=Lo(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:To(Co({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=Lo(e+"/pending",(function(e,t,n){return{payload:void 0,meta:To(Co({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=Lo(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||qo)(e||"Rejected"),meta:To(Co({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):Vo(),h=new o;function d(e){l=e,h.abort()}var p=function(){return No(this,null,(function(){var o,p,v,m,g,y;return yo(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:u,extra:c}),null===(k=m)||"object"!==typeof k||"function"!==typeof k.then?[3,2]:[4,m];case 1:m=b.sent(),b.label=2;case 2:if(!1===m||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,g=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),s(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:u,extra:c}))),[4,Promise.race([g,Promise.resolve(t(e,{dispatch:s,getState:u,extra:c,requestId:f,signal:h.signal,abort:d,rejectWithValue:function(e,t){return new Bo(e,t)},fulfillWithValue:function(e,t){return new zo(e,t)}})).then((function(t){if(t instanceof Bo)throw t;return t instanceof zo?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=b.sent(),[3,5];case 4:return y=b.sent(),v=y instanceof Bo?a(null,f,e,y.payload,y.meta):a(y,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||s(v),[2,v]}var k}))}))}();return Object.assign(p,{abort:d,requestId:f,arg:e,unwrap:function(){return p.then(Ko)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function Ko(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var Ho="listenerMiddleware";Lo(Ho+"/add"),Lo(Ho+"/removeAll"),Lo(Ho+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var Wo,Go=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Go(10);Fa();var Qo=Fo({name:"shoppingCart",initialState:{products:[],promocode:!1},reducers:{addProduct:function(e,t){var n=e.products.find((function(e){return e.id===t.payload.id}));if(n)n.count+=1,n.totalPrice=n.price*n.count;else{var r={preview:t.payload.preview,name:t.payload.name,price:t.payload.price,count:t.payload.count,weight:t.payload.weight,cart_index:e.products.length,id:t.payload.id,ingredients:e.products.ingredients};r.totalPrice=r.price*r.count,e.products.push(r)}localStorage.setItem("shoppingCart",JSON.stringify(e.products))},removeProduct:function(e,t){e.products=e.products.filter((function(e){return e.id!==t.payload.id})),localStorage.setItem("shoppingCart",JSON.stringify(e.products))},updateCount:function(e,t){e.products.find((function(e){return e.cart_index===t.payload.cart_index}));e.products[t.payload.cart_index].count=t.payload.count,e.products[t.payload.cart_index].totalPrice=e.products[t.payload.cart_index].price*t.payload.count,localStorage.setItem("shoppingCart",JSON.stringify(e.products))},getFromLocalStorage:function(e){var t=localStorage.getItem("shoppingCart");null!==JSON.parse(t)&&(e.products=JSON.parse(t))},cartPromocode:function(e){e.promocode=!0}}}),Jo=Qo.actions,$o=Jo.addProduct,Yo=Jo.removeProduct,Xo=Jo.updateCount,Zo=Jo.getFromLocalStorage,es=Jo.cartPromocode,ts=Qo.reducer,ns=Fo({name:"user",initialState:{isAuthenticated:!1,city:null,name:null,phone:null,email:null,token:null,promocode40:!1,favoritProducts:[]},reducers:{userLogin:function(e,t){e.isAuthenticated=!0,e.name=t.payload.name,e.phone=t.payload.phone,e.email=t.payload.email,e.token=t.payload.token,e.promocode40=t.payload.promocode40,localStorage.setItem("userData",JSON.stringify(e))},userLogout:function(e){e.isAuthenticated=!1,e.name=null,e.phone=null,e.email=null,e.token=null,e.promocode40=!1,localStorage.removeItem("userData")},updateCity:function(e,t){e.city=t.payload.city,localStorage.setItem("userData",JSON.stringify(e))},addToFavorit:function(e,t){var n={preview:t.payload.preview,name:t.payload.name,price:t.payload.price,count:1,weight:t.payload.weight,id:t.payload.id,ingredients:t.payload.ingredients};e.favoritProducts.push(n),e.isAuthenticated&&localStorage.setItem("favoritProducts",JSON.stringify(e.favoritProducts))},removeFromFavorit:function(e,t){var n=t.payload.id;e.favoritProducts=e.favoritProducts.filter((function(e){return e.id!==n})),e.isAuthenticated&&localStorage.setItem("favoritProducts",JSON.stringify(e.favoritProducts))},userPromocode:function(e){e.promocode40=!1,localStorage.setItem("userData",JSON.stringify(e))},loadFromLocalStorage:function(e){var t=localStorage.getItem("favoritProducts"),n=JSON.parse(t);e.favoritProducts=n}}}),rs=ns.actions,is=rs.userLogin,as=rs.userLogout,os=rs.updateCity,ss=rs.addToFavorit,us=rs.removeFromFavorit,cs=rs.loadFromLocalStorage,ls=rs.userPromocode,fs=ns.reducer,hs=Fo({name:"popupActions",initialState:{currentAction:""},reducers:{setActions:function(e,t){e.currentAction=t.payload.action}}}),ds=hs.actions.setActions,ps=hs.reducer,vs=function(e){var t=we(),n=ot(),i=l((0,r.useState)(1),2),a=i[0],o=i[1],s=l((0,r.useState)(!1),2),u=s[0],c=s[1],f=l((0,r.useState)(!1),2),h=f[0],d=f[1],p=Ye((function(e){return e.user.favoritProducts}));Ye((function(e){return e.shoppingCart.products}));return(0,r.useEffect)((function(){p&&(p.some((function(t){return t.id===e.id}))?c(!0):c(!1))}),[p,e.id]),(0,st.jsxs)("div",{className:"product",children:[(0,st.jsx)("div",{className:"product__cta",children:(0,st.jsx)("div",{className:"product__like ".concat(!0===u&&"product__like-active"),onClick:function(){p.some((function(t){return t.id===e.id}))?n(us({id:e.id})):(n(ds({action:"addToFavorit"})),setTimeout((function(){n(ds({action:""}))}),2e3),n(ss({name:e.name,price:e.price,count:a,preview:e.preview,weight:e.weight,id:e.id,ingredients:e.ingredients})))},children:(0,st.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"transparent",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M8.5097 3.13486L7.99967 3.68282L7.48964 3.13486C6.08123 1.62171 3.79773 1.62171 2.38932 3.13486C0.980904 4.648 0.980904 7.10129 2.38932 8.61444L6.97961 13.5461C7.54297 14.1513 8.45637 14.1513 9.01974 13.5461L13.61 8.61444C15.0184 7.10129 15.0184 4.648 13.61 3.13486C12.2016 1.62171 9.91812 1.62171 8.5097 3.13486Z",stroke:"white",strokeWidth:"1.5",strokeLinejoin:"round"})})})}),(0,st.jsxs)("div",{className:"product__preview",children:[(0,st.jsx)("img",{src:e.preview,alt:e.name,onClick:function(){return t("/product/".concat(e.id))}}),!0===h?(0,st.jsxs)("button",{className:"product__inCart",children:[(0,st.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M6.66715 10.1138L12.7954 3.9856L13.7382 4.9284L6.66715 11.9994L2.4245 7.75685L3.36731 6.81405L6.66715 10.1138Z",fill:"#92939A"})}),(0,st.jsx)("p",{children:" \u0414\u043e\u0434\u0430\u043d\u043e \u0434\u043e \u043a\u043e\u0448\u0438\u043a\u0443"})]}):(0,st.jsx)("button",{className:"product__addToCard",onClick:function(){n($o({name:e.name,price:e.price,count:a,preview:e.preview,weight:e.weight,id:e.id,ingredients:e.ingredients})),n(ds({action:"addToCard"})),d(!0),setTimeout((function(){d(!1),n(ds({action:""}))}),2e3)},children:"\u0412 \u043a\u043e\u0448\u0438\u043a"})]}),(0,st.jsxs)("div",{className:"product__info",children:[(0,st.jsxs)("p",{className:"product__weight",children:[e.weight," \u0433"]}),(0,st.jsx)("h4",{className:"product__name",children:e.name}),(0,st.jsx)("p",{className:"product__composition",children:e.ingredients})]}),(0,st.jsxs)("div",{className:"product__order",children:[(0,st.jsx)("div",{className:"product__price",children:(0,st.jsxs)("div",{className:"product__total-price",children:[e.price*a," \u20b4"]})}),(0,st.jsxs)("div",{className:"counter",children:[(0,st.jsx)("div",{className:"counter__btn",onClick:function(){a>1&&o(a-1)},children:"-"}),(0,st.jsx)("div",{className:"counter__value",children:a}),(0,st.jsx)("div",{className:"counter__btn",onClick:function(){return o(a+1)},children:"+"})]})]})]})},ms=function(e){var t=e.handleSidebar,n=l((0,r.useState)([]),2),i=n[0],a=n[1],o=localStorage.getItem("favoritProducts");return(0,r.useEffect)((function(){a(JSON.parse(o))}),[o]),(0,st.jsxs)("section",{className:"grid_layout--main favorites",children:[(0,st.jsx)(Ot,{handleSidebar:t,children:"\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0456 \u0431\u043b\u044e\u0434\u0430"}),i&&i.map((function(e){return(0,st.jsx)(vs,{preview:e.preview,name:e.name,price:e.price,weight:e.weight,id:e.id,ingredients:e.ingredients},e.id)}))]})},gs=function(e){var t=e.handleSidebar;return(0,st.jsx)(st.Fragment,{children:(0,st.jsxs)("section",{className:"grid_layout--main orders",children:[(0,st.jsx)(Ot,{handleSidebar:t,children:"\u0411\u043e\u043d\u0443\u0441\u0438"}),(0,st.jsx)("div",{className:"order",children:(0,st.jsx)("div",{className:"order-container",children:(0,st.jsx)("div",{className:"order-info",children:(0,st.jsxs)("div",{className:"order-info__number",children:[(0,st.jsx)("h4",{children:"\u041f\u0435\u0440\u0448\u0435 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f - 40% \u0437\u043d\u0438\u0436\u043a\u0430"}),(0,st.jsx)("p",{className:"status",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u0430"})]})})})})]})})},ys=function(e){var t=e.pathlink,n=e.handleSidebar,r=e.isSidebarClosed;return(0,st.jsx)(st.Fragment,{children:function(){switch(t){case"info":return(0,st.jsx)(kr,{handleSidebar:n,isSidebarClosed:r});case"addresses":return(0,st.jsx)(Yi,{handleSidebar:n});case"history":return(0,st.jsx)(ea,{handleSidebar:n});case"":return(0,st.jsx)(ta,{handleSidebar:n});case"favourite":return(0,st.jsx)(ms,{handleSidebar:n});case"bonuses":return(0,st.jsx)(gs,{handleSidebar:n});default:return(0,st.jsx)(na,{handleSidebar:n})}}()})},bs=function(){var e=l((0,r.useState)(!1),2),t=e[0],n=e[1],i=be().pathname.replace("/profile/","");return console.log(t),(0,st.jsx)(st.Fragment,{children:(0,st.jsx)(ut,{children:(0,st.jsxs)(ct,{children:[(0,st.jsx)(St,{pathlink:i}),(0,st.jsx)(ys,{pathlink:i,handleSidebar:function(){n((function(e){return!e}))},isSidebarClosed:t})]})})})};function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ks.apply(this,arguments)}var ws=new Map,xs=new WeakMap,_s=0,Ss=void 0;function Es(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return"".concat(t,"_").concat("root"===t?function(e){return e?(xs.has(e)||(_s+=1,xs.set(e,_s.toString())),xs.get(e)):"0"}(e.root):e[t])})).toString()}function Is(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ss;if("undefined"===typeof window.IntersectionObserver&&void 0!==r){var i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var a=function(e){var t=Es(e),n=ws.get(t);if(!n){var r,i=new Map,a=new IntersectionObserver((function(t){t.forEach((function(t){var n,a=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=a),null==(n=i.get(t.target))||n.forEach((function(e){e(a,t)}))}))}),e);r=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:a,elements:i},ws.set(t,n)}return n}(n),o=a.id,s=a.observer,u=a.elements,c=u.get(e)||[];return u.has(e)||u.set(e,c),c.push(t),s.observe(e),function(){c.splice(c.indexOf(t),1),0===c.length&&(u.delete(e),s.unobserve(e)),0===u.size&&(s.disconnect(),ws.delete(o))}}var Cs=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function Ts(e){return"function"!==typeof e.children}var Ns=function(e){b(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).node=null,r._unobserveCb=null,r.handleNode=function(e){r.node&&(r.unobserve(),e||r.props.triggerOnce||r.props.skip||r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=e||null,r.observeNode()},r.handleChange=function(e,t){e&&r.props.triggerOnce&&r.unobserve(),Ts(r.props)||r.setState({inView:e,entry:t}),r.props.onChange&&r.props.onChange(e,t)},r.state={inView:!!e.initialInView,entry:void 0},r}return g(n,[{key:"componentDidUpdate",value:function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())}},{key:"componentWillUnmount",value:function(){this.unobserve(),this.node=null}},{key:"observeNode",value:function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin,i=e.trackVisibility,a=e.delay,o=e.fallbackInView;this._unobserveCb=Is(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r,trackVisibility:i,delay:a},o)}}},{key:"unobserve",value:function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}},{key:"render",value:function(){if(!Ts(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var i=this.props,a=i.children,o=i.as,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(i,Cs);return r.createElement(o||"div",ks({ref:this.handleNode},s),a)}}]),n}(r.Component);var As=function(e){return(0,st.jsxs)("button",{className:"btn btn-main ".concat(!0===e.fullWide&&"btn-main-fw"," "),onClick:e.onClick,disabled:e.disabled,children:[e.name,e.arrow&&(0,st.jsx)("svg",{width:"17",height:"20",viewBox:"0 0 17 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M9.16645 11.7814L12.7425 8.20535L13.6851 9.14802L8.49979 14.3334L3.31445 9.14802L4.25712 8.20535L7.83312 11.7814V3.66669H9.16645V11.7814Z",fill:"#12130F"})})]})},js=function(e){var t=e.title,n=e.desc,r=e.image_mob,i=e.image_desktop,a=e.index;return(0,st.jsx)("div",{className:"banner","data-index":a,children:(0,st.jsxs)("div",{className:"banner__content",children:[(0,st.jsxs)("div",{className:"banner__info",children:[(0,st.jsx)("div",{className:"banner__logo",children:(0,st.jsxs)("svg",{width:"47",height:"47",viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,st.jsx)("path",{d:"M45.5628 5.14991C45.025 3.9572 44.0271 2.99915 42.7844 2.48232C42.1377 2.21378 41.426 2.06299 40.6777 2.06299C39.9294 2.06299 39.2173 2.21378 38.571 2.48232C37.395 2.97105 36.4428 3.85846 35.8881 4.96359C34.5981 4.02661 33.1898 3.23298 31.6867 2.60832C29.2083 1.57756 26.4815 1 23.614 1C20.7461 1 18.0189 1.57756 15.5417 2.60667C13.9738 3.25859 12.5103 4.09725 11.1751 5.08794C10.6308 3.92415 9.64888 2.98964 8.42857 2.48232C7.78227 2.21378 7.07014 2.06299 6.32186 2.06299C5.57358 2.06299 4.86188 2.21378 4.21515 2.48232C2.97246 2.99915 1.97461 3.9572 1.43675 5.14991C1.15706 5.77085 1 6.45417 1 7.17302C1 7.89146 1.15663 8.57478 1.43675 9.19571C1.97461 10.3888 2.97246 11.3469 4.21515 11.8633C4.5327 11.9955 4.86704 12.098 5.21299 12.1694C5.10456 12.3872 4.99699 12.6053 4.89673 12.8271C3.82315 15.2072 3.2216 17.8256 3.2216 20.5792V46C3.77281 45.6546 4.32702 45.3138 4.89673 44.9957C10.4075 41.9273 16.7991 40.1604 23.6153 40.1604C26.4815 40.1604 29.2096 39.5824 31.6867 38.5529C36.4479 36.574 40.2715 32.9029 42.3326 28.3316C43.4066 25.9519 44.0069 23.3339 44.0069 20.5808C44.0069 17.8273 43.4049 15.2089 42.3326 12.8288C42.2246 12.5888 42.1084 12.3529 41.9905 12.1178C42.2633 12.0505 42.5301 11.9691 42.7844 11.8633C44.0271 11.3469 45.025 10.3888 45.5628 9.19571C45.8429 8.57478 46 7.89146 46 7.17302C46 6.45417 45.8425 5.77085 45.5628 5.14991Z",fill:"white"}),(0,st.jsx)("path",{d:"M45.5628 5.14991C45.025 3.9572 44.0271 2.99915 42.7844 2.48232C42.1377 2.21378 41.426 2.06299 40.6777 2.06299C39.9294 2.06299 39.2173 2.21378 38.571 2.48232C37.395 2.97105 36.4428 3.85846 35.8881 4.96359C34.5981 4.02661 33.1898 3.23298 31.6867 2.60832C29.2083 1.57756 26.4815 1 23.614 1C20.7461 1 18.0189 1.57756 15.5417 2.60667C13.9738 3.25859 12.5103 4.09725 11.1751 5.08794C10.6308 3.92415 9.64888 2.98964 8.42857 2.48232C7.78227 2.21378 7.07014 2.06299 6.32186 2.06299C5.57358 2.06299 4.86188 2.21378 4.21515 2.48232C2.97246 2.99915 1.97461 3.9572 1.43675 5.14991C1.15706 5.77085 1 6.45417 1 7.17302C1 7.89146 1.15663 8.57478 1.43675 9.19571C1.97461 10.3888 2.97246 11.3469 4.21515 11.8633C4.5327 11.9955 4.86704 12.098 5.21299 12.1694C5.10456 12.3872 4.99699 12.6053 4.89673 12.8271C3.82315 15.2072 3.2216 17.8256 3.2216 20.5792V46C3.77281 45.6546 4.32702 45.3138 4.89673 44.9957C10.4075 41.9273 16.7991 40.1604 23.6153 40.1604C26.4815 40.1604 29.2096 39.5824 31.6867 38.5529C36.4479 36.574 40.2715 32.9029 42.3326 28.3316C43.4066 25.9519 44.0069 23.3339 44.0069 20.5808C44.0069 17.8273 43.4049 15.2089 42.3326 12.8288C42.2246 12.5888 42.1084 12.3529 41.9905 12.1178C42.2633 12.0505 42.5301 11.9691 42.7844 11.8633C44.0271 11.3469 45.025 10.3888 45.5628 9.19571C45.8429 8.57478 46 7.89146 46 7.17302C46 6.45417 45.8425 5.77085 45.5628 5.14991Z",stroke:"#12130F",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,st.jsx)("path",{d:"M13.1195 16.6365C13.1195 15.6334 12.2727 14.8204 11.2279 14.8204C10.1828 14.8204 9.33594 15.6334 9.33594 16.6365C9.33594 17.6396 10.1828 18.4526 11.2279 18.4526C12.2727 18.4526 13.1195 17.6396 13.1195 16.6365Z",fill:"#12130F"}),(0,st.jsx)("path",{d:"M38.0687 16.6365C38.0687 15.6334 37.2219 14.8204 36.1772 14.8204C35.132 14.8204 34.2852 15.6334 34.2852 16.6365C34.2852 17.6396 35.132 18.4526 36.1772 18.4526C37.2219 18.4526 38.0687 17.6396 38.0687 16.6365Z",fill:"#12130F"}),(0,st.jsx)("path",{d:"M22.6825 28.3741C23.2298 29.0285 24.2672 29.0285 24.8146 28.3741L26.5693 26.2754L27.6059 25.0351C28.3236 24.1762 27.6868 22.9013 26.5396 22.9013H23.7487H20.9574C19.8103 22.9013 19.1734 24.1762 19.8912 25.0351L20.9277 26.2754L22.6825 28.3741Z",fill:"#12130F"}),(0,st.jsx)("path",{d:"M23.3232 31.7015H24.0702V27.1769H23.3232V31.7015Z",fill:"#12130F"}),(0,st.jsx)("path",{d:"M21.5324 30.7709C21.9554 31.0547 22.3241 31.2109 22.6701 31.2997C23.0152 31.3873 23.3392 31.4121 23.6968 31.4158C24.0543 31.4104 24.3779 31.3857 24.7226 31.2985C25.0677 31.2097 25.4369 31.0539 25.8611 30.7709C25.9283 31.2762 25.6645 31.788 25.2407 32.1363C24.8134 32.4883 24.232 32.6569 23.6968 32.6548C23.1615 32.6552 22.581 32.4867 22.1537 32.1351C21.7303 31.7864 21.467 31.2753 21.5324 30.7709Z",fill:"#12130F"})]})}),(0,st.jsx)("h3",{className:"title__h1 text__color--secondary",children:t}),(0,st.jsx)("p",{className:"text",children:n}),(0,st.jsx)(As,{name:"\u0414\u0438\u0432\u0438\u0442\u0438\u0441\u044c \u043c\u0435\u043d\u044e",arrow:!0,onClick:function(){document.querySelector("#menu").scrollIntoView({behavior:"smooth"})}})]}),(0,st.jsxs)("picture",{className:"banner__preview",children:[(0,st.jsx)("source",{media:"(max-width: 786px)",srcSet:r}),(0,st.jsx)("source",{media:"(min-width: 787px)",srcSet:i}),(0,st.jsx)("img",{src:r,alt:""})]})]})})},Os=n.p+"static/media/banner1.064356126c1cf74c9bdc.png",Ps=n.p+"static/media/banner2.a9ab2dc965221294a1c7.png",Ds=n.p+"static/media/banner3.a47a41a33ceb6c6cc6b7.png",Rs=n.p+"static/media/banner1_mob.2149d7a6dd26c621b389.png",Ls=n.p+"static/media/banner2_mob.e8e3a6d22f1998b2ef13.png",Ms=n.p+"static/media/banner3_mob.fe14d85da03d6c38dea5.png",Fs=function(){var e=l((0,r.useState)(0),2),t=e[0],n=e[1],i=l((0,r.useState)("right"),2),a=i[0],o=i[1],s=(0,r.useRef)(null);return(0,r.useEffect)((function(){if(s.current){if("right"===a){var e=setInterval((function(){s.current.scrollBy({left:100,behavior:"smooth"})}),7e3);return function(){clearInterval(e)}}if("left"===a){var t=setInterval((function(){s.current.scrollBy({left:-100,behavior:"smooth"})}),7e3);return function(){clearInterval(t)}}}}),[a]),(0,st.jsx)("div",{className:"slider",children:(0,st.jsxs)("div",{className:"slider__wrapper",children:[(0,st.jsxs)("div",{className:"slider__track",ref:s,children:[(0,st.jsx)(Ns,{threshold:.2,as:"div",onChange:function(e,t){e&&(n(t.target.firstChild.dataset.index),o("right"))},style:{flexShrink:0},children:(0,st.jsx)(js,{title:"Polar \u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430",desc:"\u041d\u0435\u043e\u0431\u043e\u0432\u2019\u044f\u0437\u043a\u043e\u0432\u043e \u043f\u043e\u043a\u0438\u0434\u0430\u0442\u0438 \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0435 \u043b\u0456\u0436\u043a\u043e \u0430\u0431\u043e \u0436 \u0432\u0437\u0430\u0433\u0430\u043b\u0456 \u0432\u0438\u0445\u043e\u0434\u0438\u0442\u0438 \u0437 \u0434\u043e\u043c\u0443, \u0430\u0431\u0438 \u043f\u043e\u043b\u0430\u0441\u0443\u0432\u0430\u0442\u0438 \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u043c\u0438 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u044f\u043c\u0438!",image_mob:Rs,image_desktop:Os,index:0})}),(0,st.jsx)(Ns,{threshold:.2,style:{flexShrink:0},as:"div",onChange:function(e,t){e&&n(t.target.firstChild.dataset.index)},children:(0,st.jsx)(js,{title:"\u041b\u044e\u0431\u043e\u0432 \u0437 \u043f\u0435\u0440\u0448\u043e\u0433\u043e \u043f\u043e\u0433\u043b\u044f\u0434\u0443 \u0456\u0441\u043d\u0443\u0454... ",desc:"\u041d\u0430\u0441\u043e\u043b\u043e\u0434\u0436\u0443\u0439\u0442\u0435\u0441\u044c \u0441\u043c\u0430\u0447\u043d\u043e\u044e \u0457\u0436\u0435\u044e \u0442\u0430 \u0431\u0443\u0434\u044c\u0442\u0435 \u043a\u043e\u0445\u0430\u043d\u0438\u043c\u0438 \u0432 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",image_mob:Ls,image_desktop:Ps,index:1})}),(0,st.jsx)(Ns,{threshold:.2,style:{flexShrink:0},as:"div",onChange:function(e,t){e&&(n(t.target.firstChild.dataset.index),o("left"))},children:(0,st.jsx)(js,{title:"\u0417\u0430\u043c\u043e\u0432\u043b\u044f\u0439 \u0441\u043c\u0430\u043a\u043e\u043b\u0438\u043a\u0438 \u0432\u0456\u0434 \u041f\u043e\u043b\u0430\u0440 \u0434\u043e\u0434\u043e\u043c\u0443",desc:"\u0428\u0432\u0438\u0434\u043a\u043e, \u044f\u043a\u0441\u0456\u043d\u043e \u0456 \u0441\u043c\u0430\u0447\u043d\u043e",image_mob:Ms,image_desktop:Ds,index:2})})]}),(0,st.jsxs)("div",{className:"slider__dots",children:[(0,st.jsx)("div",{className:"slider__dot ".concat(0==t&&"slider__dot-active")}),(0,st.jsx)("div",{className:"slider__dot ".concat(1==t&&"slider__dot-active")}),(0,st.jsx)("div",{className:"slider__dot ".concat(2==t&&"slider__dot-active")})]})]})})},Vs=function(){var e=xe().id,t=(Ye((function(e){return e.user})).token,l((0,r.useState)(null),2)),n=t[0],i=t[1],a=l((0,r.useState)([]),2),o=a[0],s=a[1],u=l((0,r.useState)([]),2),c=u[0],f=u[1],h=l((0,r.useState)([]),2),d=(h[0],h[1]),p=localStorage.getItem("favoritProducts");return(0,r.useEffect)((function(){e&&i(e)}),[e]),(0,r.useEffect)((function(){br.get("https://api.polarpelmeni.com.ua/api/menu",{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){var t=e.data.response.filter((function(e){return e.category_name.startsWith("onlineOrder:")})).map((function(e,t){return{category_name:e.category_name.replace(/onlineOrder: /,""),category_id:e.category_id,category_position_index:t}}));t[13].category_position_index=0,t[12].category_position_index=1,t[11].category_position_index=2,t[8].category_position_index=3,t[10].category_position_index=4,t[9].category_position_index=5,t[2].category_position_index=6,t[3].category_position_index=7,t[0].category_position_index=8,t[6].category_position_index=9,t[4].category_position_index=10,t[7].category_position_index=11,t[1].category_position_index=12,t[5].category_position_index=13,t.sort((function(e,t){return e.category_position_index-t.category_position_index})),console.log(t),i(t[0].category_id),s(t)})).catch((function(e){return console.error(e)}))}),[]),(0,r.useEffect)((function(){!function(e){var t=JSON.stringify({categoryId:e});br.post("https://api.polarpelmeni.com.ua/api/products",t,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){var t=e.data.response.map((function(e){return{photo:e.photo_origin,product_name:e.product_name,price:e.price,out:e.out,product_id:e.product_id,ingredients:e.product_production_description}}));f(t)})).catch((function(e){return console.error(e)}))}(n)}),[n]),(0,r.useEffect)((function(){d(JSON.parse(p))}),[p]),(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{className:"categories",id:"menu",children:[(0,st.jsx)("h1",{className:"title__h1",children:"\u041a\u0443\u0448\u0442\u0443\u0439 \u0442\u0456\u043b\u044c\u043a\u0438 \u043d\u0430\u0439\u0441\u043c\u0430\u0447\u043d\u0456\u0448\u0435"}),(0,st.jsx)("div",{className:"categories__list",children:o.map((function(e){return(0,st.jsx)("button",{className:"categories__btn ".concat(n===e.category_id?"categories__btn-active":""),onClick:function(){return i(e.category_id)},children:e.category_name},e.category_id)}))})]}),(0,st.jsx)("div",{className:"menu__products",children:c.map((function(e){return(0,st.jsx)(vs,{preview:"https://polar-pelmeni-odessa.joinposter.com"+e.photo,name:e.product_name,price:parseInt(e.price[1].slice(0,-2)),ingredients:e.ingredients,weight:e.out,id:e.product_id},e.product_id)}))})]})},Us=function(e){var t=e.direction;return(0,st.jsx)("div",{className:"button-arrow button-arrow-".concat(t),children:(0,st.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M10.4763 7.83307L6.00634 12.3031L7.18467 13.4814L13.6663 6.99973L7.18467 0.518066L6.00634 1.6964L10.4763 6.1664L0.333008 6.1664L0.333008 7.83307L10.4763 7.83307Z",fill:"#12130F"})})})},Bs="https://polar-pelmeni-odessa.joinposter.com",zs=function(){var e=xe().id,t=ot(),n=l((0,r.useState)(1),2),i=n[0],a=n[1],o=l((0,r.useState)(!1),2),s=o[0],u=o[1],c=l((0,r.useState)(null),2),f=c[0],h=c[1],d=l((0,r.useState)(null),2),p=d[0],v=d[1],m=l((0,r.useState)(null),2),g=m[0],y=m[1];(0,r.useEffect)((function(){if(f){var e=f.product_production_description.split(", ");v(e)}}),[f]),(0,r.useEffect)((function(){var t={productId:e},n=JSON.stringify(t);br.post("https://api.polarpelmeni.com.ua/api/product",n,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){console.log("pp",e),h(e.data.response);var t=JSON.stringify({categoryId:e.data.response.menu_category_id});br.post("https://api.polarpelmeni.com.ua/api/products",t,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){var t=e.data.response.map((function(e){return{photo:e.photo_origin,product_name:e.product_name,price:e.price,out:e.out,product_id:e.product_id,ingredients:e.product_production_description}}));y(t)}))})).catch((function(e){return console.error(e)}))}),[e]);var b=Ye((function(e){return e.shoppingCart.products}));return(0,r.useEffect)((function(){b&&(b.some((function(t){return t.id==e}))?u(!0):u(!1))}),[b,e]),null!==f&&!1!==f?(0,st.jsx)("div",{children:(0,st.jsx)("div",{className:"product-page",children:(0,st.jsxs)(ut,{children:[(0,st.jsxs)("div",{className:"product-page__content",children:[(0,st.jsx)("div",{className:"product-page__preview",children:(0,st.jsx)("img",{src:Bs+f.photo_origin,alt:""})}),(0,st.jsxs)("div",{className:"product-page__info",children:[(0,st.jsxs)("p",{className:"product-page__weight text text__color--secondary",children:[f.cost," \u0433"]}),(0,st.jsx)("h1",{className:"product-page__title text__color--secondary",children:f.product_name}),f.group_modifications&&(0,st.jsx)("p",{className:"product-page__desc text__color--secondary",children:f.group_modifications.map((function(e,t){return f.group_modifications.length===t+1?"".concat(e.name):"".concat(e.name,", ")}))}),(0,st.jsxs)("p",{className:"product-page__price text-price text__color--secondary",children:[parseInt(f.price[1].slice(0,-2))," \u20b4"]}),(0,st.jsxs)("div",{className:"product-page__order",children:[!0===s?(0,st.jsxs)("button",{className:"btn btn-main",onClick:function(){},disabled:!0,children:[(0,st.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:6},children:(0,st.jsx)("path",{d:"M6.66715 10.1138L12.7954 3.9856L13.7382 4.9284L6.66715 11.9994L2.4245 7.75685L3.36731 6.81405L6.66715 10.1138Z",fill:"#92939A"})}),"\u0414\u043e\u0434\u0430\u043d\u043e \u0434\u043e \u043a\u043e\u0448\u0438\u043a\u0443"]}):(0,st.jsxs)("button",{className:"btn btn-main",onClick:function(){t($o({name:f.product_name,price:parseInt(f.price[1].slice(0,-2)),count:i,preview:Bs+f.photo_origin,weight:f.cost,id:e})),t(ds({action:"addToCard"})),setTimeout((function(){t(ds({action:""}))}),2e3)},children:["\u0414\u043e\u0434\u0430\u0442\u0438 \u0432 \u043a\u043e\u0448\u0438\u043a (",parseInt(f.price[1].slice(0,-2))*i," \u20b4)"]}),(0,st.jsxs)("div",{className:"counter",children:[(0,st.jsx)("div",{className:"counter__btn counter__btn--transperent",onClick:function(){i>1&&a(i-1)},children:"-"}),(0,st.jsx)("div",{className:"counter__value text__color--secondary",children:i}),(0,st.jsx)("div",{className:"counter__btn counter__btn--transperent",onClick:function(){return a(i+1)},children:"+"})]})]}),f.product_production_description&&(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("h6",{className:"product-page__compile-title title__h6 text__color--secondary",children:"\u0421\u043a\u043b\u0430\u0434"}),(0,st.jsx)("ul",{className:"product-page__compile",children:p&&p.map((function(e){return(0,st.jsx)("li",{className:"product-page__compile-item",children:e})}))})]})]})]}),(0,st.jsxs)("div",{className:"product-page__recommendations",children:[(0,st.jsxs)("div",{className:"product-page__recommendations-head",children:[(0,st.jsx)("h3",{className:"title__h3",children:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0454\u043c\u043e \u0441\u043f\u0440\u043e\u0431\u0443\u0432\u0430\u0442\u0438"}),(0,st.jsxs)("div",{className:"product-page__recommendations-arrows",children:[(0,st.jsx)(Us,{direction:"left"}),(0,st.jsx)(Us,{direction:"right"})]})]}),null!==g&&(0,st.jsx)("div",{className:"product-page__recommendations-track",children:(0,st.jsx)("div",{className:"product-page__recommendations-list",children:g.map((function(e){return(0,st.jsx)(vs,{preview:"https://polar-pelmeni-odessa.joinposter.com"+e.photo,name:e.product_name,price:parseInt(e.price[1].slice(0,-2)),ingredients:e.ingredients,weight:e.out,id:e.product_id},e.product_id)}))})})]})]})})}):"\u041f\u0440\u043e\u0434\u0443\u043a\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"},qs=Fo({name:"modals",initialState:{authModal:!1,cityModal:!0,thanksModal:!1},reducers:{authModalUpdateState:function(e,t){e.authModal=t.payload.isOpen},cityModalUpdateState:function(e,t){e.cityModal=t.payload.isOpen},thanksModalUpdateState:function(e,t){e.thanksModal=t.payload.isOpen}}}),Ks=qs.actions,Hs=Ks.authModalUpdateState,Ws=Ks.cityModalUpdateState,Gs=Ks.thanksModalUpdateState,Qs=qs.reducer;var Js=n.p+"static/media/logo.4c66c0436de3e3728ef3931cb8bd0914.svg",$s=function(e){var t=e.preview,n=e.name,i=e.weight,a=e.price,o=e.count,s=e.id,u=e.cart_index,c=l((0,r.useState)(o),2),f=c[0],h=c[1],d=ot();return(0,r.useEffect)((function(){d(Xo({cart_index:u,count:f}))}),[f]),(0,st.jsxs)("li",{className:"shopping-cart__item",children:[(0,st.jsx)("div",{className:"shopping-cart__preview",children:(0,st.jsx)("img",{src:t,alt:""})}),(0,st.jsxs)("div",{className:"shopping-cart__info",children:[(0,st.jsxs)("div",{className:"shopping-cart__row",children:[(0,st.jsx)("h6",{className:"title__h8",children:n}),(0,st.jsx)("div",{className:"shopping-cart__remove",onClick:function(){return d(Yo({id:s}))},children:(0,st.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M6.0006 4.82144L10.1256 0.696442L11.3039 1.87478L7.17893 5.99977L11.3039 10.1248L10.1256 11.3031L6.0006 7.17811L1.8756 11.3031L0.697266 10.1248L4.82227 5.99977L0.697266 1.87478L1.8756 0.696442L6.0006 4.82144Z",fill:"#49484D"})})})]}),(0,st.jsxs)("p",{className:"shopping-cart__weight",children:[i," \u0433"]}),(0,st.jsxs)("div",{className:"shopping-cart__row",children:[(0,st.jsxs)("p",{className:"shopping-cart__price",children:[a," \u20b4"]}),(0,st.jsxs)("div",{className:"counter",children:[(0,st.jsx)("div",{className:"counter__btn counter__btn--light",onClick:function(){o>1&&h(o-1)},children:"-"}),(0,st.jsx)("div",{className:"counter__value",children:f}),(0,st.jsx)("div",{className:"counter__btn counter__btn--light",onClick:function(){return h(o+1)},children:"+"})]})]})]})]})},Ys=function(){var e=Ye((function(e){return e.shoppingCart.products})),t=we(),n=l((0,r.useState)(!1),2),i=n[0],a=n[1];return(0,r.useEffect)((function(){return document.body.style.overflow=i?"hidden":"auto",function(){document.body.style.overflow="auto"}}),[i]),(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("button",{className:"card",onClick:function(){return a(!0)},children:[(0,st.jsxs)("div",{className:"card__ico",children:[(0,st.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,st.jsx)("g",{clipPath:"url(#clip0_353_13525)",children:(0,st.jsx)("path",{d:"M2.66707 10.6667V2.66669H1.33374V1.33336H3.33374C3.51055 1.33336 3.68012 1.4036 3.80514 1.52862C3.93017 1.65365 4.00041 1.82321 4.00041 2.00003V10H12.2924L13.6257 4.66669H5.33374V3.33336H14.4804C14.5817 3.33336 14.6817 3.35647 14.7728 3.40092C14.8639 3.44537 14.9436 3.50999 15.006 3.58988C15.0683 3.66977 15.1116 3.76283 15.1326 3.86197C15.1536 3.96111 15.1517 4.06373 15.1271 4.16203L13.4604 10.8287C13.4243 10.9729 13.341 11.1008 13.2239 11.1923C13.1067 11.2837 12.9624 11.3334 12.8137 11.3334H3.33374C3.15693 11.3334 2.98736 11.2631 2.86234 11.1381C2.73731 11.0131 2.66707 10.8435 2.66707 10.6667ZM4.00041 15.3334C3.64679 15.3334 3.30765 15.1929 3.0576 14.9428C2.80755 14.6928 2.66707 14.3536 2.66707 14C2.66707 13.6464 2.80755 13.3073 3.0576 13.0572C3.30765 12.8072 3.64679 12.6667 4.00041 12.6667C4.35403 12.6667 4.69317 12.8072 4.94322 13.0572C5.19326 13.3073 5.33374 13.6464 5.33374 14C5.33374 14.3536 5.19326 14.6928 4.94322 14.9428C4.69317 15.1929 4.35403 15.3334 4.00041 15.3334ZM12.0004 15.3334C11.6468 15.3334 11.3076 15.1929 11.0576 14.9428C10.8075 14.6928 10.6671 14.3536 10.6671 14C10.6671 13.6464 10.8075 13.3073 11.0576 13.0572C11.3076 12.8072 11.6468 12.6667 12.0004 12.6667C12.354 12.6667 12.6932 12.8072 12.9432 13.0572C13.1933 13.3073 13.3337 13.6464 13.3337 14C13.3337 14.3536 13.1933 14.6928 12.9432 14.9428C12.6932 15.1929 12.354 15.3334 12.0004 15.3334Z",fill:"black"})}),(0,st.jsx)("defs",{children:(0,st.jsx)("clipPath",{id:"clip0_353_13525",children:(0,st.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]}),0!==e.length&&(0,st.jsx)("div",{className:"card__length",children:(0,st.jsx)("span",{children:e.length})})]}),(0,st.jsx)("span",{className:"card__text",children:"\u041a\u043e\u0448\u0438\u043a"})]}),i&&(0,st.jsxs)("div",{className:"shopping-cart",children:[(0,st.jsx)("div",{className:"shopping-cart__close",onClick:function(){return a(!1)},children:(0,st.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M7.00072 5.58599L11.9507 0.635986L13.3647 2.04999L8.41472 6.99999L13.3647 11.95L11.9507 13.364L7.00072 8.41399L2.05072 13.364L0.636719 11.95L5.58672 6.99999L0.636719 2.04999L2.05072 0.635986L7.00072 5.58599Z",fill:"#12130F"})})}),0===e.length?(0,st.jsxs)("div",{className:"shopping-cart__content shopping-cart__content--empty",children:[(0,st.jsx)("div",{className:"shopping-cart__logo",children:(0,st.jsxs)("svg",{width:"150",height:"150",viewBox:"0 0 150 150",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,st.jsx)("circle",{cx:"75",cy:"75",r:"75",fill:"#DF643A"}),(0,st.jsx)("path",{d:"M104.417 49.7177C103.7 48.0744 102.369 46.7544 100.713 46.0423C99.8503 45.6723 98.9013 45.4646 97.9036 45.4646C96.9059 45.4646 95.9564 45.6723 95.0947 46.0423C93.5267 46.7157 92.257 47.9383 91.5175 49.4609C89.7975 48.17 87.9197 47.0765 85.9157 46.2159C82.611 44.7957 78.9753 44 75.152 44C71.3282 44 67.6919 44.7957 64.389 46.2136C62.2983 47.1118 60.3471 48.2673 58.5668 49.6323C57.8411 48.0288 56.5318 46.7413 54.9048 46.0423C54.043 45.6723 53.0935 45.4646 52.0958 45.4646C51.0981 45.4646 50.1492 45.6723 49.2869 46.0423C47.6299 46.7544 46.2995 48.0744 45.5823 49.7177C45.2094 50.5732 45 51.5146 45 52.5051C45 53.4949 45.2088 54.4364 45.5823 55.2919C46.2995 56.9357 47.6299 58.2557 49.2869 58.9672C49.7103 59.1494 50.1561 59.2905 50.6173 59.389C50.4727 59.689 50.3293 59.9895 50.1956 60.2952C48.7642 63.5744 47.9621 67.182 47.9621 70.9757V106C48.6971 105.524 49.436 105.055 50.1956 104.616C57.5433 100.389 66.0654 97.9543 75.1538 97.9543C78.9753 97.9543 82.6127 97.158 85.9157 95.7395C92.2639 93.013 97.362 87.9551 100.11 81.6568C101.542 78.3782 102.343 74.7712 102.343 70.978C102.343 67.1843 101.54 63.5766 100.11 60.2975C99.9662 59.9667 99.8112 59.6417 99.654 59.3179C100.018 59.2251 100.373 59.1129 100.713 58.9672C102.369 58.2557 103.7 56.9357 104.417 55.2919C104.791 54.4364 105 53.4949 105 52.5051C105 51.5146 104.79 50.5732 104.417 49.7177Z",fill:"white"}),(0,st.jsx)("path",{d:"M104.417 49.7177C103.7 48.0744 102.369 46.7544 100.713 46.0423C99.8503 45.6723 98.9013 45.4646 97.9036 45.4646C96.9059 45.4646 95.9564 45.6723 95.0947 46.0423C93.5267 46.7157 92.257 47.9383 91.5175 49.4609C89.7975 48.17 87.9197 47.0766 85.9157 46.2159C82.611 44.7957 78.9753 44 75.152 44C71.3282 44 67.6919 44.7958 64.389 46.2136C62.2983 47.1118 60.3471 48.2673 58.5668 49.6323C57.8411 48.0288 56.5318 46.7413 54.9048 46.0423C54.043 45.6723 53.0935 45.4646 52.0958 45.4646C51.0981 45.4646 50.1492 45.6723 49.2869 46.0423C47.6299 46.7544 46.2995 48.0744 45.5823 49.7177C45.2094 50.5732 45 51.5146 45 52.5051C45 53.4949 45.2088 54.4364 45.5823 55.2919C46.2995 56.9357 47.6299 58.2557 49.2869 58.9672C49.7103 59.1494 50.1561 59.2905 50.6173 59.389C50.4727 59.689 50.3293 59.9895 50.1956 60.2952C48.7642 63.5744 47.9621 67.182 47.9621 70.9757V106C48.6971 105.524 49.436 105.055 50.1956 104.616C57.5433 100.389 66.0654 97.9543 75.1538 97.9543C78.9753 97.9543 82.6127 97.158 85.9157 95.7395C92.2639 93.013 97.362 87.9551 100.11 81.6568C101.542 78.3782 102.343 74.7712 102.343 70.978C102.343 67.1843 101.54 63.5766 100.11 60.2975C99.9662 59.9667 99.8112 59.6417 99.654 59.3179C100.018 59.2251 100.373 59.1129 100.713 58.9672C102.369 58.2557 103.7 56.9357 104.417 55.2919C104.791 54.4364 105 53.4949 105 52.5051C105 51.5146 104.79 50.5732 104.417 49.7177Z",stroke:"#12130F","stroke-width":"3","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),(0,st.jsx)("path",{d:"M61.158 65.5436C61.158 64.1616 60.0289 63.0414 58.6359 63.0414C57.2424 63.0414 56.1133 64.1616 56.1133 65.5436C56.1133 66.9257 57.2424 68.0459 58.6359 68.0459C60.0289 68.0459 61.158 66.9257 61.158 65.5436Z",fill:"#12130F"}),(0,st.jsx)("path",{d:"M94.4237 65.5436C94.4237 64.1616 93.2946 63.0414 91.9016 63.0414C90.508 63.0414 89.3789 64.1616 89.3789 65.5436C89.3789 66.9257 90.508 68.0459 91.9016 68.0459C93.2946 68.0459 94.4237 66.9257 94.4237 65.5436Z",fill:"#12130F"}),(0,st.jsx)("path",{d:"M73.9113 81.7154C74.641 82.617 76.0243 82.617 76.7541 81.7154L79.0937 78.8239L80.4758 77.1151C81.4328 75.9317 80.5837 74.1752 79.0541 74.1752H75.3329H71.6112C70.0816 74.1752 69.2325 75.9317 70.1895 77.1151L71.5716 78.8239L73.9113 81.7154Z",fill:"#12130F"}),(0,st.jsx)("path",{d:"M74.7617 86.2998H75.7577V80.0659H74.7617V86.2998Z",fill:"#12130F"}),(0,st.jsx)("path",{d:"M72.3765 85.0177C72.9405 85.4088 73.4322 85.6239 73.8934 85.7463C74.3536 85.867 74.7856 85.9012 75.2624 85.9063C75.7391 85.8989 76.1706 85.8647 76.6301 85.7446C77.0902 85.6222 77.5825 85.4077 78.1482 85.0177C78.2377 85.7139 77.886 86.4191 77.3209 86.899C76.7512 87.3839 75.9761 87.6162 75.2624 87.6133C74.5486 87.6139 73.7747 87.3817 73.205 86.8973C72.6404 86.4168 72.2893 85.7127 72.3765 85.0177Z",fill:"#12130F"})]})}),(0,st.jsx)("h5",{className:"title__h5",children:"\u041d\u0430\u0436\u0430\u043b\u044c, \u043a\u043e\u0448\u0438\u043a \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439"}),(0,st.jsx)("p",{className:"text",children:"\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0449\u043e\u0441\u044c \u0441\u043c\u0430\u0447\u043d\u0435\u043d\u044c\u043a\u0435"})]}):(0,st.jsxs)("div",{className:"shopping-cart__content",children:[(0,st.jsxs)("div",{className:"shopping-cart__row",children:[(0,st.jsx)("h5",{className:"title__h5",children:"\u041a\u043e\u0448\u0438\u043a"}),(0,st.jsxs)("p",{className:"shopping-cart__products-count",children:[e.length," \u0442\u043e\u0432\u0430\u0440\u0456\u0432"]})]}),(0,st.jsx)("div",{className:"shopping-cart__list-wrapper",children:(0,st.jsx)("ul",{className:"shopping-cart__list",children:e.map((function(e){return(0,st.jsx)($s,{preview:e.preview,name:e.name,price:e.totalPrice,weight:e.weight,count:e.count,id:e.id,cart_index:e.cart_index})}))})}),(0,st.jsxs)("div",{className:"shopping-cart__total",children:[(0,st.jsxs)("div",{className:"shopping-cart__total-row",children:[(0,st.jsx)("p",{className:"shopping-cart__text",children:"\u0421\u0443\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f:"}),(0,st.jsxs)("p",{className:"shopping-cart__text",children:[e.reduce((function(e,t){return e+t.totalPrice}),0)," \u20b4"]})]}),(0,st.jsxs)("div",{className:"shopping-cart__total-row",children:[(0,st.jsx)("p",{className:"shopping-cart__text",children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:"}),(0,st.jsx)("p",{className:"shopping-cart__text",children:e.reduce((function(e,t){return e+t.totalPrice}),0)<500?"\u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0442\u0430\u043a\u0441\u0456 (\u043e\u043f\u043b\u0430\u0447\u0443\u0454\u0442\u044c\u0441\u044f \u043e\u043a\u0440\u0435\u043c\u043e)":"\u0411\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0430"})]}),(0,st.jsxs)("div",{className:"shopping-cart__total-row",children:[(0,st.jsx)("p",{className:"shopping-cart__text-final",children:"\u0412\u0441\u044c\u043e\u0433\u043e \u0434\u043e \u0441\u043f\u043b\u0430\u0442\u0438:"}),(0,st.jsxs)("p",{className:"shopping-cart__text-final",children:[e.reduce((function(e,t){return e+t.totalPrice}),0)," \u20b4"]})]})]}),(0,st.jsx)(As,{name:"\u0417\u0430\u043c\u043e\u0432\u0438\u0442\u0438",onClick:function(){a(!i),t("/order")},fullWide:!0})]})]})]})},Xs=n(504),Zs=n.n(Xs),eu=function(e){return(0,st.jsxs)("label",{className:"inputNumber",htmlFor:"inputNumber",children:[(0,st.jsx)("span",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,st.jsx)(Zs(),{mask:"+380 (99) 999 99 99",id:"inputNumber",placeholder:"+380 (__) ___ __ __",onChange:function(t){return e.onChange(t.target.value)}})]})},tu=function(e){var t=e.onData,n=l((0,r.useState)(""),2),i=n[0],a=n[1],o=(0,r.useRef)([]);(0,r.useEffect)((function(){t(i)}),[i]);return(0,st.jsx)("div",{className:"inputCode",children:Array.from({length:6}).map((function(e,t){return(0,st.jsx)("input",{ref:function(e){return o.current[t]=e},type:"text",value:i[t]||"",maxLength:1,className:"inputCode__item",onChange:function(e){return function(e,t){var n=e.target.value,r=t+1;a((function(e){var i=e.split("");return i[t]=n,n&&o.current[r]&&o.current[r].focus(),i.join("")}))}(e,t)},onKeyDown:function(e){return function(e,t){var n=t-1,r=t+1;"Backspace"===e.key&&n>=0?o.current[n].focus():"Delete"===e.key&&r<o.current.length&&o.current[r].focus()}(e,t)}},t)}))})},nu=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ru={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(nu(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new iu;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},iu=function(e){b(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return g(n)}(E(Error)),au=function(e){return function(e){var t=nu(e);return ru.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ou=function(e){try{return ru.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function su(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=su(e[n],t[n]));return e}var uu=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},cu=function(){try{return uu()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&ou(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},lu=function(){var e;return null===(e=cu())||void 0===e?void 0:e.config},fu=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return g(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function hu(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function du(){var e,t=null===(e=cu())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function pu(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function vu(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function mu(){var e=hu();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function gu(){try{return"object"===typeof indexedDB}catch(e){return!1}}var yu=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),bu.prototype.create),a}return g(n)}(E(Error)),bu=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ku,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new yu(n,a,t)}}]),e}();var ku=/\{\$([^}]+)}/g;function wu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function xu(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function _u(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Su(s)&&Su(u)){if(!_u(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Su(e){return null!==e&&"object"===typeof e}function Eu(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Iu(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Cu(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Tu(e,t){var n=new Nu(e,t);return n.subscribe.bind(n)}var Nu=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return g(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=C(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Au),void 0===r.error&&(r.error=Au),void 0===r.complete&&(r.complete=Au);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Au(){}function ju(e){return e&&e._delegate?e._delegate:e}var Ou=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return g(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Pu="[DEFAULT]",Du=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return g(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new fu;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Pu})}catch(u){}var t,n=C(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pu;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pu;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pu;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=C(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(sO){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Pu?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(sO){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pu;return this.component?this.component.multipleInstances?e:Pu:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ru,Lu,Mu=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return g(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Du(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Fu=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Lu||(Lu={}));var Vu={debug:Lu.DEBUG,verbose:Lu.VERBOSE,info:Lu.INFO,warn:Lu.WARN,error:Lu.ERROR,silent:Lu.SILENT},Uu=Lu.INFO,Bu=(Tt(Ru={},Lu.DEBUG,"log"),Tt(Ru,Lu.VERBOSE,"log"),Tt(Ru,Lu.INFO,"info"),Tt(Ru,Lu.WARN,"warn"),Tt(Ru,Lu.ERROR,"error"),Ru),zu=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Bu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},qu=function(){function e(t){d(this,e),this.name=t,this._logLevel=Uu,this._logHandler=zu,this._userLogHandler=null,Fu.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Lu))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Vu[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lu.DEBUG].concat(t)),this._logHandler.apply(this,[this,Lu.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lu.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Lu.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lu.INFO].concat(t)),this._logHandler.apply(this,[this,Lu.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lu.WARN].concat(t)),this._logHandler.apply(this,[this,Lu.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lu.ERROR].concat(t)),this._logHandler.apply(this,[this,Lu.ERROR].concat(t))}}]),e}();var Ku,Hu,Wu=function(e,t){return t.some((function(t){return e instanceof t}))};var Gu=new WeakMap,Qu=new WeakMap,Ju=new WeakMap,$u=new WeakMap,Yu=new WeakMap;var Xu={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Qu.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ju.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tc(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Zu(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Hu||(Hu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(nc(this),n),tc(Gu.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return tc(e.apply(nc(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[nc(this),t].concat(r));return Ju.set(a,t.sort?t.sort():[t]),tc(a)}}function ec(e){return"function"===typeof e?Zu(e):(e instanceof IDBTransaction&&function(e){if(!Qu.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Qu.set(e,t)}}(e),Wu(e,Ku||(Ku=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Xu):e)}function tc(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(tc(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Gu.set(t,e)})).catch((function(){})),Yu.set(t,e),t}(e);if($u.has(e))return $u.get(e);var t=ec(e);return t!==e&&($u.set(e,t),Yu.set(t,e)),t}var nc=function(e){return Yu.get(e)};var rc,ic,ac=["get","getKey","getAll","getAllKeys","count"],oc=["put","add","delete","clear"],sc=new Map;function uc(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(sc.get(t))return sc.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=oc.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ac.includes(n))){var a=function(){var e=Ct(Et().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return sc.set(t,a),a}}}Xu=function(e){return At(At({},e),{},{get:function(t,n,r){return uc(t,n)||e.get(t,n,r)},has:function(t,n){return!!uc(t,n)||e.has(t,n)}})}(Xu);var cc=function(){function e(t){d(this,e),this.container=t}return g(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var lc="@firebase/app",fc="0.9.12",hc=new qu("@firebase/app"),dc="[DEFAULT]",pc=(Tt(rc={},lc,"fire-core"),Tt(rc,"@firebase/app-compat","fire-core-compat"),Tt(rc,"@firebase/analytics","fire-analytics"),Tt(rc,"@firebase/analytics-compat","fire-analytics-compat"),Tt(rc,"@firebase/app-check","fire-app-check"),Tt(rc,"@firebase/app-check-compat","fire-app-check-compat"),Tt(rc,"@firebase/auth","fire-auth"),Tt(rc,"@firebase/auth-compat","fire-auth-compat"),Tt(rc,"@firebase/database","fire-rtdb"),Tt(rc,"@firebase/database-compat","fire-rtdb-compat"),Tt(rc,"@firebase/functions","fire-fn"),Tt(rc,"@firebase/functions-compat","fire-fn-compat"),Tt(rc,"@firebase/installations","fire-iid"),Tt(rc,"@firebase/installations-compat","fire-iid-compat"),Tt(rc,"@firebase/messaging","fire-fcm"),Tt(rc,"@firebase/messaging-compat","fire-fcm-compat"),Tt(rc,"@firebase/performance","fire-perf"),Tt(rc,"@firebase/performance-compat","fire-perf-compat"),Tt(rc,"@firebase/remote-config","fire-rc"),Tt(rc,"@firebase/remote-config-compat","fire-rc-compat"),Tt(rc,"@firebase/storage","fire-gcs"),Tt(rc,"@firebase/storage-compat","fire-gcs-compat"),Tt(rc,"@firebase/firestore","fire-fst"),Tt(rc,"@firebase/firestore-compat","fire-fst-compat"),Tt(rc,"fire-js","fire-js"),Tt(rc,"firebase","fire-js-all"),rc),vc=new Map,mc=new Map;function gc(e,t){try{e.container.addComponent(t)}catch(n){hc.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function yc(e,t){e.container.addOrOverwriteComponent(t)}function bc(e){var t=e.name;if(mc.has(t))return hc.debug("There were multiple attempts to register component ".concat(t,".")),!1;mc.set(t,e);var n,r=C(vc.values());try{for(r.s();!(n=r.n()).done;){gc(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function kc(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function wc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dc;kc(e,t).clearInstance(n)}function xc(){mc.clear()}var _c=(Tt(ic={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),Tt(ic,"bad-app-name","Illegal App name: '{$appName}"),Tt(ic,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Tt(ic,"app-deleted","Firebase App named '{$appName}' already deleted"),Tt(ic,"no-options","Need to provide options, when not being deployed to hosting via source."),Tt(ic,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Tt(ic,"invalid-log-argument","First argument to `onLog` must be null or a function."),Tt(ic,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Tt(ic,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Tt(ic,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Tt(ic,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ic),Sc=new bu("app","Firebase",_c),Ec=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ou("app",(function(){return i}),"PUBLIC"))}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Sc.create("app-deleted",{appName:this._name})}}]),e}(),Ic="9.22.2";function Cc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:dc,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Sc.create("bad-app-name",{appName:String(i)});if(n||(n=lu()),!n)throw Sc.create("no-options");var a=vc.get(i);if(a){if(_u(n,a.options)&&_u(r,a.config))return a;throw Sc.create("duplicate-app",{appName:i})}var o,s=new Mu(i),u=C(mc.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Ec(n,r,s);return vc.set(i,l),l}function Tc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dc,t=vc.get(e);if(!t&&e===dc&&lu())return Cc();if(!t)throw Sc.create("no-app",{appName:e});return t}function Nc(){return Array.from(vc.values())}function Ac(e){return jc.apply(this,arguments)}function jc(){return jc=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!vc.has(n)){e.next=6;break}return vc.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}function Oc(e,t,n){var r,i=null!==(r=pc[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void hc.warn(s.join(" "))}bc(new Ou("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Pc(e,t){if(null!==e&&"function"!==typeof e)throw Sc.create("invalid-log-argument");!function(e,t){var n,r=C(Fu);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Vu[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Lu[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Dc(e){var t;t=e,Fu.forEach((function(e){e.setLogLevel(t)}))}var Rc="firebase-heartbeat-database",Lc=1,Mc="firebase-heartbeat-store",Fc=null;function Vc(){return Fc||(Fc=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=tc(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(tc(s.result),e.oldVersion,e.newVersion,tc(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Rc,Lc,{upgrade:function(e,t){if(0===t)e.createObjectStore(Mc)}}).catch((function(e){throw Sc.create("idb-open",{originalErrorMessage:e.message})}))),Fc}function Uc(e){return Bc.apply(this,arguments)}function Bc(){return Bc=Ct(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vc();case 3:return n=e.sent,e.next=6,n.transaction(Mc).objectStore(Mc).get(Kc(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof yu?hc.warn(e.t0.message):(i=Sc.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),hc.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Bc.apply(this,arguments)}function zc(e,t){return qc.apply(this,arguments)}function qc(){return qc=Ct(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vc();case 3:return r=e.sent,i=r.transaction(Mc,"readwrite"),a=i.objectStore(Mc),e.next=8,a.put(n,Kc(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof yu?hc.warn(e.t0.message):(o=Sc.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),hc.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),qc.apply(this,arguments)}function Kc(e){return"".concat(e.name,"!").concat(e.options.appId)}var Hc=function(){function e(t){var n=this;d(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new $c(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return g(e,[{key:"triggerHeartbeat",value:function(){var e=Ct(Et().mark((function e(){var t,n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Wc(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ct(Et().mark((function e(){var t,n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Wc(),n=Gc(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=au(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Wc(){return(new Date).toISOString().substring(0,10)}function Gc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=C(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Yc(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Yc(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Qc,Jc,$c=function(){function e(t){d(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return g(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gu()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Uc(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",zc(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",zc(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Yc(e){return au(JSON.stringify({version:2,heartbeats:e})).length}Qc="",bc(new Ou("platform-logger",(function(e){return new cc(e)}),"PRIVATE")),bc(new Ou("heartbeat",(function(e){return new Hc(e)}),"PRIVATE")),Oc(lc,fc,Qc),Oc(lc,fc,"esm2017"),Oc("fire-js","");var Xc=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.firebase=n,gc(t,new Ou("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ac(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dc;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dc;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){gc(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){yc(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Zc=(Tt(Jc={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Tt(Jc,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Jc),el=new bu("app-compat","Firebase",Zc);var tl=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Cc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(wu(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Oc,setLogLevel:Dc,onLog:Pc,apps:null,SDK_VERSION:Ic,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(bc(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw el.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&su(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!wu(n,e=e||dc))throw el.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Xc);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){su(n,e)},createSubscribe:Tu,ErrorFactory:bu,deepExtend:su}),n}(),nl=new qu("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){nl.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var rl=self.firebase.SDK_VERSION;rl&&rl.indexOf("LITE")>=0&&nl.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var il=tl;!function(e){Oc("@firebase/app-compat","0.2.12",e)}();function al(){return al="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},al.apply(this,arguments)}il.registerVersion("firebase","9.22.2","app-compat");function ol(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var sl,ul={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},cl="EMAIL_SIGNIN",ll="PASSWORD_RESET",fl="RECOVER_EMAIL",hl="REVERT_SECOND_FACTOR_ADDITION",dl="VERIFY_AND_CHANGE_EMAIL",pl="VERIFY_EMAIL";function vl(){return Tt({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ml=function(){var e;return Tt(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Tt(e,"argument-error",""),Tt(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Tt(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Tt(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Tt(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Tt(e,"cordova-not-ready","Cordova framework is not ready."),Tt(e,"cors-unsupported","This browser is not supported."),Tt(e,"credential-already-in-use","This credential is already associated with a different user account."),Tt(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Tt(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Tt(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Tt(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Tt(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Tt(e,"email-already-in-use","The email address is already in use by another account."),Tt(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Tt(e,"expired-action-code","The action code has expired."),Tt(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Tt(e,"internal-error","An internal AuthError has occurred."),Tt(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Tt(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Tt(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Tt(e,"invalid-auth-event","An internal AuthError has occurred."),Tt(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Tt(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Tt(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Tt(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Tt(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Tt(e,"invalid-email","The email address is badly formatted."),Tt(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Tt(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Tt(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Tt(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Tt(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Tt(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Tt(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Tt(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Tt(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Tt(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Tt(e,"wrong-password","The password is invalid or the user does not have a password."),Tt(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Tt(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Tt(e,"invalid-provider-id","The specified provider ID is invalid."),Tt(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Tt(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Tt(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Tt(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Tt(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Tt(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Tt(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Tt(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Tt(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Tt(e,"missing-continue-uri","A continue URL must be provided in the request."),Tt(e,"missing-iframe-start","An internal AuthError has occurred."),Tt(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Tt(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Tt(e,"missing-password","A non-empty password must be provided"),Tt(e,"missing-multi-factor-info","No second factor identifier is provided."),Tt(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Tt(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Tt(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Tt(e,"app-deleted","This instance of FirebaseApp has been deleted."),Tt(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Tt(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Tt(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Tt(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Tt(e,"no-auth-event","An internal AuthError has occurred."),Tt(e,"no-such-provider","User was not linked to an account with the given provider."),Tt(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Tt(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Tt(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Tt(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Tt(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Tt(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Tt(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Tt(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Tt(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Tt(e,"rejected-credential","The request contains malformed or mismatching credentials."),Tt(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Tt(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Tt(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Tt(e,"timeout","The operation has timed out."),Tt(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Tt(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Tt(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Tt(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Tt(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Tt(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Tt(e,"unverified-email","The operation requires a verified email."),Tt(e,"user-cancelled","The user did not grant your application the permissions it requested."),Tt(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Tt(e,"user-disabled","The user account has been disabled by an administrator."),Tt(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Tt(e,"user-signed-out",""),Tt(e,"weak-password","The password must be 6 characters long or more."),Tt(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Tt(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Tt(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Tt(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Tt(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Tt(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Tt(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Tt(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Tt(e,"invalid-req-type","Invalid request parameters."),Tt(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},gl=vl,yl=new bu("auth","Firebase",vl()),bl=new qu("@firebase/auth");function kl(e){if(bl.logLevel<=Lu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];bl.warn.apply(bl,["Auth (".concat(Ic,"): ").concat(e)].concat(n))}}function wl(e){if(bl.logLevel<=Lu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];bl.error.apply(bl,["Auth (".concat(Ic,"): ").concat(e)].concat(n))}}function xl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Il.apply(void 0,[e].concat(n))}function _l(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Il.apply(void 0,[e].concat(n))}function Sl(e,t,n){var r=Object.assign(Object.assign({},gl()),Tt({},t,n));return new bu("auth","Firebase",r).create(t,{appName:e.name})}function El(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&xl(e,"argument-error"),Sl(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Il(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return yl.create.apply(yl,[e].concat(n))}function Cl(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Il.apply(void 0,[t].concat(r))}}function Tl(e){var t="INTERNAL ASSERTION FAILED: "+e;throw wl(t),new Error(t)}function Nl(e,t){e||Tl(t)}function Al(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function jl(){return"http:"===Ol()||"https:"===Ol()}function Ol(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Pl=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,Nl(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hu())||vu()}return g(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(jl()||pu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Dl(e,t){Nl(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Rl=function(){function e(){d(this,e)}return g(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Tl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Tl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Tl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ll=(Tt(sl={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Tt(sl,"MISSING_CUSTOM_TOKEN","internal-error"),Tt(sl,"INVALID_IDENTIFIER","invalid-email"),Tt(sl,"MISSING_CONTINUE_URI","internal-error"),Tt(sl,"INVALID_PASSWORD","wrong-password"),Tt(sl,"MISSING_PASSWORD","missing-password"),Tt(sl,"EMAIL_EXISTS","email-already-in-use"),Tt(sl,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Tt(sl,"INVALID_IDP_RESPONSE","invalid-credential"),Tt(sl,"INVALID_PENDING_TOKEN","invalid-credential"),Tt(sl,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Tt(sl,"MISSING_REQ_TYPE","internal-error"),Tt(sl,"EMAIL_NOT_FOUND","user-not-found"),Tt(sl,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Tt(sl,"EXPIRED_OOB_CODE","expired-action-code"),Tt(sl,"INVALID_OOB_CODE","invalid-action-code"),Tt(sl,"MISSING_OOB_CODE","internal-error"),Tt(sl,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Tt(sl,"INVALID_ID_TOKEN","invalid-user-token"),Tt(sl,"TOKEN_EXPIRED","user-token-expired"),Tt(sl,"USER_NOT_FOUND","user-token-expired"),Tt(sl,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Tt(sl,"INVALID_CODE","invalid-verification-code"),Tt(sl,"INVALID_SESSION_INFO","invalid-verification-id"),Tt(sl,"INVALID_TEMPORARY_PROOF","invalid-credential"),Tt(sl,"MISSING_SESSION_INFO","missing-verification-id"),Tt(sl,"SESSION_EXPIRED","code-expired"),Tt(sl,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Tt(sl,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Tt(sl,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Tt(sl,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Tt(sl,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Tt(sl,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Tt(sl,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Tt(sl,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Tt(sl,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Tt(sl,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Tt(sl,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Tt(sl,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Tt(sl,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Tt(sl,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Tt(sl,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Tt(sl,"MISSING_CLIENT_TYPE","missing-client-type"),Tt(sl,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Tt(sl,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Tt(sl,"INVALID_REQ_TYPE","invalid-req-type"),sl),Ml=new Pl(3e4,6e4);function Fl(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Vl(e,t,n,r){return Ul.apply(this,arguments)}function Ul(){return Ul=Ct(Et().mark((function e(t,n,r,i){var a,o=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Bl(t,a,Ct(Et().mark((function e(){var a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Eu(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Rl.fetch()(Hl(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}function Bl(e,t,n){return zl.apply(this,arguments)}function zl(){return zl=Ct(Et().mark((function e(t,n,r){var i,a,o,s,u,c,f,h,d,p;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ll),n),e.prev=2,a=new Wl(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Gl(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Gl(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Gl(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Gl(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Sl(t,p,d);case 34:xl(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof yu)){e.next=41;break}throw e.t0;case 41:xl(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),zl.apply(this,arguments)}function ql(e,t,n,r){return Kl.apply(this,arguments)}function Kl(){return Kl=Ct(Et().mark((function e(t,n,r,i){var a,o,s=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Vl(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&xl(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Kl.apply(this,arguments)}function Hl(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Dl(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Wl=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(_l(n.auth,"network-request-failed"))}),Ml.get())}))}return g(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Gl(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=_l(e,t,r);return i.customData._tokenResponse=n,i}function Ql(e,t){return Jl.apply(this,arguments)}function Jl(){return(Jl=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vl(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $l(e,t){return Yl.apply(this,arguments)}function Yl(){return(Yl=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vl(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xl(e,t){return Zl.apply(this,arguments)}function Zl(){return(Zl=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vl(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ef(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function tf(){return tf=Ct(Et().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=ju(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Cl((a=rf(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ef(nf(a.auth_time)),issuedAtTime:ef(nf(a.iat)),expirationTime:ef(nf(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}function nf(e){return 1e3*Number(e)}function rf(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return wl("JWT malformed, contained fewer than 3 sections"),null;try{var a=ou(r);return a?JSON.parse(a):(wl("Failed to decode base64 JWT payload"),null)}catch(o){return wl("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function af(e,t){return of.apply(this,arguments)}function of(){return of=Ct(Et().mark((function e(t,n){var r=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof yu&&sf(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),of.apply(this,arguments)}function sf(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var uf=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return g(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ct(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),cf=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return g(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ef(this.lastLoginAt),this.creationTime=ef(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function lf(e){return ff.apply(this,arguments)}function ff(){return ff=Ct(Et().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,af(t,Xl(r,{idToken:i}));case 6:Cl(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=ol(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=df(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new cf(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ff.apply(this,arguments)}function hf(){return hf=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ju(t),e.next=3,lf(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)}))),hf.apply(this,arguments)}function df(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function pf(e,t){return vf.apply(this,arguments)}function vf(){return vf=Ct(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bl(t,{},Ct(Et().mark((function e(){var r,i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Eu({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Hl(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Rl.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),vf.apply(this,arguments)}var mf=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return g(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Cl(e.idToken,"internal-error"),Cl("undefined"!==typeof e.idToken,"internal-error"),Cl("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=rf(e);return Cl(t,"internal-error"),Cl("undefined"!==typeof t.exp,"internal-error"),Cl("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ct(Et().mark((function e(t){var n,r=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Cl(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ct(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pf(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Tl("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Cl("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Cl("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Cl("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function gf(e,t){Cl("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var yf=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=ol(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new cf(a.createdAt||void 0,a.lastLoginAt||void 0)}return g(e,[{key:"getIdToken",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,af(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Cl(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return tf.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return hf.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Cl(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Cl(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ct(Et().mark((function e(t){var n,r,i=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,lf(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,af(this,Ql(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Cl(b&&_,t,"internal-error");var S=mf.fromJSON(this.name,_);Cl("string"===typeof b,t,"internal-error"),gf(f,t.name),gf(h,t.name),Cl("boolean"===typeof k,t,"internal-error"),Cl("boolean"===typeof w,t,"internal-error"),gf(d,t.name),gf(p,t.name),gf(v,t.name),gf(m,t.name),gf(g,t.name),gf(y,t.name);var E=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Ct(Et().mark((function t(n,r){var i,a,o,s=arguments;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new mf).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,lf(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),bf=new Map;function kf(e){Nl(e instanceof Function,"Expected a class definition");var t=bf.get(e);return t?(Nl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,bf.set(e,t),t)}var wf=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return g(e,[{key:"_isAvailable",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();wf.type="NONE";var xf=wf;function _f(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Sf=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=_f(this.userKey,a.apiKey,o),this.fullPersistenceKey=_f("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return g(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?yf._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ct(Et().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(kf(xf),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||kf(xf),s=_f(i,n.config.apiKey,n.name),u=null,c=C(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=yf._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ef(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Nf(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(If(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jf(t))return"Blackberry";if(Of(t))return"Webos";if(Cf(t))return"Safari";if((t.includes("chrome/")||Tf(t))&&!t.includes("edge/"))return"Chrome";if(Af(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function If(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return/firefox\//i.test(e)}function Cf(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Tf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return/crios\//i.test(e)}function Nf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return/iemobile/i.test(e)}function Af(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return/android/i.test(e)}function jf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return/blackberry/i.test(e)}function Of(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return/webos/i.test(e)}function Pf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Df(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return Pf(e)||Af(e)||Of(e)||jf(e)||/windows phone/i.test(e)||Nf(e)}function Rf(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ef(hu());break;case"Worker":t="".concat(Ef(hu()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ic,"/").concat(r)}function Lf(e){return Mf.apply(this,arguments)}function Mf(){return(Mf=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vl(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ff(e,t){return Vf.apply(this,arguments)}function Vf(){return(Vf=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vl(t,"GET","/v2/recaptchaConfig",Fl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uf(e){return void 0!==e&&void 0!==e.getResponse}function Bf(e){return void 0!==e&&void 0!==e.enterprise}var zf=g((function e(t){if(d(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function qf(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=_l("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Kf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Hf=function(){function e(t){d(this,e),this.type="recaptcha-enterprise",this.auth=$f(t)}return g(e,[{key:"verify",value:function(){var e=Ct(Et().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Bf(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Ct(Et().mark((function e(n,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ff(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new zf(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Bf(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));qf("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Wf(e,t,n){return Gf.apply(this,arguments)}function Gf(){return Gf=Ct(Et().mark((function e(t,n,r){var i,a,o,s,u=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new Hf(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Gf.apply(this,arguments)}var Qf=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return g(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ct(Et().mark((function e(t){var n,r,i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=C(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=C(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(wa){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Jf=function(){function e(t,n,r,i){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yf(this),this.idTokenSubscription=new Yf(this),this.beforeStateQueue=new Qf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return g(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=kf(t)),this._initializationPromise=this.queue(Ct(Et().mark((function r(){var i,a;return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Sf.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ct(Et().mark((function e(t){var n,r,i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Cl(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lf(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ju(t):null)&&Cl(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ct(Et().mark((function e(t){var n,r=this,i=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Cl(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ct(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(kf(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=Ct(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ff(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new zf(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Hf(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new bu("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ct(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Cl(n=t&&kf(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Sf.create(this,[kf(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ct(Et().mark((function e(t){var n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Cl(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Cl(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rf(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ct(Et().mark((function e(){var t,n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tt({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ct(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&kl("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function $f(e){return ju(e)}var Yf=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=Tu((function(e){return n.observer=e}))}return g(e,[{key:"next",get:function(){return Cl(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Xf(e,t,n){var r=$f(e);Cl(r._canInitEmulator,r,"emulator-config-failed"),Cl(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Zf(t),o=function(e){var t=Zf(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:eh(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:eh(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Zf(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function eh(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var th=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return g(e,[{key:"toJSON",value:function(){return Tl("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Tl("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Tl("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Tl("not implemented")}}]),e}();function nh(e,t){return rh.apply(this,arguments)}function rh(){return(rh=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vl(t,"POST","/v1/accounts:resetPassword",Fl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ih(e,t){return ah.apply(this,arguments)}function ah(){return(ah=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vl(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oh(e,t){return sh.apply(this,arguments)}function sh(){return(sh=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vl(t,"POST","/v1/accounts:update",Fl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uh(e,t){return ch.apply(this,arguments)}function ch(){return(ch=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ql(t,"POST","/v1/accounts:signInWithPassword",Fl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lh(e,t){return fh.apply(this,arguments)}function fh(){return(fh=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vl(t,"POST","/v1/accounts:sendOobCode",Fl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hh(e,t){return dh.apply(this,arguments)}function dh(){return(dh=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lh(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ph(e,t){return vh.apply(this,arguments)}function vh(){return(vh=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lh(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mh(e,t){return gh.apply(this,arguments)}function gh(){return(gh=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lh(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yh(e,t){return bh.apply(this,arguments)}function bh(){return(bh=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lh(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kh(e,t){return wh.apply(this,arguments)}function wh(){return(wh=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ql(t,"POST","/v1/accounts:signInWithEmailLink",Fl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xh(e,t){return _h.apply(this,arguments)}function _h(){return(_h=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ql(t,"POST","/v1/accounts:signInWithEmailLink",Fl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sh=function(e){b(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return g(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ct(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Wf(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",uh(t,i));case 11:return e.abrupt("return",uh(t,r).catch(function(){var e=Ct(Et().mark((function e(n){var i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Wf(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",uh(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",kh(t,{email:this._email,oobCode:this._password}));case 13:xl(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ih(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",xh(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:xl(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(th);function Eh(e,t){return Ih.apply(this,arguments)}function Ih(){return(Ih=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ql(t,"POST","/v1/accounts:signInWithIdp",Fl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ch=function(e){b(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return g(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Eh(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Eh(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Eh(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Eu(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xl("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ol(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(th);function Th(e,t){return Nh.apply(this,arguments)}function Nh(){return(Nh=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vl(t,"POST","/v1/accounts:sendVerificationCode",Fl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ah(){return(Ah=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ql(t,"POST","/v1/accounts:signInWithPhoneNumber",Fl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jh(){return(jh=Ct(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ql(t,"POST","/v1/accounts:signInWithPhoneNumber",Fl(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Gl(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oh=Tt({},"USER_NOT_FOUND","user-not-found");function Ph(){return(Ph=Ct(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ql(t,"POST","/v1/accounts:signInWithPhoneNumber",Fl(t,r),Oh));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dh=function(e){b(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ah.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return jh.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ph.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(th);var Rh=function(){function e(t){var n,r,i,a,o,s;d(this,e);var u=Iu(Cu(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Cl(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return g(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Iu(Cu(e)).link,n=t?Iu(Cu(t)).deep_link_id:null,r=Iu(Cu(e)).deep_link_id;return(r?Iu(Cu(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(sO){return null}}}]),e}();var Lh=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return g(e,null,[{key:"credential",value:function(e,t){return Sh._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Rh.parseLink(t);return Cl(n,"argument-error"),Sh._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Lh.PROVIDER_ID="password",Lh.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Lh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Mh=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return g(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Fh=function(e){b(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return g(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(Mh),Vh=function(e){b(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Cl(e.idToken||e.accessToken,"argument-error"),Ch._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Cl("providerId"in t&&"signInMethod"in t,"argument-error"),Ch._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Fh),Uh=function(e){b(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"facebook.com")}return g(n,null,[{key:"credential",value:function(e){return Ch._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(sO){return null}}}]),n}(Fh);Uh.FACEBOOK_SIGN_IN_METHOD="facebook.com",Uh.PROVIDER_ID="facebook.com";var Bh=function(e){b(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return g(n,null,[{key:"credential",value:function(e,t){return Ch._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(sO){return null}}}]),n}(Fh);Bh.GOOGLE_SIGN_IN_METHOD="google.com",Bh.PROVIDER_ID="google.com";var zh=function(e){b(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"github.com")}return g(n,null,[{key:"credential",value:function(e){return Ch._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(sO){return null}}}]),n}(Fh);zh.GITHUB_SIGN_IN_METHOD="github.com",zh.PROVIDER_ID="github.com";var qh=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Eh(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Eh(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Eh(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(th),Kh=function(e){b(n,e);var t=_(n);function n(e){return d(this,n),Cl(e.startsWith("saml."),"argument-error"),t.call(this,e)}return g(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=qh.fromJSON(e);return Cl(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return qh._create(r,n)}catch(i){return null}}}]),n}(Mh),Hh=function(e){b(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"twitter.com")}return g(n,null,[{key:"credential",value:function(e,t){return Ch._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(sO){return null}}}]),n}(Fh);function Wh(e,t){return Gh.apply(this,arguments)}function Gh(){return(Gh=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ql(t,"POST","/v1/accounts:signUp",Fl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Hh.TWITTER_SIGN_IN_METHOD="twitter.com",Hh.PROVIDER_ID="twitter.com";var Qh=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return g(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ct(Et().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,yf._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Jh(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ct(Et().mark((function t(n,r,i){var a;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Jh(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Jh(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function $h(){return $h=Ct(Et().mark((function e(t){var n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$f(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Qh({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Wh(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Qh._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),$h.apply(this,arguments)}var Yh=function(e){b(n,e);var t=_(n);function n(e,r,i,a){var o,s;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(x(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return g(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(yu);function Xh(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Yh._fromErrorAndOperation(e,n,t,r);throw n}))}function Zh(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function ed(e,t){return td.apply(this,arguments)}function td(){return td=Ct(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ju(t),e.next=3,id(!0,r,n);case 3:return e.t0=$l,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Zh(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(e,t){return rd.apply(this,arguments)}function rd(){return rd=Ct(Et().mark((function e(t,n){var r,i,a=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=af,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Qh._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}function id(e,t,n){return ad.apply(this,arguments)}function ad(){return ad=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lf(n);case 2:i=Zh(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Cl(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),ad.apply(this,arguments)}function od(e,t){return sd.apply(this,arguments)}function sd(){return sd=Ct(Et().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,af(t,Xh(i,a,n,t),r);case 6:return Cl((o=e.sent).idToken,i,"internal-error"),Cl(s=rf(o.idToken),i,"internal-error"),u=s.sub,Cl(t.uid===u,i,"user-mismatch"),e.abrupt("return",Qh._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&xl(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),sd.apply(this,arguments)}function ud(e,t){return cd.apply(this,arguments)}function cd(){return cd=Ct(Et().mark((function e(t,n){var r,i,a,o,s=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Xh(t,i,n);case 4:return a=e.sent,e.next=7,Qh._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),cd.apply(this,arguments)}function ld(e,t){return fd.apply(this,arguments)}function fd(){return(fd=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ud($f(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hd(e,t){return dd.apply(this,arguments)}function dd(){return dd=Ct(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ju(t),e.next=3,id(!1,r,n.providerId);case 3:return e.abrupt("return",nd(r,n));case 4:case"end":return e.stop()}}),e)}))),dd.apply(this,arguments)}function pd(e,t){return vd.apply(this,arguments)}function vd(){return vd=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",od(ju(t),n));case 1:case"end":return e.stop()}}),e)}))),vd.apply(this,arguments)}function md(e,t){return gd.apply(this,arguments)}function gd(){return(gd=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ql(t,"POST","/v1/accounts:signInWithCustomToken",Fl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yd(){return(yd=Ct(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$f(t),e.next=3,md(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Qh._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bd=function(){function e(t,n){d(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return g(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?kd._fromServerResponse(e,t):"totpInfo"in t?wd._fromServerResponse(e,t):xl(e,"internal-error")}}]),e}(),kd=function(e){b(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(bd),wd=function(e){b(n,e);var t=_(n);function n(e){return d(this,n),t.call(this,"totp",e)}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(bd);function xd(e,t,n){var r;Cl((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Cl("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Cl(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Cl(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function _d(){return _d=Ct(Et().mark((function e(t,n,r){var i,a,o,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=$f(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Wf(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&xd(a,s,r),e.next=9,ph(a,s);case 9:e.next=14;break;case 11:return r&&xd(a,o,r),e.next=14,ph(a,o).catch(function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Wf(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&xd(a,n,r),e.next=8,ph(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),_d.apply(this,arguments)}function Sd(){return(Sd=Ct(Et().mark((function e(t,n,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nh(ju(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ed(){return(Ed=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oh(ju(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Id(e,t){return Cd.apply(this,arguments)}function Cd(){return(Cd=Ct(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ju(t),e.next=3,nh(r,{oobCode:n});case 3:i=e.sent,Cl(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Cl(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Cl(i.mfaInfo,r,"internal-error");case 13:Cl(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=bd._fromServerResponse($f(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Td(){return(Td=Ct(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Id(ju(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nd(e,t,n){return Ad.apply(this,arguments)}function Ad(){return Ad=Ct(Et().mark((function e(t,n,r){var i,a,o,s,u,c,l;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=$f(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Wf(a,o,"signUpPassword");case 5:u=e.sent,s=Wh(a,u),e.next=10;break;case 9:s=Wh(a,o).catch(function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Wf(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Wh(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,Qh._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Ad.apply(this,arguments)}function jd(){return jd=Ct(Et().mark((function e(t,n,r){var i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){Cl(t.handleCodeInApp,a,"argument-error"),t&&xd(a,e,t)},a=$f(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Wf(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,mh(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,mh(a,o).catch(function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Wf(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,mh(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),jd.apply(this,arguments)}function Od(){return(Od=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ju(t),Cl((a=Lh.credentialWithLink(n,r||Al()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",ld(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pd(e,t){return Dd.apply(this,arguments)}function Dd(){return(Dd=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vl(t,"POST","/v1/accounts:createAuthUri",Fl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rd(){return(Rd=Ct(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jl()?Al():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Pd(ju(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ld(){return Ld=Ct(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ju(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&xd(r.auth,a,n),e.next=8,hh(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)}))),Ld.apply(this,arguments)}function Md(){return Md=Ct(Et().mark((function e(t,n,r){var i,a,o,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ju(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&xd(i.auth,o,r),e.next=8,yh(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)}))),Md.apply(this,arguments)}function Fd(e,t){return Vd.apply(this,arguments)}function Vd(){return(Vd=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vl(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ud(){return Ud=Ct(Et().mark((function e(t,n){var r,i,a,o,s,u,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ju(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,af(a,Fd(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)}))),Ud.apply(this,arguments)}function Bd(e,t,n){return zd.apply(this,arguments)}function zd(){return zd=Ct(Et().mark((function e(t,n,r){var i,a,o,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,af(t,ih(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),zd.apply(this,arguments)}var qd=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Kd=function(e){b(n,e);var t=_(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i)).username=a,o}return g(n)}(qd),Hd=function(e){b(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"facebook.com",r)}return g(n)}(qd),Wd=function(e){b(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return g(n)}(Kd),Gd=function(e){b(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"google.com",r)}return g(n)}(qd),Qd=function(e){b(n,e);var t=_(n);function n(e,r,i){return d(this,n),t.call(this,e,"twitter.com",r,i)}return g(n)}(Kd);function Jd(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=rf(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new qd(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Hd(a,i);case"github.com":return new Wd(a,i);case"google.com":return new Gd(a,i);case"twitter.com":return new Qd(a,i,e.screenName||null);case"custom":case"anonymous":return new qd(a,null);default:return new qd(a,r,i)}}(n)}var $d=function(){function e(t,n,r){d(this,e),this.type=t,this.credential=n,this.auth=r}return g(e,[{key:"toJSON",value:function(){return{multiFactorSession:Tt({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Yd=function(){function e(t,n,r){d(this,e),this.session=t,this.hints=n,this.signInResolver=r}return g(e,[{key:"resolveSignIn",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=$f(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return bd._fromServerResponse(r,e)}));Cl(i.mfaPendingCredential,r,"internal-error");var o=$d._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ct(Et().mark((function e(t){var a,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Qh._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Cl(n.user,r,"internal-error"),e.abrupt("return",Qh._forOperation(n.user,n.operationType,s));case 17:xl(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Xd(e,t){return Vl(e,"POST","/v2/accounts/mfaEnrollment:start",Fl(e,t))}function Zd(e,t){return Vl(e,"POST","/v2/accounts/mfaEnrollment:finalize",Fl(e,t))}var ep=function(){function e(t){var n=this;d(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return bd._fromServerResponse(t.auth,e)})))}))}return g(e,[{key:"getSession",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=$d,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ct(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,af(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ct(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,af(this.user,Vl(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Fl(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),tp=new WeakMap;var np="__sak",rp=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return g(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(np,"1"),this.storage.removeItem(np),Promise.resolve(!0)):Promise.resolve(!1)}catch(sO){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ip=function(e){b(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=hu();return Cf(e)||Pf(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Df(),e._shouldAllowMigration=!0,e}return g(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);mu()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ct(Et().mark((function e(t,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,al(k(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ct(Et().mark((function e(t){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,al(k(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,al(k(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(rp);ip.type="LOCAL";var ap=ip,op=function(e){b(n,e);var t=_(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return g(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(rp);op.type="SESSION";var sp=op;function up(e){return Promise.all(e.map(function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var cp=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return g(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ct(Et().mark((function e(t){var n,r,i,a,o,s,u,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,up(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function lp(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}cp.receivers=[];var fp=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return g(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ct(Et().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=lp("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function hp(){return window}function dp(e){hp().location.href=e}function pp(){return"undefined"!==typeof hp().WorkerGlobalScope&&"function"===typeof hp().importScripts}function vp(){return mp.apply(this,arguments)}function mp(){return(mp=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function gp(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var yp="firebaseLocalStorageDb",bp="firebaseLocalStorage",kp="fbase_key",wp=function(){function e(t){d(this,e),this.request=t}return g(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function xp(e,t){return e.transaction([bp],t?"readwrite":"readonly").objectStore(bp)}function _p(){var e=indexedDB.deleteDatabase(yp);return new wp(e).toPromise()}function Sp(){var e=indexedDB.open(yp,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(bp,{keyPath:kp})}catch(r){n(r)}})),e.addEventListener("success",Ct(Et().mark((function n(){var r;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(bp)){n.next=12;break}return r.close(),n.next=5,_p();case 5:return n.t0=t,n.next=8,Sp();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ep(e,t,n){return Ip.apply(this,arguments)}function Ip(){return Ip=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xp(t,!0).put((Tt(i={},kp,n),Tt(i,"value",r),i)),e.abrupt("return",new wp(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ip.apply(this,arguments)}function Cp(e,t){return Tp.apply(this,arguments)}function Tp(){return Tp=Ct(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xp(t,!1).get(n),e.next=3,new wp(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Tp.apply(this,arguments)}function Np(e,t){var n=xp(e,!0).delete(t);return new wp(n).toPromise()}var Ap=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return g(e,[{key:"_openDb",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Sp();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pp()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ct(Et().mark((function e(){var t=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=cp._getInstance(pp()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ct(Et().mark((function e(n,r){var i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ct(Et().mark((function e(){var t,n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vp();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new fp(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&gp()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Sp();case 5:return t=e.sent,e.next=8,Ep(t,np,"1");case 8:return e.next=10,Np(t,np);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ct(Et().mark((function e(t,n){var r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ep(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Cp(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ct(Et().mark((function e(t){var n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Np(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ct(Et().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=xp(e,!1).getAll();return new wp(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=C(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ct(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ap.type="LOCAL";var jp=Ap;function Op(e,t){return Vl(e,"POST","/v2/accounts/mfaSignIn:start",Fl(e,t))}function Pp(e,t){return Vl(e,"POST","/v2/accounts/mfaSignIn:finalize",Fl(e,t))}var Dp=1e12,Rp=function(){function e(t){d(this,e),this.auth=t,this.counter=Dp,this._widgets=new Map}return g(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Lp(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Dp;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Dp;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Dp,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Lp=function(){function e(t,n,r){var i=this;d(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Cl(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return g(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Mp=Kf("rcb"),Fp=new Pl(3e4,6e4),Vp=function(){function e(){var t;d(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=hp().grecaptcha)||void 0===t?void 0:t.render)}return g(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Cl(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Uf(hp().grecaptcha)?Promise.resolve(hp().grecaptcha):new Promise((function(r,i){var a=hp().setTimeout((function(){i(_l(e,"network-request-failed"))}),Fp.get());hp()[Mp]=function(){hp().clearTimeout(a),delete hp()[Mp];var o=hp().grecaptcha;if(o&&Uf(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(_l(e,"internal-error"))},qf("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Eu({onload:Mp,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(_l(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=hp().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Up=function(){function e(){d(this,e)}return g(e,[{key:"load",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Rp(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Bp="recaptcha",zp={theme:"light",type:"image"},qp=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},zp),r=arguments.length>2?arguments[2]:void 0;d(this,e),this.parameters=n,this.type=Bp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$f(r),this.isInvisible="invisible"===this.parameters.size,Cl("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Cl(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Up:new Vp,this.validateStartingState()}return g(e,[{key:"verify",value:function(){var e=Ct(Et().mark((function e(){var t,n,r,i=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Cl(!this.parameters.sitekey,this.auth,"argument-error"),Cl(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Cl("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=hp()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Cl(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ct(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cl(jl()&&!pp(),this.auth,"internal-error"),e.next=3,Kp();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Lf(this.auth);case 8:Cl(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Cl(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Kp(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Hp=function(){function e(t,n){d(this,e),this.verificationId=t,this.onConfirmation=n}return g(e,[{key:"confirm",value:function(e){var t=Dh._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Wp(){return(Wp=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$f(t),e.next=3,$p(i,n,ju(r));case 3:return a=e.sent,e.abrupt("return",new Hp(a,(function(e){return ld(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gp(e,t,n){return Qp.apply(this,arguments)}function Qp(){return Qp=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ju(t),e.next=3,id(!1,i,"phone");case 3:return e.next=5,$p(i.auth,n,ju(r));case 5:return a=e.sent,e.abrupt("return",new Hp(a,(function(e){return hd(i,e)})));case 7:case"end":return e.stop()}}),e)}))),Qp.apply(this,arguments)}function Jp(){return Jp=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ju(t),e.next=3,$p(i.auth,n,ju(r));case 3:return a=e.sent,e.abrupt("return",new Hp(a,(function(e){return pd(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Jp.apply(this,arguments)}function $p(e,t,n){return Yp.apply(this,arguments)}function Yp(){return Yp=Ct(Et().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Cl("string"===typeof a,t,"argument-error"),Cl(r.type===Bp,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Cl("enroll"===s.type,t,"internal-error"),e.next=13,Xd(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Cl("signin"===s.type,t,"internal-error"),Cl(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Op(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Th(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Yp.apply(this,arguments)}function Xp(){return Xp=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nd(ju(t),n);case 2:case"end":return e.stop()}}),e)}))),Xp.apply(this,arguments)}var Zp=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=$f(t)}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return $p(this.auth,e,ju(t))}}],[{key:"credential",value:function(e,t){return Dh._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Dh._fromTokenResponse(n,r):null}}]),e}();function ev(e,t){return t?kf(t):(Cl(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Zp.PROVIDER_ID="phone",Zp.PHONE_SIGN_IN_METHOD="phone";var tv=function(e){b(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Eh(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Eh(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Eh(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(th);function nv(e){return ud(e.auth,new tv(e),e.bypassAuthState)}function rv(e){var t=e.auth,n=e.user;return Cl(n,t,"internal-error"),od(n,new tv(e),e.bypassAuthState)}function iv(e){return av.apply(this,arguments)}function av(){return av=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Cl(r=t.user,n,"internal-error"),e.abrupt("return",nd(r,new tv(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),av.apply(this,arguments)}var ov=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return g(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ct(Et().mark((function t(n,r){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ct(Et().mark((function e(t){var n,r,i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nv;case"linkViaPopup":case"linkViaRedirect":return iv;case"reauthViaPopup":case"reauthViaRedirect":return rv;default:xl(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Nl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Nl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),sv=new Pl(2e3,1e4);function uv(e,t,n){return cv.apply(this,arguments)}function cv(){return(cv=Ct(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$f(t),El(t,n,Mh),a=ev(i,r),o=new dv(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lv(){return lv=Ct(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return El((i=ju(t)).auth,n,Mh),a=ev(i.auth,r),o=new dv(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),lv.apply(this,arguments)}function fv(e,t,n){return hv.apply(this,arguments)}function hv(){return hv=Ct(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return El((i=ju(t)).auth,n,Mh),a=ev(i.auth,r),o=new dv(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),hv.apply(this,arguments)}var dv=function(e){b(n,e);var t=_(n);function n(e,r,i,a,o){var s;return d(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=x(s),s}return g(n,[{key:"executeNotNull",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Cl(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ct(Et().mark((function e(){var t,n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nl(1===this.filter.length,"Popup operations only handle one event"),t=lp(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(_l(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(_l(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(_l(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,sv.get())}()}}]),n}(ov);dv.currentPopupAction=null;var pv="pendingRedirect",vv=new Map,mv=function(e){b(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return g(n,[{key:"execute",value:function(){var e=Ct(Et().mark((function e(){var t,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=vv.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,gv(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,al(k(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:vv.set(this.auth._key(),t);case 21:return this.bypassAuthState||vv.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ct(Et().mark((function e(t){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",al(k(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",al(k(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ov);function gv(e,t){return yv.apply(this,arguments)}function yv(){return(yv=Ct(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_v(n),i=xv(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bv(e,t){return kv.apply(this,arguments)}function kv(){return(kv=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xv(t)._set(_v(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wv(e,t){vv.set(e._key(),t)}function xv(e){return kf(e._redirectPersistence)}function _v(e){return _f(pv,e.config.apiKey,e.name)}function Sv(e,t,n){return function(e,t,n){return Ev.apply(this,arguments)}(e,t,n)}function Ev(){return(Ev=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$f(t),El(t,n,Mh),e.next=4,i._initializationPromise;case 4:return a=ev(i,r),e.next=7,bv(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iv(e,t,n){return function(e,t,n){return Cv.apply(this,arguments)}(e,t,n)}function Cv(){return Cv=Ct(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return El((i=ju(t)).auth,n,Mh),e.next=4,i.auth._initializationPromise;case 4:return a=ev(i.auth,r),e.next=7,bv(a,i.auth);case 7:return e.next=9,Dv(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),Cv.apply(this,arguments)}function Tv(e,t,n){return function(e,t,n){return Nv.apply(this,arguments)}(e,t,n)}function Nv(){return Nv=Ct(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return El((i=ju(t)).auth,n,Mh),e.next=4,i.auth._initializationPromise;case 4:return a=ev(i.auth,r),e.next=7,id(!1,i,n.providerId);case 7:return e.next=9,bv(a,i.auth);case 9:return e.next=11,Dv(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)}))),Nv.apply(this,arguments)}function Av(e,t){return jv.apply(this,arguments)}function jv(){return(jv=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$f(t)._initializationPromise;case 2:return e.abrupt("return",Ov(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ov(e,t){return Pv.apply(this,arguments)}function Pv(){return Pv=Ct(Et().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=$f(t),a=ev(i,n),o=new mv(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Pv.apply(this,arguments)}function Dv(e){return Rv.apply(this,arguments)}function Rv(){return Rv=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=lp("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Rv.apply(this,arguments)}var Lv=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return g(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fv(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Fv(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(_l(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mv(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Mv(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Mv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Fv(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Vv(e){return Uv.apply(this,arguments)}function Uv(){return Uv=Ct(Et().mark((function e(t){var n,r=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Vl(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Uv.apply(this,arguments)}var Bv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zv=/^https?/;function qv(){return(qv=Ct(Et().mark((function e(t){var n,r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Vv(t);case 4:n=e.sent,r=n.authorizedDomains,i=C(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Kv(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:xl(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Kv(e){var t=Al(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!zv.test(r))return!1;if(Bv.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Hv=new Pl(3e4,6e4);function Wv(){var e=hp().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Gv=null;function Qv(e){return Gv=Gv||function(e){return new Promise((function(t,n){var r,i,a;function o(){Wv(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Wv(),n(_l(e,"network-request-failed"))},timeout:Hv.get()})}if(null===(i=null===(r=hp().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=hp().gapi)||void 0===a?void 0:a.load)){var s=Kf("iframefcb");return hp()[s]=function(){gapi.load?o():n(_l(e,"network-request-failed"))},qf("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Gv=null,e}))}(e),Gv}var Jv=new Pl(5e3,15e3),$v="__/auth/iframe",Yv="emulator/auth/iframe",Xv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function em(e){var t=e.config;Cl(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Dl(t,Yv):"https://".concat(e.config.authDomain,"/").concat($v),r={apiKey:t.apiKey,appName:e.name,v:Ic},i=Zv.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Eu(r).slice(1))}function tm(e){return nm.apply(this,arguments)}function nm(){return nm=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qv(t);case 2:return n=e.sent,Cl(r=hp().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:em(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xv,dontclear:!0},(function(e){return new Promise(function(){var n=Ct(Et().mark((function n(r,i){var a,o,s;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){hp().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=_l(t,"network-request-failed"),o=hp().setTimeout((function(){i(a)}),Jv.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),nm.apply(this,arguments)}var rm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},im=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return g(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function am(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},rm),{width:r.toString(),height:i.toString(),top:a,left:o}),c=hu().toLowerCase();n&&(s=Tf(c)?"_blank":n),If(c)&&(t=t||"http://localhost",u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Pf(arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new im(null);var h=window.open(t||"",s,f);Cl(h,e,"popup-blocked");try{h.focus()}catch(d){}return new im(h)}var om="__/auth/handler",sm="emulator/auth/handler",um=encodeURIComponent("fac");function cm(e,t,n,r,i,a){return lm.apply(this,arguments)}function lm(){return(lm=Ct(Et().mark((function e(t,n,r,i,a,o){var s,u,c,f,h,d,p,v,m,g,y,b,k;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Cl(t.config.authDomain,t,"auth-domain-config-required"),Cl(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Ic,eventId:a},n instanceof Mh)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",xu(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(o||{});u<c.length;u++)f=l(c[u],2),h=f[0],d=f[1],s[h]=d;for(n instanceof Fh&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,g=Object.keys(v);m<g.length;m++)y=g[m],void 0===v[y]&&delete v[y];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,k=b?"#".concat(um,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat(fm(t),"?").concat(Eu(v).slice(1)).concat(k));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fm(e){var t=e.config;return t.emulator?Dl(t,sm):"https://".concat(t.authDomain,"/").concat(om)}var hm="webStorageSupport",dm=function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sp,this._completeRedirectFn=Ov,this._overrideRedirectResult=wv}return g(e,[{key:"_openPopup",value:function(){var e=Ct(Et().mark((function e(t,n,r,i){var a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nl(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,cm(t,n,r,Al(),i);case 3:return o=e.sent,e.abrupt("return",am(t,o,lp()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ct(Et().mark((function e(t,n,r,i){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,cm(t,n,r,Al(),i);case 4:return dp(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Nl(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tm(t);case 2:return n=e.sent,r=new Lv(t),n.register("authEvent",(function(e){return Cl(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(hm,{type:hm},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[hm];void 0!==i&&t(!!i),xl(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return qv.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Df()||Cf()||Pf()}}]),e}(),pm=dm,vm=function(){function e(t){d(this,e),this.factorId=t}return g(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Tl("unexpected MultiFactorSessionType")}}}]),e}(),mm=function(e){b(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return g(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Vl(e,"POST","/v2/accounts/mfaEnrollment:finalize",Fl(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Vl(e,"POST","/v2/accounts/mfaSignIn:finalize",Fl(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(vm),gm=function(){function e(){d(this,e)}return g(e,null,[{key:"assertion",value:function(e){return mm._fromCredential(e)}}]),e}();gm.FACTOR_ID="phone";var ym=function(){function e(){d(this,e)}return g(e,null,[{key:"assertionForEnrollment",value:function(e,t){return bm._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return bm._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cl("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,i=n.auth,a={idToken:n.credential,totpEnrollmentInfo:{}},Vl(i,"POST","/v2/accounts/mfaEnrollment:start",Fl(i,a));case 4:return r=e.sent,e.abrupt("return",km._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var i,a}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();ym.FACTOR_ID="totp";var bm=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return g(n,[{key:"_finalizeEnroll",value:function(){var e=Ct(Et().mark((function e(t,n,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cl("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Zd(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Ct(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cl(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Pp(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(vm),km=function(){function e(t,n,r,i,a,o,s){d(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return g(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(wm(e)||wm(t))&&(r=!0),r&&(wm(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),wm(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function wm(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var xm="@firebase/auth",_m="0.23.2",Sm=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return g(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Cl(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Em;!function(e){var t;null===(t=cu())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Im(){return window}Em="Browser",bc(new Ou("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;Cl(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:Em,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rf(Em)},l=new Jf(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(kf);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),bc(new Ou("auth-internal",(function(e){return function(e){return new Sm(e)}($f(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Oc(xm,_m,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Em)),Oc(xm,_m,"esm2017");var Cm=2e3;function Tm(e,t,n){return Nm.apply(this,arguments)}function Nm(){return Nm=Ct(Et().mark((function e(t,n,r){var i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Im(),o=a.BuildInfo,Nl(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Rm(n.sessionId);case 4:return s=e.sent,u={},Pf()?u.ibi=o.packageName:Af()?u.apn=o.packageName:xl(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",cm(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Nm.apply(this,arguments)}function Am(){return(Am=Ct(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Im(),r=n.BuildInfo,i={},Pf()?i.iosBundleId=r.packageName:Af()?i.androidPackageName=r.packageName:xl(t,"operation-not-supported-in-this-environment"),e.next=5,Vv(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jm(e){var t=Im().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Om(e,t,n){return Pm.apply(this,arguments)}function Pm(){return Pm=Ct(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Im(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(_l(t,"redirect-cancelled-by-user"))}),Cm))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Af()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Pm.apply(this,arguments)}function Dm(e){var t,n,r,i,a,o,s,u,c,l,f=Im();Cl("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Cl("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Cl("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Cl("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Cl("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Rm(e){return Lm.apply(this,arguments)}function Lm(){return(Lm=Ct(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mm(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mm(e){if(Nl(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Fm=20,Vm=function(e){b(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return g(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),al(k(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Lv);function Um(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Hm(),postBody:null,tenantId:e.tenantId,error:_l(e,"no-auth-event")}}function Bm(e,t){return Wm()._set(Gm(e),t)}function zm(e){return qm.apply(this,arguments)}function qm(){return(qm=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wm()._get(Gm(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Wm()._remove(Gm(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Km(e,t){var n,r,i=function(e){var t=Qm(e),n=t.link?decodeURIComponent(t.link):void 0,r=Qm(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Qm(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Qm(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?_l(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Hm(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Fm;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function Wm(){return kf(ap)}function Gm(e){return _f("authEvent",e.config.apiKey,e.name)}function Qm(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=I(e.split("?"));t[0];return Iu(t.slice(1).join("?"))}var Jm=function(){function e(){d(this,e),this._redirectPersistence=sp,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ov,this._overrideRedirectResult=wv}return g(e,[{key:"_initialize",value:function(){var e=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Vm(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){xl(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ct(Et().mark((function e(t,n,r,i){var a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dm(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),vv.clear(),e.next=10,this._originValidation(t);case 10:return o=Um(t,r,i),e.next=13,Bm(t,o);case 13:return e.next=15,Tm(t,o,n);case 15:return s=e.sent,e.next=18,jm(s);case 18:return u=e.sent,e.abrupt("return",Om(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Am.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Im(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ct(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,zm(e);case 2:t.onEvent(Ym());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Ct(Et().mark((function n(r){var i,a;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,zm(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Km(i,r.url)),t.onEvent(a||Ym());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Im().handleOpenURL=function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),$m=Jm;function Ym(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_l("no-auth-event")}}var Xm=1e3;function Zm(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function eg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return!("file:"!==Zm()&&"ionic:"!==Zm()&&"capacitor:"!==Zm()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function tg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return mu()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return/Edge\/\d+/.test(e)}(e)}function ng(){try{var e=self.localStorage,t=lp();if(e)return e.setItem(t,"1"),e.removeItem(t),!tg()||gu()}catch(n){return rg()&&gu()}return!1}function rg(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function ig(){return("http:"===Zm()||"https:"===Zm()||pu()||eg())&&!(vu()||du())&&ng()&&!rg()}function ag(){return eg()&&"undefined"!==typeof document}function og(){return sg.apply(this,arguments)}function sg(){return(sg=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ag()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Xm);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ug={LOCAL:"local",NONE:"none",SESSION:"session"},cg=Cl,lg="persistence";function fg(e,t){cg(Object.values(ug).includes(t),e,"invalid-persistence-type"),vu()?cg(t!==ug.SESSION,e,"unsupported-persistence-type"):du()?cg(t===ug.NONE,e,"unsupported-persistence-type"):rg()?cg(t===ug.NONE||t===ug.LOCAL&&gu(),e,"unsupported-persistence-type"):cg(t===ug.NONE||ng(),e,"unsupported-persistence-type")}function hg(e){return dg.apply(this,arguments)}function dg(){return(dg=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=pg(),r=_f(lg,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pg(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var vg=Cl,mg=function(){function e(){d(this,e),this.browserResolver=kf(pm),this.cordovaResolver=kf($m),this.underlyingResolver=null,this._redirectPersistence=sp,this._completeRedirectFn=Ov,this._overrideRedirectResult=wv}return g(e,[{key:"_initialize",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ct(Et().mark((function e(t,n,r,i){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ct(Et().mark((function e(t,n,r,i){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return ag()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return vg(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,og();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gg(e){return e.unwrap()}function yg(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new _g(e,function(e,t){var n,r=ju(e),i=t;return Cl(t.customData.operationType,r,"argument-error"),Cl(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Yd._fromError(r,i)}(e,t));else if(r){var i=bg(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function bg(e){var t=(e instanceof yu?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof yu)&&"temporaryProof"in t&&"phoneNumber"in t)return Zp.credentialFromResult(e);var n,r=t.providerId;if(!r||r===ul.PASSWORD)return null;switch(r){case ul.GOOGLE:n=Bh;break;case ul.FACEBOOK:n=Uh;break;case ul.GITHUB:n=zh;break;case ul.TWITTER:n=Hh;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?qh._create(r,s):Ch._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Vh(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof yu?n.credentialFromError(e):n.credentialFromResult(e)}function kg(e,t){return t.catch((function(t){throw t instanceof yu&&yg(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,bg(t)),additionalUserInfo:Jd(e),user:Sg.getOrCreate(r)}}))}function wg(e,t){return xg.apply(this,arguments)}function xg(){return(xg=Ct(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return kg(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _g=function(){function e(t,n){d(this,e),this.resolver=n,this.auth=t.wrapped()}return g(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return kg(gg(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Sg=function(){function e(t){d(this,e),this._delegate=t,this.multiFactor=function(e){var t=ju(e);return tp.has(t)||tp.set(t,ep._fromUser(t)),tp.get(t)}(t)}return g(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kg(this.auth,hd(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wg(this.auth,Gp(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kg(this.auth,fv(this._delegate,t,mg)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hg($f(this.auth));case 2:return e.abrupt("return",Tv(this._delegate,t,mg));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kg(this.auth,pd(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return wg(this.auth,function(e,t,n){return Jp.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return kg(this.auth,function(e,t,n){return lv.apply(this,arguments)}(this._delegate,e,mg))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hg($f(this.auth));case 2:return e.abrupt("return",Iv(this._delegate,t,mg));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Ld.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ed(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Bd(ju(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Bd(ju(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Xp.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ud.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Md.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Sg.USER_MAP=new WeakMap;var Eg=Cl,Ig=function(){function e(t,n){if(d(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Eg(r,"invalid-api-key",{appName:t.name}),Eg(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?mg:void 0;this._delegate=n.initialize({options:{persistence:Tg(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ml),this.linkUnderlyingAuth()}return g(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Sg.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Xf(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Ed.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Id(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Sd.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kg(this._delegate,Nd(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Rd.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Rh.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Eg(ig(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Av(this._delegate,mg);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",kg(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){$f(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Cg(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Cg(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return jd.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return _d.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fg(this._delegate,t),e.t0=t,e.next=e.t0===ug.SESSION?4:e.t0===ug.LOCAL?6:e.t0===ug.NONE?11:13;break;case 4:return n=sp,e.abrupt("break",14);case 6:return e.next=8,kf(jp)._isAvailable();case 8:return r=e.sent,n=r?jp:ap,e.abrupt("break",14);case 11:return n=xf,e.abrupt("break",14);case 13:return e.abrupt("return",xl("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return kg(this._delegate,function(e){return $h.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return kg(this._delegate,ld(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return kg(this._delegate,function(e,t){return yd.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return kg(this._delegate,function(e,t,n){return ld(ju(e),Lh.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return kg(this._delegate,function(e,t,n){return Od.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return wg(this._delegate,function(e,t,n){return Wp.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Eg(ig(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",kg(this._delegate,uv(this._delegate,t,mg)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Eg(ig(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,hg(this._delegate);case 3:return e.abrupt("return",Sv(this._delegate,t,mg));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Td.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Cg(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Sg.getOrCreate(e))},error:t,complete:n}}function Tg(e,t){var n=function(e,t){var n=pg();if(!n)return[];var r=_f(lg,e,t);switch(n.getItem(r)){case ug.NONE:return[xf];case ug.LOCAL:return[jp,sp];case ug.SESSION:return[sp];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(jp)||n.push(jp),"undefined"!==typeof window)for(var r=0,i=[ap,sp];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(xf)||n.push(xf),n}Ig.Persistence=ug;var Ng=function(){function e(){d(this,e),this.providerId="phone",this._delegate=new Zp(gg(il.auth()))}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Zp.credential(e,t)}}]),e}();Ng.PHONE_SIGN_IN_METHOD=Zp.PHONE_SIGN_IN_METHOD,Ng.PROVIDER_ID=Zp.PROVIDER_ID;var Ag,jg=Cl,Og=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:il.app();d(this,e),jg(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new qp(t,n,i.auth()),this.type=this._delegate.type}return g(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Ag=il).INTERNAL.registerComponent(new Ou("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ig(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:cl,PASSWORD_RESET:ll,RECOVER_EMAIL:fl,REVERT_SECOND_FACTOR_ADDITION:hl,VERIFY_AND_CHANGE_EMAIL:dl,VERIFY_EMAIL:pl}},EmailAuthProvider:Lh,FacebookAuthProvider:Uh,GithubAuthProvider:zh,GoogleAuthProvider:Bh,OAuthProvider:Vh,SAMLAuthProvider:Kh,PhoneAuthProvider:Ng,PhoneMultiFactorGenerator:gm,RecaptchaVerifier:Og,TwitterAuthProvider:Hh,Auth:Ig,AuthCredential:th,Error:yu}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ag.registerVersion("@firebase/auth-compat","0.4.2");var Pg,Dg="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Rg={},Lg=Lg||{},Mg=Dg||self;function Fg(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Vg(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ug="closure_uid_"+(1e9*Math.random()>>>0),Bg=0;function zg(e,t,n){return e.call.apply(e.bind,arguments)}function qg(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Kg(e,t,n){return(Kg=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zg:qg).apply(null,arguments)}function Hg(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Wg(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Gg(){this.s=this.s,this.o=this.o}Gg.prototype.s=!1,Gg.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Ug)&&e[Ug]||(e[Ug]=++Bg)}(this)},Gg.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Qg=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Jg(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function $g(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Fg(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Yg(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Yg.prototype.h=function(){this.defaultPrevented=!0};var Xg=function(){if(!Mg.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Mg.addEventListener("test",(function(){}),t),Mg.removeEventListener("test",(function(){}),t)}catch(fa){}return e}();function Zg(e){return/^[\s\xa0]*$/.test(e)}function ey(){var e=Mg.navigator;return e&&(e=e.userAgent)?e:""}function ty(e){return-1!=ey().indexOf(e)}function ny(e){return ny[" "](e),e}ny[" "]=function(){};var ry,iy,ay=ty("Opera"),oy=ty("Trident")||ty("MSIE"),sy=ty("Edge"),uy=sy||oy,cy=ty("Gecko")&&!(-1!=ey().toLowerCase().indexOf("webkit")&&!ty("Edge"))&&!(ty("Trident")||ty("MSIE"))&&!ty("Edge"),ly=-1!=ey().toLowerCase().indexOf("webkit")&&!ty("Edge");function fy(){var e=Mg.document;return e?e.documentMode:void 0}e:{var hy="",dy=function(){var e=ey();return cy?/rv:([^\);]+)(\)|;)/.exec(e):sy?/Edge\/([\d\.]+)/.exec(e):oy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ly?/WebKit\/(\S+)/.exec(e):ay?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(dy&&(hy=dy?dy[1]:""),oy){var py=fy();if(null!=py&&py>parseFloat(hy)){ry=String(py);break e}}ry=hy}if(Mg.document&&oy){var vy=fy();iy=vy||(parseInt(ry,10)||void 0)}else iy=void 0;var my=iy;function gy(e,t){if(Yg.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(cy){e:{try{ny(t.nodeName);var i=!0;break e}catch(la){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:yy[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&gy.$.h.call(this)}}Wg(gy,Yg);var yy={2:"touch",3:"pen",4:"mouse"};gy.prototype.h=function(){gy.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var by="closure_listenable_"+(1e6*Math.random()|0),ky=0;function wy(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++ky,this.fa=this.ia=!1}function xy(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function _y(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Sy(e){var t={};for(var n in e)t[n]=e[n];return t}var Ey="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Iy(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ey.length;a++)n=Ey[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Cy(e){this.src=e,this.g={},this.h=0}function Ty(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Qg(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(xy(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ny(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Cy.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ny(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new wy(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Ay="closure_lm_"+(1e6*Math.random()|0),jy={};function Oy(e,t,n,r,i){if(r&&r.once)return Dy(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Oy(e,t[a],n,r,i);return null}return n=By(n),e&&e[by]?e.O(t,n,Vg(r)?!!r.capture:!!r,i):Py(e,t,n,!1,r,i)}function Py(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Vg(i)?!!i.capture:!!i,s=Vy(e);if(s||(e[Ay]=s=new Cy(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Fy;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Xg||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(My(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Dy(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Dy(e,t[a],n,r,i);return null}return n=By(n),e&&e[by]?e.P(t,n,Vg(r)?!!r.capture:!!r,i):Py(e,t,n,!0,r,i)}function Ry(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ry(e,t[a],n,r,i);else r=Vg(r)?!!r.capture:!!r,n=By(n),e&&e[by]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ny(a=e.g[t],n,r,i))&&(xy(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Vy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ny(t,n,r,i)),(n=-1<e?t[e]:null)&&Ly(n))}function Ly(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[by])Ty(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(My(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Vy(t))?(Ty(n,e),0==n.h&&(n.src=null,t[Ay]=null)):xy(e)}}}function My(e){return e in jy?jy[e]:jy[e]="on"+e}function Fy(e,t){if(e.fa)e=!0;else{t=new gy(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ly(e),e=n.call(r,t)}return e}function Vy(e){return(e=e[Ay])instanceof Cy?e:null}var Uy="__closure_events_fn_"+(1e9*Math.random()>>>0);function By(e){return"function"===typeof e?e:(e[Uy]||(e[Uy]=function(t){return e.handleEvent(t)}),e[Uy])}function zy(){Gg.call(this),this.i=new Cy(this),this.S=this,this.J=null}function qy(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Yg(t,e);else if(t instanceof Yg)t.target=t.target||e;else{var i=t;Iy(t=new Yg(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ky(o,r,!0,t)&&i}if(i=Ky(o=t.g=e,r,!0,t)&&i,i=Ky(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ky(o=t.g=n[a],r,!1,t)&&i}function Ky(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Ty(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Wg(zy,Gg),zy.prototype[by]=!0,zy.prototype.removeEventListener=function(e,t,n,r){Ry(this,e,t,n,r)},zy.prototype.N=function(){if(zy.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xy(n[r]);delete t.g[e],t.h--}}this.J=null},zy.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},zy.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Hy=Mg.JSON.stringify,Wy=function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return g(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Gy(){var e=tb,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Qy=function(){function e(){d(this,e),this.h=this.g=null}return g(e,[{key:"add",value:function(e,t){var n=Jy.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Jy=new Wy((function(){return new $y}),(function(e){return e.reset()})),$y=function(){function e(){d(this,e),this.next=this.g=this.h=null}return g(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Yy(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Xy(e){Mg.setTimeout((function(){throw e}),0)}var Zy,eb=!1,tb=new Qy,nb=function(){var e=Mg.Promise.resolve(void 0);Zy=function(){e.then(rb)}},rb=function(){for(var e;e=Gy();){try{e.h.call(e.g)}catch(fa){Xy(fa)}var t=Jy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}eb=!1};function ib(e,t){zy.call(this),this.h=e||1,this.g=t||Mg,this.j=Kg(this.qb,this),this.l=Date.now()}function ab(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ob(e,t,n){if("function"===typeof e)n&&(e=Kg(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Kg(e.handleEvent,e)}return 2147483647<Number(t)?-1:Mg.setTimeout(e,t||0)}function sb(e){e.g=ob((function(){e.g=null,e.i&&(e.i=!1,sb(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Wg(ib,zy),(Pg=ib.prototype).ga=!1,Pg.T=null,Pg.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qy(this,"tick"),this.ga&&(ab(this),this.start()))}},Pg.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Pg.N=function(){ib.$.N.call(this),ab(this),delete this.g};var ub=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return g(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:sb(this)}},{key:"N",value:function(){al(k(n.prototype),"N",this).call(this),this.g&&(Mg.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Gg);function cb(e){Gg.call(this),this.h=e,this.g={}}Wg(cb,Gg);var lb=[];function fb(e,t,n,r){Array.isArray(n)||(n&&(lb[0]=n.toString()),n=lb);for(var i=0;i<n.length;i++){var a=Oy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function hb(e){_y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ly(e)}),e),e.g={}}function db(){this.g=!0}function pb(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Hy(n)}catch(ra){return t}}(e,n)+(r?" "+r:"")}))}cb.prototype.N=function(){cb.$.N.call(this),hb(this)},cb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},db.prototype.Ea=function(){this.g=!1},db.prototype.info=function(){};var vb={},mb=null;function gb(){return mb=mb||new zy}function yb(e){Yg.call(this,vb.Ta,e)}function bb(e){var t=gb();qy(t,new yb(t))}function kb(e,t){Yg.call(this,vb.STAT_EVENT,e),this.stat=t}function wb(e){var t=gb();qy(t,new kb(t,e))}function xb(e,t){Yg.call(this,vb.Ua,e),this.size=t}function _b(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Mg.setTimeout((function(){e()}),t)}vb.Ta="serverreachability",Wg(yb,Yg),vb.STAT_EVENT="statevent",Wg(kb,Yg),vb.Ua="timingevent",Wg(xb,Yg);var Sb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Eb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ib(){}function Cb(e){return e.h||(e.h=e.i())}function Tb(){}Ib.prototype.h=null;var Nb,Ab={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function jb(){Yg.call(this,"d")}function Ob(){Yg.call(this,"c")}function Pb(){}function Db(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new cb(this),this.P=Lb,e=uy?125:void 0,this.V=new ib(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Rb}function Rb(){this.i=null,this.g="",this.h=!1}Wg(jb,Yg),Wg(Ob,Yg),Wg(Pb,Ib),Pb.prototype.g=function(){return new XMLHttpRequest},Pb.prototype.i=function(){return{}},Nb=new Pb;var Lb=45e3,Mb={},Fb={};function Vb(e,t,n){e.L=1,e.v=ik(Zb(t)),e.s=n,e.S=!0,Ub(e,null)}function Ub(e,t){e.G=Date.now(),Kb(e),e.A=Zb(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),gk(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Rb,e.g=gw(e.l,n?t:null,!e.s),0<e.O&&(e.M=new ub(Kg(e.Pa,e,e.g),e.O)),fb(e.U,e.g,"readystatechange",e.nb),t=e.I?Sy(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),bb(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Bb(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function zb(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=qb(e,n))==Fb){4==t&&(e.o=4,wb(14),i=!1),pb(e.j,e.m,null,"[Incomplete Response]");break}if(r==Mb){e.o=4,wb(15),pb(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}pb(e.j,e.m,r,null),Jb(e,r)}Bb(e)&&r!=Fb&&r!=Mb&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,wb(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),cw(t),t.M=!0,wb(11))):(pb(e.j,e.m,n,"[Invalid Chunked Response]"),Qb(e),Gb(e))}function qb(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fb:(n=Number(t.substring(n,r)),isNaN(n)?Mb:(r+=1)+n>t.length?Fb:(t=t.slice(r,r+n),e.C=r+n,t))}function Kb(e){e.Y=Date.now()+e.P,Hb(e,e.P)}function Hb(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_b(Kg(e.lb,e),t)}function Wb(e){e.B&&(Mg.clearTimeout(e.B),e.B=null)}function Gb(e){0==e.l.H||e.J||hw(e.l,e)}function Qb(e){Wb(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ab(e.V),hb(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Jb(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Sk(n.i,e)))if(!e.K&&Sk(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;fw(n),tw(n)}uw(n),wb(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=_b(Kg(n.ib,n),6e3));if(1>=_k(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else pw(n,11)}else if((e.K||n.g==e)&&fw(n),!Zg(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Ek(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,rk(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=mw(r,r.J?r.pa:null,r.Y),d.K){Ik(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Wb(p),Kb(p)),r.g=d}else sw(r);0<n.j.length&&rw(n)}else"stop"!=a[0]&&"close"!=a[0]||pw(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?pw(n,7):ew(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}bb()}catch(a){}}function $b(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Fg(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Fg(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Fg(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Pg=Db.prototype).setTimeout=function(e){this.P=e},Pg.nb=function(e){e=e.target;var t=this.M;t&&3==Qk(e)?t.l():this.Pa(e)},Pg.Pa=function(e){try{if(e==this.g)e:{var t=Qk(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||uy||this.g&&(this.h.h||this.g.ja()||Jk(this.g)))){this.J||4!=t||7==n||bb(),Wb(this);var r=this.g.da();this.ca=r;t:if(Bb(this)){var i=Jk(this.g);e="";var a=i.length,o=4==Qk(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Qb(this),Gb(this);var s="";break t}this.h.i=new Mg.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zg(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,wb(12),Qb(this),Gb(this);break e}pb(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jb(this,r)}this.S?(zb(this,t,s),uy&&this.i&&3==t&&(fb(this.U,this.V,"tick",this.mb),this.V.start())):(pb(this.j,this.m,s,null),Jb(this,s)),4==t&&Qb(this),this.i&&!this.J&&(4==t?hw(this.l,this):(this.i=!1,Kb(this)))}else(function(e){var t={};e=(e.g&&2<=Qk(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Zg(e[n])){var r=Yy(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,wb(12)):(this.o=0,wb(13)),Qb(this),Gb(this)}}}catch(t){}},Pg.mb=function(){if(this.g){var e=Qk(this.g),t=this.g.ja();this.C<t.length&&(Wb(this),zb(this,e,t),this.i&&4!=e&&Kb(this))}},Pg.cancel=function(){this.J=!0,Qb(this)},Pg.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(bb(),wb(17)),Qb(this),this.o=2,Gb(this)):Hb(this,this.Y-e)};var Yb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xb(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Xb){this.h=e.h,ek(this,e.j),this.s=e.s,this.g=e.g,tk(this,e.m),this.l=e.l;var t=e.i,n=new dk;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),nk(this,n),this.o=e.o}else e&&(t=String(e).match(Yb))?(this.h=!1,ek(this,t[1]||"",!0),this.s=ak(t[2]||""),this.g=ak(t[3]||"",!0),tk(this,t[4]),this.l=ak(t[5]||"",!0),nk(this,t[6]||"",!0),this.o=ak(t[7]||"")):(this.h=!1,this.i=new dk(null,this.h))}function Zb(e){return new Xb(e)}function ek(e,t,n){e.j=n?ak(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tk(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function nk(e,t,n){t instanceof dk?(e.i=t,function(e,t){t&&!e.j&&(pk(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(vk(this,t),gk(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ok(t,fk)),e.i=new dk(t,e.h))}function rk(e,t,n){e.i.set(t,n)}function ik(e){return rk(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ak(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ok(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,sk),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function sk(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Xb.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ok(t,uk,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ok(t,uk,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ok(n,"/"==n.charAt(0)?lk:ck,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ok(n,hk)),e.join("")};var uk=/[#\/\?@]/g,ck=/[#\?:]/g,lk=/[#\?]/g,fk=/[#\?@]/g,hk=/#/g;function dk(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function pk(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function vk(e,t){pk(e),t=yk(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function mk(e,t){return pk(e),t=yk(e,t),e.g.has(t)}function gk(e,t,n){vk(e,t),0<n.length&&(e.i=null,e.g.set(yk(e,t),Jg(n)),e.h+=n.length)}function yk(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Pg=dk.prototype).add=function(e,t){pk(this),this.i=null,e=yk(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Pg.forEach=function(e,t){pk(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Pg.ta=function(){pk(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Pg.Z=function(e){pk(this);var t=[];if("string"===typeof e)mk(this,e)&&(t=t.concat(this.g.get(yk(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Pg.set=function(e,t){return pk(this),this.i=null,mk(this,e=yk(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Pg.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Pg.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var bk=g((function e(t,n){d(this,e),this.g=t,this.map=n}));function kk(e){this.l=e||wk,Mg.PerformanceNavigationTiming?e=0<(e=Mg.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Mg.g&&Mg.g.Ka&&Mg.g.Ka()&&Mg.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wk=10;function xk(e){return!!e.h||!!e.g&&e.g.size>=e.j}function _k(e){return e.h?1:e.g?e.g.size:0}function Sk(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ek(e,t){e.g?e.g.add(t):e.h=t}function Ik(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ck(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=C(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Jg(e.i)}kk.prototype.cancel=function(){if(this.i=Ck(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=C(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Tk=function(){function e(){d(this,e)}return g(e,[{key:"stringify",value:function(e){return Mg.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Mg.JSON.parse(e,void 0)}}]),e}();function Nk(){this.g=new Tk}function Ak(e,t,n){var r=n||"";try{$b(e,(function(e,n){var i=e;Vg(e)&&(i=Hy(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function jk(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(la){}}function Ok(e){this.l=e.fc||null,this.j=e.ob||!1}function Pk(e,t){zy.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Dk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wg(Ok,Ib),Ok.prototype.g=function(){return new Pk(this.l,this.j)},Ok.prototype.i=function(e){return function(){return e}}({}),Wg(Pk,zy);var Dk=0;function Rk(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Lk(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Mk(e)}function Mk(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Pg=Pk.prototype).open=function(e,t){if(this.readyState!=Dk)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Mk(this)},Pg.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Mg).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Pg.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lk(this)),this.readyState=Dk},Pg.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Mk(this)),this.g&&(this.readyState=3,Mk(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Mg.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rk(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Pg.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Lk(this):Mk(this),3==this.readyState&&Rk(this)}},Pg.Za=function(e){this.g&&(this.response=this.responseText=e,Lk(this))},Pg.Ya=function(e){this.g&&(this.response=e,Lk(this))},Pg.ka=function(){this.g&&Lk(this)},Pg.setRequestHeader=function(e,t){this.v.append(e,t)},Pg.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Pg.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pk.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Fk=Mg.JSON.parse;function Vk(e){zy.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Uk,this.L=this.M=!1}Wg(Vk,zy);var Uk="",Bk=/^https?$/i,zk=["POST","PUT"];function qk(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Kk(e),Wk(e)}function Kk(e){e.F||(e.F=!0,qy(e,"complete"),qy(e,"error"))}function Hk(e){if(e.h&&"undefined"!=typeof Lg&&(!e.C[1]||4!=Qk(e)||2!=e.da()))if(e.v&&4==Qk(e))ob(e.La,0,e);else if(qy(e,"readystatechange"),4==Qk(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Yb)[1]||null;!a&&Mg.self&&Mg.self.location&&(a=Mg.self.location.protocol.slice(0,-1)),i=!Bk.test(a?a.toLowerCase():"")}t=i}if(t)qy(e,"complete"),qy(e,"success");else{e.m=6;try{var o=2<Qk(e)?e.g.statusText:""}catch(ra){o=""}e.j=o+" ["+e.da()+"]",Kk(e)}}finally{Wk(e)}}}function Wk(e,t){if(e.g){Gk(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||qy(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Gk(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Mg.clearTimeout(e.A),e.A=null)}function Qk(e){return e.g?e.g.readyState:0}function Jk(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Uk:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ba){return null}}function $k(e){var t="";return _y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Yk(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=$k(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):rk(e,t,n))}function Xk(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zk(e){this.Ga=0,this.j=[],this.l=new db,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xk("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xk("baseRetryDelayMs",5e3,e),this.hb=Xk("retryDelaySeedMs",1e4,e),this.eb=Xk("forwardChannelMaxRetries",2,e),this.xa=Xk("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new kk(e&&e.concurrentRequestLimit),this.Ja=new Nk,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ew(e){if(nw(e),3==e.H){var t=e.W++,n=Zb(e.I);if(rk(n,"SID",e.K),rk(n,"RID",t),rk(n,"TYPE","terminate"),aw(e,n),(t=new Db(e,e.l,t)).L=2,t.v=ik(Zb(n)),n=!1,Mg.navigator&&Mg.navigator.sendBeacon)try{n=Mg.navigator.sendBeacon(t.v.toString(),"")}catch(ma){}!n&&Mg.Image&&((new Image).src=t.v,n=!0),n||(t.g=gw(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Kb(t)}vw(e)}function tw(e){e.g&&(cw(e),e.g.cancel(),e.g=null)}function nw(e){tw(e),e.u&&(Mg.clearTimeout(e.u),e.u=null),fw(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Mg.clearTimeout(e.m),e.m=null)}function rw(e){if(!xk(e.i)&&!e.m){e.m=!0;var t=e.Na;Zy||nb(),eb||(Zy(),eb=!0),tb.add(t,e),e.C=0}}function iw(e,t){var n;n=t?t.m:e.W++;var r=Zb(e.I);rk(r,"SID",e.K),rk(r,"RID",n),rk(r,"AID",e.V),aw(e,r),e.o&&e.s&&Yk(r,e.o,e.s),n=new Db(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ow(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ek(e.i,n),Vb(n,r,t)}function aw(e,t){e.na&&_y(e.na,(function(e,n){rk(t,n,e)})),e.h&&$b({},(function(e,n){rk(t,n,e)}))}function ow(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Kg(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{Ak(l,o,"req"+c+"_")}catch(Wa){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function sw(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Zy||nb(),eb||(Zy(),eb=!0),tb.add(t,e),e.A=0}}function uw(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=_b(Kg(e.Ma,e),dw(e,e.A)),e.A++,!0)}function cw(e){null!=e.B&&(Mg.clearTimeout(e.B),e.B=null)}function lw(e){e.g=new Db(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Zb(e.wa);rk(t,"RID","rpc"),rk(t,"SID",e.K),rk(t,"AID",e.V),rk(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&rk(t,"TO",e.qa),rk(t,"TYPE","xmlhttp"),aw(e,t),e.o&&e.s&&Yk(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=ik(Zb(t)),n.s=null,n.S=!0,Ub(n,e)}function fw(e){null!=e.v&&(Mg.clearTimeout(e.v),e.v=null)}function hw(e,t){var n=null;if(e.g==t){fw(e),cw(e),e.g=null;var r=2}else{if(!Sk(e.i,t))return;n=t.F,Ik(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;qy(r=gb(),new xb(r,n)),rw(e)}else sw(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(_k(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=_b(Kg(e.Na,e,t),dw(e,e.C)),e.C++,!0))}(e,t)||2==r&&uw(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:pw(e,5);break;case 4:pw(e,10);break;case 3:pw(e,6);break;default:pw(e,2)}}function dw(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function pw(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Kg(e.pb,e);n||(n=new Xb("//www.google.com/images/cleardot.gif"),Mg.location&&"http"==Mg.location.protocol||ek(n,"https"),ik(n)),function(e,t){var n=new db;if(Mg.Image){var r=new Image;r.onload=Hg(jk,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Hg(jk,n,r,"TestLoadImage: error",!1,t),r.onabort=Hg(jk,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Hg(jk,n,r,"TestLoadImage: timeout",!1,t),Mg.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else wb(2);e.H=0,e.h&&e.h.za(t),vw(e),nw(e)}function vw(e){if(e.H=0,e.ma=[],e.h){var t=Ck(e.i);0==t.length&&0==e.j.length||($g(e.ma,t),$g(e.ma,e.j),e.i.i.length=0,Jg(e.j),e.j.length=0),e.h.ya()}}function mw(e,t,n){var r=n instanceof Xb?Zb(n):new Xb(n);if(""!=r.g)t&&(r.g=t+"."+r.g),tk(r,r.m);else{var i=Mg.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Xb(null);r&&ek(a,r),t&&(a.g=t),i&&tk(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&rk(r,n,t),rk(r,"VER",e.ra),aw(e,r),r}function gw(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Vk(new Ok({ob:!0})):new Vk(e.va)).Oa(e.J),t}function yw(){}function bw(){if(oy&&!(10<=Number(my)))throw Error("Environmental error: no available transport.")}function kw(e,t){zy.call(this),this.g=new Zk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Zg(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Zg(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _w(this)}function ww(e){jb.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function xw(){Ob.call(this),this.status=1}function _w(e){this.g=e}function Sw(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ew(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Iw(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Pg=Vk.prototype).Oa=function(e){this.M=e},Pg.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Nb.g(),this.C=this.u?Cb(this.u):Cb(Nb),this.g.onreadystatechange=Kg(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void qk(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=C(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Mg.FormData&&e instanceof Mg.FormData,!(0<=Qg(zk,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=C(n);try{for(c.s();!(u=c.n()).done;){var f=l(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Gk(this),0<this.B&&((this.L=function(e){return oy&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kg(this.ua,this)):this.A=ob(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){qk(this,s)}},Pg.ua=function(){"undefined"!=typeof Lg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qy(this,"timeout"),this.abort(8))},Pg.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,qy(this,"complete"),qy(this,"abort"),Wk(this))},Pg.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wk(this,!0)),Vk.$.N.call(this)},Pg.La=function(){this.s||(this.G||this.v||this.l?Hk(this):this.kb())},Pg.kb=function(){Hk(this)},Pg.isActive=function(){return!!this.g},Pg.da=function(){try{return 2<Qk(this)?this.g.status:-1}catch(ca){return-1}},Pg.ja=function(){try{return this.g?this.g.responseText:""}catch(ca){return""}},Pg.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Fk(t)}},Pg.Ia=function(){return this.m},Pg.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Pg=Zk.prototype).ra=8,Pg.H=1,Pg.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Db(this,this.l,e),n=this.s;if(this.U&&(n?Iy(n=Sy(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ow(this,t,r),rk(i=Zb(this.I),"RID",e),rk(i,"CVER",22),this.F&&rk(i,"X-HTTP-Session-Id",this.F),aw(this,i),n&&(this.O?r="headers="+encodeURIComponent(String($k(n)))+"&"+r:this.o&&Yk(i,this.o,n)),Ek(this.i,t),this.bb&&rk(i,"TYPE","init"),this.P?(rk(i,"$req",r),rk(i,"SID","null"),t.aa=!0,Vb(t,i,null)):Vb(t,i,r),this.H=2}}else 3==this.H&&(e?iw(this,e):0==this.j.length||xk(this.i)||iw(this))},Pg.Ma=function(){if(this.u=null,lw(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=_b(Kg(this.jb,this),e)}},Pg.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,wb(10),tw(this),lw(this))},Pg.ib=function(){null!=this.v&&(this.v=null,tw(this),uw(this),wb(19))},Pg.pb=function(e){e?(this.l.info("Successfully pinged google.com"),wb(2)):(this.l.info("Failed to ping google.com"),wb(1))},Pg.isActive=function(){return!!this.h&&this.h.isActive(this)},(Pg=yw.prototype).Ba=function(){},Pg.Aa=function(){},Pg.za=function(){},Pg.ya=function(){},Pg.isActive=function(){return!0},Pg.Va=function(){},bw.prototype.g=function(e,t){return new kw(e,t)},Wg(kw,zy),kw.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;wb(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=mw(e,null,e.Y),rw(e)},kw.prototype.close=function(){ew(this.g)},kw.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Hy(e),e=n);t.j.push(new bk(t.fb++,e)),3==t.H&&rw(t)},kw.prototype.N=function(){this.g.h=null,delete this.j,ew(this.g),delete this.g,kw.$.N.call(this)},Wg(ww,jb),Wg(xw,Ob),Wg(_w,yw),_w.prototype.Ba=function(){qy(this.g,"a")},_w.prototype.Aa=function(e){qy(this.g,new ww(e))},_w.prototype.za=function(e){qy(this.g,new xw)},_w.prototype.ya=function(){qy(this.g,"b")},Wg(Sw,(function(){this.blockSize=-1})),Sw.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Sw.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Ew(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Ew(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Ew(this,r),i=0;break}}this.h=i,this.i+=t},Sw.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Cw={};function Tw(e){return-128<=e&&128>e?function(e,t){var n=Cw;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Iw([0|e],0>e?-1:0)})):new Iw([0|e],0>e?-1:0)}function Nw(e){if(isNaN(e)||!isFinite(e))return jw;if(0>e)return Lw(Nw(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Aw;return new Iw(t,0)}var Aw=4294967296,jw=Tw(0),Ow=Tw(1),Pw=Tw(16777216);function Dw(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Rw(e){return-1==e.h}function Lw(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Iw(n,~e.h).add(Ow)}function Mw(e,t){return e.add(Lw(t))}function Fw(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Vw(e,t){this.g=e,this.h=t}function Uw(e,t){if(Dw(t))throw Error("division by zero");if(Dw(e))return new Vw(jw,jw);if(Rw(e))return t=Uw(Lw(e),t),new Vw(Lw(t.g),Lw(t.h));if(Rw(t))return t=Uw(e,Lw(t)),new Vw(Lw(t.g),t.h);if(30<e.g.length){if(Rw(e)||Rw(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ow,r=t;0>=r.X(e);)n=Bw(n),r=Bw(r);var i=zw(n,1),a=zw(r,1);for(r=zw(r,2),n=zw(n,2);!Dw(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=zw(r,1),n=zw(n,1)}return t=Mw(e,i.R(t)),new Vw(i,t)}for(i=jw;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Nw(n)).R(t);Rw(o)||0<o.X(e);)o=(a=Nw(n-=r)).R(t);Dw(a)&&(a=Ow),i=i.add(a),e=Mw(e,o)}return new Vw(i,e)}function Bw(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Iw(n,e.h)}function zw(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Iw(i,e.h)}(Pg=Iw.prototype).ea=function(){if(Rw(this))return-Lw(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Aw+r)*t,t*=Aw}return e},Pg.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Dw(this))return"0";if(Rw(this))return"-"+Lw(this).toString(e);for(var t=Nw(Math.pow(e,6)),n=this,r="";;){var i=Uw(n,t).g,a=((0<(n=Mw(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Dw(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Pg.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Pg.X=function(e){return Rw(e=Mw(this,e))?-1:Dw(e)?0:1},Pg.abs=function(){return Rw(this)?Lw(this):this},Pg.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Iw(n,-2147483648&n[n.length-1]?-1:0)},Pg.R=function(e){if(Dw(this)||Dw(e))return jw;if(Rw(this))return Rw(e)?Lw(this).R(Lw(e)):Lw(Lw(this).R(e));if(Rw(e))return Lw(this.R(Lw(e)));if(0>this.X(Pw)&&0>e.X(Pw))return Nw(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,Fw(n,2*r+2*i),n[2*r+2*i+1]+=a*u,Fw(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Fw(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Fw(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Iw(n,0)},Pg.gb=function(e){return Uw(this,e).h},Pg.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Iw(n,this.h&e.h)},Pg.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Iw(n,this.h|e.h)},Pg.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Iw(n,this.h^e.h)},bw.prototype.createWebChannel=bw.prototype.g,kw.prototype.send=kw.prototype.u,kw.prototype.open=kw.prototype.m,kw.prototype.close=kw.prototype.close,Sb.NO_ERROR=0,Sb.TIMEOUT=8,Sb.HTTP_ERROR=6,Eb.COMPLETE="complete",Tb.EventType=Ab,Ab.OPEN="a",Ab.CLOSE="b",Ab.ERROR="c",Ab.MESSAGE="d",zy.prototype.listen=zy.prototype.O,Vk.prototype.listenOnce=Vk.prototype.P,Vk.prototype.getLastError=Vk.prototype.Sa,Vk.prototype.getLastErrorCode=Vk.prototype.Ia,Vk.prototype.getStatus=Vk.prototype.da,Vk.prototype.getResponseJson=Vk.prototype.Wa,Vk.prototype.getResponseText=Vk.prototype.ja,Vk.prototype.send=Vk.prototype.ha,Vk.prototype.setWithCredentials=Vk.prototype.Oa,Sw.prototype.digest=Sw.prototype.l,Sw.prototype.reset=Sw.prototype.reset,Sw.prototype.update=Sw.prototype.j,Iw.prototype.add=Iw.prototype.add,Iw.prototype.multiply=Iw.prototype.R,Iw.prototype.modulo=Iw.prototype.gb,Iw.prototype.compare=Iw.prototype.X,Iw.prototype.toNumber=Iw.prototype.ea,Iw.prototype.toString=Iw.prototype.toString,Iw.prototype.getBits=Iw.prototype.D,Iw.fromNumber=Nw,Iw.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Lw(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Nw(Math.pow(n,8)),i=jw,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Nw(Math.pow(n,o)),i=i.R(o).add(Nw(s))):i=(i=i.R(r)).add(Nw(s))}return i};var qw=Rg.createWebChannelTransport=function(){return new bw},Kw=Rg.getStatEventTarget=function(){return gb()},Hw=Rg.ErrorCode=Sb,Ww=Rg.EventType=Eb,Gw=Rg.Event=vb,Qw=Rg.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Jw=Rg.FetchXmlHttpFactory=Ok,$w=Rg.WebChannel=Tb,Yw=Rg.XhrIo=Vk,Xw=Rg.Md5=Sw,Zw=Rg.Integer=Iw,ex="@firebase/firestore",tx=function(){function e(t){d(this,e),this.uid=t}return g(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();tx.UNAUTHENTICATED=new tx(null),tx.GOOGLE_CREDENTIALS=new tx("google-credentials-uid"),tx.FIRST_PARTY=new tx("first-party-uid"),tx.MOCK_USER=new tx("mock-user");var nx="9.22.2",rx=new qu("@firebase/firestore");function ix(){return rx.logLevel}function ax(e){if(rx.logLevel<=Lu.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ux);rx.debug.apply(rx,["Firestore (".concat(nx,"): ").concat(e)].concat(h(i)))}}function ox(e){if(rx.logLevel<=Lu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ux);rx.error.apply(rx,["Firestore (".concat(nx,"): ").concat(e)].concat(h(i)))}}function sx(e){if(rx.logLevel<=Lu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ux);rx.warn.apply(rx,["Firestore (".concat(nx,"): ").concat(e)].concat(h(i)))}}function ux(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function cx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(nx,") INTERNAL ASSERTION FAILED: ")+e;throw ox(t),new Error(t)}function lx(e,t){e||cx()}function fx(e,t){return e}var hx={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},dx=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return g(n)}(yu),px=g((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),vx=g((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),mx=function(){function e(){d(this,e)}return g(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(tx.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),gx=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return g(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),yx=function(){function e(t){d(this,e),this.t=t,this.currentUser=tx.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new px;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new px,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){ax("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(ax("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new px)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ax("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(lx("string"==typeof n.accessToken),new vx(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return lx(null===e||"string"==typeof e),new tx(e)}}]),e}(),bx=function(){function e(t,n,r){d(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=tx.FIRST_PARTY,this.g=new Map}return g(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),kx=function(){function e(t,n,r){d(this,e),this.h=t,this.l=n,this.m=r}return g(e,[{key:"getToken",value:function(){return Promise.resolve(new bx(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(tx.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),wx=g((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),xx=function(){function e(t){d(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ax("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,ax("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ax("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):ax("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(lx("string"==typeof t.token),e.T=t.token,new wx(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function _x(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Sx=function(){function e(){d(this,e)}return g(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=_x(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Ex(e,t){return e<t?-1:e>t?1:0}function Ix(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Cx(e){return e+"\0"}var Tx=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new dx(hx.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dx(hx.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new dx(hx.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dx(hx.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return g(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ex(this.nanoseconds,e.nanoseconds):Ex(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Nx=function(){function e(t){d(this,e),this.timestamp=t}return g(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Tx(0,0))}},{key:"max",value:function(){return new e(new Tx(253402300799,999999999))}}]),e}(),Ax=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&cx(),void 0===r?r=t.length-n:r>t.length-n&&cx(),this.segments=t,this.offset=n,this.len=r}return g(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),jx=function(e){b(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new dx(hx.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,h(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ax),Ox=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Px=function(e){b(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ox.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new dx(hx.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new dx(hx.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new dx(hx.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new dx(hx.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ax),Dx=function(){function e(t){d(this,e),this.path=t}return g(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===jx.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(jx.fromString(t))}},{key:"fromName",value:function(t){return new e(jx.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(jx.emptyPath())}},{key:"comparator",value:function(e,t){return jx.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new jx(t.slice()))}}]),e}(),Rx=g((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Lx(e){return e.fields.find((function(e){return 2===e.kind}))}function Mx(e){return e.fields.filter((function(e){return 2!==e.kind}))}Rx.UNKNOWN_ID=-1;var Fx=g((function e(t,n){d(this,e),this.fieldPath=t,this.kind=n}));var Vx=function(){function e(t,n){d(this,e),this.sequenceNumber=t,this.offset=n}return g(e,null,[{key:"empty",value:function(){return new e(0,zx.min())}}]),e}();function Ux(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Nx.fromTimestamp(1e9===r?new Tx(n+1,0):new Tx(n,r));return new zx(i,Dx.empty(),t)}function Bx(e){return new zx(e.readTime,e.key,-1)}var zx=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return g(e,null,[{key:"min",value:function(){return new e(Nx.min(),Dx.empty(),-1)}},{key:"max",value:function(){return new e(Nx.max(),Dx.empty(),-1)}}]),e}();function qx(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Dx.comparator(e.documentKey,t.documentKey))?n:Ex(e.largestBatchId,t.largestBatchId)}var Kx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hx=function(){function e(){d(this,e),this.onCommittedListeners=[]}return g(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Wx(e){return Gx.apply(this,arguments)}function Gx(){return Gx=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===hx.FAILED_PRECONDITION&&t.message===Kx){e.next=2;break}throw t;case 2:ax("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Gx.apply(this,arguments)}var Qx=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return g(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&cx(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=C(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Jx=function(){function e(t,n){var r=this;d(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new px,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new Xx(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=r_(e.target.error);r.v.reject(new Xx(t,n))}}return g(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(ax("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new e_(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Xx(n,t)}}}]),e}(),$x=function(){function e(t,n,r){d(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(hu())&&ox("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return g(e,[{key:"$",value:function(){var e=Ct(Et().mark((function e(t){var n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return ax("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Xx(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new dx(hx.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new dx(hx.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Xx(t,n))},i.onupgradeneeded=function(e){ax("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){ax("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ct(Et().mark((function e(t,n,r,i){var a,o,s,u,c=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=Et().mark((function e(){var n,s,u,l;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=Jx.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),Qx.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.R;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,ax("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return ax("SimpleDb","Removing database:",e),t_(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!gu())return!1;if(e.C())return!0;var t=hu(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Yx=function(){function e(t){d(this,e),this.L=t,this.q=!1,this.U=null}return g(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return t_(this.L.delete())}}]),e}(),Xx=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,hx.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return g(n)}(dx);function Zx(e){return"IndexedDbTransactionError"===e.name}var e_=function(){function e(t){d(this,e),this.store=t}return g(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(ax("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ax("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),t_(n)}},{key:"add",value:function(e){return ax("SimpleDb","ADD",this.store.name,e,e),t_(this.store.add(e))}},{key:"get",value:function(e){var t=this;return t_(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ax("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return ax("SimpleDb","DELETE",this.store.name,e),t_(this.store.delete(e))}},{key:"count",value:function(){return ax("SimpleDb","COUNT",this.store.name),t_(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Qx((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Qx((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){ax("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new Qx((function(n,r){t.onerror=function(e){var t=r_(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new Qx((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Yx(i),o=t(i.primaryKey,i.value,a);if(o instanceof Qx){var s=o.catch((function(e){return a.done(),Qx.reject(e)}));n.push(s)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return Qx.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function t_(e){return new Qx((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=r_(e.target.error);n(t)}}))}var n_=!1;function r_(e){var t=$x.S(hu());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new dx("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return n_||(n_=!0,setTimeout((function(){throw r}),0)),r}}return e}var i_=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return g(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;ax("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=ax,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Zx(e.t4)){e.next=17;break}ax("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Wx(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),a_=function(){function e(t,n){d(this,e),this.localStore=t,this.persistence=n}return g(e,[{key:"nt",value:function(){var e=Ct(Et().mark((function e(){var t,n=this,r=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Qx.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return ax("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return ax("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Bx(t);qx(r,n)>0&&(n=r)})),new zx(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),o_=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return g(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function s_(e){return null==e}function u_(e){return 0===e&&1/e==-1/0}function c_(e){return"number"==typeof e&&Number.isInteger(e)&&!u_(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function l_(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=h_(t)),t=f_(e.get(n),t);return h_(t)}function f_(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function h_(e){return e+"\x01\x01"}function d_(e){var t=e.length;if(lx(t>=2),2===t)return lx("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),jx.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&cx(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:cx()}a=o+2}return new jx(r)}o_.ct=-1;var p_=["userId","batchId"];function v_(e,t){return[e,l_(t)]}function m_(e,t,n){return[e,l_(t),n]}var g_={},y_=["prefixPath","collectionGroup","readTime","documentId"],b_=["prefixPath","collectionGroup","documentId"],k_=["collectionGroup","readTime","prefixPath","documentId"],w_=["canonicalId","targetId"],x_=["targetId","path"],__=["path","targetId"],S_=["collectionId","parent"],E_=["indexId","uid"],I_=["uid","sequenceNumber"],C_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],T_=["indexId","uid","orderedDocumentKey"],N_=["userId","collectionPath","documentId"],A_=["userId","collectionPath","largestBatchId"],j_=["userId","collectionGroup","largestBatchId"],O_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),P_=[].concat(h(O_),["documentOverlays"]),D_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],R_=D_,L_=[].concat(R_,["indexConfiguration","indexState","indexEntries"]),M_=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return g(n)}(Hx);function F_(e,t){var n=fx(e);return $x.M(n.ht,t)}function V_(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function U_(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function B_(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var z_=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||K_.EMPTY}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,K_.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,K_.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new q_(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new q_(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new q_(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new q_(this.root,e,this.comparator,!0)}}]),e}(),q_=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return g(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),K_=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw cx();if(this.right.isRed())throw cx();var e=this.left.check();if(e!==this.right.check())throw cx();return e+(this.isRed()?0:1)}}]),e}();K_.EMPTY=null,K_.RED=!0,K_.BLACK=!1,K_.EMPTY=new(function(){function e(){d(this,e),this.size=0}return g(e,[{key:"key",get:function(){throw cx()}},{key:"value",get:function(){throw cx()}},{key:"color",get:function(){throw cx()}},{key:"left",get:function(){throw cx()}},{key:"right",get:function(){throw cx()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new K_(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var H_=function(){function e(t){d(this,e),this.comparator=t,this.data=new z_(this.comparator)}return g(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new W_(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new W_(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),W_=function(){function e(t){d(this,e),this.iter=t}return g(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function G_(e){return e.hasNext()?e.getNext():void 0}var Q_=function(){function e(t){d(this,e),this.fields=t,t.sort(Px.comparator)}return g(e,[{key:"unionWith",value:function(t){var n,r=new H_(Px.comparator),i=C(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=C(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=C(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ix(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),J_=function(e){b(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return g(n)}(E(Error));var $_=function(e){function t(e){d(this,t),this.binaryString=e}return g(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ex(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new J_("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();$_.EMPTY_BYTE_STRING=new $_("");var Y_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function X_(e){if(lx(!!e),"string"==typeof e){var t=0,n=Y_.exec(e);if(lx(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Z_(e.seconds),nanos:Z_(e.nanos)}}function Z_(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function eS(e){return"string"==typeof e?$_.fromBase64String(e):$_.fromUint8Array(e)}function tS(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nS(e){var t=e.mapValue.fields.__previous_value__;return tS(t)?nS(t):t}function rS(e){var t=X_(e.mapValue.fields.__local_write_time__.timestampValue);return new Tx(t.seconds,t.nanos)}var iS=g((function e(t,n,r,i,a,o,s,u,c){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),aS=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return g(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),oS={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},sS={nullValue:"NULL_VALUE"};function uS(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?tS(e)?4:xS(e)?9007199254740991:10:cx()}function cS(e,t){if(e===t)return!0;var n=uS(e);if(n!==uS(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rS(e).isEqual(rS(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=X_(e.timestampValue),r=X_(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return eS(e.bytesValue).isEqual(eS(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Z_(e.geoPointValue.latitude)===Z_(t.geoPointValue.latitude)&&Z_(e.geoPointValue.longitude)===Z_(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Z_(e.integerValue)===Z_(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Z_(e.doubleValue),r=Z_(t.doubleValue);return n===r?u_(n)===u_(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ix(e.arrayValue.values||[],t.arrayValue.values||[],cS);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(V_(n)!==V_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cS(n[i],r[i])))return!1;return!0}(e,t);default:return cx()}}function lS(e,t){return void 0!==(e.values||[]).find((function(e){return cS(e,t)}))}function fS(e,t){if(e===t)return 0;var n=uS(e),r=uS(t);if(n!==r)return Ex(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ex(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Z_(e.integerValue||e.doubleValue),r=Z_(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return hS(e.timestampValue,t.timestampValue);case 4:return hS(rS(e),rS(t));case 5:return Ex(e.stringValue,t.stringValue);case 6:return function(e,t){var n=eS(e),r=eS(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Ex(n[i],r[i]);if(0!==a)return a}return Ex(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ex(Z_(e.latitude),Z_(t.latitude));return 0!==n?n:Ex(Z_(e.longitude),Z_(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=fS(n[i],r[i]);if(a)return a}return Ex(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===oS.mapValue&&t===oS.mapValue)return 0;if(e===oS.mapValue)return 1;if(t===oS.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Ex(r[o],a[o]);if(0!==s)return s;var u=fS(n[r[o]],i[a[o]]);if(0!==u)return u}return Ex(r.length,a.length)}(e.mapValue,t.mapValue);default:throw cx()}}function hS(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ex(e,t);var n=X_(e),r=X_(t),i=Ex(n.seconds,r.seconds);return 0!==i?i:Ex(n.nanos,r.nanos)}function dS(e){return pS(e)}function pS(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=X_(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?eS(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Dx.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=C(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=pS(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=C(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(pS(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):cx();var t,n}function vS(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function mS(e){return!!e&&"integerValue"in e}function gS(e){return!!e&&"arrayValue"in e}function yS(e){return!!e&&"nullValue"in e}function bS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function kS(e){return!!e&&"mapValue"in e}function wS(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return U_(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=wS(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=wS(e.arrayValue.values[r]);return n}return Object.assign({},e)}function xS(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function _S(e){return"nullValue"in e?sS:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?vS(aS.empty(),Dx.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:cx()}function SS(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?vS(aS.empty(),Dx.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?oS:cx()}function ES(e,t){var n=fS(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function IS(e,t){var n=fS(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var CS=function(){function e(t){d(this,e),this.value=t}return g(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!kS(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wS(t)}},{key:"setAll",value:function(e){var t=this,n=Px.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=wS(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());kS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return cS(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];kS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){U_(t,(function(t,n){return e[t]=n}));var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(wS(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function TS(e){var t=[];return U_(e.fields,(function(e,n){var r=new Px([e]);if(kS(n)){var i=TS(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=C(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Q_(t)}var NS=function(){function e(t,n,r,i,a,o,s){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return g(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Nx.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=CS.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=CS.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Nx.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Nx.min(),Nx.min(),Nx.min(),CS.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Nx.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Nx.min(),Nx.min(),CS.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Nx.min(),Nx.min(),CS.empty(),2)}}]),e}(),AS=g((function e(t,n){d(this,e),this.position=t,this.inclusive=n}));function jS(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Dx.comparator(Dx.fromName(o.referenceValue),n.key):fS(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function OS(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!cS(e.position[n],t.position[n]))return!1;return!0}var PS=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function DS(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var RS=g((function e(){d(this,e)})),LS=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(fS(t,this.value)):null!==t&&uS(this.value)===uS(t)&&this.matchesComparison(fS(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return cx()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new WS(e,t,r):"array-contains"===t?new $S(e,r):"in"===t?new YS(e,r):"not-in"===t?new XS(e,r):"array-contains-any"===t?new ZS(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new GS(e,n):new QS(e,n)}}]),n}(RS),MS=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return g(n,[{key:"matches",value:function(e){return FS(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=C(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(RS);function FS(e){return"and"===e.op}function VS(e){return"or"===e.op}function US(e){return BS(e)&&FS(e)}function BS(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof MS)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function zS(e){if(e instanceof LS)return e.field.canonicalString()+e.op.toString()+dS(e.value);if(US(e))return e.filters.map((function(e){return zS(e)})).join(",");var t=e.filters.map((function(e){return zS(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function qS(e,t){return e instanceof LS?function(e,t){return t instanceof LS&&e.op===t.op&&e.field.isEqual(t.field)&&cS(e.value,t.value)}(e,t):e instanceof MS?function(e,t){return t instanceof MS&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&qS(n,t.filters[r])}),!0)}(e,t):void cx()}function KS(e,t){var n=e.filters.concat(t);return MS.create(n,e.op)}function HS(e){return e instanceof LS?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(dS(e.value))}(e):e instanceof MS?function(e){return e.op.toString()+" {"+e.getFilters().map(HS).join(" ,")+"}"}(e):"Filter"}var WS=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).key=Dx.fromName(i.referenceValue),a}return g(n,[{key:"matches",value:function(e){var t=Dx.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(LS),GS=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=JS("in",r),i}return g(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(LS),QS=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=JS("not-in",r),i}return g(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(LS);function JS(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Dx.fromName(e.referenceValue)}))}var $S=function(e){b(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return gS(t)&&lS(t.arrayValue,this.value)}}]),n}(LS),YS=function(e){b(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&lS(this.value.arrayValue,t)}}]),n}(LS),XS=function(e){b(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return g(n,[{key:"matches",value:function(e){if(lS(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!lS(this.value.arrayValue,t)}}]),n}(LS),ZS=function(e){b(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return g(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!gS(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return lS(t.value.arrayValue,e)}))}}]),n}(LS),eE=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.dt=null}));function tE(e){return new eE(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function nE(e){var t=fx(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return zS(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),s_(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return dS(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return dS(e)})).join(",")),t.dt=n}return t.dt}function rE(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!DS(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!qS(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!OS(e.startAt,t.startAt)&&OS(e.endAt,t.endAt)}function iE(e){return Dx.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function aE(e,t){return e.filters.filter((function(e){return e instanceof LS&&e.field.isEqual(t)}))}function oE(e,t,n){var r,i=sS,a=!0,o=C(aE(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=sS,c=!0;switch(s.op){case"<":case"<=":u=_S(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=sS}ES({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ES({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function sE(e,t,n){var r,i=oS,a=!0,o=C(aE(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=oS,c=!0;switch(s.op){case">=":case">":u=SS(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=oS}IS({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];IS({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var uE=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}));function cE(e,t,n,r,i,a,o,s){return new uE(e,t,n,r,i,a,o,s)}function lE(e){return new uE(e)}function fE(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function hE(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function dE(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function pE(e){return null!==e.collectionGroup}function vE(e){var t=fx(e);if(null===t.wt){t.wt=[];var n=dE(t),r=hE(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new PS(n)),t.wt.push(new PS(Px.keyField(),"asc"));else{var i,a=!1,o=C(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new PS(Px.keyField(),u))}}}return t.wt}function mE(e){var t=fx(e);if(!t._t)if("F"===t.limitType)t._t=tE(t.path,t.collectionGroup,vE(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=C(vE(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new PS(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new AS(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new AS(t.startAt.position,t.startAt.inclusive):null;t._t=tE(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function gE(e,t){t.getFirstInequalityField(),dE(e);var n=e.filters.concat([t]);return new uE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function yE(e,t,n){return new uE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bE(e,t){return rE(mE(e),mE(t))&&e.limitType===t.limitType}function kE(e){return"".concat(nE(mE(e)),"|lt:").concat(e.limitType)}function wE(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return HS(e)})).join(", "),"]")),s_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return dS(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return dS(e)})).join(",")),"Target(".concat(t,")")}(mE(e)),"; limitType=").concat(e.limitType,")")}function xE(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Dx.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=C(vE(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=C(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=jS(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,vE(e),t))&&!(e.endAt&&!function(e,t,n){var r=jS(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,vE(e),t))}(e,t)}function _E(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function SE(e){return function(t,n){var r,i=!1,a=C(vE(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=EE(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function EE(e,t,n){var r=e.field.isKeyField()?Dx.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?fS(r,i):cx()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return cx()}}var IE=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return g(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){U_(this.inner,(function(t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return B_(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),CE=new z_(Dx.comparator);function TE(){return CE}var NE=new z_(Dx.comparator);function AE(){for(var e=NE,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function jE(e){var t=NE;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function OE(){return DE()}function PE(){return DE()}function DE(){return new IE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var RE=new z_(Dx.comparator),LE=new H_(Dx.comparator);function ME(){for(var e=LE,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var FE=new H_(Ex);function VE(){return FE}function UE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:u_(t)?"-0":t}}function BE(e){return{integerValue:""+e}}function zE(e,t){return c_(t)?BE(t):UE(e,t)}var qE=g((function e(){d(this,e),this._=void 0}));function KE(e,t,n){return e instanceof GE?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&tS(t)&&(t=nS(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof QE?JE(e,t):e instanceof $E?YE(e,t):function(e,t){var n=WE(e,t),r=ZE(n)+ZE(e.gt);return mS(n)&&mS(e.gt)?BE(r):UE(e.serializer,r)}(e,t)}function HE(e,t,n){return e instanceof QE?JE(e,t):e instanceof $E?YE(e,t):n}function WE(e,t){return e instanceof XE?mS(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var GE=function(e){b(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(qE),QE=function(e){b(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return g(n)}(qE);function JE(e,t){var n,r=eI(t),i=C(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return cS(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var $E=function(e){b(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return g(n)}(qE);function YE(e,t){var n,r=eI(t),i=C(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!cS(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var XE=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return g(n)}(qE);function ZE(e){return Z_(e.integerValue||e.doubleValue)}function eI(e){return gS(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var tI=g((function e(t,n){d(this,e),this.field=t,this.transform=n}));var nI=g((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),rI=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return g(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function iI(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var aI=g((function e(){d(this,e)}));function oI(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new yI(e.key,rI.none()):new fI(e.key,e.data,rI.none());var n,r=e.data,i=CS.empty(),a=new H_(Px.comparator),o=C(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new hI(e.key,i,new Q_(a.toArray()),rI.none())}function sI(e,t,n){e instanceof fI?function(e,t,n){var r=e.value.clone(),i=pI(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof hI?function(e,t,n){if(iI(e.precondition,t)){var r=pI(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(dI(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function uI(e,t,n,r){return e instanceof fI?function(e,t,n,r){if(!iI(e.precondition,t))return n;var i=e.value.clone(),a=vI(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof hI?function(e,t,n,r){if(!iI(e.precondition,t))return n;var i=vI(e.fieldTransforms,r,t),a=t.data;return a.setAll(dI(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return iI(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function cI(e,t){var n,r=null,i=C(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=WE(a.transform,o||null);null!=s&&(null===r&&(r=CS.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function lI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ix(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof QE&&t instanceof QE||e instanceof $E&&t instanceof $E?Ix(e.elements,t.elements,cS):e instanceof XE&&t instanceof XE?cS(e.gt,t.gt):e instanceof GE&&t instanceof GE}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var fI=function(e){b(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(aI),hI=function(e){b(n,e);var t=_(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return g(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(aI);function dI(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function pI(e,t,n){var r=new Map;lx(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,HE(o,s,n[i]))}return r}function vI(e,t,n){var r,i=new Map,a=C(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,KE(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var mI,gI,yI=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(aI),bI=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(aI),kI=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return g(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&sI(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=C(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=uI(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=C(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=uI(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=PE();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=oI(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Nx.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ME())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ix(this.mutations,e.mutations,(function(e,t){return lI(e,t)}))&&Ix(this.baseMutations,e.baseMutations,(function(e,t){return lI(e,t)}))}}]),e}(),wI=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return g(e,null,[{key:"from",value:function(t,n,r){lx(t.mutations.length===r.length);for(var i=RE,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),xI=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return g(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),_I=g((function e(t,n){d(this,e),this.count=t,this.unchangedNames=n}));function SI(e){switch(e){default:return cx();case hx.CANCELLED:case hx.UNKNOWN:case hx.DEADLINE_EXCEEDED:case hx.RESOURCE_EXHAUSTED:case hx.INTERNAL:case hx.UNAVAILABLE:case hx.UNAUTHENTICATED:return!1;case hx.INVALID_ARGUMENT:case hx.NOT_FOUND:case hx.ALREADY_EXISTS:case hx.PERMISSION_DENIED:case hx.FAILED_PRECONDITION:case hx.ABORTED:case hx.OUT_OF_RANGE:case hx.UNIMPLEMENTED:case hx.DATA_LOSS:return!0}}function EI(e){if(void 0===e)return ox("GRPC error has no .code"),hx.UNKNOWN;switch(e){case mI.OK:return hx.OK;case mI.CANCELLED:return hx.CANCELLED;case mI.UNKNOWN:return hx.UNKNOWN;case mI.DEADLINE_EXCEEDED:return hx.DEADLINE_EXCEEDED;case mI.RESOURCE_EXHAUSTED:return hx.RESOURCE_EXHAUSTED;case mI.INTERNAL:return hx.INTERNAL;case mI.UNAVAILABLE:return hx.UNAVAILABLE;case mI.UNAUTHENTICATED:return hx.UNAUTHENTICATED;case mI.INVALID_ARGUMENT:return hx.INVALID_ARGUMENT;case mI.NOT_FOUND:return hx.NOT_FOUND;case mI.ALREADY_EXISTS:return hx.ALREADY_EXISTS;case mI.PERMISSION_DENIED:return hx.PERMISSION_DENIED;case mI.FAILED_PRECONDITION:return hx.FAILED_PRECONDITION;case mI.ABORTED:return hx.ABORTED;case mI.OUT_OF_RANGE:return hx.OUT_OF_RANGE;case mI.UNIMPLEMENTED:return hx.UNIMPLEMENTED;case mI.DATA_LOSS:return hx.DATA_LOSS;default:return cx()}}(gI=mI||(mI={}))[gI.OK=0]="OK",gI[gI.CANCELLED=1]="CANCELLED",gI[gI.UNKNOWN=2]="UNKNOWN",gI[gI.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gI[gI.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gI[gI.NOT_FOUND=5]="NOT_FOUND",gI[gI.ALREADY_EXISTS=6]="ALREADY_EXISTS",gI[gI.PERMISSION_DENIED=7]="PERMISSION_DENIED",gI[gI.UNAUTHENTICATED=16]="UNAUTHENTICATED",gI[gI.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gI[gI.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gI[gI.ABORTED=10]="ABORTED",gI[gI.OUT_OF_RANGE=11]="OUT_OF_RANGE",gI[gI.UNIMPLEMENTED=12]="UNIMPLEMENTED",gI[gI.INTERNAL=13]="INTERNAL",gI[gI.UNAVAILABLE=14]="UNAVAILABLE",gI[gI.DATA_LOSS=15]="DATA_LOSS";var II=function(){function e(){d(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return g(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return CI}},{key:"getOrCreateInstance",value:function(){return null===CI&&(CI=new e),CI}}]),e}(),CI=null;function TI(){return new TextEncoder}var NI=new Zw([4294967295,4294967295],0);function AI(e){var t=TI().encode(e),n=new Xw;return n.update(t),new Uint8Array(n.digest())}function jI(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Zw([n,r],0),new Zw([i,a],0)]}var OI=function(){function e(t,n,r){if(d(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new PI("Invalid padding: ".concat(n));if(r<0)throw new PI("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new PI("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new PI("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=Zw.fromNumber(this.It)}return g(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(Zw.fromNumber(n)));return 1===r.compare(NI)&&(r=new Zw([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=l(jI(AI(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=l(jI(AI(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),PI=function(e){b(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return g(n)}(E(Error)),DI=function(){function e(t,n,r,i,a){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return g(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,RI.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Nx.min(),i,new z_(Ex),TE(),ME())}}]),e}(),RI=function(){function e(t,n,r,i,a){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return g(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,ME(),ME(),ME())}}]),e}(),LI=g((function e(t,n,r,i){d(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),MI=g((function e(t,n){d(this,e),this.targetId=t,this.Vt=n})),FI=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$_.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),VI=function(){function e(){d(this,e),this.St=0,this.Dt=zI(),this.Ct=$_.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return g(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=ME(),t=ME(),n=ME();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:cx()}})),new RI(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=zI()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),UI=function(){function e(t){d(this,e),this.Gt=t,this.Qt=new Map,this.jt=TE(),this.zt=BI(),this.Wt=new z_(Ex)}return g(e,[{key:"Ht",value:function(e){var t,n=C(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(s){n.e(s)}finally{n.f()}var i,a=C(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:cx()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(iE(a))if(0===r){var o=new Dx(a.path);this.Yt(n,o,NS.newNoDocument(o,Nx.min()))}else lx(1===r);else{var s=this.ie(n);if(s!==r){var u=this.re(e,s);if(0!==u){this.ee(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=II.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=eS(c).toUint8Array()}catch(e){if(e instanceof J_)return sx("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new OI(a,f,d)}catch(e){return sx(e instanceof PI?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&iE(a.target)){var o=new Dx(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,NS.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=ME();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new DI(e,n,this.Wt,this.jt,r);return this.jt=TE(),this.zt=BI(),this.Wt=new z_(Ex),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new VI,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new H_(Ex),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||ax("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new VI),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function BI(){return new z_(Dx.comparator)}function zI(){return new z_(Dx.comparator)}var qI={asc:"ASCENDING",desc:"DESCENDING"},KI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HI={and:"AND",or:"OR"},WI=g((function e(t,n){d(this,e),this.databaseId=t,this.useProto3Json=n}));function GI(e,t){return e.useProto3Json||s_(t)?t:{value:t}}function QI(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function JI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function $I(e,t){return QI(e,t.toTimestamp())}function YI(e){return lx(!!e),Nx.fromTimestamp(function(e){var t=X_(e);return new Tx(t.seconds,t.nanos)}(e))}function XI(e,t){return function(e){return new jx(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ZI(e){var t=jx.fromString(e);return lx(xC(t)),t}function eC(e,t){return XI(e.databaseId,t.path)}function tC(e,t){var n=ZI(t);if(n.get(1)!==e.databaseId.projectId)throw new dx(hx.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new dx(hx.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Dx(aC(n))}function nC(e,t){return XI(e.databaseId,t)}function rC(e){var t=ZI(e);return 4===t.length?jx.emptyPath():aC(t)}function iC(e){return new jx(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function aC(e){return lx(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function oC(e,t,n){return{name:eC(e,t),fields:n.value.mapValue.fields}}function sC(e,t,n){var r=tC(e,t.name),i=YI(t.updateTime),a=t.createTime?YI(t.createTime):Nx.min(),o=new CS({mapValue:{fields:t.fields}}),s=NS.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function uC(e,t){return"found"in t?function(e,t){lx(!!t.found),t.found.name,t.found.updateTime;var n=tC(e,t.found.name),r=YI(t.found.updateTime),i=t.found.createTime?YI(t.found.createTime):Nx.min(),a=new CS({mapValue:{fields:t.found.fields}});return NS.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){lx(!!t.missing),lx(!!t.readTime);var n=tC(e,t.missing),r=YI(t.readTime);return NS.newNoDocument(n,r)}(e,t):cx()}function cC(e,t){var n;if(t instanceof fI)n={update:oC(e,t.key,t.value)};else if(t instanceof yI)n={delete:eC(e,t.key)};else if(t instanceof hI)n={update:oC(e,t.key,t.data),updateMask:wC(t.fieldMask)};else{if(!(t instanceof bI))return cx();n={verify:eC(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof GE)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof QE)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $E)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof XE)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw cx()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:$I(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:cx()}(e,t.precondition)),n}function lC(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?rI.updateTime(YI(e.updateTime)):void 0!==e.exists?rI.exists(e.exists):rI.none()}(t.currentDocument):rI.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)lx("REQUEST_TIME"===t.setToServerValue),n=new GE;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new QE(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new $E(i)}else"increment"in t?n=new XE(e,t.increment):cx();var a=Px.fromServerFormat(t.fieldPath);return new tI(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=tC(e,t.update.name),a=new CS({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Q_(t.map((function(e){return Px.fromServerFormat(e)})))}(t.updateMask);return new hI(i,a,o,n,r)}return new fI(i,a,n,r)}if(t.delete){var s=tC(e,t.delete);return new yI(s,n)}if(t.verify){var u=tC(e,t.verify);return new bI(u,n)}return cx()}function fC(e,t){return{documents:[nC(e,t.path)]}}function hC(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=nC(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=nC(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return kC(MS.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:yC(e.field),direction:vC(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=GI(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function dC(e){var t=rC(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){lx(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=pC(e);return t instanceof MS&&US(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new PS(bC(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return s_(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new AS(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new AS(n,t)}(n.endAt)),cE(t,i,s,o,u,"F",c,l)}function pC(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=bC(e.unaryFilter.field);return LS.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=bC(e.unaryFilter.field);return LS.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=bC(e.unaryFilter.field);return LS.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=bC(e.unaryFilter.field);return LS.create(i,"!=",{nullValue:"NULL_VALUE"});default:return cx()}}(e):void 0!==e.fieldFilter?function(e){return LS.create(bC(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cx()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return MS.create(e.compositeFilter.filters.map((function(e){return pC(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return cx()}}(e.compositeFilter.op))}(e):cx()}function vC(e){return qI[e]}function mC(e){return KI[e]}function gC(e){return HI[e]}function yC(e){return{fieldPath:e.canonicalString()}}function bC(e){return Px.fromServerFormat(e.fieldPath)}function kC(e){return e instanceof LS?function(e){if("=="===e.op){if(bS(e.value))return{unaryFilter:{field:yC(e.field),op:"IS_NAN"}};if(yS(e.value))return{unaryFilter:{field:yC(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bS(e.value))return{unaryFilter:{field:yC(e.field),op:"IS_NOT_NAN"}};if(yS(e.value))return{unaryFilter:{field:yC(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yC(e.field),op:mC(e.op),value:e.value}}}(e):e instanceof MS?function(e){var t=e.getFilters().map((function(e){return kC(e)}));return 1===t.length?t[0]:{compositeFilter:{op:gC(e.op),filters:t}}}(e):cx()}function wC(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function xC(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var _C=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Nx.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Nx.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:$_.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return g(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),SC=g((function e(t){d(this,e),this.fe=t}));function EC(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:IC(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:eC(e,t.key),fields:t.data.value.mapValue.fields,updateTime:QI(e,t.version.toTimestamp()),createTime:QI(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:CC(t.version)};else{if(!t.isUnknownDocument())return cx();r.unknownDocument={path:n.path.toArray(),version:CC(t.version)}}return r}function IC(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function CC(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function TC(e){var t=new Tx(e.seconds,e.nanoseconds);return Nx.fromTimestamp(t)}function NC(e,t){for(var n=(t.baseMutations||[]).map((function(t){return lC(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return lC(e.fe,t)})),s=Tx.fromMillis(t.localWriteTimeMs);return new kI(t.batchId,s,n,o)}function AC(e){var t,n,r=TC(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?TC(e.lastLimboFreeSnapshotVersion):Nx.min();return void 0!==e.query.documents?(lx(1===(n=e.query).documents.length),t=mE(lE(rC(n.documents[0])))):t=function(e){return mE(dC(e))}(e.query),new _C(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,$_.fromBase64String(e.resumeToken))}function jC(e,t){var n,r=CC(t.snapshotVersion),i=CC(t.lastLimboFreeSnapshotVersion);n=iE(t.target)?fC(e.fe,t.target):hC(e.fe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:nE(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function OC(e){var t=dC({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?yE(t,t.limit,"L"):t}function PC(e,t){return new xI(t.largestBatchId,lC(e.fe,t.overlayMutation))}function DC(e,t){var n=t.path.lastSegment();return[e,l_(t.path.popLast()),n]}function RC(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:CC(r.readTime),documentKey:l_(r.documentKey.path),largestBatchId:r.largestBatchId}}var LC=function(){function e(){d(this,e)}return g(e,[{key:"getBundleMetadata",value:function(e,t){return MC(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:TC(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return MC(e).put({bundleId:(n=t).id,createTime:CC(YI(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return FC(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:OC(t.bundledQuery),readTime:TC(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return FC(e).put(function(e){return{name:e.name,readTime:CC(YI(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function MC(e){return F_(e,"bundles")}function FC(e){return F_(e,"namedQueries")}var VC=function(){function e(t,n){d(this,e),this.serializer=t,this.userId=n}return g(e,[{key:"getOverlay",value:function(e,t){var n=this;return UC(e).get(DC(this.userId,t)).next((function(e){return e?PC(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=OE();return Qx.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new xI(t,a);i.push(r.we(e,o))})),Qx.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(l_(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(UC(e).J("collectionPathOverlayIndex",i))})),Qx.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=OE(),a=l_(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return UC(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=PC(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=OE(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return UC(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=PC(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"we",value:function(e,t){return UC(e).put(function(e,t,n){var r=l(DC(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:cC(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function UC(e){return F_(e,"documentOverlays")}var BC=function(){function e(){d(this,e)}return g(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Z_(e.integerValue));else if("doubleValue"in e){var n=Z_(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),u_(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(eS(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?xS(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):cx()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),Dx.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function zC(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function qC(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=zC(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}BC.Ve=new BC;var KC=function(){function e(){d(this,e),this.buffer=new Uint8Array(1024),this.position=0}return g(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var a=r.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var a=r.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=qC(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=qC(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),HC=function(){function e(t){d(this,e),this.je=t}return g(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),WC=function(){function e(t){d(this,e),this.je=t}return g(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),GC=function(){function e(){d(this,e),this.je=new KC,this.ze=new HC(this.je),this.We=new WC(this.je)}return g(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),QC=function(){function e(t,n,r,i){d(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return g(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function JC(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=$C(e.arrayValue,t.arrayValue))?n:0!==(n=$C(e.directionalValue,t.directionalValue))?n:Dx.comparator(e.documentKey,t.documentKey)}function $C(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var YC=function(){function e(t){d(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=C(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return g(e,[{key:"tn",value:function(e){lx(e.collectionGroup===this.collectionId);var t=Lx(e);if(void 0!==t&&!this.en(t))return!1;for(var n=Mx(e),r=new Set,i=0,a=0;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){var o=n[i];if(!this.nn(this.Ze,o)||!this.sn(this.Ye[a++],o))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Ye.length||!this.sn(this.Ye[a++],s))return!1}return!0}},{key:"en",value:function(e){var t,n=C(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function XC(e){var t,n;if(lx(e instanceof LS||e instanceof MS),e instanceof LS){if(e instanceof YS){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return LS.create(e.field,"==",t)})))||[];return MS.create(r,"or")}return e}var i=e.filters.map((function(e){return XC(e)}));return MS.create(i,e.op)}function ZC(e){if(0===e.getFilters().length)return[];var t=rT(XC(e));return lx(nT(t)),eT(t)||tT(t)?[t]:t.getFilters()}function eT(e){return e instanceof LS}function tT(e){return e instanceof MS&&US(e)}function nT(e){return eT(e)||tT(e)||function(e){if(e instanceof MS&&VS(e)){var t,n=C(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!eT(r)&&!tT(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function rT(e){if(lx(e instanceof LS||e instanceof MS),e instanceof LS)return e;if(1===e.filters.length)return rT(e.filters[0]);var t=e.filters.map((function(e){return rT(e)})),n=MS.create(t,e.op);return nT(n=oT(n))?n:(lx(n instanceof MS),lx(FS(n)),lx(n.filters.length>1),n.filters.reduce((function(e,t){return iT(e,t)})))}function iT(e,t){var n;return lx(e instanceof LS||e instanceof MS),lx(t instanceof LS||t instanceof MS),n=e instanceof LS?t instanceof LS?function(e,t){return MS.create([e,t],"and")}(e,t):aT(e,t):t instanceof LS?aT(t,e):function(e,t){if(lx(e.filters.length>0&&t.filters.length>0),FS(e)&&FS(t))return KS(e,t.getFilters());var n=VS(e)?e:t,r=VS(e)?t:e,i=n.filters.map((function(e){return iT(e,r)}));return MS.create(i,"or")}(e,t),oT(n)}function aT(e,t){if(FS(t))return KS(t,e.getFilters());var n=t.filters.map((function(t){return iT(e,t)}));return MS.create(n,"or")}function oT(e){if(lx(e instanceof LS||e instanceof MS),e instanceof LS)return e;var t=e.getFilters();if(1===t.length)return oT(t[0]);if(BS(e))return e;var n=t.map((function(e){return oT(e)})),r=[];return n.forEach((function(t){t instanceof LS?r.push(t):t instanceof MS&&(t.op===e.op?r.push.apply(r,h(t.filters)):r.push(t))})),1===r.length?r[0]:MS.create(r,e.op)}var sT=function(){function e(){d(this,e),this.rn=new uT}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),Qx.resolve()}},{key:"getCollectionParents",value:function(e,t){return Qx.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Qx.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Qx.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Qx.resolve(null)}},{key:"getIndexType",value:function(e,t){return Qx.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Qx.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Qx.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Qx.resolve(zx.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Qx.resolve(zx.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Qx.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Qx.resolve()}}]),e}(),uT=function(){function e(){d(this,e),this.index={}}return g(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new H_(jx.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new H_(jx.comparator)).toArray()}}]),e}(),cT=new Uint8Array(0),lT=function(){function e(t,n){d(this,e),this.user=t,this.databaseId=n,this.on=new uT,this.un=new IE((function(e){return nE(e)}),(function(e,t){return rE(e,t)})),this.uid=t.uid||""}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:l_(i)};return fT(e).put(a)}return Qx.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Cx(t),""],!1,!0);return fT(e).j(r).next((function(e){var r,i=C(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(d_(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=dT(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=pT(e);return a.next((function(e){o.put(RC(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=dT(e),r=pT(e),i=hT(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=hT(e),i=!0,a=new Map;return Qx.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=ME(),o=[];return Qx.forEach(a,(function(i,a){var s;ax("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(nE(t)));var u=function(e,t){var n=Lx(t);if(void 0===n)return null;var r,i=C(aE(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=C(Mx(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=C(aE(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=C(Mx(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?oE(e,o.fieldPath,e.startAt):sE(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new AS(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=C(Mx(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?sE(e,o.fieldPath,e.endAt):oE(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new AS(r,i)}(a,i),h=n.hn(i,a,l),d=n.hn(i,a,f),p=n.ln(i,a,c),v=n.fn(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return Qx.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Dx.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Qx.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:ZC(MS.create(e.filters,"and")).map((function(t){return tE(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.dn(t[d/c]):cT,f=s.wn(e,u,n[d%c],r),p=s._n(e,u,i[d%c],a),v=o.map((function(t){return s.wn(e,u,t,!0)}));l.push.apply(l,h(s.createRange(f,p,v)))},d=0;d<u;++d)f();return l}},{key:"wn",value:function(e,t,n,r){var i=new QC(e,Dx.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new QC(e,Dx.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new YC(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return Qx.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new H_(Px.comparator),r=!1,i=C(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=C(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=C(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new GC,i=C(Mx(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.He(a.kind);BC.Ve._e(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new GC;return BC.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new GC;return BC.Ve._e(vS(this.databaseId,t),n.He(function(e){var t=Mx(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new GC);var i,a=0,o=C(Mx(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=C(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.yn(t,u.fieldPath)&&gS(c))r=this.pn(r,u,c);else{var h=f.He(u.kind);BC.Ve._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=h(e),a=[],o=C(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=C(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new GC;f.seed(l.Qe()),BC.Ve._e(u,f.He(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof LS&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=dT(e),i=pT(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return Qx.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Vx(t.sequenceNumber,new zx(TC(t.readTime),new Dx(d_(t.documentKey)),t.largestBatchId)):Vx.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new Fx(Px.fromServerFormat(n),r)}));return new Rx(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ex(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=dT(e),a=pT(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Qx.forEach(t,(function(t){return a.put(RC(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Qx.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Qx.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Qx.forEach(a,(function(r){return n.En(e,t,r).next((function(t){var a=n.An(i,r);return t.isEqual(a)?Qx.resolve():n.vn(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return hT(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return hT(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=hT(e),i=new H_(JC);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new QC(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new H_(JC),r=this.mn(t,e);if(null==r)return n;var i=Lx(t);if(null!=i){var a=e.data.field(i.fieldPath);if(gS(a)){var o,s=C(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new QC(t.indexId,e.key,this.dn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new QC(t.indexId,e.key,cT,r));return n}},{key:"vn",value:function(e,t,n,r,i){var a=this;ax("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=G_(a),u=G_(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=G_(o)):l?(i(s),s=G_(a)):(s=G_(a),u=G_(o))}}(r,i,JC,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.Pn(e,t,n,r))})),Qx.waitFor(o)}},{key:"Tn",value:function(e){var t=1;return pT(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return JC(e,t)})).filter((function(e,t,n){return!t||0!==JC(e,n[t-1])}));var r=[];r.push(e);var i,a=C(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=JC(o,e),u=JC(o,t);if(0===s)r[0]=e.Je();else if(s>0&&u<0)r.push(o),r.push(o.Je());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,cT,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,cT,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return JC(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(vT)}},{key:"getMinOffset",value:function(e,t){var n=this;return Qx.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||cx()}))})).next(vT)}}]),e}();function fT(e){return F_(e,"collectionParents")}function hT(e){return F_(e,"indexEntries")}function dT(e){return F_(e,"indexConfiguration")}function pT(e){return F_(e,"indexState")}function vT(e){lx(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;qx(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new zx(t.readTime,t.documentKey,n)}var mT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gT=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return g(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function yT(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.X({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){lx(1===s)})));var c,l=[],f=C(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=m_(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Qx.waitFor(a).next((function(){return l}))}function bT(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw cx();t=e.noDocument}return JSON.stringify(t).length}gT.DEFAULT_COLLECTION_PERCENTILE=10,gT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gT.DEFAULT=new gT(41943040,gT.DEFAULT_COLLECTION_PERCENTILE,gT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gT.DISABLED=new gT(-1,0,0);var kT=function(){function e(t,n,r,i){d(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return g(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xT(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=_T(e),o=xT(e);return o.add({}).next((function(s){lx("number"==typeof s);var u,c=new kI(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return cC(e.fe,t)})),i=n.mutations.map((function(t){return cC(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new H_((function(e,t){return Ex(e.canonicalString(),t.canonicalString())})),d=C(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=m_(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,g_))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[s]=c.keys()})),Qx.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return xT(e).get(t).next((function(e){return e?(lx(e.userId===n.userId),NC(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?Qx.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return xT(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(lx(t.batchId>=r),a=NC(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return xT(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xT(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return NC(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=v_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return _T(e).X({range:i},(function(r,i,o){var s=l(r,3),u=s[0],c=s[1],f=s[2],h=d_(c);if(u===n.userId&&t.path.isEqual(h))return xT(e).get(f).next((function(e){if(!e)throw cx();lx(e.userId===n.userId),a.push(NC(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new H_(Ex),i=[];return t.forEach((function(t){var a=v_(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=_T(e).X({range:o},(function(e,i,a){var o=l(e,3),s=o[0],u=o[1],c=o[2],f=d_(u);s===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(s)})),Qx.waitFor(i).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=v_(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new H_(Ex);return _T(e).X({range:o},(function(e,t,a){var o=l(e,3),u=o[0],c=o[1],f=o[2],h=d_(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.Dn(e,s)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(xT(e).get(t).next((function(e){if(null===e)throw cx();lx(e.userId===n.userId),r.push(NC(n.serializer,e))})))})),Qx.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return yT(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),Qx.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Qx.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return _T(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=d_(e[1]);i.push(a)}else r.done()})).next((function(){lx(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return wT(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return ST(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return lx(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function wT(e,t,n){var r=v_(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return _T(e).X({range:a,Y:!0},(function(e,n,r){var a=l(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function xT(e){return F_(e,"mutations")}function _T(e){return F_(e,"documentMutations")}function ST(e){return F_(e,"mutationQueues")}var ET=function(){function e(t){d(this,e),this.Nn=t}return g(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),IT=function(){function e(t,n){d(this,e),this.referenceDelegate=t,this.serializer=n}return g(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new ET(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return Nx.fromTimestamp(new Tx(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return CT(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return lx(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return CT(e).X((function(o,s){var u=AC(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Qx.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return CT(e).X((function(e,n){var r=AC(n);t(r)}))}},{key:"$n",value:function(e){return TT(e).get("targetGlobalKey").next((function(e){return lx(null!==e),e}))}},{key:"On",value:function(e,t){return TT(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return CT(e).put(jC(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=nE(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return CT(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=AC(n);rE(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=NT(e);return t.forEach((function(t){var o=l_(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Qx.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=NT(e);return Qx.forEach(t,(function(t){var a=l_(t.path);return Qx.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=NT(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=NT(e),i=ME();return r.X({range:n,Y:!0},(function(e,t,n){var r=d_(e[1]),a=new Dx(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=l_(t.path),r=IDBKeyRange.bound([n],[Cx(n)],!1,!0),i=0;return NT(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"le",value:function(e,t){return CT(e).get(t).next((function(e){return e?AC(e):null}))}}]),e}();function CT(e){return F_(e,"targets")}function TT(e){return F_(e,"targetGlobal")}function NT(e){return F_(e,"targetDocuments")}function AT(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],s=a[1],u=Ex(r,o);return 0===u?Ex(i,s):u}var jT=function(){function e(t){d(this,e),this.Ln=t,this.buffer=new H_(AT),this.qn=0}return g(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();AT(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),OT=function(){function e(t,n,r){d(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return g(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;ax("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Zx(e.t0)){e.next=12;break}ax("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Wx(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),PT=function(){function e(t,n){d(this,e),this.jn=t,this.params=n}return g(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Qx.resolve(o_.ct);var r=new jT(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ax("LruGarbageCollector","Garbage collection skipped; disabled"),Qx.resolve(mT)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ax("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),mT):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ax("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),ix()<=Lu.DEBUG&&ax("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Qx.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function DT(e,t){return new PT(e,t)}var RT=function(){function e(t,n){d(this,e),this.db=t,this.garbageCollector=DT(this,n)}return g(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return LT(e,n)}},{key:"removeReference",value:function(e,t,n){return LT(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return LT(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return ST(e).Z((function(r){return wT(e,r,t).next((function(e){return e&&(n=!0),Qx.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,s){if(s<=t){var u=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Nx.min()),NT(e).delete([0,l_(o.path)])}))}));i.push(u)}})).next((function(){return Qx.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return LT(e,t)}},{key:"Yn",value:function(e,t){var n,r=NT(e),i=o_.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==o_.ct&&t(new Dx(d_(n)),i),i=u,n=s):i=o_.ct})).next((function(){i!==o_.ct&&t(new Dx(d_(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function LT(e,t){return NT(e).put(function(e,t){return{targetId:0,path:l_(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var MT=function(){function e(){d(this,e),this.changes=new IE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return g(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,NS.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Qx.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),FT=function(){function e(t){d(this,e),this.serializer=t}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return zT(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return zT(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],IC(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=NS.newInvalidDocument(t);return zT(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qT(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:NS.newInvalidDocument(t)};return zT(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qT(t))},(function(e,i){r={document:n.ts(t,i),size:bT(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=TE();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=TE(),i=new z_(Dx.comparator);return this.ns(e,t,(function(e,t){var a=n.ts(e,t);r=r.insert(e,a),i=i.insert(e,bT(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return Qx.resolve();var r=new H_(HT);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(qT(r.first()),qT(r.last())),a=r.getIterator(),o=a.getNext();return zT(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Dx.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));o&&HT(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(qT(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),IC(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zT(e).j(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=TE(),o=C(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.ts(Dx.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(xE(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=TE(),o=KT(t,n),s=KT(t,zx.max());return zT(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.ts(Dx.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new UT(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return BT(e).get("remoteDocumentGlobalKey").next((function(e){return lx(!!e),e}))}},{key:"Zn",value:function(e,t){return BT(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=sC(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Dx.fromSegments(t.noDocument.path),i=TC(t.noDocument.readTime);n=NS.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return cx();var a=Dx.fromSegments(t.unknownDocument.path),o=TC(t.unknownDocument.version);n=NS.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Tx(e[0],e[1]);return Nx.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Nx.min()))return n}return NS.newInvalidDocument(e)}}]),e}();function VT(e){return new FT(e)}var UT=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new IE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new H_((function(e,t){return Ex(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.us.get(a);if(n.push(t.os.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=EC(t.os.serializer,o);i=i.add(a.path.popLast());var c=bT(u);r+=c-s.size,n.push(t.os.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=EC(t.os.serializer,o.convertToNoDocument(Nx.min()));n.push(t.os.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),Qx.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(MT);function BT(e){return F_(e,"remoteDocumentGlobal")}function zT(e){return F_(e,"remoteDocumentsV14")}function qT(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function KT(e,t){var n=t.documentKey.path.toArray();return[e,IC(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function HT(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Ex(n[a],r[a]))return i;return(i=Ex(n.length,r.length))||((i=Ex(n[n.length-2],r[r.length-2]))||Ex(n[n.length-1],r[r.length-1]))}var WT=g((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),GT=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return g(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&uI(r.mutation,e,Q_.empty(),Tx.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,ME()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ME(),i=OE();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=AE();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=OE();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,ME())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=TE(),a=DE(),o=DE();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof hI)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),uI(o.mutation,t,o.mutation.getFieldMask(),Tx.now())):a.set(t.key,Q_.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new WT(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=DE(),i=new z_((function(e,t){return e-t})),a=ME();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=C(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Q_.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||ME()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=PE();c.forEach((function(e){if(!a.has(e)){var n=oI(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Qx.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Dx.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Qx.resolve(OE()),s=-1,u=a;return o.next((function(t){return Qx.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Qx.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,ME())})).next((function(e){return{batchId:s,changes:jE(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Dx(t)).next((function(e){var t=AE();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=AE();return this.indexManager.getCollectionParents(e,i).next((function(o){return Qx.forEach(o,(function(o){var s=function(e,t){return new uE(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,NS.newInvalidDocument(r)))}));var n=AE();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&uI(a.mutation,i,Q_.empty(),Tx.now()),xE(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),QT=function(){function e(t){d(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return g(e,[{key:"getBundleMetadata",value:function(e,t){return Qx.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:YI(n.createTime)}),Qx.resolve()}},{key:"getNamedQuery",value:function(e,t){return Qx.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:OC(e.bundledQuery),readTime:YI(e.readTime)}}(t)),Qx.resolve()}}]),e}(),JT=function(){function e(){d(this,e),this.overlays=new z_(Dx.comparator),this.ls=new Map}return g(e,[{key:"getOverlay",value:function(e,t){return Qx.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=OE();return Qx.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),Qx.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),Qx.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=OE(),i=t.length+1,a=new Dx(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Qx.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new z_((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=OE(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=OE(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Qx.resolve(u)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new xI(t,n));var a=this.ls.get(t);void 0===a&&(a=ME(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),$T=function(){function e(){d(this,e),this.fs=new H_(YT.ds),this.ws=new H_(YT._s)}return g(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new YT(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new YT(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new Dx(new jx([])),r=new YT(n,e),i=new YT(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new Dx(new jx([])),n=new YT(t,e),r=new YT(t,e+1),i=ME();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new YT(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),YT=function(){function e(t,n){d(this,e),this.key=t,this.As=n}return g(e,null,[{key:"ds",value:function(e,t){return Dx.comparator(e.key,t.key)||Ex(e.As,t.As)}},{key:"_s",value:function(e,t){return Ex(e.As,t.As)||Dx.comparator(e.key,t.key)}}]),e}(),XT=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new H_(YT.ds)}return g(e,[{key:"checkEmpty",value:function(e){return Qx.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new kI(i,t,n,r);this.mutationQueue.push(a);var o,s=C(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new YT(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Qx.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Qx.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return Qx.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Qx.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return Qx.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new YT(t,0),i=new YT(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),Qx.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new H_(Ex);return t.forEach((function(e){var t=new YT(e,0),i=new YT(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),Qx.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Dx.isDocumentKey(i)||(i=i.child(""));var a=new YT(new Dx(i),0),o=new H_(Ex);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),Qx.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;lx(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return Qx.forEach(t.mutations,(function(i){var a=new YT(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new YT(t,0),r=this.Rs.firstAfterOrEqual(n);return Qx.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Qx.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),ZT=function(){function e(t){d(this,e),this.Ds=t,this.docs=new z_(Dx.comparator),this.size=0}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Qx.resolve(n?n.document.mutableCopy():NS.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=TE();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():NS.newInvalidDocument(e))})),Qx.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=TE(),a=t.path,o=new Dx(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||qx(Bx(l),n)<=0||(r.has(l.key)||xE(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Qx.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){cx()}},{key:"Cs",value:function(e,t){return Qx.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new eN(this)}},{key:"getSize",value:function(e){return Qx.resolve(this.size)}}]),e}(),eN=function(e){b(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).os=e,r}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),Qx.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(MT),tN=function(){function e(t){d(this,e),this.persistence=t,this.xs=new IE((function(e){return nE(e)}),rE),this.lastRemoteSnapshotVersion=Nx.min(),this.highestTargetId=0,this.Ns=0,this.ks=new $T,this.targetCount=0,this.Ms=ET.kn()}return g(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),Qx.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Qx.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Qx.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),Qx.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Qx.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new ET(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,Qx.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),Qx.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Qx.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Qx.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Qx.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return Qx.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),Qx.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Qx.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),Qx.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return Qx.resolve(n)}},{key:"containsKey",value:function(e,t){return Qx.resolve(this.ks.containsKey(t))}}]),e}(),nN=function(){function e(t,n){var r=this;d(this,e),this.$s={},this.overlays={},this.Os=new o_(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new tN(this),this.indexManager=new sT,this.remoteDocumentCache=new ZT((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new SC(n),this.qs=new QT(this.serializer)}return g(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new JT,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new XT(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;ax("MemoryPersistence","Starting transaction:",e);var i=new rN(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return Qx.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),rN=function(e){b(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return g(n)}(Hx),iN=function(){function e(t){d(this,e),this.persistence=t,this.Qs=new $T,this.js=null}return g(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw cx()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Qx.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Qx.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),Qx.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qx.forEach(this.Ws,(function(r){var i=Dx.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,Nx.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return Qx.or([function(){return Qx.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),aN=function(){function e(t){d(this,e),this.serializer=t}return g(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new Jx("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",p_,{unique:!0}),e.createObjectStore("documentMutations")}(e),oN(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Qx.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),oN(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nx.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",p_,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Qx.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ys(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Zs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ei(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:N_});t.createIndex("collectionPathOverlayIndex",A_,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",j_,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:y_});t.createIndex("documentKeyIndex",b_),t.createIndex("collectionGroupIndex",k_)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:E_}).createIndex("sequenceNumberIndex",I_,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:C_}).createIndex("documentKeyIndex",T_,{unique:!1})}(e)}))),o}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=bT(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return Qx.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return Qx.forEach(r,(function(r){lx(r.userId===n.userId);var i=NC(t.serializer,r);return yT(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new jx(n),o=function(e){return[0,l_(e)]}(a);r.push(t.get(o).next((function(n){return n?Qx.resolve():function(n){return t.put({targetId:0,path:l_(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Qx.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:S_});var n=t.store("collectionParents"),r=new uT,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:l_(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new jx(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],d_(r));return i(a.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=AC(r),a=jC(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Dx(jx.fromString(i.document.name).popFirst(5)):i.noDocument?Dx.fromSegments(i.noDocument.path):i.unknownDocument?Dx.fromSegments(i.unknownDocument.path):cx()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return Qx.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=VT(this.serializer),a=new nN(iN.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:ME();NC(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Qx.forEach(r,(function(e,r){var o=new tx(r),s=VC.de(n.serializer,o),u=a.getIndexManager(o),c=kT.de(o,n.serializer,u,a.referenceDelegate);return new GT(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new M_(t,o_.ct),e).next()}))}))}}]),e}();function oN(e){e.createObjectStore("targetDocuments",{keyPath:x_}).createIndex("documentTargetsIndex",__,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",w_,{unique:!0}),e.createObjectStore("targetGlobal")}var sN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",uN=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(d(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=s,this.ri=c,this.oi=l,this.ui=f,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new dx(hx.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new RT(this,i),this.di=n+"main",this.serializer=new SC(u),this.wi=new $x(this.di,this.ui,new aN(this.serializer)),this.Bs=new IT(this.referenceDelegate,this.serializer),this.remoteDocumentCache=VT(this.serializer),this.qs=new LC,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&ox("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return g(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new dx(hx.FAILED_PRECONDITION,sN);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new o_(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=Ct(Et().mark((function n(r){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=Ct(Et().mark((function t(n){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return lN(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if(Zx(t))return ax("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ax("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return cN(e).get("owner").next((function(e){return Qx.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return lN(e).delete(this.clientId)}},{key:"bi",value:function(){var e=Ct(Et().mark((function e(){var t,n,r,i,a=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=F_(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Qx.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=C(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?Qx.resolve(!0):cN(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new dx(hx.FAILED_PRECONDITION,sN);return!1}}return!(!t.networkEnabled||!t.inForeground)||lN(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ax("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ct(Et().mark((function e(){var t=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new M_(e,o_.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return lN(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return kT.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new lT(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return VC.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;ax("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.ui)?L_:14===i?R_:13===i?D_:12===i?P_:11===i?O_:void cx();return this.wi.runTransaction(e,o,s,(function(i){return a=new M_(i,r.Os?r.Os.next():o_.ct),"readwrite-primary"===t?r.Ti(a).next((function(e){return!!e||r.Ei(a)})).next((function(t){if(!t)throw ox("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new dx(hx.FAILED_PRECONDITION,Kx);return n(a)})).next((function(e){return r.vi(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return cN(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new dx(hx.FAILED_PRECONDITION,sN)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cN(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=cN(e);return n.get("owner").next((function(e){return t.Ri(e)?(ax("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Qx.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ox("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!du()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return ax("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ox("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(aa){ox("Failed to set zombie client id.",aa)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(aa){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return $x.D()}}]),e}();function cN(e){return F_(e,"owner")}function lN(e){return F_(e,"clientMetadata")}function fN(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var hN=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return g(e,null,[{key:"Li",value:function(t,n){var r,i=ME(),a=ME(),o=C(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),dN=function(){function e(){d(this,e),this.qi=!1}return g(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(fE(t))return Qx.resolve(null);var r=mE(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=yE(t,null,"F"),r=mE(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=ME.apply(void 0,h(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,yE(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return fE(t)||r.isEqual(Nx.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(ix()<=Lu.DEBUG&&ax("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wE(t)),i.Wi(e,o,t,Ux(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new H_(SE(e));return t.forEach((function(t,r){xE(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return ix()<=Lu.DEBUG&&ax("QueryEngine","Using full collection scan to execute query:",wE(t)),this.Ui.getDocumentsMatchingQuery(e,t,zx.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),pN=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new z_(Ex),this.Yi=new IE((function(e){return nE(e)}),rE),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return g(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GT(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function vN(e,t,n,r){return new pN(e,t,n,r)}function mN(e,t){return gN.apply(this,arguments)}function gN(){return gN=Ct(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fx(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=ME(),u=C(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=C(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=C(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=C(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),gN.apply(this,arguments)}function yN(e,t){var n=fx(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Qx.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);lx(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=ME(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function bN(e){var t=fx(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function kN(e,t){var n=fx(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken($_.EMPTY_BYTE_STRING,Nx.min()).withLastLimboFreeSnapshotVersion(Nx.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var s=TE(),u=ME();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(wN(e,a,t.documentUpdates).next((function(e){s=e.nr,u=e.sr}))),!r.isEqual(Nx.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Qx.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function wN(e,t,n){var r=ME(),i=ME();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=TE();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Nx.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):ax("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function xN(e,t){var n=fx(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function _N(e,t){var n=fx(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,Qx.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new _C(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function SN(e,t,n){return EN.apply(this,arguments)}function EN(){return EN=Ct(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fx(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Zx(e.t1)){e.next=12;break}throw e.t1;case 12:ax("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),EN.apply(this,arguments)}function IN(e,t,n){var r=fx(e),i=Nx.min(),a=ME();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=fx(e),i=r.Yi.get(n);return void 0!==i?Qx.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,mE(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:Nx.min(),n?a:ME())})).next((function(e){return NN(r,_E(t),e),{documents:e,ir:a}}))}))}function CN(e,t){var n=fx(e),r=fx(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function TN(e,t){var n=fx(e),r=n.Xi.get(t)||Nx.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,Ux(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return NN(n,t,e),e}))}function NN(e,t,n){var r=e.Xi.get(t)||Nx.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function AN(e,t,n,r){return jN.apply(this,arguments)}function jN(){return jN=Ct(Et().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=fx(t),o=ME(),s=TE(),u=C(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.rr(l.metadata.name),l.document&&(o=o.add(f)),(h=n.ur(l)).setReadTime(n.cr(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,_N(a,function(e){return mE(lE(jx.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return wN(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Bs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Bs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)}))),jN.apply(this,arguments)}function ON(e,t){return PN.apply(this,arguments)}function PN(){return PN=Ct(Et().mark((function e(t,n){var r,i,a,o=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:ME(),e.next=3,_N(t,mE(OC(n.bundledQuery)));case 3:return i=e.sent,a=fx(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=YI(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.qs.saveNamedQuery(e,n);var o=i.withResumeToken($_.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.Bs.updateTargetData(e,o).next((function(){return a.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),PN.apply(this,arguments)}function DN(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function RN(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function LN(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var MN=function(){function e(t,n,r,i){d(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return g(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new dx(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ox("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),FN=function(){function e(t,n,r){d(this,e),this.targetId=t,this.state=n,this.error=r}return g(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new dx(i.error.code,i.error.message))),a?new e(t,i.state,r):(ox("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),VN=function(){function e(t,n){d(this,e),this.clientId=t,this.activeTargetIds=n}return g(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=VE(),o=0;i&&o<r.activeTargetIds.length;++o)i=c_(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ox("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),UN=function(){function e(t,n){d(this,e),this.clientId=t,this.onlineState=n}return g(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ox("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),BN=function(){function e(){d(this,e),this.activeTargetIds=VE()}return g(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),zN=function(){function e(t,n,r,i,a){d(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new z_(Ex),this.started=!1,this.yr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=DN(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new BN),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return g(e,[{key:"start",value:function(){var e=Ct(Et().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=C(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(DN(this.persistenceKey,i)))&&(o=VN.ar(i,a))&&(this.gr=this.gr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(s=this.storage.getItem(this.vr))&&(u=this.br(s))&&this.Vr(u),c=C(this.yr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.mr(f)}catch(d){c.e(d)}finally{c.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(LN(this.persistenceKey,e));if(n){var r=FN.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(LN(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return ax("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){ax("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){ax("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ax("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void ox("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(Ct(Et().mark((function e(){var r,i,a,o,s,u,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(a));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(s));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}u=function(e){var t=o_.ct;if(null!=e)try{var n=JSON.parse(e);lx("number"==typeof n),t=n}catch(e){ox("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==o_.ct&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Gr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new MN(this.currentUser,e,t,n),i=RN(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=RN(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=LN(this.persistenceKey,e),i=new FN(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return VN.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return MN.ar(new tx(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return FN.ar(r,t)}},{key:"br",value:function(e){return UN.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:ax("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Wr(o,s).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=VE();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),qN=function(){function e(){d(this,e),this.Hr=new BN,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return g(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new BN,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),KN=function(){function e(){d(this,e)}return g(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),HN=function(){function e(){var t=this;d(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return g(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){ax("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=C(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){ax("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=C(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),WN=null;function GN(){return null===WN?WN=268435456+Math.round(2147483648*Math.random()):WN++,"0x"+WN.toString(16)}var QN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},JN=function(){function e(t){d(this,e),this.ro=t.ro,this.oo=t.oo}return g(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),$N="WebChannelConnection",YN=function(e){b(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return g(n,[{key:"Ao",value:function(e,t,n,r){var i=GN();return new Promise((function(a,o){var s=new Yw;s.setWithCredentials(!0),s.listenOnce(Ww.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Hw.NO_ERROR:var t=s.getResponseJson();ax($N,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Hw.TIMEOUT:ax($N,"RPC '".concat(e,"' ").concat(i," timed out")),o(new dx(hx.DEADLINE_EXCEEDED,"Request time out"));break;case Hw.HTTP_ERROR:var n=s.getStatus();if(ax($N,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(hx).indexOf(t)>=0?t:hx.UNKNOWN}(u.status);o(new dx(c,u.message))}else o(new dx(hx.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new dx(hx.UNAVAILABLE,"Connection failed."));break;default:cx()}}finally{ax($N,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);ax($N,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=GN(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=qw(),o=Kw(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new Jw({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");ax($N,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new JN({ro:function(t){h?ax($N,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(ax($N,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),ax($N,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,$w.EventType.OPEN,(function(){h||ax($N,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,$w.EventType.CLOSE,(function(){h||(h=!0,ax($N,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,$w.EventType.ERROR,(function(t){h||(h=!0,sx($N,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new dx(hx.UNAVAILABLE,"The operation could not be completed")))})),p(l,$w.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];lx(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){ax($N,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=mI[e];if(void 0!==t)return EI(t)}(s),c=o.message;void 0===u&&(u=hx.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.wo(new dx(u,c)),l.close()}else ax($N,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,Gw.STAT_EVENT,(function(t){t.stat===Qw.PROXY?ax($N,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Qw.NOPROXY&&ax($N,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return g(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=GN(),o=this.To(e,t);ax("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.Eo(s,r,i),this.Ao(e,o,s,n).then((function(t){return ax("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw sx("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+nx,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=QN[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function XN(){return"undefined"!=typeof window?window:null}function ZN(){return"undefined"!=typeof document?document:null}function eA(e){return new WI(e,!0)}var tA=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return g(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&ax("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),nA=function(){function e(t,n,r,i,a,o,s,u){d(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new tA(t,n)}return g(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===hx.RESOURCE_EXHAUSTED?(ox(n.toString()),ox("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===hx.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new dx(hx.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(Ct(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return ax("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(ax("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),rA=function(e){b(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return g(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:cx()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(lx(void 0===t||"string"==typeof t),$_.fromBase64String(t||"")):(lx(void 0===t||t instanceof Uint8Array),$_.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?hx.UNKNOWN:EI(e.code);return new dx(t,e.message||"")}(o);n=new FI(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=tC(e,u.document.name),l=YI(u.document.updateTime),f=u.document.createTime?YI(u.document.createTime):Nx.min(),h=new CS({mapValue:{fields:u.document.fields}}),d=NS.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new LI(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=tC(e,m.document),y=m.readTime?YI(m.readTime):Nx.min(),b=NS.newNoDocument(g,y),k=m.removedTargetIds||[];n=new LI([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=tC(e,w.document),_=w.removedTargetIds||[];n=new LI([],_,x,null)}else{if(!("filter"in t))return cx();t.filter;var S=t.filter;S.targetId;var E=S.count,I=void 0===E?0:E,C=S.unchangedNames,T=new _I(I,C),N=S.targetId;n=new MI(N,T)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Nx.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Nx.min():t.readTime?YI(t.readTime):Nx.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=iC(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=iE(r)?{documents:fC(e,r)}:{query:hC(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=JI(e,t.resumeToken);var i=GI(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Nx.min())>0){n.readTime=QI(e,t.snapshotVersion.toTimestamp());var a=GI(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return cx()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=iC(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(nA),iA=function(e){b(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.ru=!1,u}return g(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,al(k(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(lx(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(lx(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?YI(e.updateTime):YI(t);return n.isEqual(Nx.min())&&(n=YI(t)),new nI(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=YI(e.commitTime);return this.listener.cu(n,t)}return lx(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=iC(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return cC(t.serializer,e)}))};this.Wo(n)}}]),n}(nA),aA=function(e){b(n,e);var t=_(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return g(n,[{key:"fu",value:function(){if(this.lu)throw new dx(hx.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.connection.Io(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===hx.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new dx(hx.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),s=o[0],u=o[1];return i.connection.vo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===hx.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new dx(hx.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return g((function e(){d(this,e)}))}());var oA=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return g(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(ox(t),this.mu=!1):ax("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),sA=g((function e(t,n,r,i,a){var o=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=yA(o),!e.t0){e.next=5;break}return ax("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fx(t)).vu.add(4),e.next=4,lA(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,uA(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new oA(r,i)}));function uA(e){return cA.apply(this,arguments)}function cA(){return cA=Ct(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!yA(t)){e.next=18;break}n=C(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),cA.apply(this,arguments)}function lA(e){return fA.apply(this,arguments)}function fA(){return fA=Ct(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),fA.apply(this,arguments)}function hA(e,t){var n=fx(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),gA(n)?mA(n):GA(n).Ko()&&pA(n,t))}function dA(e,t){var n=fx(e),r=GA(n);n.Au.delete(t),r.Ko()&&vA(n,t),0===n.Au.size&&(r.Ko()?r.jo():yA(n)&&n.bu.set("Unknown"))}function pA(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nx.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}GA(e).su(t)}function vA(e,t){e.Vu.qt(t),GA(e).iu(t)}function mA(e){e.Vu=new UI({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),GA(e).start(),e.bu.gu()}function gA(e){return yA(e)&&!GA(e).Uo()&&e.Au.size>0}function yA(e){return 0===fx(e).vu.size}function bA(e){e.Vu=void 0}function kA(e){return wA.apply(this,arguments)}function wA(){return wA=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){pA(t,e)}));case 1:case"end":return e.stop()}}),e)}))),wA.apply(this,arguments)}function xA(e,t){return _A.apply(this,arguments)}function _A(){return _A=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bA(t),gA(t)?(t.bu.Iu(n),mA(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),_A.apply(this,arguments)}function SA(e,t,n){return EA.apply(this,arguments)}function EA(){return EA=Ct(Et().mark((function e(t,n,r){var i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof FI&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ct(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=C(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ax("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,IA(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof LI?t.Vu.Ht(n):n instanceof MI?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(Nx.min())){e.next=29;break}return e.prev=14,e.next=17,bN(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken($_.EMPTY_BYTE_STRING,r.snapshotVersion)),vA(e,t);var i=new _C(r.target,t,n,r.sequenceNumber);pA(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ax("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,IA(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),EA.apply(this,arguments)}function IA(e,t,n){return CA.apply(this,arguments)}function CA(){return CA=Ct(Et().mark((function e(t,n,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zx(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,lA(t);case 5:t.bu.set("Offline"),r||(r=function(){return bN(t.localStore)}),t.asyncQueue.enqueueRetryable(Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ax("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,uA(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),CA.apply(this,arguments)}function TA(e,t){return t().catch((function(n){return IA(e,n,t)}))}function NA(e){return AA.apply(this,arguments)}function AA(){return AA=Ct(Et().mark((function e(t){var n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fx(t),r=QA(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!jA(n)){e.next=19;break}return e.prev=3,e.next=6,xN(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,OA(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,IA(n,e.t0);case 17:e.next=2;break;case 19:PA(n)&&DA(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),AA.apply(this,arguments)}function jA(e){return yA(e)&&e.Eu.length<10}function OA(e,t){e.Eu.push(t);var n=QA(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function PA(e){return yA(e)&&!QA(e).Uo()&&e.Eu.length>0}function DA(e){QA(e).start()}function RA(e){return LA.apply(this,arguments)}function LA(){return LA=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:QA(t).hu();case 1:case"end":return e.stop()}}),e)}))),LA.apply(this,arguments)}function MA(e){return FA.apply(this,arguments)}function FA(){return FA=Ct(Et().mark((function e(t){var n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=QA(t),r=C(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),FA.apply(this,arguments)}function VA(e,t,n){return UA.apply(this,arguments)}function UA(){return UA=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=wI.from(i,n,r),e.next=3,TA(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,NA(t);case 5:case"end":return e.stop()}}),e)}))),UA.apply(this,arguments)}function BA(e,t){return zA.apply(this,arguments)}function zA(){return zA=Ct(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&QA(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ct(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!SI(i=n.code)||i===hx.ABORTED){e.next=7;break}return r=t.Eu.shift(),QA(t).Qo(),e.next=5,TA(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,NA(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:PA(t)&&DA(t);case 5:case"end":return e.stop()}}),e)}))),zA.apply(this,arguments)}function qA(e,t){return KA.apply(this,arguments)}function KA(){return KA=Ct(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=fx(t)).asyncQueue.verifyOperationInProgress(),ax("RemoteStore","RemoteStore received new credentials"),i=yA(r),r.vu.add(3),e.next=6,lA(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,uA(r);case 12:case"end":return e.stop()}}),e)}))),KA.apply(this,arguments)}function HA(e,t){return WA.apply(this,arguments)}function WA(){return WA=Ct(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fx(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,uA(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,lA(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),WA.apply(this,arguments)}function GA(e){return e.Su||(e.Su=function(e,t,n){var r=fx(e);return r.fu(),new rA(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:kA.bind(null,e),ao:xA.bind(null,e),nu:SA.bind(null,e)}),e.Ru.push(function(){var t=Ct(Et().mark((function t(n){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),gA(e)?mA(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:bA(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function QA(e){return e.Du||(e.Du=function(e,t,n){var r=fx(e);return r.fu(),new iA(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:RA.bind(null,e),ao:BA.bind(null,e),au:MA.bind(null,e),cu:VA.bind(null,e)}),e.Ru.push(function(){var t=Ct(Et().mark((function t(n){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,NA(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(ax("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var JA=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new px,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return g(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dx(hx.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function $A(e,t){if(ox("AsyncQueue","".concat(t,": ").concat(e)),Zx(e))return new dx(hx.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var YA=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||Dx.comparator(e.key,n.key)}:function(e,t){return Dx.comparator(e.key,t.key)},this.keyedMap=AE(),this.sortedSet=new z_(this.comparator)}return g(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),XA=function(){function e(){d(this,e),this.Cu=new z_(Dx.comparator)}return g(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):cx():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),ZA=function(){function e(t,n,r,i,a,o,s,u,c){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return g(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,YA.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),ej=g((function e(){d(this,e),this.Nu=void 0,this.listeners=[]})),tj=g((function e(){d(this,e),this.queries=new IE((function(e){return kE(e)}),bE),this.onlineState="Unknown",this.ku=new Set}));function nj(e,t){return rj.apply(this,arguments)}function rj(){return rj=Ct(Et().mark((function e(t,n){var r,i,a,o,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fx(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new ej),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=$A(e.t0,"Initialization of query '".concat(wE(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&uj(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),rj.apply(this,arguments)}function ij(e,t){return aj.apply(this,arguments)}function aj(){return aj=Ct(Et().mark((function e(t,n){var r,i,a,o,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fx(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),aj.apply(this,arguments)}function oj(e,t){var n,r=fx(e),i=!1,a=C(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=C(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Nu=o}}}catch(f){a.e(f)}finally{a.f()}i&&uj(r)}function sj(e,t,n){var r=fx(e),i=r.queries.get(t);if(i){var a,o=C(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function uj(e){e.ku.forEach((function(e){e.next()}))}var cj=function(){function e(t,n,r){d(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return g(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=C(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new ZA(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=ZA.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),lj=function(){function e(t,n){d(this,e),this.Gu=t,this.byteLength=n}return g(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),fj=function(){function e(t){d(this,e),this.serializer=t}return g(e,[{key:"rr",value:function(e){return tC(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?sC(this.serializer,e.document,!1):NS.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return YI(e)}}]),e}(),hj=function(){function e(t,n,r){d(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dj(t)}return g(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=jx.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new fj(this.serializer),i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.rr(a.metadata.name),u=C(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||ME()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ct(Et().mark((function e(){var t,n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AN(this.localStore,new fj(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=C(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,ON(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function dj(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var pj=g((function e(t){d(this,e),this.key=t})),vj=g((function e(t){d(this,e),this.key=t})),mj=function(){function e(t,n){d(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ME(),this.mutatedKeys=ME(),this.tc=SE(t),this.ec=new YA(this.tc)}return g(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new XA,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=xE(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.tc(f,u)>0||c&&n.tc(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:s,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cx()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,u=s!==this.Xu;return this.Xu=s,0!==a.length||u?{snapshot:new ZA(this.query,e.ec,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new XA,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=ME(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new vj(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new pj(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=ME();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return ZA.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),gj=g((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),yj=g((function e(t){d(this,e),this.key=t,this.fc=!1})),bj=function(){function e(t,n,r,i,a,o){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new IE((function(e){return kE(e)}),bE),this._c=new Map,this.mc=new Set,this.gc=new z_(Dx.comparator),this.yc=new Map,this.Ic=new $T,this.Tc={},this.Ec=new Map,this.Ac=ET.Mn(),this.onlineState="Unknown",this.vc=void 0}return g(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function kj(e,t){return wj.apply(this,arguments)}function wj(){return wj=Ct(Et().mark((function e(t,n){var r,i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dO(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,_N(r.localStore,mE(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,xj(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&hA(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),wj.apply(this,arguments)}function xj(e,t,n,r,i){return _j.apply(this,arguments)}function _j(){return _j=Ct(Et().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=Ct(Et().mark((function e(t,n,r,i){var a,o,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,IN(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(qj(t,n.targetId,s.cc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,IN(t.localStore,n,!0);case 3:return o=e.sent,s=new mj(n,o.ir),u=s.sc(o.documents),c=RI.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),qj(t,r,l.cc),f=new gj(n,r,s),e.abrupt("return",(t.wc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),_j.apply(this,arguments)}function Sj(e,t){return Ej.apply(this,arguments)}function Ej(){return Ej=Ct(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fx(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!bE(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,SN(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),dA(r.remoteStore,i.targetId),Bj(r,i.targetId)})).catch(Wx);case 9:e.next=14;break;case 11:return Bj(r,i.targetId),e.next=14,SN(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Ej.apply(this,arguments)}function Ij(e,t,n){return Cj.apply(this,arguments)}function Cj(){return Cj=Ct(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pO(t),e.prev=1,e.next=4,function(e,t){var n,r,i=fx(e),a=Tx.now(),o=t.reduce((function(e,t){return e.add(t.key)}),ME());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=TE(),u=ME();return i.Zi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=C(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=cI(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new hI(c.key,l,TS(l.value.mapValue),rI.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:jE(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new z_(Ex)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Wj(i,a.changes);case 9:return e.next=11,NA(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=$A(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Cj.apply(this,arguments)}function Tj(e,t){return Nj.apply(this,arguments)}function Nj(){return Nj=Ct(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fx(t),e.prev=1,e.next=4,kN(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(lx(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?lx(n.fc):e.removedDocuments.size>0&&(lx(n.fc),n.fc=!1))})),e.next=8,Wj(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Wx(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Nj.apply(this,arguments)}function Aj(e,t,n){var r=fx(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=fx(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=C(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&uj(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function jj(e,t,n){return Oj.apply(this,arguments)}function Oj(){return Oj=Ct(Et().mark((function e(t,n,r){var i,a,o,s,u,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=fx(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new z_(Dx.comparator)).insert(o,NS.newNoDocument(o,Nx.min())),u=ME().add(o),c=new DI(Nx.min(),new Map,new z_(Ex),s,u),e.next=9,Tj(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),Hj(i),e.next=16;break;case 14:return e.next=16,SN(i.localStore,n,!1).then((function(){return Bj(i,n,r)})).catch(Wx);case 16:case"end":return e.stop()}}),e)}))),Oj.apply(this,arguments)}function Pj(e,t){return Dj.apply(this,arguments)}function Dj(){return Dj=Ct(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fx(t),i=n.batch.batchId,e.prev=1,e.next=4,yN(r.localStore,n);case 4:return a=e.sent,Uj(r,i,null),Vj(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Wj(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Wx(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Dj.apply(this,arguments)}function Rj(e,t,n){return Lj.apply(this,arguments)}function Lj(){return Lj=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fx(t),e.prev=1,e.next=4,function(e,t){var n=fx(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return lx(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Uj(i,n,r),Vj(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Wj(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Wx(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Lj.apply(this,arguments)}function Mj(e,t){return Fj.apply(this,arguments)}function Fj(){return Fj=Ct(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yA((r=fx(t)).remoteStore)||ax("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=fx(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ec.get(i)||[]).push(n),r.Ec.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=$A(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Fj.apply(this,arguments)}function Vj(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function Uj(e,t,n){var r=fx(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Bj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=C(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||zj(e,t)}))}function zj(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(dA(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Hj(e))}function qj(e,t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof pj?(e.Ic.addReference(a.key,t),Kj(e,a)):a instanceof vj?(ax("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||zj(e,a.key)):cx()}}catch(o){i.e(o)}finally{i.f()}}function Kj(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(ax("SyncEngine","New document in limbo: "+n),e.mc.add(r),Hj(e))}function Hj(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new Dx(jx.fromString(t)),r=e.Ac.next();e.yc.set(r,new yj(n)),e.gc=e.gc.insert(n,r),hA(e.remoteStore,new _C(mE(lE(n.path)),r,"TargetPurposeLimboResolution",o_.ct))}}function Wj(e,t,n){return Gj.apply(this,arguments)}function Gj(){return Gj=Ct(Et().mark((function e(t,n,r){var i,a,o,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fx(t),a=[],o=[],s=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=hN.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.dc.nu(a),e.next=9,function(){var e=Ct(Et().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fx(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Qx.forEach(n,(function(t){return Qx.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Qx.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Zx(e.t0)){e.next=10;break}throw e.t0;case 10:ax("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=C(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ji.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Gj.apply(this,arguments)}function Qj(e,t){return Jj.apply(this,arguments)}function Jj(){return Jj=Ct(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=fx(t)).currentUser.isEqual(n)){e.next=11;break}return ax("SyncEngine","User change. New user:",n.toKey()),e.next=5,mN(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new dx(hx.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Wj(r,i.er);case 11:case"end":return e.stop()}}),e)}))),Jj.apply(this,arguments)}function $j(e,t){var n=fx(e),r=n.yc.get(t);if(r&&r.fc)return ME().add(r.key);var i=ME(),a=n._c.get(t);if(!a)return i;var o,s=C(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.wc.get(u);i=i.unionWith(c.view.nc)}}catch(l){s.e(l)}finally{s.f()}return i}function Yj(e,t){return Xj.apply(this,arguments)}function Xj(){return Xj=Ct(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fx(t),e.next=3,IN(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&qj(r,n.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)}))),Xj.apply(this,arguments)}function Zj(e,t){return eO.apply(this,arguments)}function eO(){return eO=Ct(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fx(t),e.abrupt("return",TN(r.localStore,n).then((function(e){return Wj(r,e)})));case 2:case"end":return e.stop()}}),e)}))),eO.apply(this,arguments)}function tO(e,t,n,r){return nO.apply(this,arguments)}function nO(){return nO=Ct(Et().mark((function e(t,n,r,i){var a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fx(t),e.next=3,function(e,t){var n=fx(e),r=fx(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Qx.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,NA(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Uj(a,n,i||null),Vj(a,n),function(e,t){fx(fx(e).mutationQueue).Cn(t)}(a.localStore,n)):cx();case 11:return e.next=13,Wj(a,o);case 13:e.next=16;break;case 15:ax("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),nO.apply(this,arguments)}function rO(e,t){return iO.apply(this,arguments)}function iO(){return iO=Ct(Et().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dO(r=fx(t)),pO(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,aO(r,i.toArray());case 5:return a=e.sent,r.vc=!0,e.next=9,HA(r.remoteStore,!0);case 9:o=C(a);try{for(o.s();!(s=o.n()).done;)u=s.value,hA(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Bj(r,t),SN(r.localStore,t,!0)})),dA(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,aO(r,c);case 21:return function(e){var t=fx(e);t.yc.forEach((function(e,n){dA(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new z_(Dx.comparator)}(r),r.vc=!1,e.next=25,HA(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),iO.apply(this,arguments)}function aO(e,t,n){return oO.apply(this,arguments)}function oO(){return oO=Ct(Et().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,g;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=fx(t),a=[],o=[],s=C(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,_N(i.localStore,mE(f[0]));case 11:l=e.sent,h=C(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.wc.get(p),e.next=20,Yj(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,CN(i.localStore,c);case 36:return g=e.sent,e.next=39,_N(i.localStore,g);case 39:return l=e.sent,e.next=42,xj(i,sO(g),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),oO.apply(this,arguments)}function sO(e){return cE(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function uO(e){var t=fx(e);return fx(fx(t.localStore).persistence).$i()}function cO(e,t,n,r){return lO.apply(this,arguments)}function lO(){return lO=Ct(Et().mark((function e(t,n,r,i){var a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=fx(t)).vc){e.next=3;break}return e.abrupt("return",void ax("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,TN(a.localStore,_E(o[0]));case 10:return s=e.sent,u=DI.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,$_.EMPTY_BYTE_STRING),e.next=14,Wj(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,SN(a.localStore,n,!0);case 17:return Bj(a,n,i),e.abrupt("break",20);case 19:cx();case 20:case"end":return e.stop()}}),e)}))),lO.apply(this,arguments)}function fO(e,t,n){return hO.apply(this,arguments)}function hO(){return hO=Ct(Et().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=dO(t)).vc){e.next=45;break}a=C(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i._c.has(s)){e.next=10;break}return ax("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,CN(i.localStore,s);case 12:return u=e.sent,e.next=15,_N(i.localStore,u);case 15:return c=e.sent,e.next=18,xj(i,sO(u),c.targetId,!1,c.resumeToken);case 18:hA(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=C(r),e.prev=30,h=Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,SN(i.localStore,t,!1).then((function(){dA(i.remoteStore,t),Bj(i,t)})).catch(Wx);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),hO.apply(this,arguments)}function dO(e){var t=fx(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Tj.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$j.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jj.bind(null,t),t.dc.nu=oj.bind(null,t.eventManager),t.dc.Pc=sj.bind(null,t.eventManager),t}function pO(e){var t=fx(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Pj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Rj.bind(null,t),t}function vO(e,t,n){var r=fx(e);(function(){var e=Ct(Et().mark((function e(t,n,r){var i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=fx(e),r=YI(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(dj(i)),a=new hj(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.zu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.bc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,Wj(t,u.Ju,void 0);case 31:return e.next=33,function(e,t){var n=fx(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(sx("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var mO=function(){function e(){d(this,e),this.synchronizeTabs=!1}return g(e,[{key:"initialize",value:function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=eA(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return vN(this.persistence,new dN,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new nN(iN.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new qN}},{key:"terminate",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),gO=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).Vc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return g(n,[{key:"initialize",value:function(){var e=Ct(Et().mark((function e(t){var r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,al(k(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,pO(this.Vc.syncEngine);case 6:return e.next=8,NA(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return vN(this.persistence,new dN,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new OT(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new a_(t,this.persistence);return new i_(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=fN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?gT.withCacheSize(this.cacheSizeBytes):gT.DEFAULT;return new uN(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,XN(),ZN(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new qN}}]),n}(mO),yO=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return g(n,[{key:"initialize",value:function(){var e=Ct(Et().mark((function e(t){var r,i=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,al(k(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof zN,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:tO.bind(null,r),zr:cO.bind(null,r),Wr:fO.bind(null,r),$i:uO.bind(null,r),Qr:Zj.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rO(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=XN();if(!zN.D(t))throw new dx(hx.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=fN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zN(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(gO),bO=function(){function e(){d(this,e)}return g(e,[{key:"initialize",value:function(){var e=Ct(Et().mark((function e(t,n){var r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Aj(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Qj.bind(null,this.syncEngine),e.next=12,HA(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new tj}},{key:"createDatastore",value:function(e){var t,n=eA(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new YN(t));return function(e,t,n,r){return new aA(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Aj(o.syncEngine,e,0)},a=HN.D()?new HN:new KN,new sA(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new bj(e,t,n,r,i,a);return o&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fx(t),ax("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,lA(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function kO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ct(Et().mark((function r(){var i;return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var wO=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return g(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):ox("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),xO=function(){function e(t,n){var r=this;d(this,e),this.Cc=t,this.serializer=n,this.metadata=new px,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return g(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=Ct(Et().mark((function e(){var t,n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new lj(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=Ct(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=Ct(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),_O=function(){function e(t){d(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return g(e,[{key:"lookup",value:function(){var e=Ct(Et().mark((function e(t){var n,r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new dx(hx.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ct(Et().mark((function e(t,n){var r,i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fx(t),i=iC(r.serializer)+"/documents",a={documents:n.map((function(e){return eC(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=uC(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());lx(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new yI(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ct(Et().mark((function e(){var t,n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Dx.fromPath(t);n.mutations.push(new bI(r,n.precondition(r)))})),e.next=7,function(){var e=Ct(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fx(t),i=iC(r.serializer)+"/documents",a={writes:n.map((function(e){return cC(r.serializer,e)}))},e.next=3,r.Io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw cx();t=Nx.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new dx(hx.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Nx.min())?rI.exists(!1):rI.updateTime(t):rI.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nx.min()))throw new dx(hx.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rI.updateTime(t)}return rI.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),SO=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new tA(this.asyncQueue,"transaction_retry")}return g(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(Ct(Et().mark((function t(){var n,r;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new _O(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!s_(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!SI(t)}return!1}}]),e}(),EO=function(){function e(t,n,r,i){var a=this;d(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tx.UNAUTHENTICATED,this.clientId=Sx.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ax("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return ax("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return g(e,[{key:"getConfiguration",value:function(){var e=Ct(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new dx(hx.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new px;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ct(Et().mark((function n(){var r;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=$A(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function IO(e,t){return CO.apply(this,arguments)}function CO(){return CO=Ct(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ax("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,mN(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),CO.apply(this,arguments)}function TO(e,t){return NO.apply(this,arguments)}function NO(){return NO=Ct(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,jO(t);case 3:return r=e.sent,ax("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return qA(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return qA(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),NO.apply(this,arguments)}function AO(e){return"FirebaseError"===e.name?e.code===hx.FAILED_PRECONDITION||e.code===hx.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function jO(e){return OO.apply(this,arguments)}function OO(){return OO=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return ax("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,IO(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),AO(n=e.t0)){e.next=13;break}throw n;case 13:return sx("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,IO(t,new mO);case 16:e.next=21;break;case 18:return ax("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,IO(t,new mO);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),OO.apply(this,arguments)}function PO(e){return DO.apply(this,arguments)}function DO(){return DO=Ct(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return ax("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,TO(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return ax("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,TO(t,new bO);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),DO.apply(this,arguments)}function RO(e){return jO(e).then((function(e){return e.persistence}))}function LO(e){return jO(e).then((function(e){return e.localStore}))}function MO(e){return PO(e).then((function(e){return e.remoteStore}))}function FO(e){return PO(e).then((function(e){return e.syncEngine}))}function VO(e){return PO(e).then((function(e){return e.datastore}))}function UO(e){return BO.apply(this,arguments)}function BO(){return BO=Ct(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PO(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=kj.bind(null,n.syncEngine),r.onUnlisten=Sj.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),BO.apply(this,arguments)}function zO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new px;return e.asyncQueue.enqueueAndForget(Ct(Et().mark((function i(){return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new wO({next:function(a){t.enqueueAndForget((function(){return ij(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new dx(hx.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new dx(hx.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new cj(lE(n.path),a,{includeMetadataChanges:!0,Ku:!0});return nj(e,o)},i.next=3,UO(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function qO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new px;return e.asyncQueue.enqueueAndForget(Ct(Et().mark((function i(){return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new wO({next:function(n){t.enqueueAndForget((function(){return ij(e,o)})),n.fromCache&&"server"===r.source?i.reject(new dx(hx.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new cj(n,a,{includeMetadataChanges:!0,Ku:!0});return nj(e,o)},i.next=3,UO(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function KO(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var HO=new Map;function WO(e,t,n){if(!n)throw new dx(hx.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function GO(e,t,n,r){if(!0===t&&!0===r)throw new dx(hx.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function QO(e){if(!Dx.isDocumentKey(e))throw new dx(hx.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function JO(e){if(Dx.isDocumentKey(e))throw new dx(hx.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function $O(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":cx()}function YO(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new dx(hx.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=$O(e);throw new dx(hx.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function XO(e,t){if(t<=0)throw new dx(hx.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var ZO=function(){function e(t){var n,r;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new dx(hx.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new dx(hx.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}GO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KO(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new dx(hx.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new dx(hx.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new dx(hx.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return g(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),eP=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZO({}),this._settingsFrozen=!1}return g(e,[{key:"app",get:function(){if(!this._app)throw new dx(hx.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new dx(hx.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZO(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new mx;switch(e.type){case"firstParty":return new kx(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new dx(hx.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=HO.get(e);t&&(ax("ComponentProvider","Removing Datastore"),HO.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function tP(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=YO(e,eP))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&sx("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=tx.MOCK_USER;else{s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[au(JSON.stringify({alg:"none",type:"JWT"})),au(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new dx(hx.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new tx(c)}e._authCredentials=new gx(new vx(s,u))}}var nP=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return g(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new iP(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),rP=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return g(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),iP=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,lE(i)))._path=i,a.type="collection",a}return g(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new nP(this.firestore,null,new Dx(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(rP);function aP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ju(e),WO("collection","path",t),e instanceof eP){var a=jx.fromString.apply(jx,[t].concat(r));return JO(a),new iP(e,null,a)}if(!(e instanceof nP||e instanceof iP))throw new dx(hx.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(jx.fromString.apply(jx,[t].concat(r)));return JO(o),new iP(e.firestore,null,o)}function oP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ju(e),1===arguments.length&&(t=Sx.A()),WO("doc","path",t),e instanceof eP){var a=jx.fromString.apply(jx,[t].concat(r));return QO(a),new nP(e,null,new Dx(a))}if(!(e instanceof nP||e instanceof iP))throw new dx(hx.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(jx.fromString.apply(jx,[t].concat(r)));return QO(o),new nP(e.firestore,e instanceof iP?e.converter:null,new Dx(o))}function sP(e,t){return e=ju(e),t=ju(t),(e instanceof nP||e instanceof iP)&&(t instanceof nP||t instanceof iP)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function uP(e,t){return e=ju(e),t=ju(t),e instanceof rP&&t instanceof rP&&e.firestore===t.firestore&&bE(e._query,t._query)&&e.converter===t.converter}var cP=function(){function e(){var t=this;d(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new tA(this,"async_queue_retry"),this.Xc=function(){var e=ZN();e&&ax("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=ZN();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return g(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=ZN();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new px;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=Ct(Et().mark((function e(){var t=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Zx(e.t0)){e.next=12;break}throw e.t0;case 12:ax("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ox("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=JA.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&cx()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=Ct(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=C(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=C(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function lP(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=C(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var fP=function(){function e(){d(this,e),this._progressObserver={},this._taskCompletionResolver=new px,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return g(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),hP=function(e){b(n,e);var t=_(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new cP,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return g(n,[{key:"_terminate",value:function(){return this._firestoreClient||pP(this),this._firestoreClient.terminate()}}]),n}(eP);function dP(e){return e._firestoreClient||pP(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function pP(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new iS(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,KO(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new EO(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function vP(e,t,n){var r=new px;return e.asyncQueue.enqueue(Ct(Et().mark((function i(){var a;return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,IO(e,n);case 3:return i.next=5,TO(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),AO(a=i.t0)){i.next=13;break}throw a;case 13:sx("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function mP(e){return function(e){return e.asyncQueue.enqueue(Ct(Et().mark((function t(){var n,r;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,RO(e);case 2:return n=t.sent,t.next=5,MO(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=fx(e);return t.vu.delete(0),uA(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(dP(e=YO(e,hP)))}function gP(e){return function(e){return e.asyncQueue.enqueue(Ct(Et().mark((function t(){var n,r;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,RO(e);case 2:return n=t.sent,t.next=5,MO(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fx(t)).vu.add(0),e.next=4,lA(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(dP(e=YO(e,hP)))}function yP(e,t){var n=dP(e=YO(e,hP)),r=new fP;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new xO(e,t)}(function(e,t){if(e instanceof Uint8Array)return kO(e,t);if(e instanceof ArrayBuffer)return kO(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?TI().encode(e):e),t)}(n,eA(t));e.asyncQueue.enqueueAndForget(Ct(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=vO,t.next=3,FO(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function bP(e,t){return function(e,t){return e.asyncQueue.enqueue(Ct(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=fx(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,LO(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(dP(e=YO(e,hP)),t).then((function(t){return t?new rP(e,null,t.query):null}))}function kP(e){if(e._initialized||e._terminated)throw new dx(hx.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var wP=function(){function e(t){d(this,e),this._byteString=t}return g(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e($_.fromBase64String(t))}catch(t){throw new dx(hx.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e($_.fromUint8Array(t))}}]),e}(),xP=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new dx(hx.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Px(n)}return g(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var _P=g((function e(t){d(this,e),this._methodName=t})),SP=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new dx(hx.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new dx(hx.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return g(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ex(this._lat,e._lat)||Ex(this._long,e._long)}}]),e}(),EP=/^__.*__$/,IP=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new hI(e,this.data,this.fieldMask,t,this.fieldTransforms):new fI(e,this.data,t,this.fieldTransforms)}}]),e}(),CP=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return new hI(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function TP(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cx()}}var NP=function(){function e(t,n,r,i,a,o){d(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return g(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return JP(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(TP(this.ca)&&EP.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),AP=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||eA(t)}return g(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new NP({ca:e,methodName:t,ga:n,path:Px.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function jP(e){var t=e._freezeSettings(),n=eA(e._databaseId);return new AP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function OP(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);HP("Data must be an object, but it was:",o,r);var s,u,c=qP(r,o);if(a.merge)s=new Q_(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=C(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=WP(t,l.value,n);if(!o.contains(d))throw new dx(hx.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));$P(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new Q_(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new IP(new CS(c),s,u)}var PP=function(e){b(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(_P);function DP(e,t,n){return new NP({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var RP=function(e){b(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){return new tI(e.path,new GE)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(_P),LP=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).pa=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=DP(this,e,!0),n=this.pa.map((function(e){return zP(e,t)})),r=new QE(n);return new tI(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(_P),MP=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).pa=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=DP(this,e,!0),n=this.pa.map((function(e){return zP(e,t)})),r=new $E(n);return new tI(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(_P),FP=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).Ia=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=new XE(e.serializer,zE(e.serializer,this.Ia));return new tI(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(_P);function VP(e,t,n,r){var i=e.ya(1,t,n);HP("Data must be an object, but it was:",i,r);var a=[],o=CS.empty();U_(r,(function(e,r){var s=QP(t,e,n);r=ju(r);var u=i.da(s);if(r instanceof PP)a.push(s);else{var c=zP(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Q_(a);return new CP(o,s,i.fieldTransforms)}function UP(e,t,n,r,i,a){var o=e.ya(1,t,n),s=[WP(t,r,n)],u=[i];if(a.length%2!=0)throw new dx(hx.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(WP(t,a[c])),u.push(a[c+1]);for(var l=[],f=CS.empty(),h=s.length-1;h>=0;--h)if(!$P(l,s[h])){var d=s[h],p=u[h];p=ju(p);var v=o.da(d);if(p instanceof PP)l.push(d);else{var m=zP(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Q_(l);return new CP(f,g,o.fieldTransforms)}function BP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return zP(n,e.ya(r?4:3,t))}function zP(e,t){if(KP(e=ju(e)))return HP("Unsupported field value:",t,e),qP(e,t);if(e instanceof _P)return function(e,t){if(!TP(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=C(e);try{for(a.s();!(n=a.n()).done;){var o=zP(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ju(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zE(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Tx.fromDate(e);return{timestampValue:QI(t.serializer,n)}}if(e instanceof Tx){var r=new Tx(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:QI(t.serializer,r)}}if(e instanceof SP)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wP)return{bytesValue:JI(t.serializer,e._byteString)};if(e instanceof nP){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:XI(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat($O(e)))}(e,t)}function qP(e,t){var n={};return B_(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):U_(e,(function(e,r){var i=zP(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function KP(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Tx||e instanceof SP||e instanceof wP||e instanceof nP||e instanceof _P)}function HP(e,t,n){if(!KP(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=$O(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function WP(e,t,n){if((t=ju(t))instanceof xP)return t._internalPath;if("string"==typeof t)return QP(e,t);throw JP("Field path arguments must be of type string or ",e,!1,void 0,n)}var GP=new RegExp("[~\\*/\\[\\]]");function QP(e,t,n){if(t.search(GP)>=0)throw JP("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return S(xP,h(t.split(".")))._internalPath}catch(ha){throw JP("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function JP(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new dx(hx.INVALID_ARGUMENT,s+e+u)}function $P(e,t){return e.some((function(e){return e.isEqual(t)}))}var YP=function(){function e(t,n,r,i,a){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return g(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new nP(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new XP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(ZP("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),XP=function(e){b(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){return al(k(n.prototype),"data",this).call(this)}}]),n}(YP);function ZP(e,t){return"string"==typeof t?QP(e,t):t instanceof xP?t._internalPath:t._delegate._internalPath}function eD(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new dx(hx.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tD=g((function e(){d(this,e)})),nD=function(e){b(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(tD);function rD(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof tD&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof aD})).length,n=e.filter((function(e){return e instanceof iD})).length;if(t>1||t>0&&n>0)throw new dx(hx.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=C(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var iD=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return g(n,[{key:"_apply",value:function(e){var t=this._parse(e);return gD(e._query,t),new rP(e.firestore,e.converter,gE(e._query,t))}},{key:"_parse",value:function(e){var t=jP(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new dx(hx.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){mD(o,a);var u,c=[],l=C(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(vD(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=vD(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||mD(o,a),s=BP(n,"where",o,"in"===a||"not-in"===a);return LS.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(nD);var aD=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return g(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:MS.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=C(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;gD(r,a),r=gE(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new rP(e.firestore,e.converter,gE(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(tD);var oD=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return g(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new dx(hx.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new dx(hx.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new PS(t,n);return function(e,t){if(null===hE(e)){var n=dE(e);null!==n&&yD(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new rP(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new uE(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(nD);var sD=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return g(n,[{key:"_apply",value:function(e){return new rP(e.firestore,e.converter,yE(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(nD);var uD=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=pD(e,this.type,this._docOrFields,this._inclusive);return new rP(e.firestore,e.converter,function(e,t){return new uE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(nD);function cD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return uD._create("startAt",t,!0)}function lD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return uD._create("startAfter",t,!1)}var fD=function(e){b(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=pD(e,this.type,this._docOrFields,this._inclusive);return new rP(e.firestore,e.converter,function(e,t){return new uE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(nD);function hD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fD._create("endBefore",t,!1)}function dD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fD._create("endAt",t,!0)}function pD(e,t,n,r){if(n[0]=ju(n[0]),n[0]instanceof YP)return function(e,t,n,r,i){if(!r)throw new dx(hx.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=C(vE(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(vS(t,r.key));else{var c=r.data.field(u.field);if(tS(c))throw new dx(hx.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new dx(hx.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new AS(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=jP(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new dx(hx.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new dx(hx.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!pE(e)&&-1!==c.indexOf("/"))throw new dx(hx.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(jx.fromString(c));if(!Dx.isDocumentKey(l))throw new dx(hx.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Dx(l);s.push(vS(t,f))}else{var h=BP(n,r,c);s.push(h)}}return new AS(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function vD(e,t,n){if("string"==typeof(n=ju(n))){if(""===n)throw new dx(hx.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pE(t)&&-1!==n.indexOf("/"))throw new dx(hx.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(jx.fromString(n));if(!Dx.isDocumentKey(r))throw new dx(hx.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return vS(e,new Dx(r))}if(n instanceof nP)return vS(e,n._key);throw new dx(hx.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat($O(n),"."))}function mD(e,t){if(!Array.isArray(e)||0===e.length)throw new dx(hx.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function gD(e,t){if(t.isInequality()){var n=dE(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new dx(hx.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=hE(e);null!==i&&yD(e,r,i)}var a=function(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i,a=C(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new dx(hx.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new dx(hx.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function yD(e,t,n){if(!n.isEqual(t))throw new dx(hx.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var bD=function(){function e(){d(this,e)}return g(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(uS(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Z_(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(eS(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw cx()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return U_(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new SP(Z_(e.latitude),Z_(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=nS(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rS(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=X_(e);return new Tx(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=jx.fromString(e);lx(xC(n));var r=new aS(n.get(1),n.get(3)),i=new Dx(n.popFirst(5));return r.isEqual(t)||ox("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function kD(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var wD=function(e){b(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new wP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new nP(this.firestore,null,t)}}]),n}(bD);var xD=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return g(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),_D=function(e){b(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return g(n,[{key:"exists",value:function(){return al(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new SD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(ZP("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(YP),SD=function(e){b(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return al(k(n.prototype),"data",this).call(this,e)}}]),n}(_D),ED=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new xD(i.hasPendingWrites,i.fromCache),this.query=r}return g(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new SD(n._firestore,n._userDataWriter,r.key,r,new xD(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new dx(hx.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new SD(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xD(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new SD(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xD(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ID(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function ID(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cx()}}function CD(e,t){return e instanceof _D&&t instanceof _D?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof ED&&t instanceof ED&&e._firestore===t._firestore&&uP(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var TD=function(e){b(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new wP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new nP(this.firestore,null,t)}}]),n}(bD);function ND(e){e=YO(e,nP);var t=YO(e.firestore,hP),n=dP(t),r=new TD(t);return function(e,t){var n=new px;return e.asyncQueue.enqueueAndForget(Ct(Et().mark((function r(){return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ct(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=fx(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new dx(hx.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=$A(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,LO(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new _D(t,r,e._key,n,new xD(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function AD(e){e=YO(e,rP);var t=YO(e.firestore,hP),n=dP(t),r=new TD(t);return function(e,t){var n=new px;return e.asyncQueue.enqueueAndForget(Ct(Et().mark((function r(){return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ct(Et().mark((function e(t,n,r){var i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,IN(t,n,!0);case 3:i=e.sent,a=new mj(n,i.ir),o=a.sc(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=$A(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,LO(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new ED(t,r,e,n)}))}function jD(e,t,n){e=YO(e,nP);var r=YO(e.firestore,hP),i=kD(e.converter,t,n);return RD(r,[OP(jP(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,rI.none())])}function OD(e,t,n){e=YO(e,nP);for(var r=YO(e.firestore,hP),i=jP(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return RD(r,[("string"==typeof(t=ju(t))||t instanceof xP?UP(i,"updateDoc",e._key,t,n,o):VP(i,"updateDoc",e._key,t)).toMutation(e._key,rI.exists(!0))])}function PD(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ju(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||lP(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(lP(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof nP)l=YO(e.firestore,hP),f=lE(e._key.path),c={next:function(t){n[u]&&n[u](LD(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=YO(e,rP);l=YO(p.firestore,hP),f=p._query;var v=new TD(l);c={next:function(e){n[u]&&n[u](new ED(l,v,p,e))},error:n[u+1],complete:n[u+2]},eD(e._query)}return function(e,t,n,r){var i=new wO(r),a=new cj(t,i,n);return e.asyncQueue.enqueueAndForget(Ct(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=nj,t.next=3,UO(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(Ct(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ij,t.next=3,UO(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(dP(l),f,h,c)}function DD(e,t){return function(e,t){var n=new wO(t);return e.asyncQueue.enqueueAndForget(Ct(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){fx(e).ku.add(t),t.next()},t.next=3,UO(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(Ct(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){fx(e).ku.delete(t)},t.next=3,UO(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(dP(e=YO(e,hP)),lP(t)?t:{next:t})}function RD(e,t){return function(e,t){var n=new px;return e.asyncQueue.enqueueAndForget(Ct(Et().mark((function r(){return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Ij,r.next=3,FO(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(dP(e),t)}function LD(e,t,n){var r=n.docs.get(t._key),i=new TD(e);return new _D(e,i,t._key,r,new xD(n.hasPendingWrites,n.fromCache),t.converter)}var MD={maxAttempts:5},FD=function(){function e(t,n){d(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=jP(t)}return g(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=VD(e,this._firestore),i=kD(r.converter,t,n),a=OP(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,rI.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=VD(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ju(t))||t instanceof xP?UP(this._dataReader,"WriteBatch.update",i._key,t,n,o):VP(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,rI.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=VD(e,this._firestore);return this._mutations=this._mutations.concat(new yI(t._key,rI.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new dx(hx.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function VD(e,t){if((e=ju(e)).firestore!==t)throw new dx(hx.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var UD=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r))._firestore=e,i}return g(n,[{key:"get",value:function(e){var t=this,r=VD(e,this._firestore),i=new TD(this._firestore);return al(k(n.prototype),"get",this).call(this,e).then((function(e){return new _D(t._firestore,i,r._key,e._document,new xD(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){d(this,e),this._firestore=t,this._transaction=n,this._dataReader=jP(t)}return g(e,[{key:"get",value:function(e){var t=this,n=VD(e,this._firestore),r=new wD(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return cx();var i=e[0];if(i.isFoundDocument())return new YP(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new YP(t._firestore,r,n._key,null,n.converter);throw cx()}))}},{key:"set",value:function(e,t,n){var r=VD(e,this._firestore),i=kD(r.converter,t,n),a=OP(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=VD(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ju(t))||t instanceof xP?UP(this._dataReader,"Transaction.update",i._key,t,n,o):VP(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=VD(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function BD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new LP("arrayUnion",t)}function zD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new MP("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){nx=e}(Ic),bc(new Ou("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new hP(new yx(e.getProvider("auth-internal")),new xx(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new dx(hx.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new aS(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Oc(ex,"3.12.2",e),Oc(ex,"3.12.2","esm2017")}();function qD(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new dx("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function KD(){if("undefined"===typeof Uint8Array)throw new dx("unimplemented","Uint8Arrays are not available in this environment.")}function HD(){if("undefined"==typeof atob)throw new dx("unimplemented","Blobs are unavailable in Firestore in this environment.")}var WD=function(){function e(t){d(this,e),this._delegate=t}return g(e,[{key:"toBase64",value:function(){return HD(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return KD(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return HD(),new e(wP.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return KD(),new e(wP.fromUint8Array(t))}}]),e}();function GD(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var QD=function(){function e(){d(this,e)}return g(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){kP(e=YO(e,hP));var n=dP(e);if(n._uninitializedComponentsProvider)throw new dx(hx.FAILED_PRECONDITION,"SDK cache is already specified.");sx("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new bO;return vP(n,i,new gO(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){kP(e=YO(e,hP));var t=dP(e);if(t._uninitializedComponentsProvider)throw new dx(hx.FAILED_PRECONDITION,"SDK cache is already specified.");sx("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new bO;return vP(t,r,new yO(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new dx(hx.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new px;return e._queue.enqueueAndForgetEvenWhileRestricted(Ct(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ct(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($x.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,$x.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(fN(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),JD=function(){function e(t,n,r){var i=this;d(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof aS||(this._appCompat=t)}return g(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||sx("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};tP(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return mP(this._delegate)}},{key:"disableNetwork",value:function(){return gP(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&GO("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new px;return e.asyncQueue.enqueueAndForget(Ct(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Mj,n.next=3,FO(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(dP(e=YO(e,hP)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return DD(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new dx("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new cR(this,aP(this._delegate,e))}catch(t){throw tR(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new eR(this,oP(this._delegate,e))}catch(t){throw tR(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new oR(this,function(e,t){if(e=YO(e,eP),WO("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new dx(hx.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new rP(e,null,function(e){return new uE(jx.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw tR(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=YO(e,hP);var r=Object.assign(Object.assign({},MD),n);return function(e){if(e.maxAttempts<1)throw new dx(hx.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new px;return e.asyncQueue.enqueueAndForget(Ct(Et().mark((function i(){var a;return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,VO(e);case 2:a=i.sent,new SO(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(dP(e),(function(n){return t(new UD(e,n))}),r)}(this._delegate,(function(n){return e(new YD(t,n))}))}},{key:"batch",value:function(){var e=this;return dP(this._delegate),new XD(new FD(this._delegate,(function(t){return RD(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return yP(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return bP(this._delegate,e).then((function(e){return e?new oR(t,e):null}))}}]),e}(),$D=function(e){b(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new WD(new wP(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return eR.forKey(t,this.firestore,null)}}]),n}(bD);var YD=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new $D(t)}return g(e,[{key:"get",value:function(e){var t=this,n=lR(e);return this._delegate.get(n).then((function(e){return new iR(t._firestore,new _D(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=lR(e);return n?(qD("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=lR(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=lR(e);return this._delegate.delete(t),this}}]),e}(),XD=function(){function e(t){d(this,e),this._delegate=t}return g(e,[{key:"set",value:function(e,t,n){var r=lR(e);return n?(qD("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=lR(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=lR(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),ZD=function(){function e(t,n,r){d(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return g(e,[{key:"fromFirestore",value:function(e,t){var n=new SD(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new aR(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new $D(t),n),i.set(n,a)),a}}]),e}();ZD.INSTANCES=new WeakMap;var eR=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new $D(t)}return g(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new cR(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new cR(this.firestore,aP(this._delegate,e))}catch(t){throw tR(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ju(e))instanceof nP&&sP(this._delegate,e)}},{key:"set",value:function(e,t){t=qD("DocumentReference.set",t);try{return t?jD(this._delegate,e,t):jD(this._delegate,e)}catch(n){throw tR(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?OD(this._delegate,e):OD.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw tR(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return RD(YO(e.firestore,hP),[new yI(e._key,rI.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=nR(n),a=rR(n,(function(t){return new iR(e.firestore,new _D(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return PD(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?ND(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=YO(e,nP);var t=YO(e.firestore,hP);return zO(dP(t),e._key,{source:"server"}).then((function(n){return LD(t,e,n)}))}(this._delegate):function(e){e=YO(e,nP);var t=YO(e.firestore,hP);return zO(dP(t),e._key).then((function(n){return LD(t,e,n)}))}(this._delegate),t.then((function(e){return new iR(n.firestore,new _D(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(ZD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new dx("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new nP(n._delegate,r,new Dx(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new nP(n._delegate,r,t))}}]),e}();function tR(e,t,n){return e.message=e.message.replace(t,n),e}function nR(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!GD(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function rR(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=GD(e[0])?e[0]:GD(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var iR=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"ref",get:function(){return new eR(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return CD(this._delegate,e._delegate)}}]),e}(),aR=function(e){b(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||cx()}(void 0!==t),t}}]),n}(iR),oR=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new $D(t)}return g(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,rD(this._delegate,function(e,t,n){var r=t,i=ZP("where",e);return iD._create(i,r,n)}(t,n,r)))}catch(i){throw tR(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,rD(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ZP("orderBy",e);return oD._create(n,t)}(t,n)))}catch(r){throw tR(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,rD(this._delegate,function(e){return XO("limit",e),sD._create("limit",e,"F")}(t)))}catch(n){throw tR(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,rD(this._delegate,function(e){return XO("limitToLast",e),sD._create("limitToLast",e,"L")}(t)))}catch(n){throw tR(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,rD(this._delegate,cD.apply(void 0,arguments)))}catch(t){throw tR(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,rD(this._delegate,lD.apply(void 0,arguments)))}catch(t){throw tR(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,rD(this._delegate,hD.apply(void 0,arguments)))}catch(t){throw tR(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,rD(this._delegate,dD.apply(void 0,arguments)))}catch(t){throw tR(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return uP(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?AD(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=YO(e,rP);var t=YO(e.firestore,hP),n=dP(t),r=new TD(t);return qO(n,e._query,{source:"server"}).then((function(n){return new ED(t,r,e,n)}))}(this._delegate):function(e){e=YO(e,rP);var t=YO(e.firestore,hP),n=dP(t),r=new TD(t);return eD(e._query),qO(n,e._query).then((function(n){return new ED(t,r,e,n)}))}(this._delegate),t.then((function(e){return new uR(n.firestore,new ED(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=nR(n),a=rR(n,(function(t){return new uR(e.firestore,new ED(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return PD(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(ZD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),sR=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new aR(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),uR=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"query",get:function(){return new oR(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new aR(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new sR(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new aR(n._firestore,r))}))}},{key:"isEqual",value:function(e){return CD(this._delegate,e._delegate)}}]),e}(),cR=function(e){b(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return g(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new eR(this.firestore,e):null}},{key:"doc",value:function(e){try{return new eR(this.firestore,void 0===e?oP(this._delegate):oP(this._delegate,e))}catch(t){throw tR(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=YO(e.firestore,hP),r=oP(e),i=kD(e.converter,t);return RD(n,[OP(jP(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,rI.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new eR(t.firestore,e)}))}},{key:"isEqual",value:function(e){return sP(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(ZD.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(oR);function lR(e){return YO(e,nP)}var fR=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=S(xP,n)}return g(e,[{key:"isEqual",value:function(e){return(e=ju(e))instanceof xP&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Px.keyField().canonicalString())}}]),e}(),hR=function(){function e(t){d(this,e),this._delegate=t}return g(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new RP("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new PP("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=BD.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=zD.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new FP("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),dR={Firestore:JD,GeoPoint:SP,Timestamp:Tx,Blob:WD,Transaction:YD,WriteBatch:XD,DocumentReference:eR,DocumentSnapshot:iR,Query:oR,QueryDocumentSnapshot:aR,QuerySnapshot:uR,CollectionReference:cR,FieldPath:fR,FieldValue:hR,setLogLevel:function(e){!function(e){rx.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ou("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},dR)))}(e,(function(e,t){return new JD(e,t,new QD)})),e.registerVersion("@firebase/firestore-compat","0.3.11")}(il);var pR=function(e){return(0,st.jsxs)("label",{className:"inputText",children:[(0,st.jsx)("span",{children:e.name}),(0,st.jsx)("input",{type:"text",placeholder:e.placeholder,onChange:function(t){return e.onChange(t.target.value)}})]})},vR="https://api.polarpelmeni.com.ua/",mR=function(){var e=ot(),t=we(),n=(Ye((function(e){return e.user})),l((0,r.useState)("STEP_01"),2)),i=n[0],a=n[1],o=l((0,r.useState)(""),2),s=o[0],u=o[1],c=l((0,r.useState)(""),2),f=c[0],h=c[1],d=l((0,r.useState)(""),2),p=d[0],v=d[1],m=l((0,r.useState)(""),2),g=m[0],y=m[1],b=l((0,r.useState)(null),2),k=b[0],w=b[1],x=l((0,r.useState)(""),2),_=x[0],S=x[1],E=l((0,r.useState)(!0),2),I=E[0],C=E[1];(0,r.useEffect)((function(){var e=s.replace(/\s|[()]/g,"");e.includes("_")?C(!0):C(!1),u(e)}),[s]);var T=function(e){var t=new il.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(){}});il.auth().signInWithPhoneNumber(s,t).then((function(e){a("STEP_02"),w(e)})).catch((function(e){console.log(e)}))};(0,r.useEffect)((function(){"STEP_02"===i&&(C(!0),6===_.length?C(!1):C(!0))}),[_,i]),(0,r.useEffect)((function(){"STEP_03"===i&&(C(!0),6===_.length?C(!1):C(!0))}),[_,i]);var N=function(){k.confirm(_).then((function(e){console.log("handleVerificationCodeSubmit:",e.user);var t=e.user.multiFactor.user.uid;console.log("accessToken:",t),y(t),A(t)})).catch((function(e){console.error("ERROR:",e)}))},A=function(n){var r={token:n};console.log("AUTH TOKEN in AUTH:",r);var i=JSON.stringify(r);console.log("tokenJSON:",i),br.post("".concat(vR,"api/auth"),i,{headers:{"Content-Type":"application/json"}}).then((function(n){console.log(n),200===n.status&&(e(is({name:n.data.name,phone:n.data.phone,email:n.data.email,token:n.data.token,promocode40:n.data.promocode40})),e(Hs({isOpen:!1})),t("/profile/info"))})).catch((function(e){console.error(e),a("STEP_03")}))};(0,r.useEffect)((function(){"STEP_03"===i&&(C(!0),C(""===f||""===p))}),[i,f,p]);return(0,st.jsxs)("div",{className:"singup",children:[(0,st.jsx)("div",{id:"recaptcha-container"}),(0,st.jsx)("div",{className:"singup__content",children:"STEP_01"===i?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{className:"singup__description",children:[(0,st.jsx)("h3",{className:"singup__title",children:"\u0412\u0445\u0456\u0434 \u043d\u0430 \u0441\u0430\u0439\u0442"}),(0,st.jsx)("p",{className:"singup__text",children:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0441\u0432\u0456\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443, \u0449\u043e\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u0431\u043e\u043d\u0443\u0441\u043d\u043e\u0457 \u0441\u0438\u0441\u0442\u0435\u043c\u0438 \u0442\u0430 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0438\u043c \u0430\u0434\u0440\u0435\u0441\u0430\u043c \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"})]}),(0,st.jsx)(eu,{onChange:function(e){return u(e)}}),(0,st.jsx)(As,{name:"\u041f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438",disabled:I,onClick:T})]}):"STEP_02"===i?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{className:"singup__description",children:[(0,st.jsx)("h3",{className:"singup__title",children:"\u0412\u0445\u0456\u0434 \u043d\u0430 \u0441\u0430\u0439\u0442"}),(0,st.jsxs)("p",{className:"singup__text",children:["\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u0434 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f, \u044f\u043a\u0438\u0439 \u043c\u0438 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u043d\u0430 ",s," ",(0,st.jsx)("span",{className:"singup__text singup__text-action",onClick:function(){return a("STEP_01")},children:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438"})]})]}),(0,st.jsx)("form",{className:"singup__form",children:(0,st.jsx)(tu,{onData:function(e){return S(e)}})}),(0,st.jsx)(As,{name:"\u041f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438",disabled:I,onClick:N})]}):"STEP_03"===i?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{className:"singup__description",children:[(0,st.jsx)("h3",{className:"singup__title",children:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"}),(0,st.jsx)("p",{className:"singup__text",children:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u0432\u043e\u0457 \u0434\u0430\u043d\u0456"})]}),(0,st.jsxs)("form",{className:"singup__form",children:[(0,st.jsx)(pR,{name:"\u0406\u043c\u2019\u044f",placeholder:"\u0406\u043c\u2019\u044f",onChange:function(e){return h(e)}}),(0,st.jsx)(pR,{name:"\u041f\u043e\u0448\u0442\u0430",placeholder:"xxx@gmail.com",onChange:function(e){return v(e)}})]}),(0,st.jsx)(As,{name:"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f",disabled:I,onClick:function(){return function(){var n={name:f,email:p,token:g,phone:s},r=JSON.stringify(n);console.log(r),br.post("".concat(vR,"api/registrate"),r,{headers:{"Content-Type":"application/json"}}).then((function(n){var r=n.data;200===n.status&&(console.log(r),console.log("user data",{name:f,phone:s,email:p,token:g}),e(is({name:f,phone:s,email:p,token:g,promocode40:r.promocode40})),e(Hs({isOpen:!1})),t("/profile/info"))})).catch((function(e){return console.error(e)}))}()}})]}):void 0})]})},gR=function(){var e=be(),t=l((0,r.useState)(!1),2),n=t[0],i=t[1],a=l((0,r.useState)(!1),2),o=a[0],s=a[1],u=l((0,r.useState)([]),2),c=u[0],f=u[1],h=we(),d=ot(),p=Ye((function(e){return e.user}));(0,r.useEffect)((function(){"/"!==e.pathname&&(i(!1),s(!1))}),[e]);var v=Ye((function(e){return e.modals.authModal}));return(0,r.useEffect)((function(){br.get("https://api.polarpelmeni.com.ua/api/menu",{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){var t=e.data.response.filter((function(e){return e.category_name.startsWith("onlineOrder:")})).map((function(e,t){return{category_name:e.category_name.replace(/onlineOrder: /,""),category_id:e.category_id,category_position_index:t}}));t[13].category_position_index=0,t[12].category_position_index=1,t[11].category_position_index=2,t[8].category_position_index=3,t[10].category_position_index=4,t[9].category_position_index=5,t[2].category_position_index=6,t[3].category_position_index=7,t[0].category_position_index=8,t[6].category_position_index=9,t[4].category_position_index=10,t[7].category_position_index=11,t[1].category_position_index=12,t[5].category_position_index=13,t.sort((function(e,t){return e.category_position_index-t.category_position_index})),f(t)})).catch((function(e){return console.error(e)}))}),[]),"/profile/info"===e.pathname?(0,st.jsxs)(st.Fragment,{children:[v&&(0,st.jsx)(Ki,{closeModal:function(){return d(Hs({isOpen:!1}))},children:(0,st.jsx)(mR,{})}),(0,st.jsx)("header",{className:"header",children:(0,st.jsxs)(ut,{children:[(0,st.jsxs)("div",{className:"header__content",children:[(0,st.jsxs)("div",{className:"header__left",children:[(0,st.jsx)(bt,{className:"header__logo",to:"/",children:(0,st.jsx)("img",{src:Js,alt:"Polar Pelmeni \u2013 \u0430\u0432\u0442\u043e\u0440\u0441\u044c\u043a\u0456 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456"})}),(0,st.jsxs)("div",{className:"header__selectors",children:[(0,st.jsxs)("div",{className:"header__selector header__selector-city",children:[(0,st.jsx)("svg",{width:"12",height:"15",viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M10.2427 10.576L6 14.8187L1.75734 10.576C0.918228 9.73687 0.346791 8.66777 0.115286 7.50389C-0.11622 6.34 0.00260456 5.13361 0.456732 4.03726C0.91086 2.9409 1.6799 2.00384 2.66659 1.34455C3.65328 0.685266 4.81332 0.333374 6 0.333374C7.18669 0.333374 8.34672 0.685266 9.33342 1.34455C10.3201 2.00384 11.0891 2.9409 11.5433 4.03726C11.9974 5.13361 12.1162 6.34 11.8847 7.50389C11.6532 8.66777 11.0818 9.73687 10.2427 10.576ZM6 7.66666C6.35362 7.66666 6.69276 7.52618 6.94281 7.27613C7.19286 7.02608 7.33334 6.68694 7.33334 6.33332C7.33334 5.9797 7.19286 5.64056 6.94281 5.39051C6.69276 5.14046 6.35362 4.99999 6 4.99999C5.64638 4.99999 5.30724 5.14046 5.05719 5.39051C4.80715 5.64056 4.66667 5.9797 4.66667 6.33332C4.66667 6.68694 4.80715 7.02608 5.05719 7.27613C5.30724 7.52618 5.64638 7.66666 6 7.66666Z",fill:"#12130F"})}),(0,st.jsx)("span",{children:p.city}),(0,st.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M5 3.78132L8.3 0.481323L9.24267 1.42399L5 5.66666L0.757332 1.42399L1.7 0.481323L5 3.78132Z",fill:"#12130F"})})]}),(0,st.jsxs)("div",{className:"header__selector header__selector-lang",children:[(0,st.jsx)("span",{children:"UA"}),(0,st.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M5 3.78132L8.3 0.481323L9.24267 1.42399L5 5.66666L0.757332 1.42399L1.7 0.481323L5 3.78132Z",fill:"#12130F"})})]})]})]}),(0,st.jsxs)("nav",{className:"header__navigation",children:[(0,st.jsx)(bt,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),(0,st.jsx)(bt,{to:"/menu",children:"\u041c\u0435\u043d\u044e"}),(0,st.jsx)(bt,{to:"/about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"}),(0,st.jsx)(bt,{to:"/contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})]}),(0,st.jsxs)("div",{className:"header__right",children:[(0,st.jsx)(Ys,{}),p.isAuthenticated?(0,st.jsxs)("div",{className:"header__profile-btn",onClick:function(){return h("/profile/info")},children:[(0,st.jsx)("div",{className:"header__avatar",children:(0,st.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:""})}),(0,st.jsx)("span",{className:"header__username",children:p.name}),(0,st.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M5.00048 3.78132L8.30048 0.481323L9.24315 1.42399L5.00048 5.66666L0.757812 1.42399L1.70048 0.481323L5.00048 3.78132Z",fill:"#12130F"})})]}):(0,st.jsx)(As,{name:"\u0423\u0432\u0456\u0439\u0442\u0438",onClick:function(){return d(Hs({isOpen:!0}))}}),(0,st.jsx)("div",{className:"header__hamburger ".concat(n&&"header__hamburger--active"),onClick:function(){return i(!n)},children:(0,st.jsx)("span",{})})]})]}),n&&(0,st.jsx)("div",{className:"mobile-menu",children:(0,st.jsxs)("nav",{className:"mobile-menu__navigation",children:[(0,st.jsx)("div",{className:"mobile-menu__auth",children:!0===p.isAuthenticated?(0,st.jsxs)("div",{className:"mobile-menu__profile-btn mobile-menu__profile-btn--profile",onClick:function(){return h("/profile/info")},children:[(0,st.jsx)("div",{className:"mobile-menu__avatar",children:(0,st.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:"avatar"})}),(0,st.jsxs)("div",{children:[(0,st.jsx)("span",{className:"mobile-menu__username",children:p.name}),(0,st.jsx)("p",{className:"mobile-menu__phone",children:p.phone}),(0,st.jsx)("p",{className:"mobile-menu__bonus",children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e 23 \u0431\u043e\u043d\u0443\u0441\u0438"})]})]}):(0,st.jsx)(As,{name:"\u0423\u0432\u0456\u0439\u0442\u0438 \u0432 \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u0438\u0439 \u043a\u0430\u0431\u0456\u043d\u0435\u0442",onClick:function(){return d(Hs({isOpen:!0}))}})}),(0,st.jsxs)("ul",{className:"mobile-menu__menu",children:[(0,st.jsx)("li",{className:"mobile-menu__link",children:(0,st.jsx)(bt,{children:"\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f"})}),(0,st.jsx)("li",{className:"mobile-menu__link",children:(0,st.jsx)(bt,{children:"\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0456 \u0431\u043b\u044e\u0434\u0430"})}),(0,st.jsx)("li",{className:"mobile-menu__link",children:(0,st.jsx)(bt,{children:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0430\u0434\u0440\u0435\u0441\u0438"})}),(0,st.jsx)("li",{className:"mobile-menu__link",children:(0,st.jsx)(bt,{children:"\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c"})}),(0,st.jsx)("li",{className:"mobile-menu__link",children:(0,st.jsx)(bt,{children:"\u0411\u043e\u043d\u0443\u0441\u0438"})}),(0,st.jsx)("li",{className:"mobile-menu__link mobile-menu__link--exit",children:(0,st.jsx)(bt,{children:"\u0412\u0438\u0445\u0456\u0434"})})]}),(0,st.jsxs)("ul",{className:"mobile-menu__nav",children:[(0,st.jsx)("li",{children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),(0,st.jsx)("li",{children:"\u041c\u0435\u043d\u044e"}),(0,st.jsx)("li",{children:"\u041f\u0440\u043e \u043d\u0430\u0441"}),(0,st.jsx)("li",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})]})]})})]})})]}):(0,st.jsxs)(st.Fragment,{children:[v&&(0,st.jsx)(Ki,{closeModal:function(){return d(Hs({isOpen:!1}))},children:(0,st.jsx)(mR,{})}),(0,st.jsx)("header",{className:"header ".concat(n&&"header__fh"),children:(0,st.jsxs)(ut,{children:[(0,st.jsxs)("div",{className:"header__content",children:[(0,st.jsxs)("div",{className:"header__left",children:[(0,st.jsx)(bt,{className:"header__logo",to:"/",children:(0,st.jsx)("img",{src:Js,alt:"Polar Pelmeni \u2013 \u0430\u0432\u0442\u043e\u0440\u0441\u044c\u043a\u0456 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456"})}),(0,st.jsxs)("div",{className:"header__selectors",children:[(0,st.jsxs)("div",{className:"header__selector header__selector-city",children:[(0,st.jsx)("svg",{width:"12",height:"15",viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M10.2427 10.576L6 14.8187L1.75734 10.576C0.918228 9.73687 0.346791 8.66777 0.115286 7.50389C-0.11622 6.34 0.00260456 5.13361 0.456732 4.03726C0.91086 2.9409 1.6799 2.00384 2.66659 1.34455C3.65328 0.685266 4.81332 0.333374 6 0.333374C7.18669 0.333374 8.34672 0.685266 9.33342 1.34455C10.3201 2.00384 11.0891 2.9409 11.5433 4.03726C11.9974 5.13361 12.1162 6.34 11.8847 7.50389C11.6532 8.66777 11.0818 9.73687 10.2427 10.576ZM6 7.66666C6.35362 7.66666 6.69276 7.52618 6.94281 7.27613C7.19286 7.02608 7.33334 6.68694 7.33334 6.33332C7.33334 5.9797 7.19286 5.64056 6.94281 5.39051C6.69276 5.14046 6.35362 4.99999 6 4.99999C5.64638 4.99999 5.30724 5.14046 5.05719 5.39051C4.80715 5.64056 4.66667 5.9797 4.66667 6.33332C4.66667 6.68694 4.80715 7.02608 5.05719 7.27613C5.30724 7.52618 5.64638 7.66666 6 7.66666Z",fill:"#12130F"})}),(0,st.jsx)("span",{children:p.city}),(0,st.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M5 3.78132L8.3 0.481323L9.24267 1.42399L5 5.66666L0.757332 1.42399L1.7 0.481323L5 3.78132Z",fill:"#12130F"})})]}),(0,st.jsxs)("div",{className:"header__selector header__selector-lang",children:[(0,st.jsx)("span",{children:"UA"}),(0,st.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M5 3.78132L8.3 0.481323L9.24267 1.42399L5 5.66666L0.757332 1.42399L1.7 0.481323L5 3.78132Z",fill:"#12130F"})})]})]})]}),(0,st.jsxs)("nav",{className:"header__navigation",children:[(0,st.jsx)(bt,{to:"/",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),(0,st.jsx)(bt,{to:"/menu",children:"\u041c\u0435\u043d\u044e"}),(0,st.jsx)(bt,{to:"/about-us",children:"\u041f\u0440\u043e \u043d\u0430\u0441"}),(0,st.jsx)(bt,{to:"/contact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})]}),(0,st.jsxs)("div",{className:"header__right",children:[(0,st.jsx)(Ys,{}),p.isAuthenticated?(0,st.jsxs)("div",{className:"header__profile-btn",onClick:function(){return h("/profile/info")},children:[(0,st.jsx)("div",{className:"header__avatar",children:(0,st.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:""})}),(0,st.jsx)("span",{className:"header__username",children:p.name}),(0,st.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M5.00048 3.78132L8.30048 0.481323L9.24315 1.42399L5.00048 5.66666L0.757812 1.42399L1.70048 0.481323L5.00048 3.78132Z",fill:"#12130F"})})]}):(0,st.jsx)(As,{name:"\u0423\u0432\u0456\u0439\u0442\u0438",onClick:function(){return d(Hs({isOpen:!0}))}}),(0,st.jsx)("div",{className:"header__hamburger ".concat(n&&"header__hamburger--active"),onClick:function(){return i(!n)},children:(0,st.jsx)("span",{})})]})]}),n&&(0,st.jsx)("div",{className:"mobile-menu",children:(0,st.jsxs)("nav",{className:"mobile-menu__navigation",children:[(0,st.jsxs)("ul",{className:"mobile-menu__menu",children:[(0,st.jsx)("li",{className:"mobile-menu__link",children:(0,st.jsx)(bt,{children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"})}),(0,st.jsxs)("li",{className:"mobile-menu__link ",children:[(0,st.jsxs)("div",{className:"mobile-menu__dropdown",onClick:function(){s(!o)},children:[(0,st.jsx)("span",{children:"\u041c\u0435\u043d\u044e"}),(0,st.jsx)("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M5.99959 4.97618L10.1244 0.85141L11.3029 2.02992L5.99959 7.33326L0.696289 2.02992L1.87481 0.85141L5.99959 4.97618Z",fill:"black"})})]}),o&&(0,st.jsx)("ul",{className:"mobile-menu__submenu",children:c.map((function(e){return(0,st.jsx)(bt,{className:"mobile-menu__sublink",to:"menu/".concat(e.category_id),children:e.category_name},e.category_id)}))})]}),(0,st.jsx)("li",{className:"mobile-menu__link",children:(0,st.jsx)(bt,{children:"\u041f\u0440\u043e \u043d\u0430\u0441"})}),(0,st.jsx)("li",{className:"mobile-menu__link",children:(0,st.jsx)(bt,{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})})]}),(0,st.jsx)("div",{className:"mobile-menu__auth",children:p.isAuthenticated?(0,st.jsxs)("div",{className:"mobile-menu__profile-btn",onClick:function(){return h("/profile/info")},children:[(0,st.jsx)("div",{className:"mobile-menu__avatar",children:(0,st.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/552/552721.png",alt:""})}),(0,st.jsxs)("div",{children:[(0,st.jsx)("span",{className:"mobile-menu__username",children:p.name}),(0,st.jsx)("div",{className:"mobile-menu__goto",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0456\u043b\u044c"})]})]}):(0,st.jsx)(As,{name:"\u0423\u0432\u0456\u0439\u0442\u0438 \u0432 \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u0438\u0439 \u043a\u0430\u0431\u0456\u043d\u0435\u0442",onClick:function(){return d(Hs({isOpen:!0}))}})})]})})]})})]})};Oc("firebase","9.22.2","app");var yR={apiKey:"AIzaSyAZTy2mx9Oje6LQvaiaaCxx0rq0Cm3jGvM",authDomain:"polar-pelmeni.firebaseapp.com",projectId:"polar-pelmeni",storageBucket:"polar-pelmeni.appspot.com",messagingSenderId:"1051342657269",appId:"1:1051342657269:web:4a5d1cc8eb468172dcd7bc"},bR=(Cc(yR),n.p+"static/media/about-1-desc.91b817798bf8b5956683.png"),kR=n.p+"static/media/about-2-desc.92d4c3085097a9bb8178.png",wR=n.p+"static/media/about-3-desc.b5bef9ba9ec67b6c4900.png",xR=n.p+"static/media/hero_preview.33f32bcff4c534ce22a3.png";var _R=n.p+"static/media/sprite.846e26b8e4d965e90cf93dc64c8476cc.svg",SR=function(){return(0,st.jsxs)(ut,{children:[(0,st.jsx)("section",{className:"about__hero",children:(0,st.jsx)("div",{class:"about-container container",children:(0,st.jsxs)("div",{className:"about__hero-content",children:[(0,st.jsx)("h1",{className:"title__h1",children:"\u041d\u0430\u0448\u0430 \u0456\u0441\u0442\u043e\u0440\u0456\u044f"}),(0,st.jsx)("p",{className:"text",children:"\u041a\u043e\u043b\u0438 \u043b\u044e\u0434\u044f\u043c \u0445\u043e\u0447\u0435\u0442\u044c\u0441\u044f \u0448\u0432\u0438\u0434\u043a\u043e \u0456 \u0441\u043c\u0430\u0447\u043d\u043e, \u0432\u043e\u043d\u0438 \u043e\u0431\u0438\u0440\u0430\u044e\u0442\u044c Polar"}),(0,st.jsx)("div",{className:"about__hero-preview",children:(0,st.jsx)("img",{src:xR,alt:""})})]})})}),(0,st.jsx)("section",{class:"about-section",children:(0,st.jsxs)("div",{class:"about-container container",children:[(0,st.jsxs)("div",{class:"about-top-wrap",children:[(0,st.jsxs)("ul",{class:"about-top-list list",children:[(0,st.jsxs)("li",{class:"about-top-item",children:[(0,st.jsx)("p",{class:"about-top-subtitle",children:"\u041d\u0430\u0448\u0430 \u0456\u0441\u0442\u043e\u0440\u0456\u044f"}),(0,st.jsx)("h2",{class:"about-top-title title",children:"\u0417 \u0447\u043e\u0433\u043e \u0432\u0441\u0435 \u043f\u043e\u0447\u0430\u043b\u043e\u0441\u044f?"})]}),(0,st.jsx)("li",{class:"about-top-item",children:(0,st.jsx)("p",{class:"about-top-text text",children:"\u0417\u0430\u0441\u043d\u043e\u0432\u043d\u0438\u043a Polar \u2014 \u0454\u0432\u0440\u043e\u043f\u0435\u0454\u0446\u044c \u0437 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0438\u043c \u043a\u043e\u0440\u0456\u043d\u043d\u044f\u043c \u2014 \u043a\u0456\u043b\u044c\u043a\u0430 \u0440\u043e\u043a\u0456\u0432 \u0442\u043e\u043c\u0443 \u0432\u0456\u0434\u0432\u0456\u0434\u0430\u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0443. \u0410 \u041e\u0434\u0435\u0441\u0443, \u0439\u043e\u0433\u043e \u0436\u0438\u0442\u0435\u043b\u0456\u0432 \u0456 \u043a\u043e\u043b\u043e\u0440\u0438\u0442 \u0432\u0438 \u0437\u043d\u0430\u0454\u0442\u0435 \u2014 \u043d\u0435 \u0437\u0430\u043a\u043e\u0445\u0430\u0442\u0438\u0441\u044f \u043d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u043e."})}),(0,st.jsx)("li",{class:"about-top-item",children:(0,st.jsx)("p",{class:"about-top-text text",children:"\u0406\u0441\u043a\u0440\u0430, \u0431\u0443\u0440\u044f, \u0431\u043e\u0436\u0435\u0432\u0456\u043b\u043b\u044f, \u0456 \u043e\u0442 \u043d\u0430\u0448 \u041a\u043e\u0441\u0442\u044f \u0432\u0438\u0440\u0456\u0448\u0438\u0432 \u0437\u0430\u043b\u0438\u0448\u0438\u0442\u0438\u0441\u044f \u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0456, \u0430\u0431\u0438 \u0440\u0430\u0434\u0443\u0432\u0430\u0442\u0438 \u043b\u044e\u0434\u0435\u0439 \u0432\u0438\u0448\u0443\u043a\u0430\u043d\u0438\u043c\u0438 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u044f\u043c\u0438 \u0439 \u043f\u0456\u0434\u043d\u0456\u043c\u0430\u0442\u0438 \u0435\u043a\u043e\u043d\u043e\u043c\u0456\u043a\u0443 \u043d\u0430\u0448\u043e\u0457 \u043a\u0440\u0430\u0457\u043d\u0438."})}),(0,st.jsx)("li",{class:"about-top-item",children:(0,st.jsx)("p",{class:"about-top-text text",children:"\u041f\u0456\u0446\u0430, \u0441\u0443\u0448\u0456, \u0431\u0443\u0440\u0433\u0435\u0440\u0438, \u0440\u0430\u043c\u0435\u043d\u2026 \u0410 \u0434\u0435 \u0436 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456, \u044f\u043a\u0456 \u0442\u043e\u0447\u043d\u043e \u0437\u0430\u0439\u043c\u0430\u044e\u0442\u044c \u043e\u043a\u0440\u0435\u043c\u0435 \u043c\u0456\u0441\u0446\u0435 \u0432 \u0441\u0435\u0440\u0434\u0435\u0447\u043a\u0443 \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u0443\u043a\u0440\u0430\u0457\u043d\u0446\u044f?"})}),(0,st.jsx)("li",{class:"about-top-item",children:(0,st.jsx)("p",{class:"about-top-text text",children:"\u0426\u0435 \u043f\u0438\u0442\u0430\u043d\u043d\u044f \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0432 \u0441\u043e\u0431\u0456 \u0437\u0430\u0441\u043d\u043e\u0432\u043d\u0438\u043a Polar, \u044f\u043a\u0438\u0439 \u043d\u0435 \u043f\u043e\u0431\u0430\u0447\u0438\u0432 \u043d\u0430 \u0440\u0438\u043d\u043a\u0443 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0446\u0456\u0454\u0457 \u0441\u0442\u0440\u0430\u0432\u0438 \u0456 \u0441\u043c\u0430\u0447\u043d\u0438\u0445 \u0441\u043e\u0443\u0441\u0456\u0432 \u0434\u043e \u043d\u0435\u0457. \u0406 \u043f\u043e\u043d\u0435\u0441\u043b\u0430\u0441\u044f\u2026"})})]}),(0,st.jsx)("img",{src:bR,alt:"women",class:"about-top-img first"})]}),(0,st.jsx)("svg",{class:"about-icon first",children:(0,st.jsx)("use",{href:"".concat(_R,"#icon-arrow-1")})}),(0,st.jsxs)("div",{class:"about-wrap",children:[(0,st.jsxs)("ul",{class:"about-list list",children:[(0,st.jsx)("li",{class:"about-item",children:(0,st.jsxs)("h2",{class:"about-title title",children:["\u042f\u043a \u0432\u0441\u0435",(0,st.jsx)("br",{}),"\u043f\u0440\u0438\u0437\u0443\u043f\u0438\u043d\u0438\u043b\u043e\u0441\u044f?"]})}),(0,st.jsx)("li",{class:"about-item",children:(0,st.jsx)("p",{class:"about-text text",children:"23 \u043b\u044e\u0442\u043e\u0433\u043e \u0431\u0443\u043b\u0430 \u043f\u0440\u0435-\u043f\u0430\u0442\u0456 \u0434\u0435\u0433\u0443\u0441\u0442\u0430\u0446\u0456\u044f \u0432 \u041e\u0434\u0435\u0441\u0456:\u043b\u044e\u0434\u0438 \u0433\u0456\u0434\u043d\u043e \u043e\u0446\u0456\u043d\u0438\u043b\u0438 \u043d\u0430\u0448\u0456 \u0441\u0442\u0430\u0440\u0430\u043d\u043d\u044f, \u0441\u043c\u0430\u043a \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432, \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0456\u0441\u0442\u044c \u0432\u0438\u0431\u043e\u0440\u0443 \u0456 \u0448\u0432\u0438\u0434\u043a\u0456\u0441\u0442\u044c \u043f\u0440\u0438\u0433\u043e\u0442\u0443\u0432\u0430\u043d\u043d\u044f."})}),(0,st.jsx)("li",{class:"about-item",children:(0,st.jsx)("p",{class:"about-text text",children:"\u041d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e \u0434\u043d\u044f \u043f\u043e\u0447\u0430\u043b\u0430\u0441\u044f \u0432\u0456\u0439\u043d\u0430."})}),(0,st.jsx)("li",{class:"about-item",children:(0,st.jsx)("p",{class:"about-text text",children:"\u041c\u0438, \u044f\u043a \u0456 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439 \u0431\u0456\u0437\u043d\u0435\u0441 \u0432 \u0423\u043a\u0440\u0430\u0457\u043d\u0456, \u043d\u0435 \u043c\u043e\u0433\u043b\u0438 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u044f\u043a \u0440\u0430\u043d\u0456\u0448\u0435."})}),(0,st.jsx)("li",{class:"about-item",children:(0,st.jsx)("p",{class:"about-text text",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 Polar \u043d\u0435 \u0437\u0434\u0430\u043b\u0430\u0441\u044f \u0456 \u043f\u0440\u0438\u0439\u043d\u044f\u043b\u0430 \u0440\u0456\u0448\u0435\u043d\u043d\u044f \u0432\u0456\u0434\u0447\u0438\u043d\u0438\u0442\u0438\u0441\u044f \u0432 \u0431\u0456\u043b\u044c\u0448 \u0431\u0435\u0437\u043f\u0435\u0447\u043d\u043e\u043c\u0443 \u043c\u0456\u0441\u0442\u0456 \u0423\u043a\u0440\u0430\u0457\u043d\u0438 \u2014 \u0423\u0436\u0433\u043e\u0440\u043e\u0434\u0456."})}),(0,st.jsx)("li",{class:"about-item",children:(0,st.jsx)("p",{class:"about-text text",children:"\u0421\u0442\u0432\u043e\u0440\u0438\u043b\u0438 \u0446\u0435\u0445 \u0443 \u0417\u0430\u043a\u0430\u0440\u043f\u0430\u0442\u0442\u0456, \u043f\u043e\u043b\u0456\u043f\u0448\u0438\u043b\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0443\u0440\u0443 \u0456 \u0437\u0440\u043e\u0431\u0438\u043b\u0438 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456 \u0449\u0435 \u043a\u0440\u0430\u0449\u0438\u043c\u0438 \u0437 \u0456\u0434\u0435\u0430\u043b\u044c\u043d\u0438\u043c \u0442\u0456\u0441\u0442\u043e\u043c \u0456 \u043d\u0430\u0447\u0438\u043d\u043a\u0430\u043c\u0438!"})})]}),(0,st.jsx)("img",{src:kR,alt:"dishes",class:"about-img second"})]}),(0,st.jsx)("svg",{class:"about-icon second",children:(0,st.jsx)("use",{href:"".concat(_R,"#icon-arrow-2")})}),(0,st.jsxs)("div",{class:"about-bottom-wrap",children:[(0,st.jsxs)("ul",{class:"about-bottom-list list",children:[(0,st.jsx)("li",{class:"about-bottom-item",children:(0,st.jsxs)("h2",{class:"about-bottom-title title",children:["\u041c\u0438 \u043f\u0440\u043e\u0434\u0443\u043c\u0430\u043b\u0438 \u0432\u0441\u0435",(0,st.jsx)("br",{}),"\u0434\u043e \u0434\u0440\u0456\u0431\u043d\u0438\u0446\u044c"]})}),(0,st.jsx)("li",{class:"about-bottom-item",children:(0,st.jsx)("p",{class:"about-bottom-text text",children:"\u0423 \u0442\u0435\u0440\u043c\u0456\u043d\u043e\u0432\u043e\u043c\u0443 \u043f\u043e\u0440\u044f\u0434\u043a\u0443 (\u043c\u043e\u0432\u0430 \u0436 \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0440\u043e \u0457\u0436\u0443, \u0430 \u043f\u0440\u043e \u041f\u0415\u041b\u042c\u041c\u0415\u041d\u0406) \u0437\u0456\u0431\u0440\u0430\u043b\u0430\u0441\u044f \u0441\u0438\u043b\u044c\u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u043d\u0430 \u0447\u043e\u043b\u0456 \u0456\u0437 \u0448\u0435\u0444-\u043a\u0443\u0445\u0430\u0440\u0435\u043c."})}),(0,st.jsx)("li",{class:"about-bottom-item",children:(0,st.jsx)("p",{class:"about-bottom-text text",children:"\u0414\u043d\u044f\u043c\u0438 \u0439 \u043d\u043e\u0447\u0430\u043c\u0438 \u043c\u0438 \u0440\u043e\u0437\u0440\u043e\u0431\u043b\u044f\u043b\u0438 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0456\u044e, \u043e\u0441\u043e\u0431\u043b\u0438\u0432\u0443 \u0440\u0435\u0446\u0435\u043f\u0442\u0443\u0440\u0443, \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0456\u044e \u043c\u0435\u043d\u044e \u0437 \u043f\u0440\u043e\u0444\u0435\u0441\u0456\u043e\u043d\u0430\u043b\u0430\u043c\u0438, \u0449\u043e\u0431\u0438 \u043d\u0430\u0441\u043e\u043b\u043e\u0434\u0436\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u044f\u043c\u0438 \u043c\u0456\u0433 \u043a\u043e\u0436\u0435\u043d."})}),(0,st.jsx)("li",{class:"about-bottom-item",children:(0,st.jsx)("p",{class:"about-bottom-text text",children:"\u041d\u0435 \u0437\u0430\u043b\u0438\u0448\u0438\u043b\u0438 \u0431\u0435\u0437 \u0443\u0432\u0430\u0433\u0438 \u043d\u0456\u043a\u043e\u0433\u043e."})}),(0,st.jsx)("li",{class:"about-bottom-item",children:(0,st.jsx)("p",{class:"about-bottom-text text",children:"\u0406 \u0432\u0435\u0433\u0435\u0442\u0430\u0440\u0456\u0430\u043d\u0446\u0456, \u0456 \u0432\u0435\u0433\u0430\u043d\u0438, \u0456 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u043d\u0456 \u043c\u2019\u044f\u0441\u043e\u0457\u0434\u0438, \u0456 \u043b\u044e\u0431\u0438\u0442\u0435\u043b\u0456 \u0440\u0438\u0431\u043a\u0438, \u043e\u0432\u043e\u0447\u0456\u0432, \u043d\u0430\u0432\u0456\u0442\u044c \u0441\u043e\u043b\u043e\u0434\u043e\u0449\u0456\u0432 \u0442\u043e\u0447\u043d\u043e \u0437\u043d\u0430\u0439\u0434\u0443\u0442\u044c \u043f\u043e\u0440\u0446\u0456\u044e \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u0445 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432 \u0434\u043b\u044f \u0441\u0435\u0431\u0435 \u0432 Polar"})})]}),(0,st.jsx)("img",{src:wR,alt:"women",class:"about-bottom-img"})]})]})}),(0,st.jsx)("section",{class:"facts-section",children:(0,st.jsxs)("div",{class:"facts-container container",children:[(0,st.jsx)("h2",{class:"facts-main-title title",children:"\u0412\u0430\u0436\u043b\u0438\u0432\u0456 \u0444\u0430\u043a\u0442\u0438 \u043f\u0440\u043e Polar"}),(0,st.jsx)("div",{class:"facts-list-wrap",children:(0,st.jsxs)("ul",{class:"facts-list list",children:[(0,st.jsxs)("li",{class:"facts-item",children:[(0,st.jsx)("div",{class:"facts-icon-wrap",children:(0,st.jsx)("svg",{class:"facts-icon",children:(0,st.jsx)("use",{href:"".concat(_R,"#icon-facts-1")})})}),(0,st.jsx)("h3",{class:"facts-title",children:"\u041c\u0438 \u0441\u0430\u043c\u0456 \u0432\u0438\u0440\u043e\u0431\u043b\u044f\u0454\u043c\u043e \u0432\u0441\u0435"}),(0,st.jsx)("p",{class:"facts-text",children:"\u0444\u0430\u0440\u0448, \u0431\u0443\u043b\u044c\u0439\u043e\u043d\u0438, \u0441\u043e\u0443\u0441\u0438. \u0406 \u0446\u0435 \u0437 \u043d\u0430\u0439\u044f\u043a\u0456\u0441\u043d\u0456\u0448\u0438\u0445 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432 \u0432\u0456\u0434 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u0438\u0445 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0456\u0432. \u0422\u043e\u043c\u0443 \u0449\u043e, \u0445\u043e\u0440\u043e\u0448\u0456 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456 \u043f\u043e\u0447\u0438\u043d\u0430\u044e\u0442\u044c\u0441\u044f \u0437\u0456 \u0441\u0432\u0456\u0436\u0438\u0445 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432"})]}),(0,st.jsxs)("li",{class:"facts-item",children:[(0,st.jsx)("div",{class:"facts-icon-wrap",children:(0,st.jsx)("svg",{class:"facts-icon",children:(0,st.jsx)("use",{href:"".concat(_R,"#icon-facts-2")})})}),(0,st.jsx)("h3",{class:"facts-title",children:"10 \u0432\u0438\u0434\u0456\u0432 \u0440\u0456\u0437\u043d\u0438\u0445 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432"}),(0,st.jsx)("p",{class:"facts-text",children:"\u0406 \u0432\u0435\u0433\u0435\u0442\u0430\u0440\u0456\u0430\u043d\u0446\u0456, \u0456 \u0432\u0435\u0433\u0430\u043d\u0438, \u0456 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u043d\u0456 \u043c\u2019\u044f\u0441\u043e\u0457\u0434\u0438, \u0456 \u043b\u044e\u0431\u0438\u0442\u0435\u043b\u0456 \u0440\u0438\u0431\u043a\u0438, \u043e\u0432\u043e\u0447\u0456\u0432, \u043d\u0430\u0432\u0456\u0442\u044c \u0441\u043e\u043b\u043e\u0434\u043e\u0449\u0456\u0432 \u0442\u043e\u0447\u043d\u043e \u0437\u043d\u0430\u0439\u0434\u0443\u0442\u044c \u043f\u043e\u0440\u0446\u0456\u044e \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u0445 \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456\u0432"})]}),(0,st.jsxs)("li",{class:"facts-item",children:[(0,st.jsx)("div",{class:"facts-icon-wrap",children:(0,st.jsx)("svg",{class:"facts-icon",children:(0,st.jsx)("use",{href:"".concat(_R,"#icon-facts-3")})})}),(0,st.jsx)("h3",{class:"facts-title",children:"4 \u0445\u0432\u0438\u043b\u0438\u043d\u0438"}),(0,st.jsx)("p",{class:"facts-text",children:"\u041c\u0430\u043b\u043e \u0449\u043e \u043c\u043e\u0436\u043d\u0430 \u0432\u0441\u0442\u0438\u0433\u043d\u0443\u0442\u0438 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0437\u0430 \u0446\u0435\u0439 \u0447\u0430\u0441, \u0430\u043b\u0435 \u043c\u0438 \u0442\u043e\u0447\u043d\u043e \u0437\u043d\u0430\u0454\u043c\u043e, \u0449\u043e \u043f\u0435\u043b\u044c\u043c\u0435\u043d\u0456 \u0432\u0456\u0434 Polar \u0432\u0436\u0435 \u0431\u0443\u0434\u0443\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u0456"})]}),(0,st.jsxs)("li",{class:"facts-item",children:[(0,st.jsx)("div",{class:"facts-icon-wrap",children:(0,st.jsx)("svg",{class:"facts-icon",children:(0,st.jsx)("use",{href:"".concat(_R,"#icon-facts-4")})})}),(0,st.jsx)("h3",{class:"facts-title",children:"Polar \u0437 \u0435\u043a\u043e\u043b\u043e\u0433\u0456\u0454\u044e"}),(0,st.jsx)("p",{class:"facts-text",children:"\u041d\u0430 \u0432\u0441\u0456\u0445 \u0435\u0442\u0430\u043f\u0430\u0445 \u0432\u0438\u0440\u043e\u0431\u043d\u0438\u0446\u0442\u0432\u0430 \u0439 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u043c\u0438 \u043d\u0430\u043c\u0430\u0433\u0430\u0454\u043c\u043e\u0441\u044f \u043c\u0456\u043d\u0456\u043c\u0456\u0437\u0443\u0432\u0430\u0442\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u043f\u043b\u0430\u0441\u0442\u0438\u043a\u0443"})]})]})})]})}),(0,st.jsx)("section",{class:"gallery-section",children:(0,st.jsxs)("div",{class:"gallery-container container",children:[(0,st.jsxs)("picture",{children:[(0,st.jsx)("source",{srcset:"./images/about/about-8-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,st.jsx)("img",{src:"./images/about/about-8-mobile.jpg",alt:"",class:"gallery-img"})]}),(0,st.jsxs)("div",{class:"gallery-img-wrap",children:[(0,st.jsxs)("picture",{children:[(0,st.jsx)("source",{srcset:"./images/about/about-7-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,st.jsx)("img",{src:"./images/about/about-7-mobile.jpg",alt:"",class:"gallery-img"})]}),(0,st.jsxs)("picture",{children:[(0,st.jsx)("source",{srcset:"./images/about/about-13-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,st.jsx)("img",{src:"./images/about/about-13-mobile.jpg",alt:"",class:"gallery-img"})]})]}),(0,st.jsxs)("div",{class:"gallery-img-wrap",children:[(0,st.jsxs)("picture",{children:[(0,st.jsx)("source",{srcset:"./images/about/about-9-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,st.jsx)("img",{src:"./images/about/about-9-mobile.jpg",alt:"",class:"gallery-img"})]}),(0,st.jsxs)("picture",{children:[(0,st.jsx)("source",{srcset:"./images/about/about-15-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,st.jsx)("img",{src:"./images/about/about-15-mobile.jpg",alt:"",class:"gallery-img"})]})]}),(0,st.jsxs)("div",{class:"gallery-img-wrap",children:[(0,st.jsxs)("picture",{children:[(0,st.jsx)("source",{srcset:"./images/about/about-12-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,st.jsx)("img",{src:"./images/about/about-12-mobile.jpg",alt:"",class:"gallery-img"})]}),(0,st.jsxs)("picture",{children:[(0,st.jsx)("source",{srcset:"./images/about/about-14-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,st.jsx)("img",{src:"./images/about/about-14-mobile.jpg",alt:"",class:"gallery-img"})]})]}),(0,st.jsxs)("div",{class:"gallery-img-wrap",children:[(0,st.jsxs)("picture",{children:[(0,st.jsx)("source",{srcset:"./images/about/about-11-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,st.jsx)("img",{src:"./images/about/about-11-mobile.jpg",alt:"",class:"gallery-img"})]}),(0,st.jsxs)("picture",{children:[(0,st.jsx)("source",{srcset:"./images/about/about-10-desc.jpg",type:"image/jpeg",media:"(min-width:768px)"}),(0,st.jsx)("img",{src:"./images/about/about-10-mobile.jpg",alt:"",class:"gallery-img"})]})]})]})})]})},ER=function(e){var t=new Date;return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)+" "+e.split(" - ")[0]+":00"},IR=function(e){var t=0;return e.forEach((function(e){t+=e.totalPrice})),t};var CR=function(e){var t=e.name,n=e.placeholder,r=e.onChange,i=e.data;return(0,st.jsxs)("label",{className:"inputText",children:[(0,st.jsx)("span",{children:t}),(0,st.jsx)("select",{type:"selector",placeholder:n,onChange:function(e){return r(e.target.value)},children:i.map((function(e){return(0,st.jsx)("option",{value:e.value,children:e.label},e.id)}))})]})},TR=function(e){var t=e.data,n=e.selectedOption,r=e.onOptionChange,i=e.column;return(0,st.jsx)("div",{className:"radio-button ".concat(i&&"radio-button-column"),n:!0,children:t.map((function(e){return(0,st.jsxs)("label",{children:[(0,st.jsxs)("div",{className:"radio-button__flex-content",children:[(0,st.jsx)("input",{type:"radio",value:e.value,checked:n===e.value,onChange:r}),(0,st.jsx)("span",{}),e.label]}),e.info&&(0,st.jsx)("p",{className:"radio-button__info",children:e.info})]},e.id)}))})},NR=function(e){return(0,st.jsxs)("label",{className:"inputTextArea",children:[(0,st.jsx)("span",{children:e.name}),(0,st.jsx)("textarea",{type:"textarea",placeholder:e.placeholder,onChange:function(t){return e.onChange(t.target.value)}})]})},AR=function(e){var t=e.isChecked,n=e.onCheckboxChange,r=e.label;return(0,st.jsxs)("label",{className:"checkbox-container",children:[(0,st.jsx)("input",{type:"checkbox",checked:t,onChange:function(){n(!t)}}),(0,st.jsx)("span",{className:"checkmark"}),(0,st.jsx)("span",{className:"checkbox-label",children:r})]})},jR=function(e){return(0,st.jsxs)("button",{className:"btn btn-secondary ".concat(!0===e.fullWide&&"btn-secondary-fw"," "),onClick:e.onClick,disabled:e.disabled,children:[e.name,e.arrow&&(0,st.jsx)("svg",{width:"17",height:"20",viewBox:"0 0 17 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M9.16645 11.7814L12.7425 8.20535L13.6851 9.14802L8.49979 14.3334L3.31445 9.14802L4.25712 8.20535L7.83312 11.7814V3.66669H9.16645V11.7814Z",fill:"#12130F"})})]})},OR=function(e){var t=e.orderId,n=e.deliveryTime,r=we();return(0,st.jsx)("div",{children:(0,st.jsx)("div",{className:"thanks",children:(0,st.jsxs)("div",{className:"thanks__content",children:[(0,st.jsx)("div",{className:"thanks__ico",children:(0,st.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M11.602 13.7599L13.014 15.1719L21.4795 6.7063L22.8938 8.12051L13.014 18.0003L6.65 11.6363L8.06421 10.2221L10.189 12.3469L11.602 13.7599ZM11.6037 10.9322L16.5563 5.97949L17.9666 7.38977L13.014 12.3424L11.6037 10.9322ZM8.77698 16.5873L7.36396 18.0003L1 11.6363L2.41421 10.2221L3.82723 11.6352L3.82604 11.6363L8.77698 16.5873Z",fill:"#DF643A"})})}),(0,st.jsx)("h4",{className:"title__h4",children:"\u0414\u044f\u043a\u0443\u0454\u043c\u043e"}),(0,st.jsxs)("p",{className:"thanks__text",children:["\u041d\u043e\u043c\u0435\u0440 \u0432\u0430\u0448\u043e\u0433\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u2116",t]}),(0,st.jsx)("div",{className:"thanks__delivery-time",children:(0,st.jsxs)("p",{children:["\u041e\u0440\u0456\u0454\u043d\u0442\u043e\u0432\u043d\u0438\u0439 \u0447\u0430\u0441 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f: ",(0,st.jsx)("b",{children:n})]})}),(0,st.jsx)(jR,{name:"\u0417\u0432\u2019\u044f\u0437\u0430\u0442\u0438\u0441\u044f \u0437 \u043d\u0430\u043c\u0438",onClick:function(){return r("/contact")},fullWide:!0})]})})})},PR=function(e){var t=e.action,n=e.error,r=ot();return(0,st.jsx)("div",{className:"popup-actions",children:(0,st.jsxs)("div",{className:"popup-actions__content",children:[(0,st.jsx)("div",{className:"popup-actions__ico",children:n?(0,st.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,st.jsx)("circle",{cx:"12",cy:"12",r:"12",fill:"#F55D66"}),(0,st.jsx)("path",{d:"M12.0007 18.6666C8.31875 18.6666 5.33398 15.6818 5.33398 11.9999C5.33398 8.31802 8.31875 5.33325 12.0007 5.33325C15.6825 5.33325 18.6673 8.31802 18.6673 11.9999C18.6673 15.6818 15.6825 18.6666 12.0007 18.6666ZM12.0007 17.3333C14.9462 17.3333 17.334 14.9455 17.334 11.9999C17.334 9.0544 14.9462 6.66659 12.0007 6.66659C9.05513 6.66659 6.66732 9.0544 6.66732 11.9999C6.66732 14.9455 9.05513 17.3333 12.0007 17.3333ZM11.334 13.9999H12.6673V15.3333H11.334V13.9999ZM11.334 8.66659H12.6673V12.6666H11.334V8.66659Z",fill:"black"})]}):(0,st.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,st.jsx)("circle",{cx:"12",cy:"12",r:"12",fill:"#55CB99"}),(0,st.jsx)("g",{"clip-path":"url(#clip0_390_8333)",children:(0,st.jsx)("path",{d:"M10.6665 14.1148L16.7945 7.98608L17.7378 8.92875L10.6665 16.0001L6.42383 11.7574L7.36649 10.8148L10.6665 14.1148Z",fill:"#12130F"})}),(0,st.jsx)("defs",{children:(0,st.jsx)("clipPath",{id:"clip0_390_8333",children:(0,st.jsx)("rect",{width:"16",height:"16",fill:"white",transform:"translate(4 4)"})})})]})}),(0,st.jsx)("p",{children:t}),(0,st.jsx)("div",{className:"popup-actions__close",onClick:function(){return r(ds({action:""}))},children:(0,st.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M5.00048 4.05732L8.30048 0.757324L9.24315 1.69999L5.94315 4.99999L9.24315 8.29999L8.30048 9.24266L5.00048 5.94266L1.70048 9.24266L0.757812 8.29999L4.05781 4.99999L0.757812 1.69999L1.70048 0.757324L5.00048 4.05732Z",fill:"white"})})})]})})},DR=Fo({name:"order",initialState:{data:[]},reducers:{setOrder:function(e,t){var n=t.payload.order;e.data=n,localStorage.setItem("order",JSON.stringify(n))},updateOrder:function(e){var t=localStorage.getItem("order");if(void 0!==t){var n=JSON.parse(t);e.data=n}}}}),RR=DR.actions,LR=RR.setOrder,MR=RR.updateOrder,FR=DR.reducer,VR=function(){var e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()+10).padStart(2,"0"),o=String(e.getSeconds()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r," ").concat(i,":").concat(a,":").concat(o)},UR=function(){var e=be(),t=ot(),n=we(),i=Ye((function(e){return e.shoppingCart.products})),a=Ye((function(e){return e.modals})),o=Ye((function(e){return e.user})),s=Ye((function(e){return e.order})),u=function(e){var t=new Date,n=t.getHours(),r=t.getMinutes(),i="".concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"));return e.filter((function(e){return e.label.split(" - ")[0]>=i}))}([{id:1,label:"12:00 - 12:30",value:"12:00 - 12:30"},{id:2,label:"12:30 - 13:00",value:"12:30 - 13:00"},{id:3,label:"13:00 - 13:30",value:"13:00 - 13:30"},{id:4,label:"13:30 - 14:00",value:"13:30 - 14:00"},{id:5,label:"14:00 - 14:30",value:"14:00 - 14:30"},{id:6,label:"14:30 - 15:00",value:"14:30 - 15:00"},{id:7,label:"15:00 - 15:30",value:"15:00 - 15:30"},{id:8,label:"15:30 - 16:00",value:"15:30 - 16:00"},{id:9,label:"16:00 - 16:30",value:"16:00 - 16:30"},{id:10,label:"16:30 - 17:00",value:"16:30 - 17:00"},{id:11,label:"17:00 - 17:30",value:"17:00 - 17:30"},{id:12,label:"17:30 - 18:00",value:"17:30 - 18:00"},{id:13,label:"18:00 - 18:30",value:"18:00 - 18:30"},{id:14,label:"18:30 - 19:00",value:"18:30 - 19:00"},{id:15,label:"19:00 - 19:30",value:"19:00 - 19:30"},{id:16,label:"19:30 - 20:00",value:"19:30 - 20:00"},{id:17,label:"22:00 - 22:30",value:"22:00 - 22:30"},{id:16,label:"23:00 - 23:30",value:"23:00 - 23:30"}]),c=l((0,r.useState)({spot_id:1,name:"",number:"",selectedAddress:"",street:"",houseNumber:"",deliveryTime:"",howToReciveOrder:"",entrance:"",apartment:"",buildingCode:"",floor:"",selectedTime:VR(),promoCode:"",bonus:"",paymentMethod:1,change:"",withoutDevices:!1,personCount:1,comment:"",doNotCall:!1}),2),f=c[0],h=c[1],d=l((0,r.useState)(null),2),p=(d[0],d[1],l((0,r.useState)(0),2)),v=p[0],m=p[1],g=l((0,r.useState)(!0),2),y=g[0],b=g[1],k=l((0,r.useState)({status:!1,currentError:""}),2),w=k[0],x=k[1],_=l((0,r.useState)(!1),2),S=_[0],E=_[1],I=i.map((function(e){return{product_id:e.id,count:e.count}})),C={spot_id:1,first_name:f.name,phone:f.number,products:I,client_address:{address1:"\u0412\u0443\u043b\u0438\u0446\u044f: ".concat(f.street,", \u0414\u0456\u043c: ").concat(f.houseNumber),address2:"\u041f\u0430\u0440\u0430\u0434\u043d\u0430\u044f: ".concat(f.entrance,", \u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430: ").concat(f.apartment,", \u041a\u043e\u0434: ").concat(f.buildingCode,", \u041f\u043e\u0432\u0435\u0440\u0445: ").concat(f.floor,", ")},service_mode:"\u0421\u0430\u043c\u043e\u0432\u0438\u0432\u0456\u0437"===f.howToReciveOrder?2:3,delivery_time:"".concat("\u041d\u0430 \u0437\u0430\u0440\u0430\u0437"===f.deliveryTime?VR():ER(f.selectedTime)),payment:{type:v,sum:y?.4*IR(i):IR(i),currency:"UAH"},promotion:y?{id:"2",involved_products:I}:"",comment:"\n    \u041a\u043e\u043b-\u0432\u043e \u043f\u0435\u0440\u0441\u043e\u043d: ".concat(f.personCount,",\n      ").concat(f.comment&&" ".concat(f.comment),", ").concat(f.withoutDevices?"\u0411\u0435\u0437 \u043f\u0440\u0438\u0431\u043e\u0440\u043e\u0432":"",",").concat(f.doNotCall?"\u041d\u0435 \u043f\u0435\u0440\u0435\u0437\u0432\u0430\u043d\u0438\u0432\u0430\u0442\u044c":"",", ").concat(2===f.howToReciveOrder?"\u0421\u0410\u041c\u041e\u0412\u042b\u0412\u041e\u0417":""," ").concat(y&&"\u0421\u041a\u0418\u0414\u041a\u0410 40%")};(0,r.useEffect)((function(){S&&(console.log("ORDER DATA:",s),t(Gs({isOpen:!0})),setTimeout((function(){n("/")}),1e4))}),[S]);var T=function(e,t){h((function(n){return At(At({},n),{},Tt({},e,t))}))},N=function(){var e=JSON.stringify(C);br.post("https://api.polarpelmeni.com.ua/api/createOrder",e,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){var n=e;if(console.log("res:",n.data.response),console.log("res2:",e),200===n.status)if(1===f.paymentMethod){t(LR({order:n.data.response}));var r=y?IR(i)-.4*IR(i):IR(i);!function(e,t){var n=JSON.stringify({amount:t,order_id:e});br.post("https://api.polarpelmeni.com.ua/api/pay",n,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){var t="https://liqpay.ua/api/3/checkout?data=".concat(e.data.data,"&signature=").concat(e.data.signature);window.location.replace(t)})).catch((function(e){return console.log(e)}))}(n.data.response.incoming_order_id,r)}else t(LR({order:e.data.response})),E(!0)})).catch((function(e){return console.error(e)}))};return(0,r.useEffect)((function(){"checkout"===new URLSearchParams(e.search).get("status")&&setTimeout((function(){return function(e){var t={order_id:e},n=JSON.stringify(t);br.post("https://api.polarpelmeni.com.ua/api/getStatus",n,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){console.log("api/getStatus",e),"success"===e.data?(m(1),E(!0)):(console.log("\u041e\u041f\u041b\u0410\u0422\u0410 \u041d\u0415 \u0423\u0414\u0410\u041b\u0410\u0421\u042c"),x({status:!0,currentError:"\u041e\u043f\u043b\u0430\u0442\u0430 \u043d\u0435 \u0432\u0434\u0430\u043b\u0430, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u043d\u043e\u0432\u0443"}))})).catch((function(e){return console.error(e)}))}(s.data.incoming_order_id)}),7e3)}),[s]),(0,r.useEffect)((function(){console.log(C)}),[f]),(0,st.jsxs)(st.Fragment,{children:[a.thanksModal&&(0,st.jsx)(Ki,{closeModal:function(){t(Gs({isOpen:!1}))},children:(0,st.jsx)(OR,{orderId:s.data.incoming_order_id,deliveryTime:s.data.delivery_time})}),!0===w.status&&(0,st.jsx)(PR,{action:w.currentError,error:!0}),(0,st.jsxs)("section",{className:"order-page__form",children:[(0,st.jsxs)("section",{className:"order-page__section",children:[(0,st.jsx)("h3",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"}),(0,st.jsxs)("div",{className:"order-page__section-inputs",children:[(0,st.jsx)(pR,{name:"\u0412\u0430\u0448\u0435 \u0456\u043c\u2019\u044f",placeholder:"\u0412\u0430\u0448\u0435 \u0456\u043c\u2019\u044f",value:f.name,onChange:function(e){return T("name",e)}}),(0,st.jsx)(eu,{value:f.number,onChange:function(e){return T("number",e)}})]})]}),(0,st.jsxs)("section",{className:"order-page__section",children:[(0,st.jsx)("h3",{children:"\u0421\u043f\u043e\u0441\u0456\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,st.jsx)("section",{className:"order-page__section-inputs",children:(0,st.jsx)(CR,{name:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0430\u0434\u0440\u0435\u0441\u0438",data:[{id:1,label:"\u041d\u0435\u043c\u0430\u0454",value:"\u041d\u0435\u043c\u0430\u0454"}],placeholder:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0443",value:f.selectedAddress,onChange:function(e){return T("selectedAddress",e)}})}),(0,st.jsxs)("section",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,st.jsx)(pR,{name:"\u0412\u0443\u043b\u0438\u0446\u044f",placeholder:"\u0412\u0443\u043b\u0438\u0446\u044f",value:f.street,onChange:function(e){return T("street",e)}}),(0,st.jsx)(pR,{name:"\u2116 \u0411\u0443\u0434\u0438\u043d\u043a\u0443",placeholder:"\u2116 \u0411\u0443\u0434\u0438\u043d\u043a\u0443",value:f.houseNumber,onChange:function(e){return T("houseNumber",e)}})]}),(0,st.jsx)("section",{className:"order-page__section-inputs",children:(0,st.jsx)(TR,{data:[{id:1,value:"\u0414\u043e \u0434\u0432\u0435\u0440\u0435\u0439",label:"\u0414\u043e \u0434\u0432\u0435\u0440\u0435\u0439"},{id:2,value:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a",label:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a"},{id:4,value:"\u0412\u0438\u0439\u0434\u0443 \u0434\u043e \u043c\u0430\u0448\u0438\u043d\u0438",label:"\u0412\u0438\u0439\u0434\u0443 \u0434\u043e \u043c\u0430\u0448\u0438\u043d\u0438"},{id:3,value:"\u0421\u0430\u043c\u043e\u0432\u0438\u0432\u0456\u0437",label:"\u0421\u0430\u043c\u043e\u0432\u0438\u0432\u0456\u0437",info:"(\u041e\u0434\u0435\u0441\u0430, \u0432\u0443\u043b. \u041b\u0435\u0439\u0442\u0435\u043d\u0430\u043d\u0442\u0430 \u0428\u043c\u0456\u0434\u0442\u0430 25)"}],selectedOption:f.howToReciveOrder,onOptionChange:function(e){return T("howToReciveOrder",e.target.value)}})}),"\u0414\u043e \u0434\u0432\u0435\u0440\u0435\u0439"===f.howToReciveOrder&&(0,st.jsxs)("section",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,st.jsx)(pR,{name:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430",placeholder:"\u2116 \u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0438",value:f.apartment,onChange:function(e){return T("apartment",e)}}),(0,st.jsx)(pR,{name:"\u041f\u0430\u0440\u0430\u0434\u043d\u0430",placeholder:"\u2116 \u041f\u0430\u0440\u0430\u0434\u043d\u043e\u0457",value:f.entrance,onChange:function(e){return T("entrance",e)}}),(0,st.jsx)(pR,{name:"\u041a\u043e\u0434",placeholder:"\u041a\u043e\u0434",value:f.buildingCode,onChange:function(e){return T("buildingCode",e)}}),(0,st.jsx)(pR,{name:"\u041f\u043e\u0432\u0435\u0440\u0445",placeholder:"\u041f\u043e\u0432\u0435\u0440\u0445",value:f.floor,onChange:function(e){return T("floor",e)}})]})]}),(0,st.jsxs)("section",{className:"order-page__section",children:[(0,st.jsx)("h3",{children:"\u0427\u0430\u0441 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f"}),(0,st.jsxs)("section",{className:"order-page__section-inputs",children:[(0,st.jsx)(TR,{data:[{id:1,value:"\u041d\u0430 \u0437\u0430\u0440\u0430\u0437",label:"\u041d\u0430 \u0437\u0430\u0440\u0430\u0437"},{id:2,value:"\u0412\u043a\u0430\u0437\u0430\u0442\u0438 \u0442\u043e\u0447\u043d\u0438\u0439 \u0447\u0430\u0441",label:"\u0412\u043a\u0430\u0437\u0430\u0442\u0438 \u0442\u043e\u0447\u043d\u0438\u0439 \u0447\u0430\u0441"}],selectedOption:f.deliveryTime,onOptionChange:function(e){return T("deliveryTime",e.target.value)},column:!0}),"\u0412\u043a\u0430\u0437\u0430\u0442\u0438 \u0442\u043e\u0447\u043d\u0438\u0439 \u0447\u0430\u0441"===f.deliveryTime&&(0,st.jsx)(CR,{name:"\u0427\u0430\u0441",placeholder:"\u0427\u0430\u0441",data:u,value:f.selectedTime,onChange:function(e){return T("selectedTime",e)}})]})]}),(0,st.jsxs)("section",{className:"order-page__section",children:[(0,st.jsx)("h3",{children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434"}),(0,st.jsxs)("section",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,st.jsx)(CR,{name:"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434",placeholder:"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434",data:o.promocode40?[{id:0,label:"40%",value:"40%"}]:[],value:f.paymentMethod,onChange:function(e){return T("promoCode",e)}}),(0,st.jsx)(As,{name:"\u0417\u0430\u0441\u0442\u043e\u0441\u0443\u0432\u0430\u0442\u0438",onClick:function(){!function(e){var n={token:e};br.post("https://api.polarpelmeni.com.ua/api/promocode",JSON.stringify(n),{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){console.log("postPromocode/",e),b(!0),t(ls()),t(es())})).catch((function(e){return console.log(e)}))}(o.token)},disabled:!o.promocode40})]}),o.promocode40&&(0,st.jsxs)("div",{className:"order-page__have-promocode",children:[(0,st.jsx)("span",{children:"\u0423 \u0412\u0410\u0421 \u0415 \u041f\u0420\u041e\u041c\u041e\u041a\u041e\u0414 \u041d\u0410 \u0421\u041a\u0418\u0414\u041a\u0423 40%"}),(0,st.jsx)("div",{className:"order-page__arrow",children:(0,st.jsx)("svg",{width:"17",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{d:"M9.16645 11.7814L12.7425 8.20535L13.6851 9.14802L8.49979 14.3334L3.31445 9.14802L4.25712 8.20535L7.83312 11.7814V3.66669H9.16645V11.7814Z",fill:"#12130F"})})})]})]}),(0,st.jsxs)("section",{className:"order-page__section",children:[(0,st.jsx)("h3",{children:"\u0421\u043f\u043e\u0441\u0456\u0431 \u043e\u043f\u043b\u0430\u0442\u0438"}),(0,st.jsx)("div",{className:"order-page__section-inputs",children:(0,st.jsx)(pR,{name:"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0442\u0438 \u0431\u043e\u043d\u0443\u0441\u0438",placeholder:"0",value:f.bonus,onChange:function(e){return T("bonus",e)}})}),(0,st.jsxs)("div",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,st.jsx)(CR,{name:"\u041e\u043f\u043b\u0430\u0442\u0430",placeholder:"\u041e\u043d\u043b\u0430\u0439\u043d",data:[{id:0,label:"\u041e\u043d\u043b\u0430\u0439\u043d",value:"\u041e\u043d\u043b\u0430\u0439\u043d"},{id:1,label:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430",value:"\u0413\u043e\u0442\u0456\u0432\u043a\u0430"}],value:f.paymentMethod,onChange:function(e){return T("paymentMethod",e)}}),(0,st.jsx)(pR,{name:"\u0421\u0434\u0430\u0447\u0430 \u0441",placeholder:"500",value:f.change,onChange:function(e){return T("change",e)}})]})]}),(0,st.jsxs)("section",{className:"order-page__section",children:[(0,st.jsx)("h3",{children:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u043e"}),(0,st.jsxs)("section",{className:"order-page__section-inputs order-page__section-inputs-row",children:[(0,st.jsxs)("div",{className:"order-page__block",children:[(0,st.jsx)("span",{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d:"}),(0,st.jsx)(AR,{isChecked:f.withoutDevices,onCheckboxChange:function(){return T("withoutDevices",!f.withoutDevices)},label:"\u0411\u0435\u0437 \u043f\u0440\u0438\u0431\u043e\u0440\u0456\u0432"})]}),(0,st.jsxs)("div",{className:"order-page__block",children:[(0,st.jsx)("span",{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d:"}),(0,st.jsxs)("div",{className:"counter",children:[(0,st.jsx)("div",{className:"counter__btn",onClick:function(){f.personCount>1&&T("personCount",f.personCount-1)},children:"-"}),(0,st.jsx)("div",{className:"counter__value",children:f.personCount}),(0,st.jsx)("div",{className:"counter__btn",onClick:function(){return T("personCount",f.personCount+1)},children:"+"})]})]})]}),(0,st.jsx)("section",{className:"order-page__section-inputs",children:(0,st.jsx)(NR,{name:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440 \u0434\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f",placeholder:"\u041c\u043e\u0436\u0435\u0442\u0435 \u0442\u0443\u0442 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u0431\u0443\u0434\u044c-\u0449\u043e:)",value:f.comment,onChange:function(e){return T("comment",e)}})}),(0,st.jsx)("section",{className:"order-page__section-inputs",children:(0,st.jsx)("div",{className:"order-page__block",children:(0,st.jsx)(AR,{isChecked:f.doNotCall,onCheckboxChange:function(){return T("doNotCall",!f.doNotCall)},label:"\u041d\u0435 \u043f\u0435\u0440\u0435\u0434\u0437\u0432\u043e\u043d\u044e\u0432\u0430\u0442\u0438 \u043c\u0435\u043d\u0456"})})})]}),(0,st.jsx)(As,{name:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f",fullWide:!0,onClick:function(){return console.log(C),void(""===C.phone?x({status:!0,currentError:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0443 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443"}):""===f.howToReciveOrder?x({status:!0,currentError:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u043e\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u043f\u043e\u0441\u0456\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}):(x({status:!1,currentError:""}),N()))}})]})]})},BR=function(){ot();var e=Ye((function(e){return e.shoppingCart})),t=(Ye((function(e){return e.modals})),function(e){var t=0;return e.forEach((function(e){t+=e.totalPrice})),t});return(0,r.useEffect)((function(){console.log(e.promocode)}),[e.promocode]),(0,st.jsx)(st.Fragment,{children:(0,st.jsx)(ut,{children:(0,st.jsx)("div",{className:"order-page",children:(0,st.jsxs)("div",{className:"order-page__content",children:[(0,st.jsx)(UR,{}),(0,st.jsx)("div",{className:"checkout",children:(0,st.jsxs)("div",{className:"checkout__content",children:[(0,st.jsx)("h3",{className:"title__h3 text__color--secondary",children:"\u0412\u0430\u0448\u0435 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,st.jsx)("ul",{className:"checkout__list",children:e.products.map((function(e){return(0,st.jsxs)("li",{className:"checkout__item",children:[(0,st.jsxs)("div",{className:"checkout__row",children:[(0,st.jsxs)("p",{className:"checkout__item-name",children:[" ",e.name]}),(0,st.jsxs)("p",{className:"checkout__item-count",children:[" x",e.count]})]}),(0,st.jsxs)("div",{className:"checkout__row",children:[(0,st.jsxs)("p",{className:"checkout__item-weight",children:[e.weight,"\u0433"]}),(0,st.jsxs)("p",{className:"checkout__item-price",children:[e.totalPrice," \u20b4"]})]})]})}))}),(0,st.jsxs)("div",{className:"checkout__total",children:[(0,st.jsxs)("div",{className:"checkout__row",children:[(0,st.jsx)("p",{className:"checkout__text",children:"\u0421\u0443\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f:"}),(0,st.jsxs)("p",{className:"checkout__text",children:[t(e.products)," \u20b4"]})]}),(0,st.jsxs)("div",{className:"checkout__row checkout__row-delivery",children:[(0,st.jsx)("p",{className:"checkout__text",children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:"}),(0,st.jsx)("p",{className:"checkout__text",children:e.products.reduce((function(e,t){return e+t.totalPrice}),0)<500?"\u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0442\u0430\u043a\u0441\u0456 (\u043e\u043f\u043b\u0430\u0447\u0443\u0454\u0442\u044c\u0441\u044f \u043e\u043a\u0440\u0435\u043c\u043e)":"\u0411\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0430"})]}),e.promocode&&(0,st.jsxs)("div",{className:"checkout__row",children:[(0,st.jsx)("p",{className:"checkout__text",children:"\u0421\u043a\u0438\u0434\u043a\u0430:"}),(0,st.jsxs)("p",{className:"checkout__text",children:[.4*t(e.products)," \u20b4"]})]}),(0,st.jsxs)("div",{className:"checkout__row",children:[(0,st.jsx)("p",{className:"checkout__text checkout__text-bold",children:"\u0412\u0441\u044c\u043e\u0433\u043e \u0434\u043e \u0441\u043f\u043b\u0430\u0442\u0438:"}),(0,st.jsxs)("p",{className:"checkout__text-bold",children:[e.promocode?t(e.products)-.4*t(e.products):t(e.products)," \u20b4"]})]})]})]})})]})})})})},zR=n.p+"static/media/logo.66639dc3934ecf41123d.png",qR=function(){var e=l((0,r.useState)(null),2),t=(e[0],e[1]),n=l((0,r.useState)([]),2),i=n[0],a=n[1];return(0,r.useEffect)((function(){br.get("https://api.polarpelmeni.com.ua/api/menu",{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){var n=e.data.response.filter((function(e){return e.category_name.startsWith("onlineOrder:")})).map((function(e,t){return{category_name:e.category_name.replace(/onlineOrder: /,""),category_id:e.category_id,category_position_index:t}}));n[13].category_position_index=0,n[12].category_position_index=1,n[11].category_position_index=2,n[8].category_position_index=3,n[10].category_position_index=4,n[9].category_position_index=5,n[2].category_position_index=6,n[3].category_position_index=7,n[0].category_position_index=8,n[6].category_position_index=9,n[4].category_position_index=10,n[7].category_position_index=11,n[1].category_position_index=12,n[5].category_position_index=13,n.sort((function(e,t){return e.category_position_index-t.category_position_index})),t(n[0].category_id),a(n)})).catch((function(e){return console.error(e)}))}),[]),(0,st.jsx)("footer",{className:"footer",children:(0,st.jsx)(ut,{children:(0,st.jsxs)("div",{className:"footer__content",children:[(0,st.jsxs)("div",{className:"footer__top",children:[(0,st.jsx)("div",{className:"footer__logo",children:(0,st.jsx)("img",{src:zR,alt:""})}),(0,st.jsxs)("nav",{className:"footer__column",children:[(0,st.jsx)("p",{className:"footer__title",children:"\u041c\u0435\u043d\u044e:"}),(0,st.jsx)("ul",{className:"footer__menu",children:i&&i.map((function(e,t){return(0,st.jsx)("li",{className:"footer__link",children:(0,st.jsx)(bt,{to:"/menu/".concat(e.category_id),children:e.category_name})},t)}))})]}),(0,st.jsxs)("div",{className:"footer__column",children:[(0,st.jsxs)("div",{className:"footer__contact",children:[(0,st.jsx)("p",{className:"footer__title",children:"\u041e\u0434\u0435\u0441\u0430:"}),(0,st.jsxs)("ul",{className:"footer__contacts",children:[(0,st.jsx)("a",{href:"tel:+380987271991",children:"+380 (98) 727-19-91"}),(0,st.jsx)("p",{children:"\u0432\u0443\u043b. \u041c\u0430\u0440\u0448\u0430\u043b\u0430 \u041c\u0430\u043b\u0438\u043d\u043e\u0432\u0441\u043a\u043e\u0433\u043e 18"})]})]}),(0,st.jsxs)("div",{className:"footer__contact",children:[(0,st.jsx)("p",{className:"footer__title",children:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434:"}),(0,st.jsxs)("ul",{className:"footer__contacts",children:[(0,st.jsx)("a",{href:"tel:+380677149659",children:"+380 (67) 714-96-59"}),(0,st.jsx)("p",{children:"\u0432\u0443\u043b. \u041a\u0430\u043f\u0443\u0448\u0430\u043d\u0441\u044c\u043a\u0430, 7\u0430"})]})]}),(0,st.jsx)("p",{className:"footer__title"})]})]}),(0,st.jsxs)("div",{className:"footer__bottom",children:[(0,st.jsxs)("ul",{className:"footer__bottom-nav",children:[(0,st.jsx)("li",{children:(0,st.jsx)(bt,{children:"\xa9 2023 Polar Pelmeni"})}),(0,st.jsx)("li",{children:(0,st.jsx)(bt,{children:"\u041f\u0440\u043e \u043d\u0430\u0441"})}),(0,st.jsx)("li",{children:(0,st.jsx)(bt,{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})}),(0,st.jsx)("li",{children:(0,st.jsx)(bt,{children:"\u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u0441\u0442\u0456"})})]}),(0,st.jsxs)("div",{className:"footer__bottom-contacts",children:[(0,st.jsx)("a",{href:"mailto:support@polarpelmeni.com",children:"support@polarpelmeni.com"}),(0,st.jsxs)("div",{className:"footer__social-icons",children:[(0,st.jsx)("a",{href:"",className:"footer__social",children:(0,st.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,st.jsx)("g",{opacity:"0.8",clipPath:"url(#clip0_588_31750)",children:(0,st.jsx)("path",{d:"M7.99908 6.18163C7.51687 6.18163 7.05441 6.37319 6.71343 6.71417C6.37246 7.05514 6.1809 7.5176 6.1809 7.99982C6.1809 8.48203 6.37246 8.94449 6.71343 9.28546C7.05441 9.62644 7.51687 9.818 7.99908 9.818C8.48129 9.818 8.94376 9.62644 9.28473 9.28546C9.62571 8.94449 9.81726 8.48203 9.81726 7.99982C9.81726 7.5176 9.62571 7.05514 9.28473 6.71417C8.94376 6.37319 8.48129 6.18163 7.99908 6.18163ZM7.99908 4.96951C8.80277 4.96951 9.57354 5.28878 10.1418 5.85707C10.7101 6.42536 11.0294 7.19613 11.0294 7.99982C11.0294 8.8035 10.7101 9.57427 10.1418 10.1426C9.57354 10.7109 8.80277 11.0301 7.99908 11.0301C7.1954 11.0301 6.42463 10.7109 5.85633 10.1426C5.28804 9.57427 4.96878 8.8035 4.96878 7.99982C4.96878 7.19613 5.28804 6.42536 5.85633 5.85707C6.42463 5.28878 7.1954 4.96951 7.99908 4.96951ZM11.9385 4.818C11.9385 5.01892 11.8587 5.21161 11.7166 5.35368C11.5745 5.49576 11.3818 5.57557 11.1809 5.57557C10.98 5.57557 10.7873 5.49576 10.6452 5.35368C10.5031 5.21161 10.4233 5.01892 10.4233 4.818C10.4233 4.61708 10.5031 4.42438 10.6452 4.28231C10.7873 4.14024 10.98 4.06042 11.1809 4.06042C11.3818 4.06042 11.5745 4.14024 11.7166 4.28231C11.8587 4.42438 11.9385 4.61708 11.9385 4.818ZM7.99908 3.15133C6.49969 3.15133 6.25484 3.15557 5.55726 3.18648C5.08211 3.20891 4.76333 3.27254 4.46757 3.38769C4.20454 3.48951 4.01484 3.61133 3.81302 3.81375C3.62333 3.99703 3.47748 4.22077 3.38636 4.4683C3.2712 4.76527 3.20757 5.08345 3.18575 5.558C3.15423 6.22709 3.1506 6.46103 3.1506 7.99982C3.1506 9.49921 3.15484 9.74406 3.18575 10.4416C3.20817 10.9162 3.27181 11.2356 3.38636 11.5307C3.48939 11.7944 3.6106 11.9841 3.81181 12.1853C4.01605 12.3889 4.20575 12.5107 4.46636 12.6113C4.76575 12.7271 5.08454 12.7913 5.55726 12.8131C6.22636 12.8447 6.46029 12.8483 7.99908 12.8483C9.49848 12.8483 9.74332 12.8441 10.4409 12.8131C10.9148 12.7907 11.2342 12.7271 11.53 12.6125C11.7924 12.5101 11.9833 12.3883 12.1845 12.1871C12.3888 11.9828 12.5106 11.7931 12.6112 11.5325C12.7264 11.2338 12.7906 10.9144 12.8124 10.4416C12.8439 9.77254 12.8476 9.5386 12.8476 7.99982C12.8476 6.50042 12.8433 6.25557 12.8124 5.558C12.79 5.08406 12.7264 4.76406 12.6112 4.4683C12.5199 4.22103 12.3743 3.99737 12.1851 3.81375C12.002 3.62396 11.7782 3.4781 11.5306 3.38709C11.2336 3.27194 10.9148 3.2083 10.4409 3.18648C9.77181 3.15497 9.53787 3.15133 7.99908 3.15133ZM7.99908 1.93921C9.64575 1.93921 9.8512 1.94527 10.4973 1.97557C11.1427 2.00588 11.5821 2.10709 11.9688 2.25739C12.3688 2.41133 12.7057 2.61982 13.0427 2.95618C13.3509 3.25915 13.5894 3.62563 13.7415 4.03012C13.8912 4.41618 13.993 4.85618 14.0233 5.50163C14.0518 6.14769 14.0597 6.35315 14.0597 7.99982C14.0597 9.64648 14.0536 9.85194 14.0233 10.498C13.993 11.1435 13.8912 11.5828 13.7415 11.9695C13.5898 12.3742 13.3513 12.7408 13.0427 13.0435C12.7397 13.3515 12.3732 13.59 11.9688 13.7422C11.5827 13.8919 11.1427 13.9938 10.4973 14.0241C9.8512 14.0525 9.64575 14.0604 7.99908 14.0604C6.35242 14.0604 6.14696 14.0544 5.5009 14.0241C4.85545 13.9938 4.41605 13.8919 4.02939 13.7422C3.62473 13.5904 3.25819 13.3519 2.95545 13.0435C2.64721 12.7405 2.40874 12.374 2.25666 11.9695C2.10636 11.5835 2.00514 11.1435 1.97484 10.498C1.94636 9.85194 1.93848 9.64648 1.93848 7.99982C1.93848 6.35315 1.94454 6.14769 1.97484 5.50163C2.00514 4.85557 2.10636 4.41678 2.25666 4.03012C2.40832 3.62538 2.64684 3.2588 2.95545 2.95618C3.25828 2.64783 3.6248 2.40935 4.02939 2.25739C4.41605 2.10709 4.85484 2.00588 5.5009 1.97557C6.14696 1.94709 6.35242 1.93921 7.99908 1.93921Z",fill:"#DF643A"})}),(0,st.jsx)("defs",{children:(0,st.jsx)("clipPath",{id:"clip0_588_31750",children:(0,st.jsx)("rect",{width:"14.5455",height:"14.5455",fill:"white",transform:"translate(0.727539 0.727539)"})})})]})}),(0,st.jsx)("a",{href:"",className:"footer__social",children:(0,st.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,st.jsx)("g",{clipPath:"url(#clip0_588_31755)",children:(0,st.jsx)("path",{d:"M7.99908 1.93921C4.65181 1.93921 1.93848 4.65254 1.93848 7.99981C1.93848 11.0247 4.15484 13.5319 7.05242 13.9871V9.75133H5.51302V7.99981H7.05242V6.66466C7.05242 5.14588 7.95666 4.30709 9.34151 4.30709C10.0045 4.30709 10.6979 4.42527 10.6979 4.42527V5.91618H9.93423C9.1809 5.91618 8.94636 6.38345 8.94636 6.86285V7.99981H10.627L10.3585 9.75133H8.94636V13.9871C11.8433 13.5325 14.0597 11.0241 14.0597 7.99981C14.0597 4.65254 11.3464 1.93921 7.99908 1.93921Z",fill:"#DF643A"})}),(0,st.jsx)("defs",{children:(0,st.jsx)("clipPath",{id:"clip0_588_31755",children:(0,st.jsx)("rect",{width:"14.5455",height:"14.5455",fill:"white",transform:"translate(0.727539 0.727539)"})})})]})})]}),(0,st.jsx)("li",{className:"pp-mob",children:(0,st.jsx)(bt,{children:"\xa9 2023 Polar Pelmeni"})})]})]})]})})})},KR=function(){var e=ot();return(0,st.jsx)("div",{className:"select-city",children:(0,st.jsxs)("div",{className:"select-city__content",children:[(0,st.jsxs)("svg",{width:"65",height:"65",viewBox:"0 0 65 65",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,st.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32.5",fill:"#DF643A",fillOpacity:"0.1"}),(0,st.jsx)("path",{d:"M39.364 37.364L33 43.7279L26.636 37.364C23.1213 33.8492 23.1213 28.1508 26.636 24.636C30.1508 21.1213 35.8492 21.1213 39.364 24.636C42.8787 28.1508 42.8787 33.8492 39.364 37.364ZM33 33C34.1046 33 35 32.1046 35 31C35 29.8954 34.1046 29 33 29C31.8954 29 31 29.8954 31 31C31 32.1046 31.8954 33 33 33Z",fill:"#DF643A"})]}),(0,st.jsx)("h4",{className:"title__h4",children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u0432\u043e\u0454 \u043c\u0456\u0441\u0442\u043e"}),(0,st.jsxs)("div",{className:"select-city__buttons",children:[(0,st.jsx)("button",{className:"select-city__btn",onClick:function(){e(os({city:"\u041e\u0434\u0435\u0441\u0430"})),e(Ws({state:!1}))},children:"\u041e\u0434\u0435\u0441\u0430"}),(0,st.jsx)("button",{className:"select-city__btn",onClick:function(){e(os({city:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434"})),e(Ws({state:!1}))},disabled:!0,children:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434"})]})]})})},HR=function(){return(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)("div",{className:"slider__container",children:(0,st.jsx)(Fs,{})}),(0,st.jsx)(ut,{children:(0,st.jsx)(Vs,{})})]})},WR=function(){return(0,st.jsx)(ut,{children:(0,st.jsx)(Vs,{})})},GR=function(){return(0,st.jsx)("div",{className:"contact",children:(0,st.jsx)(ut,{children:(0,st.jsxs)("div",{className:"contact__content",children:[(0,st.jsxs)("div",{className:"contact__column",children:[(0,st.jsx)("h1",{className:"title__h1",children:"\u0417\u0432\u2019\u044f\u0437\u0430\u0442\u0438\u0441\u044f \u0437 \u043d\u0430\u043c\u0438"}),(0,st.jsxs)("div",{className:"contact__section",children:[(0,st.jsx)("span",{className:"contact__text",children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e:"}),(0,st.jsxs)("div",{className:"contact__btns",children:[(0,st.jsx)("button",{className:"contact__btn contact__btn-active",children:"\u041e\u0434\u0435\u0441\u0430"}),(0,st.jsx)("button",{className:"contact__btn ",disabled:!0,children:"\u0423\u0436\u0433\u043e\u0440\u043e\u0434"})]})]}),(0,st.jsxs)("ul",{className:"contact__list",children:[(0,st.jsxs)("li",{className:"contact__item",children:[(0,st.jsx)("span",{className:"contact__item-title",children:"\u0410\u0434\u0440\u0435\u0441\u0430"}),(0,st.jsx)("span",{className:"contact__item-link",children:"\u0432\u0443\u043b. \u041c\u0430\u0440\u0448\u0430\u043b\u0430 \u041c\u0430\u043b\u0438\u043d\u043e\u0432\u0441\u043a\u043e\u0433\u043e 18"})]}),(0,st.jsxs)("li",{className:"contact__item",children:[(0,st.jsx)("span",{className:"contact__item-title",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,st.jsx)("a",{href:"tel:+390987271991",className:"contact__item-link",children:"+39 (098) 727 19 91"})]}),(0,st.jsxs)("li",{className:"contact__item",children:[(0,st.jsx)("span",{className:"contact__item-title",children:"\u0413\u0440\u0430\u0444\u0456\u043a \u0440\u043e\u0431\u043e\u0442\u0438"}),(0,st.jsx)("span",{className:"contact__item-link",children:"\u041d\u0435\u0434\u0456\u043b\u044f - \u0427\u0435\u0442\u0432\u0435\u0440: 9:00 - 21:00"}),(0,st.jsx)("span",{className:"contact__item-link",children:"\u041f\u2019\u044f\u0442\u043d\u0438\u0446\u044f - \u0421\u0443\u0431\u043e\u0442\u0430: 10:00 - 22:00"})]}),(0,st.jsxs)("li",{className:"contact__item",children:[(0,st.jsx)("span",{className:"contact__item-title",children:"Email"}),(0,st.jsx)("a",{href:"mailto:support@polarpelmeni.com",className:"contact__item-link",children:"support@polarpelmeni.com"})]})]})]}),(0,st.jsx)("div",{className:"contact__column",children:(0,st.jsx)("div",{className:"contact__map"})})]})})})};il.initializeApp(yR);var QR=function(){var e=Ye((function(e){return e.modals})),t=Ye((function(e){return e.user})),n=l((0,r.useState)(!0),2),i=n[0],a=n[1],o=ot(),s=be(),u=we();(0,r.useEffect)((function(){!function(){var e=localStorage.getItem("userData"),t=JSON.parse(e);o(MR()),e&&(o(Zo()),!0===t.isAuthenticated&&(o(os({city:t.city})),o(is(t))))}(),o(cs())}),[]),(0,r.useEffect)((function(){var e=localStorage.getItem("favoritProducts");JSON.parse(e)&&o(cs())}),[t.isAuthenticated]),(0,r.useEffect)((function(){"/profile/signout"===s.pathname&&(o(as()),u("/"))}),[s]),(0,r.useEffect)((function(){var e=function(){var e=s.pathname.includes("/profile");window.innerWidth<=768&&e?a(!1):a(!0)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[s]),(0,r.useEffect)((function(){window.scrollTo(0,0)}),[s]);var c,f=Ye((function(e){return e.popupActions.currentAction}));return(0,r.useEffect)((function(){null!==t.city?o(Ws({isOpen:!1})):o(Ws({isOpen:!0}))}),[t]),(0,st.jsxs)(st.Fragment,{children:[(c=f,"addToCard"===c?(0,st.jsx)(PR,{action:"\u0411\u043b\u044e\u0434\u043e \u0434\u043e\u0434\u0430\u043d\u043e \u0443 \u043a\u043e\u0448\u0438\u043a"}):"addToFavorit"===c?(0,st.jsx)(PR,{action:"\u0411\u043b\u044e\u0434\u043e \u0434\u043e\u0434\u0430\u043d\u043e \u0432 \xab\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0435\xbb"}):null),e.cityModal&&(0,st.jsx)(Ki,{small:!0,closeModal:function(){return o(Ws({isOpen:!1}))},children:(0,st.jsx)(KR,{})}),i&&(0,st.jsx)(gR,{}),(0,st.jsxs)(Fe,{children:[(0,st.jsx)(Le,{path:"/",element:(0,st.jsx)(HR,{})}),(0,st.jsx)(Le,{path:"/menu",element:(0,st.jsx)(WR,{}),children:(0,st.jsx)(Le,{path:":id",element:(0,st.jsx)(WR,{})})}),(0,st.jsx)(Le,{path:"/product/:id",element:(0,st.jsx)(zs,{})}),(0,st.jsx)(Le,{path:"/about-us",element:(0,st.jsx)(SR,{})}),(0,st.jsx)(Le,{path:"/order",element:(0,st.jsx)(BR,{})}),(0,st.jsx)(Le,{path:"/contact",element:(0,st.jsx)(GR,{})}),(0,st.jsxs)(Le,{path:"/profile",children:[(0,st.jsx)(Le,{index:!0,element:(0,st.jsx)(bs,{})}),(0,st.jsx)(Le,{path:":item",element:(0,st.jsx)(bs,{})})]})]}),(0,st.jsx)(qR,{})]})},JR=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},$R=function(e){var t,n=Ro(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!jo(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=lo(a)}var p=s;"function"===typeof p&&(p=p(n));var v=ho.apply(void 0,p),m=fo;c&&(m=Ao(Co({trace:!1},"object"===typeof c&&c)));var g=new Po(v),y=g;return Array.isArray(d)?y=bo([v],d):"function"===typeof d&&(y=d(g)),co(t,f,m.apply(void 0,y))}({reducer:{user:fs,modals:Qs,popupActions:ps,shoppingCart:ts,order:FR}});a.createRoot(document.getElementById("root")).render((0,st.jsx)(r.StrictMode,{children:(0,st.jsx)(tt,{store:$R,children:(0,st.jsx)(mt,{children:(0,st.jsx)(QR,{})})})})),JR()}()}();
//# sourceMappingURL=main.3253d91c.js.map